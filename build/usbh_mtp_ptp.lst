ARM GAS  /tmp/ccH7Wnit.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"usbh_mtp_ptp.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.USBH_PTP_Init,"ax",%progbits
  17              		.align	1
  18              		.global	USBH_PTP_Init
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	USBH_PTP_Init:
  26              	.LFB338:
  27              		.file 1 "./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c"
   1:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
   2:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   ******************************************************************************
   3:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @file    usbh_mtp_ptp.c
   4:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @author  MCD Application Team
   5:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief   This file includes the PTP operations layer
   6:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   ******************************************************************************
   7:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @attention
   8:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *
   9:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * <h2><center>&copy; Copyright (c) 2015 STMicroelectronics.
  10:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * All rights reserved.</center></h2>
  11:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *
  12:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * This software component is licensed by ST under Ultimate Liberty license
  13:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  14:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * the License. You may obtain a copy of the License at:
  15:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *                      www.st.com/SLA0044
  16:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *
  17:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   ******************************************************************************
  18:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
  19:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  20:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /* BSPDependencies
  21:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** - "stm32xxxxx_{eval}{discovery}.c"
  22:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** - "stm32xxxxx_{eval}{discovery}_io.c"
  23:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** - "stm32xxxxx_{eval}{discovery}_audio.c"
  24:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** - "stm32xxxxx_{eval}{discovery}_sd.c"
  25:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** - "stm32xxxxx_{eval}{discovery}_lcd.c"
  26:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** - "stm32xxxxx_{eval}{discovery}_sdram.c"
  27:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** EndBSPDependencies */
  28:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  29:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /* Includes ------------------------------------------------------------------*/
  30:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #include "usbh_mtp_ptp.h"
  31:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #include "usbh_mtp.h"
ARM GAS  /tmp/ccH7Wnit.s 			page 2


  32:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  33:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @addtogroup USBH_LIB
  34:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
  35:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  36:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  37:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @addtogroup USBH_CLASS
  38:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
  39:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  40:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  41:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @addtogroup USBH_MTP_CLASS
  42:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
  43:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  44:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  45:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @defgroup USBH_MTP_PTP
  46:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @brief    This file includes the mass storage related functions
  47:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
  48:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  49:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  50:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  51:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @defgroup USBH_MTP_PTP_Private_TypesDefinitions
  52:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
  53:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  54:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
  55:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @}
  56:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  57:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  58:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @defgroup USBH_MTP_PTP_Private_Defines
  59:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
  60:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  61:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
  62:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @}
  63:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  64:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  65:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @defgroup USBH_MTP_PTP_Private_Macros
  66:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
  67:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  68:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
  69:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @}
  70:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  71:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  72:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  73:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @defgroup USBH_MTP_PTP_Private_Variables
  74:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
  75:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  76:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  77:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
  78:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @}
  79:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  80:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  81:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  82:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @defgroup USBH_MTP_PTP_Private_FunctionPrototypes
  83:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
  84:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
  85:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_DecodeDeviceInfo(USBH_HandleTypeDef *phost, PTP_DeviceInfoTypedef *dev_info);
  86:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetStorageIDs(USBH_HandleTypeDef *phost, PTP_StorageIDsTypedef *stor_ids);
  87:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetStorageInfo(USBH_HandleTypeDef *phost, uint32_t storage_id, PTP_StorageInfoTyped
  88:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetObjectInfo(USBH_HandleTypeDef *phost, PTP_ObjectInfoTypedef *object_info);
ARM GAS  /tmp/ccH7Wnit.s 			page 3


  89:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetObjectPropDesc(USBH_HandleTypeDef *phost, PTP_ObjectPropDescTypeDef *opd, uint32
  90:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_DecodeDeviceInfo(USBH_HandleTypeDef *phost, PTP_DeviceInfoTypedef *dev_info);
  91:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  92:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetDevicePropValue(USBH_HandleTypeDef *phost, uint32_t *offset,
  93:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                    uint32_t total, PTP_PropertyValueTypedef *value, uint16_t dataty
  94:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  95:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static uint32_t PTP_GetObjectPropList(USBH_HandleTypeDef *phost,
  96:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                       MTP_PropertiesTypedef *props,
  97:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                       uint32_t len);
  98:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
  99:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_BufferFullCallback(USBH_HandleTypeDef *phost);
 100:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetString(uint8_t *str, uint8_t *data, uint16_t *len);
 101:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static uint32_t PTP_GetArray16(uint16_t *array, uint8_t *data, uint32_t offset);
 102:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static uint32_t PTP_GetArray32(uint32_t *array, uint8_t *data, uint32_t offset);
 103:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 104:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @}
 105:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
 106:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 107:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 108:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @defgroup USBH_MTP_PTP_Exported_Variables
 109:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
 110:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
 111:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 112:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @}
 113:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
 114:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 115:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 116:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /** @defgroup USBH_MTP_PTP_Private_Functions
 117:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** * @{
 118:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** */
 119:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 120:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_Init
 121:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         The function Initializes the BOT protocol.
 122:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 123:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
 124:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 125:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_Init(USBH_HandleTypeDef *phost)
 126:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
  28              		.loc 1 126 1
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 16
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33 0000 80B4     		push	{r7}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 7, -4
  37 0002 85B0     		sub	sp, sp, #20
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 24
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 7860     		str	r0, [r7, #4]
 127:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
  44              		.loc 1 127 61
  45 0008 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccH7Wnit.s 			page 4


  46 000a D3F87C34 		ldr	r3, [r3, #1148]
  47              		.loc 1 127 22
  48 000e DB69     		ldr	r3, [r3, #28]
  49 0010 FB60     		str	r3, [r7, #12]
 128:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 129:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   /* Set state to idle to be ready for operations */
 130:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.state = PTP_IDLE;
  50              		.loc 1 130 25
  51 0012 FB68     		ldr	r3, [r7, #12]
  52 0014 03F5EB53 		add	r3, r3, #7520
  53 0018 0022     		movs	r2, #0
  54 001a 1A70     		strb	r2, [r3]
 131:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.req_state = PTP_REQ_SEND;
  55              		.loc 1 131 29
  56 001c FA68     		ldr	r2, [r7, #12]
  57 001e 41F66153 		movw	r3, #7521
  58 0022 1344     		add	r3, r3, r2
  59 0024 0122     		movs	r2, #1
  60 0026 1A70     		strb	r2, [r3]
 132:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 133:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return USBH_OK;
  61              		.loc 1 133 10
  62 0028 0023     		movs	r3, #0
 134:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
  63              		.loc 1 134 1
  64 002a 1846     		mov	r0, r3
  65 002c 1437     		adds	r7, r7, #20
  66              	.LCFI3:
  67              		.cfi_def_cfa_offset 4
  68 002e BD46     		mov	sp, r7
  69              	.LCFI4:
  70              		.cfi_def_cfa_register 13
  71              		@ sp needed
  72 0030 5DF8047B 		ldr	r7, [sp], #4
  73              	.LCFI5:
  74              		.cfi_restore 7
  75              		.cfi_def_cfa_offset 0
  76 0034 7047     		bx	lr
  77              		.cfi_endproc
  78              	.LFE338:
  80              		.section	.text.USBH_PTP_Process,"ax",%progbits
  81              		.align	1
  82              		.global	USBH_PTP_Process
  83              		.syntax unified
  84              		.thumb
  85              		.thumb_func
  86              		.fpu fpv5-d16
  88              	USBH_PTP_Process:
  89              	.LFB339:
 135:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 136:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 137:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_Process
 138:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         The function handle the BOT protocol.
 139:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 140:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  lun: Logical Unit Number
 141:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
 142:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
ARM GAS  /tmp/ccH7Wnit.s 			page 5


 143:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_Process(USBH_HandleTypeDef *phost)
 144:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
  90              		.loc 1 144 1
  91              		.cfi_startproc
  92              		@ args = 0, pretend = 0, frame = 56
  93              		@ frame_needed = 1, uses_anonymous_args = 0
  94 0000 80B5     		push	{r7, lr}
  95              	.LCFI6:
  96              		.cfi_def_cfa_offset 8
  97              		.cfi_offset 7, -8
  98              		.cfi_offset 14, -4
  99 0002 90B0     		sub	sp, sp, #64
 100              	.LCFI7:
 101              		.cfi_def_cfa_offset 72
 102 0004 02AF     		add	r7, sp, #8
 103              	.LCFI8:
 104              		.cfi_def_cfa 7, 64
 105 0006 7860     		str	r0, [r7, #4]
 145:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef   status = USBH_BUSY;
 106              		.loc 1 145 24
 107 0008 0123     		movs	r3, #1
 108 000a 87F83730 		strb	r3, [r7, #55]
 146:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_URBStateTypeDef URB_Status = USBH_URB_IDLE;
 109              		.loc 1 146 24
 110 000e 0023     		movs	r3, #0
 111 0010 87F83630 		strb	r3, [r7, #54]
 147:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 112              		.loc 1 147 64
 113 0014 7B68     		ldr	r3, [r7, #4]
 114 0016 D3F87C34 		ldr	r3, [r3, #1148]
 115              		.loc 1 147 25
 116 001a DB69     		ldr	r3, [r3, #28]
 117 001c 3B63     		str	r3, [r7, #48]
 148:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef  ptp_container;
 149:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint32_t  len;
 150:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 151:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.state)
 118              		.loc 1 151 26
 119 001e 3B6B     		ldr	r3, [r7, #48]
 120 0020 03F5EB53 		add	r3, r3, #7520
 121 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 122 0026 092B     		cmp	r3, #9
 123 0028 00F2DD82 		bhi	.L41
 124 002c 01A2     		adr	r2, .L6
 125 002e 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 126 0032 00BF     		.p2align 2
 127              	.L6:
 128 0034 E7050000 		.word	.L41+1
 129 0038 5D000000 		.word	.L14+1
 130 003c 93000000 		.word	.L13+1
 131 0040 7F010000 		.word	.L12+1
 132 0044 B5010000 		.word	.L11+1
 133 0048 59030000 		.word	.L10+1
 134 004c 8B030000 		.word	.L9+1
 135 0050 31050000 		.word	.L8+1
 136 0054 57050000 		.word	.L7+1
 137 0058 D9050000 		.word	.L5+1
ARM GAS  /tmp/ccH7Wnit.s 			page 6


 138              		.p2align 1
 139              	.L14:
 152:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 153:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_IDLE:
 154:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /*Do Nothing */
 155:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 156:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 157:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_OP_REQUEST_STATE:
 158:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_BulkSendData(phost,
 159:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                         (uint8_t *)(void *) & (MTP_Handle->ptp.op_container),
 140              		.loc 1 159 45
 141 005c 3B6B     		ldr	r3, [r7, #48]
 142 005e 41F66451 		movw	r1, #7524
 143 0062 1944     		add	r1, r1, r3
 160:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                         (uint16_t)MTP_Handle->ptp.op_container.length,
 144              		.loc 1 160 63
 145 0064 3A6B     		ldr	r2, [r7, #48]
 146 0066 41F66453 		movw	r3, #7524
 147 006a 1344     		add	r3, r3, r2
 148 006c 1B68     		ldr	r3, [r3]
 158:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                         (uint8_t *)(void *) & (MTP_Handle->ptp.op_container),
 149              		.loc 1 158 7
 150 006e 98B2     		uxth	r0, r3
 151 0070 3A6B     		ldr	r2, [r7, #48]
 152 0072 41F62D53 		movw	r3, #7469
 153 0076 1344     		add	r3, r3, r2
 154 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 155 007a 0122     		movs	r2, #1
 156 007c 0092     		str	r2, [sp]
 157 007e 0246     		mov	r2, r0
 158 0080 7868     		ldr	r0, [r7, #4]
 159 0082 FFF7FEFF 		bl	USBH_BulkSendData
 161:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                         MTP_Handle->DataOutPipe,
 162:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                         1U);
 163:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_WAIT_STATE;
 160              		.loc 1 163 29
 161 0086 3B6B     		ldr	r3, [r7, #48]
 162 0088 03F5EB53 		add	r3, r3, #7520
 163 008c 0222     		movs	r2, #2
 164 008e 1A70     		strb	r2, [r3]
 164:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 165              		.loc 1 164 7
 166 0090 B2E2     		b	.L16
 167              	.L13:
 165:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 166:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_OP_REQUEST_WAIT_STATE:
 167:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       URB_Status = USBH_LL_GetURBState(phost, MTP_Handle->DataOutPipe);
 168              		.loc 1 167 20
 169 0092 3A6B     		ldr	r2, [r7, #48]
 170 0094 41F62D53 		movw	r3, #7469
 171 0098 1344     		add	r3, r3, r2
 172 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 173 009c 1946     		mov	r1, r3
 174 009e 7868     		ldr	r0, [r7, #4]
 175 00a0 FFF7FEFF 		bl	USBH_LL_GetURBState
 176 00a4 0346     		mov	r3, r0
 177 00a6 87F83630 		strb	r3, [r7, #54]
ARM GAS  /tmp/ccH7Wnit.s 			page 7


 168:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 169:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (URB_Status == USBH_URB_DONE)
 178              		.loc 1 169 10
 179 00aa 97F83630 		ldrb	r3, [r7, #54]	@ zero_extendqisi2
 180 00ae 012B     		cmp	r3, #1
 181 00b0 34D1     		bne	.L17
 170:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 171:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         if (MTP_Handle->ptp.flags == PTP_DP_NODATA)
 182              		.loc 1 171 28
 183 00b2 3A6B     		ldr	r2, [r7, #48]
 184 00b4 42F2AC13 		movw	r3, #8620
 185 00b8 1344     		add	r3, r3, r2
 186 00ba 1B68     		ldr	r3, [r3]
 187              		.loc 1 171 12
 188 00bc 002B     		cmp	r3, #0
 189 00be 05D1     		bne	.L18
 172:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 173:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.state = PTP_RESPONSE_STATE;
 190              		.loc 1 173 33
 191 00c0 3B6B     		ldr	r3, [r7, #48]
 192 00c2 03F5EB53 		add	r3, r3, #7520
 193 00c6 0722     		movs	r2, #7
 194 00c8 1A70     		strb	r2, [r3]
 195 00ca 18E0     		b	.L19
 196              	.L18:
 174:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 175:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         else  if (MTP_Handle->ptp.flags == PTP_DP_SENDDATA)
 197              		.loc 1 175 34
 198 00cc 3A6B     		ldr	r2, [r7, #48]
 199 00ce 42F2AC13 		movw	r3, #8620
 200 00d2 1344     		add	r3, r3, r2
 201 00d4 1B68     		ldr	r3, [r3]
 202              		.loc 1 175 18
 203 00d6 012B     		cmp	r3, #1
 204 00d8 05D1     		bne	.L20
 176:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 177:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.state = PTP_DATA_OUT_PHASE_STATE;
 205              		.loc 1 177 33
 206 00da 3B6B     		ldr	r3, [r7, #48]
 207 00dc 03F5EB53 		add	r3, r3, #7520
 208 00e0 0322     		movs	r2, #3
 209 00e2 1A70     		strb	r2, [r3]
 210 00e4 0BE0     		b	.L19
 211              	.L20:
 178:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 179:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         else  if (MTP_Handle->ptp.flags == PTP_DP_GETDATA)
 212              		.loc 1 179 34
 213 00e6 3A6B     		ldr	r2, [r7, #48]
 214 00e8 42F2AC13 		movw	r3, #8620
 215 00ec 1344     		add	r3, r3, r2
 216 00ee 1B68     		ldr	r3, [r3]
 217              		.loc 1 179 18
 218 00f0 022B     		cmp	r3, #2
 219 00f2 04D1     		bne	.L19
 180:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 181:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.state = PTP_DATA_IN_PHASE_STATE;
 220              		.loc 1 181 33
ARM GAS  /tmp/ccH7Wnit.s 			page 8


 221 00f4 3B6B     		ldr	r3, [r7, #48]
 222 00f6 03F5EB53 		add	r3, r3, #7520
 223 00fa 0522     		movs	r2, #5
 224 00fc 1A70     		strb	r2, [r3]
 225              	.L19:
 182:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 183:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         else
 184:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 185:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 186:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 187:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
 188:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         phost->os_msg = (uint32_t)USBH_URB_EVENT;
 226              		.loc 1 188 23
 227 00fe 7B68     		ldr	r3, [r7, #4]
 228 0100 0222     		movs	r2, #2
 229 0102 C3F8E024 		str	r2, [r3, #1248]
 189:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 190:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 191:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
 192:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 230              		.loc 1 192 15
 231 0106 7B68     		ldr	r3, [r7, #4]
 232 0108 D3F8D804 		ldr	r0, [r3, #1240]
 233              		.loc 1 192 50
 234 010c 7B68     		ldr	r3, [r7, #4]
 235 010e 03F59C61 		add	r1, r3, #1248
 236              		.loc 1 192 15
 237 0112 0023     		movs	r3, #0
 238 0114 0022     		movs	r2, #0
 239 0116 FFF7FEFF 		bl	osMessageQueuePut
 193:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 194:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 195:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 196:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       else if (URB_Status == USBH_URB_NOTREADY)
 197:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 198:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* Resend Request */
 199:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
 200:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 201:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
 202:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         phost->os_msg = (uint32_t)USBH_URB_EVENT;
 203:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 204:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 205:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
 206:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 207:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 208:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 209:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 210:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       else if (URB_Status == USBH_URB_STALL)
 211:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 212:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         MTP_Handle->ptp.state  = PTP_ERROR;
 213:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 214:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
 215:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         phost->os_msg = (uint32_t)USBH_URB_EVENT;
 216:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 217:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 218:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
 219:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
ARM GAS  /tmp/ccH7Wnit.s 			page 9


 220:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 221:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 222:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 223:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       else
 224:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 225:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 226:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 240              		.loc 1 226 7
 241 011a 66E2     		b	.L42
 242              	.L17:
 196:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 243              		.loc 1 196 15
 244 011c 97F83630 		ldrb	r3, [r7, #54]	@ zero_extendqisi2
 245 0120 022B     		cmp	r3, #2
 246 0122 13D1     		bne	.L22
 199:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 247              		.loc 1 199 31
 248 0124 3B6B     		ldr	r3, [r7, #48]
 249 0126 03F5EB53 		add	r3, r3, #7520
 250 012a 0122     		movs	r2, #1
 251 012c 1A70     		strb	r2, [r3]
 202:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 252              		.loc 1 202 23
 253 012e 7B68     		ldr	r3, [r7, #4]
 254 0130 0222     		movs	r2, #2
 255 0132 C3F8E024 		str	r2, [r3, #1248]
 206:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 256              		.loc 1 206 15
 257 0136 7B68     		ldr	r3, [r7, #4]
 258 0138 D3F8D804 		ldr	r0, [r3, #1240]
 206:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 259              		.loc 1 206 50
 260 013c 7B68     		ldr	r3, [r7, #4]
 261 013e 03F59C61 		add	r1, r3, #1248
 206:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 262              		.loc 1 206 15
 263 0142 0023     		movs	r3, #0
 264 0144 0022     		movs	r2, #0
 265 0146 FFF7FEFF 		bl	osMessageQueuePut
 266              		.loc 1 226 7
 267 014a 4EE2     		b	.L42
 268              	.L22:
 210:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 269              		.loc 1 210 15
 270 014c 97F83630 		ldrb	r3, [r7, #54]	@ zero_extendqisi2
 271 0150 052B     		cmp	r3, #5
 272 0152 40F04A82 		bne	.L42
 212:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 273              		.loc 1 212 32
 274 0156 3B6B     		ldr	r3, [r7, #48]
 275 0158 03F5EB53 		add	r3, r3, #7520
 276 015c 0922     		movs	r2, #9
 277 015e 1A70     		strb	r2, [r3]
 215:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 278              		.loc 1 215 23
 279 0160 7B68     		ldr	r3, [r7, #4]
 280 0162 0222     		movs	r2, #2
ARM GAS  /tmp/ccH7Wnit.s 			page 10


 281 0164 C3F8E024 		str	r2, [r3, #1248]
 219:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 282              		.loc 1 219 15
 283 0168 7B68     		ldr	r3, [r7, #4]
 284 016a D3F8D804 		ldr	r0, [r3, #1240]
 219:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 285              		.loc 1 219 50
 286 016e 7B68     		ldr	r3, [r7, #4]
 287 0170 03F59C61 		add	r1, r3, #1248
 219:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 288              		.loc 1 219 15
 289 0174 0023     		movs	r3, #0
 290 0176 0022     		movs	r2, #0
 291 0178 FFF7FEFF 		bl	osMessageQueuePut
 292              		.loc 1 226 7
 293 017c 35E2     		b	.L42
 294              	.L12:
 227:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 228:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DATA_OUT_PHASE_STATE:
 229:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 230:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_BulkSendData(phost,
 295              		.loc 1 230 7
 296 017e 3A6B     		ldr	r2, [r7, #48]
 297 0180 42F2B013 		movw	r3, #8624
 298 0184 1344     		add	r3, r3, r2
 299 0186 1968     		ldr	r1, [r3]
 300 0188 3A6B     		ldr	r2, [r7, #48]
 301 018a 41F63253 		movw	r3, #7474
 302 018e 1344     		add	r3, r3, r2
 303 0190 1888     		ldrh	r0, [r3]
 304 0192 3A6B     		ldr	r2, [r7, #48]
 305 0194 41F62D53 		movw	r3, #7469
 306 0198 1344     		add	r3, r3, r2
 307 019a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 308 019c 0122     		movs	r2, #1
 309 019e 0092     		str	r2, [sp]
 310 01a0 0246     		mov	r2, r0
 311 01a2 7868     		ldr	r0, [r7, #4]
 312 01a4 FFF7FEFF 		bl	USBH_BulkSendData
 231:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                         MTP_Handle->ptp.data_ptr,
 232:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                         MTP_Handle->DataOutEpSize,
 233:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                         MTP_Handle->DataOutPipe,
 234:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                         1U);
 235:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 236:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 237:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state  = PTP_DATA_OUT_PHASE_WAIT_STATE;
 313              		.loc 1 237 30
 314 01a8 3B6B     		ldr	r3, [r7, #48]
 315 01aa 03F5EB53 		add	r3, r3, #7520
 316 01ae 0422     		movs	r2, #4
 317 01b0 1A70     		strb	r2, [r3]
 238:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 318              		.loc 1 238 7
 319 01b2 21E2     		b	.L16
 320              	.L11:
 239:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 240:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DATA_OUT_PHASE_WAIT_STATE:
ARM GAS  /tmp/ccH7Wnit.s 			page 11


 241:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       URB_Status = USBH_LL_GetURBState(phost, MTP_Handle->DataOutPipe);
 321              		.loc 1 241 20
 322 01b4 3A6B     		ldr	r2, [r7, #48]
 323 01b6 41F62D53 		movw	r3, #7469
 324 01ba 1344     		add	r3, r3, r2
 325 01bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 326 01be 1946     		mov	r1, r3
 327 01c0 7868     		ldr	r0, [r7, #4]
 328 01c2 FFF7FEFF 		bl	USBH_LL_GetURBState
 329 01c6 0346     		mov	r3, r0
 330 01c8 87F83630 		strb	r3, [r7, #54]
 242:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 243:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (URB_Status == USBH_URB_DONE)
 331              		.loc 1 243 10
 332 01cc 97F83630 		ldrb	r3, [r7, #54]	@ zero_extendqisi2
 333 01d0 012B     		cmp	r3, #1
 334 01d2 40F09080 		bne	.L23
 244:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 245:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* Adjust Data pointer and data length */
 246:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         if (MTP_Handle->ptp.data_length > MTP_Handle->DataOutEpSize)
 335              		.loc 1 246 28
 336 01d6 3A6B     		ldr	r2, [r7, #48]
 337 01d8 42F2B413 		movw	r3, #8628
 338 01dc 1344     		add	r3, r3, r2
 339 01de 1A68     		ldr	r2, [r3]
 340              		.loc 1 246 53
 341 01e0 396B     		ldr	r1, [r7, #48]
 342 01e2 41F63253 		movw	r3, #7474
 343 01e6 0B44     		add	r3, r3, r1
 344 01e8 1B88     		ldrh	r3, [r3]
 345              		.loc 1 246 12
 346 01ea 9A42     		cmp	r2, r3
 347 01ec 4CD9     		bls	.L24
 247:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 248:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.data_ptr += MTP_Handle->DataOutEpSize;
 348              		.loc 1 248 36
 349 01ee 3A6B     		ldr	r2, [r7, #48]
 350 01f0 42F2B013 		movw	r3, #8624
 351 01f4 1344     		add	r3, r3, r2
 352 01f6 1A68     		ldr	r2, [r3]
 353              		.loc 1 248 49
 354 01f8 396B     		ldr	r1, [r7, #48]
 355 01fa 41F63253 		movw	r3, #7474
 356 01fe 0B44     		add	r3, r3, r1
 357 0200 1B88     		ldrh	r3, [r3]
 358              		.loc 1 248 36
 359 0202 1A44     		add	r2, r2, r3
 360 0204 396B     		ldr	r1, [r7, #48]
 361 0206 42F2B013 		movw	r3, #8624
 362 020a 0B44     		add	r3, r3, r1
 363 020c 1A60     		str	r2, [r3]
 249:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.data_length -= MTP_Handle->DataOutEpSize;
 364              		.loc 1 249 39
 365 020e 3A6B     		ldr	r2, [r7, #48]
 366 0210 42F2B413 		movw	r3, #8628
 367 0214 1344     		add	r3, r3, r2
 368 0216 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccH7Wnit.s 			page 12


 369              		.loc 1 249 52
 370 0218 396B     		ldr	r1, [r7, #48]
 371 021a 41F63253 		movw	r3, #7474
 372 021e 0B44     		add	r3, r3, r1
 373 0220 1B88     		ldrh	r3, [r3]
 374              		.loc 1 249 39
 375 0222 D21A     		subs	r2, r2, r3
 376 0224 396B     		ldr	r1, [r7, #48]
 377 0226 42F2B413 		movw	r3, #8628
 378 022a 0B44     		add	r3, r3, r1
 379 022c 1A60     		str	r2, [r3]
 250:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.data_packet += MTP_Handle->DataOutEpSize;
 380              		.loc 1 250 39
 381 022e 3A6B     		ldr	r2, [r7, #48]
 382 0230 42F2B813 		movw	r3, #8632
 383 0234 1344     		add	r3, r3, r2
 384 0236 1A68     		ldr	r2, [r3]
 385              		.loc 1 250 52
 386 0238 396B     		ldr	r1, [r7, #48]
 387 023a 41F63253 		movw	r3, #7474
 388 023e 0B44     		add	r3, r3, r1
 389 0240 1B88     		ldrh	r3, [r3]
 390              		.loc 1 250 39
 391 0242 1A44     		add	r2, r2, r3
 392 0244 396B     		ldr	r1, [r7, #48]
 393 0246 42F2B813 		movw	r3, #8632
 394 024a 0B44     		add	r3, r3, r1
 395 024c 1A60     		str	r2, [r3]
 251:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 252:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           if (MTP_Handle->ptp.data_packet >= PTP_USB_BULK_PAYLOAD_LEN_READ)
 396              		.loc 1 252 30
 397 024e 3A6B     		ldr	r2, [r7, #48]
 398 0250 42F2B813 		movw	r3, #8632
 399 0254 1344     		add	r3, r3, r2
 400 0256 1B68     		ldr	r3, [r3]
 401              		.loc 1 252 14
 402 0258 B3F57D7F 		cmp	r3, #1012
 403 025c 1AD3     		bcc	.L25
 253:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           {
 254:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****             PTP_BufferFullCallback(phost);
 404              		.loc 1 254 13
 405 025e 7868     		ldr	r0, [r7, #4]
 406 0260 FFF7FEFF 		bl	PTP_BufferFullCallback
 255:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****             MTP_Handle->ptp.data_packet = 0U;
 407              		.loc 1 255 41
 408 0264 3A6B     		ldr	r2, [r7, #48]
 409 0266 42F2B813 		movw	r3, #8632
 410 026a 1344     		add	r3, r3, r2
 411 026c 0022     		movs	r2, #0
 412 026e 1A60     		str	r2, [r3]
 256:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****             MTP_Handle->ptp.iteration++;
 413              		.loc 1 256 28
 414 0270 3A6B     		ldr	r2, [r7, #48]
 415 0272 42F2BC13 		movw	r3, #8636
 416 0276 1344     		add	r3, r3, r2
 417 0278 1B68     		ldr	r3, [r3]
 418              		.loc 1 256 38
ARM GAS  /tmp/ccH7Wnit.s 			page 13


 419 027a 5A1C     		adds	r2, r3, #1
 420 027c 396B     		ldr	r1, [r7, #48]
 421 027e 42F2BC13 		movw	r3, #8636
 422 0282 0B44     		add	r3, r3, r1
 423 0284 1A60     		str	r2, [r3]
 424 0286 05E0     		b	.L25
 425              	.L24:
 257:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           }
 258:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 259:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         else
 260:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 261:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.data_length = 0U;
 426              		.loc 1 261 39
 427 0288 3A6B     		ldr	r2, [r7, #48]
 428 028a 42F2B413 		movw	r3, #8628
 429 028e 1344     		add	r3, r3, r2
 430 0290 0022     		movs	r2, #0
 431 0292 1A60     		str	r2, [r3]
 432              	.L25:
 262:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 263:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 264:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* More Data To be Sent */
 265:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         if (MTP_Handle->ptp.data_length > 0U)
 433              		.loc 1 265 28
 434 0294 3A6B     		ldr	r2, [r7, #48]
 435 0296 42F2B413 		movw	r3, #8628
 436 029a 1344     		add	r3, r3, r2
 437 029c 1B68     		ldr	r3, [r3]
 438              		.loc 1 265 12
 439 029e 002B     		cmp	r3, #0
 440 02a0 15D0     		beq	.L26
 266:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 267:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           USBH_BulkSendData(phost,
 441              		.loc 1 267 11
 442 02a2 3A6B     		ldr	r2, [r7, #48]
 443 02a4 42F2B013 		movw	r3, #8624
 444 02a8 1344     		add	r3, r3, r2
 445 02aa 1968     		ldr	r1, [r3]
 446 02ac 3A6B     		ldr	r2, [r7, #48]
 447 02ae 41F63253 		movw	r3, #7474
 448 02b2 1344     		add	r3, r3, r2
 449 02b4 1888     		ldrh	r0, [r3]
 450 02b6 3A6B     		ldr	r2, [r7, #48]
 451 02b8 41F62D53 		movw	r3, #7469
 452 02bc 1344     		add	r3, r3, r2
 453 02be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 454 02c0 0122     		movs	r2, #1
 455 02c2 0092     		str	r2, [sp]
 456 02c4 0246     		mov	r2, r0
 457 02c6 7868     		ldr	r0, [r7, #4]
 458 02c8 FFF7FEFF 		bl	USBH_BulkSendData
 459 02cc 04E0     		b	.L27
 460              	.L26:
 268:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                             MTP_Handle->ptp.data_ptr,
 269:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                             MTP_Handle->DataOutEpSize,
 270:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                             MTP_Handle->DataOutPipe,
 271:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                             1U);
ARM GAS  /tmp/ccH7Wnit.s 			page 14


 272:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 273:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         else
 274:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 275:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           /* If value was 0, and successful transfer, then change the state */
 276:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.state  = PTP_RESPONSE_STATE;
 461              		.loc 1 276 34
 462 02ce 3B6B     		ldr	r3, [r7, #48]
 463 02d0 03F5EB53 		add	r3, r3, #7520
 464 02d4 0722     		movs	r2, #7
 465 02d6 1A70     		strb	r2, [r3]
 466              	.L27:
 277:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 278:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 279:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
 280:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         phost->os_msg = (uint32_t)USBH_URB_EVENT;
 467              		.loc 1 280 23
 468 02d8 7B68     		ldr	r3, [r7, #4]
 469 02da 0222     		movs	r2, #2
 470 02dc C3F8E024 		str	r2, [r3, #1248]
 281:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 282:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 283:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
 284:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 471              		.loc 1 284 15
 472 02e0 7B68     		ldr	r3, [r7, #4]
 473 02e2 D3F8D804 		ldr	r0, [r3, #1240]
 474              		.loc 1 284 50
 475 02e6 7B68     		ldr	r3, [r7, #4]
 476 02e8 03F59C61 		add	r1, r3, #1248
 477              		.loc 1 284 15
 478 02ec 0023     		movs	r3, #0
 479 02ee 0022     		movs	r2, #0
 480 02f0 FFF7FEFF 		bl	osMessageQueuePut
 285:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 286:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 287:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 288:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       else if (URB_Status == USBH_URB_NOTREADY)
 289:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 290:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* Resend same data */
 291:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         MTP_Handle->ptp.state = PTP_DATA_OUT_PHASE_STATE;
 292:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 293:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
 294:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         phost->os_msg = (uint32_t)USBH_URB_EVENT;
 295:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 296:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 297:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
 298:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 299:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 300:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 301:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 302:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       else if (URB_Status == USBH_URB_STALL)
 303:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 304:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         MTP_Handle->ptp.state  = PTP_ERROR;
 305:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 306:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
 307:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         phost->os_msg = (uint32_t)USBH_URB_EVENT;
 308:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
ARM GAS  /tmp/ccH7Wnit.s 			page 15


 309:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 310:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
 311:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 312:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 313:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 314:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 315:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       else
 316:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 317:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* .. */
 318:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 319:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 481              		.loc 1 319 7
 482 02f4 7BE1     		b	.L43
 483              	.L23:
 288:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 484              		.loc 1 288 15
 485 02f6 97F83630 		ldrb	r3, [r7, #54]	@ zero_extendqisi2
 486 02fa 022B     		cmp	r3, #2
 487 02fc 13D1     		bne	.L29
 291:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 488              		.loc 1 291 31
 489 02fe 3B6B     		ldr	r3, [r7, #48]
 490 0300 03F5EB53 		add	r3, r3, #7520
 491 0304 0322     		movs	r2, #3
 492 0306 1A70     		strb	r2, [r3]
 294:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 493              		.loc 1 294 23
 494 0308 7B68     		ldr	r3, [r7, #4]
 495 030a 0222     		movs	r2, #2
 496 030c C3F8E024 		str	r2, [r3, #1248]
 298:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 497              		.loc 1 298 15
 498 0310 7B68     		ldr	r3, [r7, #4]
 499 0312 D3F8D804 		ldr	r0, [r3, #1240]
 298:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 500              		.loc 1 298 50
 501 0316 7B68     		ldr	r3, [r7, #4]
 502 0318 03F59C61 		add	r1, r3, #1248
 298:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 503              		.loc 1 298 15
 504 031c 0023     		movs	r3, #0
 505 031e 0022     		movs	r2, #0
 506 0320 FFF7FEFF 		bl	osMessageQueuePut
 507              		.loc 1 319 7
 508 0324 63E1     		b	.L43
 509              	.L29:
 302:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 510              		.loc 1 302 15
 511 0326 97F83630 		ldrb	r3, [r7, #54]	@ zero_extendqisi2
 512 032a 052B     		cmp	r3, #5
 513 032c 40F05F81 		bne	.L43
 304:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 514              		.loc 1 304 32
 515 0330 3B6B     		ldr	r3, [r7, #48]
 516 0332 03F5EB53 		add	r3, r3, #7520
 517 0336 0922     		movs	r2, #9
 518 0338 1A70     		strb	r2, [r3]
ARM GAS  /tmp/ccH7Wnit.s 			page 16


 307:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 519              		.loc 1 307 23
 520 033a 7B68     		ldr	r3, [r7, #4]
 521 033c 0222     		movs	r2, #2
 522 033e C3F8E024 		str	r2, [r3, #1248]
 311:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 523              		.loc 1 311 15
 524 0342 7B68     		ldr	r3, [r7, #4]
 525 0344 D3F8D804 		ldr	r0, [r3, #1240]
 311:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 526              		.loc 1 311 50
 527 0348 7B68     		ldr	r3, [r7, #4]
 528 034a 03F59C61 		add	r1, r3, #1248
 311:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 529              		.loc 1 311 15
 530 034e 0023     		movs	r3, #0
 531 0350 0022     		movs	r2, #0
 532 0352 FFF7FEFF 		bl	osMessageQueuePut
 533              		.loc 1 319 7
 534 0356 4AE1     		b	.L43
 535              	.L10:
 320:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 321:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DATA_IN_PHASE_STATE:
 322:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Send first packet */
 323:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_BulkReceiveData(phost,
 536              		.loc 1 323 7
 537 0358 3A6B     		ldr	r2, [r7, #48]
 538 035a 42F2B013 		movw	r3, #8624
 539 035e 1344     		add	r3, r3, r2
 540 0360 1968     		ldr	r1, [r3]
 541 0362 3A6B     		ldr	r2, [r7, #48]
 542 0364 41F63453 		movw	r3, #7476
 543 0368 1344     		add	r3, r3, r2
 544 036a 1888     		ldrh	r0, [r3]
 545 036c 3A6B     		ldr	r2, [r7, #48]
 546 036e 41F62C53 		movw	r3, #7468
 547 0372 1344     		add	r3, r3, r2
 548 0374 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 549 0376 0246     		mov	r2, r0
 550 0378 7868     		ldr	r0, [r7, #4]
 551 037a FFF7FEFF 		bl	USBH_BulkReceiveData
 324:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                            MTP_Handle->ptp.data_ptr,
 325:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                            MTP_Handle->DataInEpSize,
 326:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                            MTP_Handle->DataInPipe);
 327:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 328:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state  = PTP_DATA_IN_PHASE_WAIT_STATE;
 552              		.loc 1 328 30
 553 037e 3B6B     		ldr	r3, [r7, #48]
 554 0380 03F5EB53 		add	r3, r3, #7520
 555 0384 0622     		movs	r2, #6
 556 0386 1A70     		strb	r2, [r3]
 329:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 557              		.loc 1 329 7
 558 0388 36E1     		b	.L16
 559              	.L9:
 330:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 331:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DATA_IN_PHASE_WAIT_STATE:
ARM GAS  /tmp/ccH7Wnit.s 			page 17


 332:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       URB_Status = USBH_LL_GetURBState(phost, MTP_Handle->DataInPipe);
 560              		.loc 1 332 20
 561 038a 3A6B     		ldr	r2, [r7, #48]
 562 038c 41F62C53 		movw	r3, #7468
 563 0390 1344     		add	r3, r3, r2
 564 0392 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 565 0394 1946     		mov	r1, r3
 566 0396 7868     		ldr	r0, [r7, #4]
 567 0398 FFF7FEFF 		bl	USBH_LL_GetURBState
 568 039c 0346     		mov	r3, r0
 569 039e 87F83630 		strb	r3, [r7, #54]
 333:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 334:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (URB_Status == USBH_URB_DONE)
 570              		.loc 1 334 10
 571 03a2 97F83630 		ldrb	r3, [r7, #54]	@ zero_extendqisi2
 572 03a6 012B     		cmp	r3, #1
 573 03a8 40F0AA80 		bne	.L30
 335:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 336:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         len = USBH_LL_GetLastXferSize(phost, MTP_Handle->DataInPipe);
 574              		.loc 1 336 15
 575 03ac 3A6B     		ldr	r2, [r7, #48]
 576 03ae 41F62C53 		movw	r3, #7468
 577 03b2 1344     		add	r3, r3, r2
 578 03b4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 579 03b6 1946     		mov	r1, r3
 580 03b8 7868     		ldr	r0, [r7, #4]
 581 03ba FFF7FEFF 		bl	USBH_LL_GetLastXferSize
 582 03be F862     		str	r0, [r7, #44]
 337:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 338:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         if (MTP_Handle->ptp.data_packet_counter++ == 0U)
 583              		.loc 1 338 28
 584 03c0 3B6B     		ldr	r3, [r7, #48]
 585 03c2 03F50753 		add	r3, r3, #8640
 586 03c6 1B68     		ldr	r3, [r3]
 587              		.loc 1 338 48
 588 03c8 591C     		adds	r1, r3, #1
 589 03ca 3A6B     		ldr	r2, [r7, #48]
 590 03cc 02F50752 		add	r2, r2, #8640
 591 03d0 1160     		str	r1, [r2]
 592              		.loc 1 338 12
 593 03d2 002B     		cmp	r3, #0
 594 03d4 10D1     		bne	.L31
 339:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 340:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           /* This is the first packet; so retrieve exact data length from payload */
 341:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.data_length = *(uint32_t *)(void *)(MTP_Handle->ptp.data_ptr);
 595              		.loc 1 341 78
 596 03d6 3A6B     		ldr	r2, [r7, #48]
 597 03d8 42F2B013 		movw	r3, #8624
 598 03dc 1344     		add	r3, r3, r2
 599 03de 1B68     		ldr	r3, [r3]
 600              		.loc 1 341 41
 601 03e0 1A68     		ldr	r2, [r3]
 602              		.loc 1 341 39
 603 03e2 396B     		ldr	r1, [r7, #48]
 604 03e4 42F2B413 		movw	r3, #8628
 605 03e8 0B44     		add	r3, r3, r1
 606 03ea 1A60     		str	r2, [r3]
ARM GAS  /tmp/ccH7Wnit.s 			page 18


 342:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.iteration = 0U;
 607              		.loc 1 342 37
 608 03ec 3A6B     		ldr	r2, [r7, #48]
 609 03ee 42F2BC13 		movw	r3, #8636
 610 03f2 1344     		add	r3, r3, r2
 611 03f4 0022     		movs	r2, #0
 612 03f6 1A60     		str	r2, [r3]
 613              	.L31:
 343:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 344:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 345:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         if ((len >=  MTP_Handle->DataInEpSize) && (MTP_Handle->ptp.data_length > 0U))
 614              		.loc 1 345 32
 615 03f8 3A6B     		ldr	r2, [r7, #48]
 616 03fa 41F63453 		movw	r3, #7476
 617 03fe 1344     		add	r3, r3, r2
 618 0400 1B88     		ldrh	r3, [r3]
 619 0402 1A46     		mov	r2, r3
 620              		.loc 1 345 12
 621 0404 FB6A     		ldr	r3, [r7, #44]
 622 0406 9342     		cmp	r3, r2
 623 0408 5AD3     		bcc	.L32
 624              		.loc 1 345 67 discriminator 1
 625 040a 3A6B     		ldr	r2, [r7, #48]
 626 040c 42F2B413 		movw	r3, #8628
 627 0410 1344     		add	r3, r3, r2
 628 0412 1B68     		ldr	r3, [r3]
 629              		.loc 1 345 48 discriminator 1
 630 0414 002B     		cmp	r3, #0
 631 0416 53D0     		beq	.L32
 346:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 347:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.data_ptr += len;
 632              		.loc 1 347 36
 633 0418 3A6B     		ldr	r2, [r7, #48]
 634 041a 42F2B013 		movw	r3, #8624
 635 041e 1344     		add	r3, r3, r2
 636 0420 1A68     		ldr	r2, [r3]
 637 0422 FB6A     		ldr	r3, [r7, #44]
 638 0424 1A44     		add	r2, r2, r3
 639 0426 396B     		ldr	r1, [r7, #48]
 640 0428 42F2B013 		movw	r3, #8624
 641 042c 0B44     		add	r3, r3, r1
 642 042e 1A60     		str	r2, [r3]
 348:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.data_length -= len;
 643              		.loc 1 348 39
 644 0430 3A6B     		ldr	r2, [r7, #48]
 645 0432 42F2B413 		movw	r3, #8628
 646 0436 1344     		add	r3, r3, r2
 647 0438 1A68     		ldr	r2, [r3]
 648 043a FB6A     		ldr	r3, [r7, #44]
 649 043c D21A     		subs	r2, r2, r3
 650 043e 396B     		ldr	r1, [r7, #48]
 651 0440 42F2B413 		movw	r3, #8628
 652 0444 0B44     		add	r3, r3, r1
 653 0446 1A60     		str	r2, [r3]
 349:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.data_packet += len;
 654              		.loc 1 349 39
 655 0448 3A6B     		ldr	r2, [r7, #48]
ARM GAS  /tmp/ccH7Wnit.s 			page 19


 656 044a 42F2B813 		movw	r3, #8632
 657 044e 1344     		add	r3, r3, r2
 658 0450 1A68     		ldr	r2, [r3]
 659 0452 FB6A     		ldr	r3, [r7, #44]
 660 0454 1A44     		add	r2, r2, r3
 661 0456 396B     		ldr	r1, [r7, #48]
 662 0458 42F2B813 		movw	r3, #8632
 663 045c 0B44     		add	r3, r3, r1
 664 045e 1A60     		str	r2, [r3]
 350:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 351:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           if (MTP_Handle->ptp.data_packet >= PTP_USB_BULK_PAYLOAD_LEN_READ)
 665              		.loc 1 351 30
 666 0460 3A6B     		ldr	r2, [r7, #48]
 667 0462 42F2B813 		movw	r3, #8632
 668 0466 1344     		add	r3, r3, r2
 669 0468 1B68     		ldr	r3, [r3]
 670              		.loc 1 351 14
 671 046a B3F57D7F 		cmp	r3, #1012
 672 046e 13D3     		bcc	.L33
 352:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           {
 353:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****             PTP_BufferFullCallback(phost);
 673              		.loc 1 353 13
 674 0470 7868     		ldr	r0, [r7, #4]
 675 0472 FFF7FEFF 		bl	PTP_BufferFullCallback
 354:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****             MTP_Handle->ptp.data_packet = 0U;
 676              		.loc 1 354 41
 677 0476 3A6B     		ldr	r2, [r7, #48]
 678 0478 42F2B813 		movw	r3, #8632
 679 047c 1344     		add	r3, r3, r2
 680 047e 0022     		movs	r2, #0
 681 0480 1A60     		str	r2, [r3]
 355:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****             MTP_Handle->ptp.iteration++;
 682              		.loc 1 355 28
 683 0482 3A6B     		ldr	r2, [r7, #48]
 684 0484 42F2BC13 		movw	r3, #8636
 685 0488 1344     		add	r3, r3, r2
 686 048a 1B68     		ldr	r3, [r3]
 687              		.loc 1 355 38
 688 048c 5A1C     		adds	r2, r3, #1
 689 048e 396B     		ldr	r1, [r7, #48]
 690 0490 42F2BC13 		movw	r3, #8636
 691 0494 0B44     		add	r3, r3, r1
 692 0496 1A60     		str	r2, [r3]
 693              	.L33:
 356:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           }
 357:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 358:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           /* Continue receiving data*/
 359:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           USBH_BulkReceiveData(phost,
 694              		.loc 1 359 11
 695 0498 3A6B     		ldr	r2, [r7, #48]
 696 049a 42F2B013 		movw	r3, #8624
 697 049e 1344     		add	r3, r3, r2
 698 04a0 1968     		ldr	r1, [r3]
 699 04a2 3A6B     		ldr	r2, [r7, #48]
 700 04a4 41F63453 		movw	r3, #7476
 701 04a8 1344     		add	r3, r3, r2
 702 04aa 1888     		ldrh	r0, [r3]
ARM GAS  /tmp/ccH7Wnit.s 			page 20


 703 04ac 3A6B     		ldr	r2, [r7, #48]
 704 04ae 41F62C53 		movw	r3, #7468
 705 04b2 1344     		add	r3, r3, r2
 706 04b4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 707 04b6 0246     		mov	r2, r0
 708 04b8 7868     		ldr	r0, [r7, #4]
 709 04ba FFF7FEFF 		bl	USBH_BulkReceiveData
 360:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                MTP_Handle->ptp.data_ptr,
 361:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                MTP_Handle->DataInEpSize,
 362:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                MTP_Handle->DataInPipe);
 363:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 364:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         else
 365:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 366:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.data_length -= len;
 367:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.state = PTP_RESPONSE_STATE;
 368:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 369:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
 370:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           phost->os_msg = (uint32_t)USBH_URB_EVENT;
 371:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 372:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 373:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
 374:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 375:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 376:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 377:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 378:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 379:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       else if (URB_Status == USBH_URB_STALL)
 380:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 381:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         MTP_Handle->ptp.state  = PTP_ERROR;
 382:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 383:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
 384:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         phost->os_msg = (uint32_t)USBH_URB_EVENT;
 385:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 386:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 387:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
 388:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 389:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 390:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 391:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 392:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       else
 393:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 394:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* .. */
 395:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 396:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 710              		.loc 1 396 7
 711 04be 98E0     		b	.L44
 712              	.L32:
 366:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           MTP_Handle->ptp.state = PTP_RESPONSE_STATE;
 713              		.loc 1 366 39
 714 04c0 3A6B     		ldr	r2, [r7, #48]
 715 04c2 42F2B413 		movw	r3, #8628
 716 04c6 1344     		add	r3, r3, r2
 717 04c8 1A68     		ldr	r2, [r3]
 718 04ca FB6A     		ldr	r3, [r7, #44]
 719 04cc D21A     		subs	r2, r2, r3
 720 04ce 396B     		ldr	r1, [r7, #48]
 721 04d0 42F2B413 		movw	r3, #8628
ARM GAS  /tmp/ccH7Wnit.s 			page 21


 722 04d4 0B44     		add	r3, r3, r1
 723 04d6 1A60     		str	r2, [r3]
 367:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 724              		.loc 1 367 33
 725 04d8 3B6B     		ldr	r3, [r7, #48]
 726 04da 03F5EB53 		add	r3, r3, #7520
 727 04de 0722     		movs	r2, #7
 728 04e0 1A70     		strb	r2, [r3]
 370:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 729              		.loc 1 370 25
 730 04e2 7B68     		ldr	r3, [r7, #4]
 731 04e4 0222     		movs	r2, #2
 732 04e6 C3F8E024 		str	r2, [r3, #1248]
 374:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 733              		.loc 1 374 17
 734 04ea 7B68     		ldr	r3, [r7, #4]
 735 04ec D3F8D804 		ldr	r0, [r3, #1240]
 374:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 736              		.loc 1 374 52
 737 04f0 7B68     		ldr	r3, [r7, #4]
 738 04f2 03F59C61 		add	r1, r3, #1248
 374:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 739              		.loc 1 374 17
 740 04f6 0023     		movs	r3, #0
 741 04f8 0022     		movs	r2, #0
 742 04fa FFF7FEFF 		bl	osMessageQueuePut
 743              		.loc 1 396 7
 744 04fe 78E0     		b	.L44
 745              	.L30:
 379:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 746              		.loc 1 379 15
 747 0500 97F83630 		ldrb	r3, [r7, #54]	@ zero_extendqisi2
 748 0504 052B     		cmp	r3, #5
 749 0506 74D1     		bne	.L44
 381:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 750              		.loc 1 381 32
 751 0508 3B6B     		ldr	r3, [r7, #48]
 752 050a 03F5EB53 		add	r3, r3, #7520
 753 050e 0922     		movs	r2, #9
 754 0510 1A70     		strb	r2, [r3]
 384:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 755              		.loc 1 384 23
 756 0512 7B68     		ldr	r3, [r7, #4]
 757 0514 0222     		movs	r2, #2
 758 0516 C3F8E024 		str	r2, [r3, #1248]
 388:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 759              		.loc 1 388 15
 760 051a 7B68     		ldr	r3, [r7, #4]
 761 051c D3F8D804 		ldr	r0, [r3, #1240]
 388:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 762              		.loc 1 388 50
 763 0520 7B68     		ldr	r3, [r7, #4]
 764 0522 03F59C61 		add	r1, r3, #1248
 388:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 765              		.loc 1 388 15
 766 0526 0023     		movs	r3, #0
 767 0528 0022     		movs	r2, #0
ARM GAS  /tmp/ccH7Wnit.s 			page 22


 768 052a FFF7FEFF 		bl	osMessageQueuePut
 769              		.loc 1 396 7
 770 052e 60E0     		b	.L44
 771              	.L8:
 397:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 398:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_RESPONSE_STATE:
 399:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_BulkReceiveData(phost,
 400:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                            (uint8_t *)(void *) & (MTP_Handle->ptp.resp_container),
 772              		.loc 1 400 48
 773 0530 3B6B     		ldr	r3, [r7, #48]
 774 0532 42F28411 		movw	r1, #8580
 775 0536 1944     		add	r1, r1, r3
 399:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                            (uint8_t *)(void *) & (MTP_Handle->ptp.resp_container),
 776              		.loc 1 399 7
 777 0538 3A6B     		ldr	r2, [r7, #48]
 778 053a 41F62C53 		movw	r3, #7468
 779 053e 1344     		add	r3, r3, r2
 780 0540 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 781 0542 3F22     		movs	r2, #63
 782 0544 7868     		ldr	r0, [r7, #4]
 783 0546 FFF7FEFF 		bl	USBH_BulkReceiveData
 401:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                            PTP_USB_BULK_REQ_RESP_MAX_LEN,
 402:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                            MTP_Handle->DataInPipe);
 403:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 404:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state  = PTP_RESPONSE_WAIT_STATE;
 784              		.loc 1 404 30
 785 054a 3B6B     		ldr	r3, [r7, #48]
 786 054c 03F5EB53 		add	r3, r3, #7520
 787 0550 0822     		movs	r2, #8
 788 0552 1A70     		strb	r2, [r3]
 405:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 789              		.loc 1 405 7
 790 0554 50E0     		b	.L16
 791              	.L7:
 406:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 407:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_RESPONSE_WAIT_STATE:
 408:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       URB_Status = USBH_LL_GetURBState(phost, MTP_Handle->DataInPipe);
 792              		.loc 1 408 20
 793 0556 3A6B     		ldr	r2, [r7, #48]
 794 0558 41F62C53 		movw	r3, #7468
 795 055c 1344     		add	r3, r3, r2
 796 055e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 797 0560 1946     		mov	r1, r3
 798 0562 7868     		ldr	r0, [r7, #4]
 799 0564 FFF7FEFF 		bl	USBH_LL_GetURBState
 800 0568 0346     		mov	r3, r0
 801 056a 87F83630 		strb	r3, [r7, #54]
 409:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 410:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (URB_Status == USBH_URB_DONE)
 802              		.loc 1 410 10
 803 056e 97F83630 		ldrb	r3, [r7, #54]	@ zero_extendqisi2
 804 0572 012B     		cmp	r3, #1
 805 0574 18D1     		bne	.L36
 411:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 412:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         USBH_PTP_GetResponse(phost, &ptp_container);
 806              		.loc 1 412 9
 807 0576 07F10803 		add	r3, r7, #8
ARM GAS  /tmp/ccH7Wnit.s 			page 23


 808 057a 1946     		mov	r1, r3
 809 057c 7868     		ldr	r0, [r7, #4]
 810 057e FFF7FEFF 		bl	USBH_PTP_GetResponse
 413:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 414:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         if (ptp_container.Code == PTP_RC_OK)
 811              		.loc 1 414 26
 812 0582 3B89     		ldrh	r3, [r7, #8]
 813              		.loc 1 414 12
 814 0584 42F20102 		movw	r2, #8193
 815 0588 9342     		cmp	r3, r2
 816 058a 03D1     		bne	.L37
 415:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 416:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           status = USBH_OK;
 817              		.loc 1 416 18
 818 058c 0023     		movs	r3, #0
 819 058e 87F83730 		strb	r3, [r7, #55]
 820 0592 02E0     		b	.L38
 821              	.L37:
 417:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 418:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         else
 419:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 420:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           status = USBH_FAIL;
 822              		.loc 1 420 18
 823 0594 0223     		movs	r3, #2
 824 0596 87F83730 		strb	r3, [r7, #55]
 825              	.L38:
 421:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 422:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         MTP_Handle->ptp.req_state = PTP_REQ_SEND;
 826              		.loc 1 422 35
 827 059a 3A6B     		ldr	r2, [r7, #48]
 828 059c 41F66153 		movw	r3, #7521
 829 05a0 1344     		add	r3, r3, r2
 830 05a2 0122     		movs	r2, #1
 831 05a4 1A70     		strb	r2, [r3]
 423:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 424:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       else if (URB_Status == USBH_URB_STALL)
 425:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 426:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         MTP_Handle->ptp.state  = PTP_ERROR;
 427:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 428:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
 429:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         phost->os_msg = (uint32_t)USBH_URB_EVENT;
 430:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 431:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 432:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
 433:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 434:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 435:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 436:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 437:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       else
 438:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 439:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* .. */
 440:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 441:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 832              		.loc 1 441 7
 833 05a6 26E0     		b	.L45
 834              	.L36:
 424:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
ARM GAS  /tmp/ccH7Wnit.s 			page 24


 835              		.loc 1 424 15
 836 05a8 97F83630 		ldrb	r3, [r7, #54]	@ zero_extendqisi2
 837 05ac 052B     		cmp	r3, #5
 838 05ae 22D1     		bne	.L45
 426:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 839              		.loc 1 426 32
 840 05b0 3B6B     		ldr	r3, [r7, #48]
 841 05b2 03F5EB53 		add	r3, r3, #7520
 842 05b6 0922     		movs	r2, #9
 843 05b8 1A70     		strb	r2, [r3]
 429:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 844              		.loc 1 429 23
 845 05ba 7B68     		ldr	r3, [r7, #4]
 846 05bc 0222     		movs	r2, #2
 847 05be C3F8E024 		str	r2, [r3, #1248]
 433:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 848              		.loc 1 433 15
 849 05c2 7B68     		ldr	r3, [r7, #4]
 850 05c4 D3F8D804 		ldr	r0, [r3, #1240]
 433:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 851              		.loc 1 433 50
 852 05c8 7B68     		ldr	r3, [r7, #4]
 853 05ca 03F59C61 		add	r1, r3, #1248
 433:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 854              		.loc 1 433 15
 855 05ce 0023     		movs	r3, #0
 856 05d0 0022     		movs	r2, #0
 857 05d2 FFF7FEFF 		bl	osMessageQueuePut
 858              		.loc 1 441 7
 859 05d6 0EE0     		b	.L45
 860              	.L5:
 442:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 443:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_ERROR:
 444:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_SEND;
 861              		.loc 1 444 33
 862 05d8 3A6B     		ldr	r2, [r7, #48]
 863 05da 41F66153 		movw	r3, #7521
 864 05de 1344     		add	r3, r3, r2
 865 05e0 0122     		movs	r2, #1
 866 05e2 1A70     		strb	r2, [r3]
 445:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 867              		.loc 1 445 7
 868 05e4 08E0     		b	.L16
 869              	.L41:
 446:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 447:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
 448:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 870              		.loc 1 448 7
 871 05e6 00BF     		nop
 872 05e8 06E0     		b	.L16
 873              	.L42:
 226:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 874              		.loc 1 226 7
 875 05ea 00BF     		nop
 876 05ec 04E0     		b	.L16
 877              	.L43:
 319:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
ARM GAS  /tmp/ccH7Wnit.s 			page 25


 878              		.loc 1 319 7
 879 05ee 00BF     		nop
 880 05f0 02E0     		b	.L16
 881              	.L44:
 396:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 882              		.loc 1 396 7
 883 05f2 00BF     		nop
 884 05f4 00E0     		b	.L16
 885              	.L45:
 441:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 886              		.loc 1 441 7
 887 05f6 00BF     		nop
 888              	.L16:
 449:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 450:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 889              		.loc 1 450 10
 890 05f8 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 451:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 891              		.loc 1 451 1
 892 05fc 1846     		mov	r0, r3
 893 05fe 3837     		adds	r7, r7, #56
 894              	.LCFI9:
 895              		.cfi_def_cfa_offset 8
 896 0600 BD46     		mov	sp, r7
 897              	.LCFI10:
 898              		.cfi_def_cfa_register 13
 899              		@ sp needed
 900 0602 80BD     		pop	{r7, pc}
 901              		.cfi_endproc
 902              	.LFE339:
 904              		.section	.text.USBH_PTP_SendRequest,"ax",%progbits
 905              		.align	1
 906              		.global	USBH_PTP_SendRequest
 907              		.syntax unified
 908              		.thumb
 909              		.thumb_func
 910              		.fpu fpv5-d16
 912              	USBH_PTP_SendRequest:
 913              	.LFB340:
 452:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 453:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 454:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_OpenSession
 455:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Open a new session
 456:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 457:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
 458:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 459:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_SendRequest(USBH_HandleTypeDef *phost, PTP_ContainerTypedef  *req)
 460:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 914              		.loc 1 460 1
 915              		.cfi_startproc
 916              		@ args = 0, pretend = 0, frame = 16
 917              		@ frame_needed = 1, uses_anonymous_args = 0
 918 0000 80B5     		push	{r7, lr}
 919              	.LCFI11:
 920              		.cfi_def_cfa_offset 8
 921              		.cfi_offset 7, -8
 922              		.cfi_offset 14, -4
ARM GAS  /tmp/ccH7Wnit.s 			page 26


 923 0002 84B0     		sub	sp, sp, #16
 924              	.LCFI12:
 925              		.cfi_def_cfa_offset 24
 926 0004 00AF     		add	r7, sp, #0
 927              	.LCFI13:
 928              		.cfi_def_cfa_register 7
 929 0006 7860     		str	r0, [r7, #4]
 930 0008 3960     		str	r1, [r7]
 461:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_OK;
 931              		.loc 1 461 22
 932 000a 0023     		movs	r3, #0
 933 000c FB73     		strb	r3, [r7, #15]
 462:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 934              		.loc 1 462 61
 935 000e 7B68     		ldr	r3, [r7, #4]
 936 0010 D3F87C34 		ldr	r3, [r3, #1148]
 937              		.loc 1 462 22
 938 0014 DB69     		ldr	r3, [r3, #28]
 939 0016 BB60     		str	r3, [r7, #8]
 463:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 464:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   /* Clear PTP Data container*/
 465:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_memset(&(MTP_Handle->ptp.op_container), 0, sizeof(PTP_OpContainerTypedef));
 940              		.loc 1 465 15
 941 0018 BA68     		ldr	r2, [r7, #8]
 942 001a 41F66453 		movw	r3, #7524
 943 001e 1344     		add	r3, r3, r2
 944              		.loc 1 465 3
 945 0020 2022     		movs	r2, #32
 946 0022 0021     		movs	r1, #0
 947 0024 1846     		mov	r0, r3
 948 0026 FFF7FEFF 		bl	memset
 466:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 467:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   /* build appropriate USB container */
 468:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.op_container.length = PTP_USB_BULK_REQ_LEN - (sizeof(uint32_t) * (5U - req->Npara
 949              		.loc 1 468 93
 950 002a 3B68     		ldr	r3, [r7]
 951 002c 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 952              		.loc 1 468 62
 953 0030 0333     		adds	r3, r3, #3
 954 0032 9A00     		lsls	r2, r3, #2
 955              		.loc 1 468 39
 956 0034 B968     		ldr	r1, [r7, #8]
 957 0036 41F66453 		movw	r3, #7524
 958 003a 0B44     		add	r3, r3, r1
 959 003c 1A60     		str	r2, [r3]
 469:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.op_container.type = PTP_USB_CONTAINER_COMMAND;
 960              		.loc 1 469 37
 961 003e BA68     		ldr	r2, [r7, #8]
 962 0040 41F66853 		movw	r3, #7528
 963 0044 1344     		add	r3, r3, r2
 964 0046 0122     		movs	r2, #1
 965 0048 1A80     		strh	r2, [r3]	@ movhi
 470:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.op_container.code = req->Code;
 966              		.loc 1 470 42
 967 004a 3B68     		ldr	r3, [r7]
 968 004c 1988     		ldrh	r1, [r3]
 969              		.loc 1 470 37
ARM GAS  /tmp/ccH7Wnit.s 			page 27


 970 004e BA68     		ldr	r2, [r7, #8]
 971 0050 41F66A53 		movw	r3, #7530
 972 0054 1344     		add	r3, r3, r2
 973 0056 0A46     		mov	r2, r1	@ movhi
 974 0058 1A80     		strh	r2, [r3]	@ movhi
 471:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.op_container.trans_id = req->Transaction_ID;
 975              		.loc 1 471 46
 976 005a 3B68     		ldr	r3, [r7]
 977 005c 9A68     		ldr	r2, [r3, #8]
 978              		.loc 1 471 41
 979 005e B968     		ldr	r1, [r7, #8]
 980 0060 41F66C53 		movw	r3, #7532
 981 0064 0B44     		add	r3, r3, r1
 982 0066 1A60     		str	r2, [r3]
 472:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.op_container.param1 = req->Param1;
 983              		.loc 1 472 44
 984 0068 3B68     		ldr	r3, [r7]
 985 006a DA68     		ldr	r2, [r3, #12]
 986              		.loc 1 472 39
 987 006c B968     		ldr	r1, [r7, #8]
 988 006e 41F67053 		movw	r3, #7536
 989 0072 0B44     		add	r3, r3, r1
 990 0074 1A60     		str	r2, [r3]
 473:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.op_container.param2 = req->Param2;
 991              		.loc 1 473 44
 992 0076 3B68     		ldr	r3, [r7]
 993 0078 1A69     		ldr	r2, [r3, #16]
 994              		.loc 1 473 39
 995 007a B968     		ldr	r1, [r7, #8]
 996 007c 41F67453 		movw	r3, #7540
 997 0080 0B44     		add	r3, r3, r1
 998 0082 1A60     		str	r2, [r3]
 474:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.op_container.param3 = req->Param3;
 999              		.loc 1 474 44
 1000 0084 3B68     		ldr	r3, [r7]
 1001 0086 5A69     		ldr	r2, [r3, #20]
 1002              		.loc 1 474 39
 1003 0088 B968     		ldr	r1, [r7, #8]
 1004 008a 41F67853 		movw	r3, #7544
 1005 008e 0B44     		add	r3, r3, r1
 1006 0090 1A60     		str	r2, [r3]
 475:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.op_container.param4 = req->Param4;
 1007              		.loc 1 475 44
 1008 0092 3B68     		ldr	r3, [r7]
 1009 0094 9A69     		ldr	r2, [r3, #24]
 1010              		.loc 1 475 39
 1011 0096 B968     		ldr	r1, [r7, #8]
 1012 0098 41F67C53 		movw	r3, #7548
 1013 009c 0B44     		add	r3, r3, r1
 1014 009e 1A60     		str	r2, [r3]
 476:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_Handle->ptp.op_container.param5 = req->Param5;
 1015              		.loc 1 476 44
 1016 00a0 3B68     		ldr	r3, [r7]
 1017 00a2 DA69     		ldr	r2, [r3, #28]
 1018              		.loc 1 476 39
 1019 00a4 BB68     		ldr	r3, [r7, #8]
 1020 00a6 03F5EC53 		add	r3, r3, #7552
ARM GAS  /tmp/ccH7Wnit.s 			page 28


 1021 00aa 1A60     		str	r2, [r3]
 477:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 478:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 1022              		.loc 1 478 10
 1023 00ac FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 479:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 1024              		.loc 1 479 1
 1025 00ae 1846     		mov	r0, r3
 1026 00b0 1037     		adds	r7, r7, #16
 1027              	.LCFI14:
 1028              		.cfi_def_cfa_offset 8
 1029 00b2 BD46     		mov	sp, r7
 1030              	.LCFI15:
 1031              		.cfi_def_cfa_register 13
 1032              		@ sp needed
 1033 00b4 80BD     		pop	{r7, pc}
 1034              		.cfi_endproc
 1035              	.LFE340:
 1037              		.section	.text.USBH_PTP_GetResponse,"ax",%progbits
 1038              		.align	1
 1039              		.global	USBH_PTP_GetResponse
 1040              		.syntax unified
 1041              		.thumb
 1042              		.thumb_func
 1043              		.fpu fpv5-d16
 1045              	USBH_PTP_GetResponse:
 1046              	.LFB341:
 480:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 481:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 482:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_OpenSession
 483:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Open a new session
 484:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 485:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
 486:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 487:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetResponse(USBH_HandleTypeDef *phost, PTP_ContainerTypedef  *resp)
 488:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 1047              		.loc 1 488 1
 1048              		.cfi_startproc
 1049              		@ args = 0, pretend = 0, frame = 16
 1050              		@ frame_needed = 1, uses_anonymous_args = 0
 1051              		@ link register save eliminated.
 1052 0000 80B4     		push	{r7}
 1053              	.LCFI16:
 1054              		.cfi_def_cfa_offset 4
 1055              		.cfi_offset 7, -4
 1056 0002 85B0     		sub	sp, sp, #20
 1057              	.LCFI17:
 1058              		.cfi_def_cfa_offset 24
 1059 0004 00AF     		add	r7, sp, #0
 1060              	.LCFI18:
 1061              		.cfi_def_cfa_register 7
 1062 0006 7860     		str	r0, [r7, #4]
 1063 0008 3960     		str	r1, [r7]
 489:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_OK;
 1064              		.loc 1 489 22
 1065 000a 0023     		movs	r3, #0
 1066 000c FB73     		strb	r3, [r7, #15]
ARM GAS  /tmp/ccH7Wnit.s 			page 29


 490:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef  *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 1067              		.loc 1 490 62
 1068 000e 7B68     		ldr	r3, [r7, #4]
 1069 0010 D3F87C34 		ldr	r3, [r3, #1148]
 1070              		.loc 1 490 23
 1071 0014 DB69     		ldr	r3, [r3, #28]
 1072 0016 BB60     		str	r3, [r7, #8]
 491:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 492:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   /* build an appropriate PTPContainer */
 493:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   resp->Code = MTP_Handle->ptp.resp_container.code;
 1073              		.loc 1 493 46
 1074 0018 BA68     		ldr	r2, [r7, #8]
 1075 001a 42F28A13 		movw	r3, #8586
 1076 001e 1344     		add	r3, r3, r2
 1077 0020 1A88     		ldrh	r2, [r3]
 1078              		.loc 1 493 14
 1079 0022 3B68     		ldr	r3, [r7]
 1080 0024 1A80     		strh	r2, [r3]	@ movhi
 494:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   resp->SessionID = MTP_Handle->ptp.session_id;
 1081              		.loc 1 494 36
 1082 0026 BA68     		ldr	r2, [r7, #8]
 1083 0028 42F2A813 		movw	r3, #8616
 1084 002c 1344     		add	r3, r3, r2
 1085 002e 1A68     		ldr	r2, [r3]
 1086              		.loc 1 494 19
 1087 0030 3B68     		ldr	r3, [r7]
 1088 0032 5A60     		str	r2, [r3, #4]
 495:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   resp->Transaction_ID = MTP_Handle->ptp.resp_container.trans_id;
 1089              		.loc 1 495 56
 1090 0034 BA68     		ldr	r2, [r7, #8]
 1091 0036 42F28C13 		movw	r3, #8588
 1092 003a 1344     		add	r3, r3, r2
 1093 003c 1A68     		ldr	r2, [r3]
 1094              		.loc 1 495 24
 1095 003e 3B68     		ldr	r3, [r7]
 1096 0040 9A60     		str	r2, [r3, #8]
 496:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   resp->Param1 = MTP_Handle->ptp.resp_container.param1;
 1097              		.loc 1 496 48
 1098 0042 BA68     		ldr	r2, [r7, #8]
 1099 0044 42F29013 		movw	r3, #8592
 1100 0048 1344     		add	r3, r3, r2
 1101 004a 1A68     		ldr	r2, [r3]
 1102              		.loc 1 496 16
 1103 004c 3B68     		ldr	r3, [r7]
 1104 004e DA60     		str	r2, [r3, #12]
 497:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   resp->Param2 = MTP_Handle->ptp.resp_container.param2;
 1105              		.loc 1 497 48
 1106 0050 BA68     		ldr	r2, [r7, #8]
 1107 0052 42F29413 		movw	r3, #8596
 1108 0056 1344     		add	r3, r3, r2
 1109 0058 1A68     		ldr	r2, [r3]
 1110              		.loc 1 497 16
 1111 005a 3B68     		ldr	r3, [r7]
 1112 005c 1A61     		str	r2, [r3, #16]
 498:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   resp->Param3 = MTP_Handle->ptp.resp_container.param3;
 1113              		.loc 1 498 48
 1114 005e BA68     		ldr	r2, [r7, #8]
ARM GAS  /tmp/ccH7Wnit.s 			page 30


 1115 0060 42F29813 		movw	r3, #8600
 1116 0064 1344     		add	r3, r3, r2
 1117 0066 1A68     		ldr	r2, [r3]
 1118              		.loc 1 498 16
 1119 0068 3B68     		ldr	r3, [r7]
 1120 006a 5A61     		str	r2, [r3, #20]
 499:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   resp->Param4 = MTP_Handle->ptp.resp_container.param4;
 1121              		.loc 1 499 48
 1122 006c BA68     		ldr	r2, [r7, #8]
 1123 006e 42F29C13 		movw	r3, #8604
 1124 0072 1344     		add	r3, r3, r2
 1125 0074 1A68     		ldr	r2, [r3]
 1126              		.loc 1 499 16
 1127 0076 3B68     		ldr	r3, [r7]
 1128 0078 9A61     		str	r2, [r3, #24]
 500:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   resp->Param5 = MTP_Handle->ptp.resp_container.param5;
 1129              		.loc 1 500 48
 1130 007a BA68     		ldr	r2, [r7, #8]
 1131 007c 42F2A013 		movw	r3, #8608
 1132 0080 1344     		add	r3, r3, r2
 1133 0082 1A68     		ldr	r2, [r3]
 1134              		.loc 1 500 16
 1135 0084 3B68     		ldr	r3, [r7]
 1136 0086 DA61     		str	r2, [r3, #28]
 501:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 502:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 1137              		.loc 1 502 10
 1138 0088 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 503:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 1139              		.loc 1 503 1
 1140 008a 1846     		mov	r0, r3
 1141 008c 1437     		adds	r7, r7, #20
 1142              	.LCFI19:
 1143              		.cfi_def_cfa_offset 4
 1144 008e BD46     		mov	sp, r7
 1145              	.LCFI20:
 1146              		.cfi_def_cfa_register 13
 1147              		@ sp needed
 1148 0090 5DF8047B 		ldr	r7, [sp], #4
 1149              	.LCFI21:
 1150              		.cfi_restore 7
 1151              		.cfi_def_cfa_offset 0
 1152 0094 7047     		bx	lr
 1153              		.cfi_endproc
 1154              	.LFE341:
 1156              		.section	.text.PTP_BufferFullCallback,"ax",%progbits
 1157              		.align	1
 1158              		.syntax unified
 1159              		.thumb
 1160              		.thumb_func
 1161              		.fpu fpv5-d16
 1163              	PTP_BufferFullCallback:
 1164              	.LFB342:
 504:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 505:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 506:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  The function informs user that data buffer is full
 507:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *  @param  phost: host handle
ARM GAS  /tmp/ccH7Wnit.s 			page 31


 508:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 509:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 510:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_BufferFullCallback(USBH_HandleTypeDef *phost)
 511:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 1165              		.loc 1 511 1
 1166              		.cfi_startproc
 1167              		@ args = 0, pretend = 0, frame = 16
 1168              		@ frame_needed = 1, uses_anonymous_args = 0
 1169 0000 80B5     		push	{r7, lr}
 1170              	.LCFI22:
 1171              		.cfi_def_cfa_offset 8
 1172              		.cfi_offset 7, -8
 1173              		.cfi_offset 14, -4
 1174 0002 84B0     		sub	sp, sp, #16
 1175              	.LCFI23:
 1176              		.cfi_def_cfa_offset 24
 1177 0004 00AF     		add	r7, sp, #0
 1178              	.LCFI24:
 1179              		.cfi_def_cfa_register 7
 1180 0006 7860     		str	r0, [r7, #4]
 512:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 1181              		.loc 1 512 61
 1182 0008 7B68     		ldr	r3, [r7, #4]
 1183 000a D3F87C34 		ldr	r3, [r3, #1148]
 1184              		.loc 1 512 22
 1185 000e DB69     		ldr	r3, [r3, #28]
 1186 0010 FB60     		str	r3, [r7, #12]
 513:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 514:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.data_container.code)
 1187              		.loc 1 514 41
 1188 0012 FA68     		ldr	r2, [r7, #12]
 1189 0014 41F68A53 		movw	r3, #7562
 1190 0018 1344     		add	r3, r3, r2
 1191 001a 1B88     		ldrh	r3, [r3]
 1192 001c 1A46     		mov	r2, r3
 1193 001e 6FF48053 		mvn	r3, #4096
 1194 0022 1344     		add	r3, r3, r2
 1195 0024 1A2B     		cmp	r3, #26
 1196 0026 75D8     		bhi	.L59
 1197 0028 01A2     		adr	r2, .L53
 1198 002a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1199 002e 00BF     		.p2align 2
 1200              	.L53:
 1201 0030 9D000000 		.word	.L55+1
 1202 0034 15010000 		.word	.L59+1
 1203 0038 15010000 		.word	.L59+1
 1204 003c 15010000 		.word	.L59+1
 1205 0040 15010000 		.word	.L59+1
 1206 0044 15010000 		.word	.L59+1
 1207 0048 15010000 		.word	.L59+1
 1208 004c 15010000 		.word	.L59+1
 1209 0050 A9000000 		.word	.L52+1
 1210 0054 15010000 		.word	.L59+1
 1211 0058 15010000 		.word	.L59+1
 1212 005c 15010000 		.word	.L59+1
 1213 0060 ED000000 		.word	.L54+1
 1214 0064 15010000 		.word	.L59+1
ARM GAS  /tmp/ccH7Wnit.s 			page 32


 1215 0068 15010000 		.word	.L59+1
 1216 006c 15010000 		.word	.L59+1
 1217 0070 15010000 		.word	.L59+1
 1218 0074 15010000 		.word	.L59+1
 1219 0078 15010000 		.word	.L59+1
 1220 007c 15010000 		.word	.L59+1
 1221 0080 15010000 		.word	.L59+1
 1222 0084 15010000 		.word	.L59+1
 1223 0088 15010000 		.word	.L59+1
 1224 008c 15010000 		.word	.L59+1
 1225 0090 15010000 		.word	.L59+1
 1226 0094 15010000 		.word	.L59+1
 1227 0098 A9000000 		.word	.L52+1
 1228              		.p2align 1
 1229              	.L55:
 515:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 516:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_OC_GetDeviceInfo:
 517:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       PTP_DecodeDeviceInfo(phost, &(MTP_Handle->info.devinfo));
 1230              		.loc 1 517 7
 1231 009c FB68     		ldr	r3, [r7, #12]
 1232 009e 1946     		mov	r1, r3
 1233 00a0 7868     		ldr	r0, [r7, #4]
 1234 00a2 FFF7FEFF 		bl	PTP_DecodeDeviceInfo
 518:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 1235              		.loc 1 518 7
 1236 00a6 3AE0     		b	.L56
 1237              	.L52:
 519:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 520:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_OC_GetPartialObject:
 521:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_OC_GetObject:
 522:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 523:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* first packet is in the PTP data payload buffer */
 524:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (MTP_Handle->ptp.iteration == 0U)
 1238              		.loc 1 524 26
 1239 00a8 FA68     		ldr	r2, [r7, #12]
 1240 00aa 42F2BC13 		movw	r3, #8636
 1241 00ae 1344     		add	r3, r3, r2
 1242 00b0 1B68     		ldr	r3, [r3]
 1243              		.loc 1 524 10
 1244 00b2 002B     		cmp	r3, #0
 1245 00b4 30D1     		bne	.L60
 525:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 526:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* copy it to object */
 527:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         USBH_memcpy(MTP_Handle->ptp.object_ptr, MTP_Handle->ptp.data_container.payload.data, PTP_US
 1246              		.loc 1 527 36
 1247 00b6 FA68     		ldr	r2, [r7, #12]
 1248 00b8 42F2C413 		movw	r3, #8644
 1249 00bc 1344     		add	r3, r3, r2
 1250 00be 1868     		ldr	r0, [r3]
 1251              		.loc 1 527 87
 1252 00c0 FA68     		ldr	r2, [r7, #12]
 1253 00c2 41F69053 		movw	r3, #7568
 1254 00c6 1344     		add	r3, r3, r2
 1255              		.loc 1 527 9
 1256 00c8 4FF47D72 		mov	r2, #1012
 1257 00cc 1946     		mov	r1, r3
 1258 00ce FFF7FEFF 		bl	memcpy
ARM GAS  /tmp/ccH7Wnit.s 			page 33


 528:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 529:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* next packet should be directly copied to object */
 530:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         MTP_Handle->ptp.data_ptr = (MTP_Handle->ptp.object_ptr + PTP_USB_BULK_PAYLOAD_LEN_READ);
 1259              		.loc 1 530 52
 1260 00d2 FA68     		ldr	r2, [r7, #12]
 1261 00d4 42F2C413 		movw	r3, #8644
 1262 00d8 1344     		add	r3, r3, r2
 1263 00da 1B68     		ldr	r3, [r3]
 1264              		.loc 1 530 64
 1265 00dc 03F57D72 		add	r2, r3, #1012
 1266              		.loc 1 530 34
 1267 00e0 F968     		ldr	r1, [r7, #12]
 1268 00e2 42F2B013 		movw	r3, #8624
 1269 00e6 0B44     		add	r3, r3, r1
 1270 00e8 1A60     		str	r2, [r3]
 531:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 532:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 1271              		.loc 1 532 7
 1272 00ea 15E0     		b	.L60
 1273              	.L54:
 533:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 534:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_OC_SendObject:
 535:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* first packet is in the PTP data payload buffer */
 536:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (MTP_Handle->ptp.iteration == 0U)
 1274              		.loc 1 536 26
 1275 00ec FA68     		ldr	r2, [r7, #12]
 1276 00ee 42F2BC13 		movw	r3, #8636
 1277 00f2 1344     		add	r3, r3, r2
 1278 00f4 1B68     		ldr	r3, [r3]
 1279              		.loc 1 536 10
 1280 00f6 002B     		cmp	r3, #0
 1281 00f8 10D1     		bne	.L61
 537:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 538:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* next packet should be directly copied to object */
 539:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         MTP_Handle->ptp.data_ptr = (MTP_Handle->ptp.object_ptr + PTP_USB_BULK_PAYLOAD_LEN_READ);
 1282              		.loc 1 539 52
 1283 00fa FA68     		ldr	r2, [r7, #12]
 1284 00fc 42F2C413 		movw	r3, #8644
 1285 0100 1344     		add	r3, r3, r2
 1286 0102 1B68     		ldr	r3, [r3]
 1287              		.loc 1 539 64
 1288 0104 03F57D72 		add	r2, r3, #1012
 1289              		.loc 1 539 34
 1290 0108 F968     		ldr	r1, [r7, #12]
 1291 010a 42F2B013 		movw	r3, #8624
 1292 010e 0B44     		add	r3, r3, r1
 1293 0110 1A60     		str	r2, [r3]
 540:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 541:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 1294              		.loc 1 541 7
 1295 0112 03E0     		b	.L61
 1296              	.L59:
 542:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 543:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
 544:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 1297              		.loc 1 544 7
 1298 0114 00BF     		nop
ARM GAS  /tmp/ccH7Wnit.s 			page 34


 1299 0116 02E0     		b	.L62
 1300              	.L60:
 532:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 1301              		.loc 1 532 7
 1302 0118 00BF     		nop
 1303 011a 00E0     		b	.L62
 1304              	.L61:
 541:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 1305              		.loc 1 541 7
 1306 011c 00BF     		nop
 1307              	.L56:
 1308              	.L62:
 545:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 546:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 547:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 548:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 1309              		.loc 1 548 1
 1310 011e 00BF     		nop
 1311 0120 1037     		adds	r7, r7, #16
 1312              	.LCFI25:
 1313              		.cfi_def_cfa_offset 8
 1314 0122 BD46     		mov	sp, r7
 1315              	.LCFI26:
 1316              		.cfi_def_cfa_register 13
 1317              		@ sp needed
 1318 0124 80BD     		pop	{r7, pc}
 1319              		.cfi_endproc
 1320              	.LFE342:
 1322 0126 00BF     		.section	.text.PTP_DecodeDeviceInfo,"ax",%progbits
 1323              		.align	1
 1324              		.syntax unified
 1325              		.thumb
 1326              		.thumb_func
 1327              		.fpu fpv5-d16
 1329              	PTP_DecodeDeviceInfo:
 1330              	.LFB343:
 549:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 550:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 551:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  PTP_GetDeviceInfo
 552:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets device info dataset and fills deviceinfo structure.
 553:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 554:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
 555:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 556:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 557:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_DecodeDeviceInfo(USBH_HandleTypeDef *phost, PTP_DeviceInfoTypedef *dev_info)
 558:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 1331              		.loc 1 558 1
 1332              		.cfi_startproc
 1333              		@ args = 0, pretend = 0, frame = 24
 1334              		@ frame_needed = 1, uses_anonymous_args = 0
 1335 0000 80B5     		push	{r7, lr}
 1336              	.LCFI27:
 1337              		.cfi_def_cfa_offset 8
 1338              		.cfi_offset 7, -8
 1339              		.cfi_offset 14, -4
 1340 0002 86B0     		sub	sp, sp, #24
 1341              	.LCFI28:
ARM GAS  /tmp/ccH7Wnit.s 			page 35


 1342              		.cfi_def_cfa_offset 32
 1343 0004 00AF     		add	r7, sp, #0
 1344              	.LCFI29:
 1345              		.cfi_def_cfa_register 7
 1346 0006 7860     		str	r0, [r7, #4]
 1347 0008 3960     		str	r1, [r7]
 559:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 1348              		.loc 1 559 64
 1349 000a 7B68     		ldr	r3, [r7, #4]
 1350 000c D3F87C34 		ldr	r3, [r3, #1148]
 1351              		.loc 1 559 25
 1352 0010 DB69     		ldr	r3, [r3, #28]
 1353 0012 7B61     		str	r3, [r7, #20]
 560:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint8_t *data = MTP_Handle->ptp.data_container.payload.data;
 1354              		.loc 1 560 12
 1355 0014 7A69     		ldr	r2, [r7, #20]
 1356 0016 41F69053 		movw	r3, #7568
 1357 001a 1344     		add	r3, r3, r2
 1358 001c 3B61     		str	r3, [r7, #16]
 561:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint32_t totallen;
 562:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint16_t len;
 563:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 564:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   /* Max device info is PTP_USB_BULK_HS_MAX_PACKET_LEN_READ */
 565:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_DbgLog(" MTP device info size exceeds internal buffer size.\
 566:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                only available data are decoded.");
 567:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 568:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   if (MTP_Handle->ptp.iteration == 0U)
 1359              		.loc 1 568 22
 1360 001e 7A69     		ldr	r2, [r7, #20]
 1361 0020 42F2BC13 		movw	r3, #8636
 1362 0024 1344     		add	r3, r3, r2
 1363 0026 1B68     		ldr	r3, [r3]
 1364              		.loc 1 568 6
 1365 0028 002B     		cmp	r3, #0
 1366 002a 40F0FC80 		bne	.L65
 569:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 570:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     dev_info->StandardVersion = LE16(&data[PTP_di_StandardVersion]);
 1367              		.loc 1 570 33
 1368 002e 3B69     		ldr	r3, [r7, #16]
 1369 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1370 0032 9AB2     		uxth	r2, r3
 1371 0034 3B69     		ldr	r3, [r7, #16]
 1372 0036 0133     		adds	r3, r3, #1
 1373 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1374 003a 9BB2     		uxth	r3, r3
 1375 003c 1B02     		lsls	r3, r3, #8
 1376 003e 9BB2     		uxth	r3, r3
 1377 0040 1343     		orrs	r3, r3, r2
 1378 0042 9AB2     		uxth	r2, r3
 1379              		.loc 1 570 31
 1380 0044 3B68     		ldr	r3, [r7]
 1381 0046 1A80     		strh	r2, [r3]	@ movhi
 571:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     dev_info->VendorExtensionID = LE32(&data[PTP_di_VendorExtensionID]);
 1382              		.loc 1 571 35
 1383 0048 3B69     		ldr	r3, [r7, #16]
 1384 004a 0233     		adds	r3, r3, #2
 1385 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccH7Wnit.s 			page 36


 1386 004e 1A46     		mov	r2, r3
 1387 0050 3B69     		ldr	r3, [r7, #16]
 1388 0052 0333     		adds	r3, r3, #3
 1389 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1390 0056 1B02     		lsls	r3, r3, #8
 1391 0058 1A43     		orrs	r2, r2, r3
 1392 005a 3B69     		ldr	r3, [r7, #16]
 1393 005c 0433     		adds	r3, r3, #4
 1394 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1395 0060 1B04     		lsls	r3, r3, #16
 1396 0062 1A43     		orrs	r2, r2, r3
 1397 0064 3B69     		ldr	r3, [r7, #16]
 1398 0066 0533     		adds	r3, r3, #5
 1399 0068 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1400 006a 1B06     		lsls	r3, r3, #24
 1401 006c 1A43     		orrs	r2, r2, r3
 1402              		.loc 1 571 33
 1403 006e 3B68     		ldr	r3, [r7]
 1404 0070 5A60     		str	r2, [r3, #4]
 572:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     dev_info->VendorExtensionVersion = LE16(&data[PTP_di_VendorExtensionVersion]);
 1405              		.loc 1 572 40
 1406 0072 3B69     		ldr	r3, [r7, #16]
 1407 0074 0633     		adds	r3, r3, #6
 1408 0076 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1409 0078 9AB2     		uxth	r2, r3
 1410 007a 3B69     		ldr	r3, [r7, #16]
 1411 007c 0733     		adds	r3, r3, #7
 1412 007e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1413 0080 9BB2     		uxth	r3, r3
 1414 0082 1B02     		lsls	r3, r3, #8
 1415 0084 9BB2     		uxth	r3, r3
 1416 0086 1343     		orrs	r3, r3, r2
 1417 0088 9AB2     		uxth	r2, r3
 1418              		.loc 1 572 38
 1419 008a 3B68     		ldr	r3, [r7]
 1420 008c 1A81     		strh	r2, [r3, #8]	@ movhi
 573:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     PTP_GetString(dev_info->VendorExtensionDesc, &data[PTP_di_VendorExtensionDesc], &len);
 1421              		.loc 1 573 27
 1422 008e 3B68     		ldr	r3, [r7]
 1423 0090 03F10A00 		add	r0, r3, #10
 1424              		.loc 1 573 5
 1425 0094 3B69     		ldr	r3, [r7, #16]
 1426 0096 0833     		adds	r3, r3, #8
 1427 0098 07F10A02 		add	r2, r7, #10
 1428 009c 1946     		mov	r1, r3
 1429 009e FFF7FEFF 		bl	PTP_GetString
 574:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 575:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     totallen = len * 2U + 1U;
 1430              		.loc 1 575 20
 1431 00a2 7B89     		ldrh	r3, [r7, #10]
 1432 00a4 5B00     		lsls	r3, r3, #1
 1433              		.loc 1 575 14
 1434 00a6 0133     		adds	r3, r3, #1
 1435 00a8 FB60     		str	r3, [r7, #12]
 576:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     dev_info->FunctionalMode = LE16(&data[PTP_di_FunctionalMode + totallen]);
 1436              		.loc 1 576 32
 1437 00aa FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccH7Wnit.s 			page 37


 1438 00ac 0833     		adds	r3, r3, #8
 1439 00ae 3A69     		ldr	r2, [r7, #16]
 1440 00b0 1344     		add	r3, r3, r2
 1441 00b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1442 00b4 9AB2     		uxth	r2, r3
 1443 00b6 FB68     		ldr	r3, [r7, #12]
 1444 00b8 0933     		adds	r3, r3, #9
 1445 00ba 3969     		ldr	r1, [r7, #16]
 1446 00bc 0B44     		add	r3, r3, r1
 1447 00be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1448 00c0 9BB2     		uxth	r3, r3
 1449 00c2 1B02     		lsls	r3, r3, #8
 1450 00c4 9BB2     		uxth	r3, r3
 1451 00c6 1343     		orrs	r3, r3, r2
 1452 00c8 9AB2     		uxth	r2, r3
 1453              		.loc 1 576 30
 1454 00ca 3B68     		ldr	r3, [r7]
 1455 00cc A3F80A21 		strh	r2, [r3, #266]	@ movhi
 577:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     dev_info->OperationsSupported_len = PTP_GetArray16((uint16_t *)(void *)&dev_info->OperationsSup
 1456              		.loc 1 577 76
 1457 00d0 3B68     		ldr	r3, [r7]
 1458 00d2 03F58870 		add	r0, r3, #272
 1459              		.loc 1 577 41
 1460 00d6 FB68     		ldr	r3, [r7, #12]
 1461 00d8 0A33     		adds	r3, r3, #10
 1462 00da 1A46     		mov	r2, r3
 1463 00dc 3969     		ldr	r1, [r7, #16]
 1464 00de FFF7FEFF 		bl	PTP_GetArray16
 1465 00e2 0246     		mov	r2, r0
 1466              		.loc 1 577 39
 1467 00e4 3B68     		ldr	r3, [r7]
 1468 00e6 C3F80C21 		str	r2, [r3, #268]
 578:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                                        data, PTP_di_OperationsSupported + totallen)
 579:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 580:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     totallen = totallen + dev_info->OperationsSupported_len * sizeof(uint16_t) + sizeof(uint32_t);
 1469              		.loc 1 580 35
 1470 00ea 3B68     		ldr	r3, [r7]
 1471 00ec D3F80C31 		ldr	r3, [r3, #268]
 1472              		.loc 1 580 61
 1473 00f0 5A00     		lsls	r2, r3, #1
 1474              		.loc 1 580 25
 1475 00f2 FB68     		ldr	r3, [r7, #12]
 1476 00f4 1344     		add	r3, r3, r2
 1477              		.loc 1 580 14
 1478 00f6 0433     		adds	r3, r3, #4
 1479 00f8 FB60     		str	r3, [r7, #12]
 581:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     dev_info->EventsSupported_len = PTP_GetArray16((uint16_t *)(void *)&dev_info->EventsSupported,
 1480              		.loc 1 581 72
 1481 00fa 3B68     		ldr	r3, [r7]
 1482 00fc 03F5EE70 		add	r0, r3, #476
 1483              		.loc 1 581 37
 1484 0100 FB68     		ldr	r3, [r7, #12]
 1485 0102 0A33     		adds	r3, r3, #10
 1486 0104 1A46     		mov	r2, r3
 1487 0106 3969     		ldr	r1, [r7, #16]
 1488 0108 FFF7FEFF 		bl	PTP_GetArray16
 1489 010c 0246     		mov	r2, r0
ARM GAS  /tmp/ccH7Wnit.s 			page 38


 1490              		.loc 1 581 35
 1491 010e 3B68     		ldr	r3, [r7]
 1492 0110 C3F8D821 		str	r2, [r3, #472]
 582:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                                    data, PTP_di_OperationsSupported + totallen);
 583:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 584:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     totallen = totallen + dev_info->EventsSupported_len * sizeof(uint16_t) + sizeof(uint32_t);
 1493              		.loc 1 584 35
 1494 0114 3B68     		ldr	r3, [r7]
 1495 0116 D3F8D831 		ldr	r3, [r3, #472]
 1496              		.loc 1 584 57
 1497 011a 5A00     		lsls	r2, r3, #1
 1498              		.loc 1 584 25
 1499 011c FB68     		ldr	r3, [r7, #12]
 1500 011e 1344     		add	r3, r3, r2
 1501              		.loc 1 584 14
 1502 0120 0433     		adds	r3, r3, #4
 1503 0122 FB60     		str	r3, [r7, #12]
 585:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     dev_info->DevicePropertiesSupported_len = PTP_GetArray16((uint16_t *)(void *)&dev_info->DeviceP
 1504              		.loc 1 585 82
 1505 0124 3B68     		ldr	r3, [r7]
 1506 0126 03F52A70 		add	r0, r3, #680
 1507              		.loc 1 585 47
 1508 012a FB68     		ldr	r3, [r7, #12]
 1509 012c 0A33     		adds	r3, r3, #10
 1510 012e 1A46     		mov	r2, r3
 1511 0130 3969     		ldr	r1, [r7, #16]
 1512 0132 FFF7FEFF 		bl	PTP_GetArray16
 1513 0136 0246     		mov	r2, r0
 1514              		.loc 1 585 45
 1515 0138 3B68     		ldr	r3, [r7]
 1516 013a C3F8A422 		str	r2, [r3, #676]
 586:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                                              data, PTP_di_OperationsSupported + tot
 587:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 588:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     totallen = totallen + dev_info->DevicePropertiesSupported_len * sizeof(uint16_t) + sizeof(uint3
 1517              		.loc 1 588 35
 1518 013e 3B68     		ldr	r3, [r7]
 1519 0140 D3F8A432 		ldr	r3, [r3, #676]
 1520              		.loc 1 588 67
 1521 0144 5A00     		lsls	r2, r3, #1
 1522              		.loc 1 588 25
 1523 0146 FB68     		ldr	r3, [r7, #12]
 1524 0148 1344     		add	r3, r3, r2
 1525              		.loc 1 588 14
 1526 014a 0433     		adds	r3, r3, #4
 1527 014c FB60     		str	r3, [r7, #12]
 589:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 590:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     dev_info->CaptureFormats_len = PTP_GetArray16((uint16_t *)(void *)&dev_info->CaptureFormats,
 1528              		.loc 1 590 71
 1529 014e 3B68     		ldr	r3, [r7]
 1530 0150 03F55D70 		add	r0, r3, #884
 1531              		.loc 1 590 36
 1532 0154 FB68     		ldr	r3, [r7, #12]
 1533 0156 0A33     		adds	r3, r3, #10
 1534 0158 1A46     		mov	r2, r3
 1535 015a 3969     		ldr	r1, [r7, #16]
 1536 015c FFF7FEFF 		bl	PTP_GetArray16
 1537 0160 0246     		mov	r2, r0
ARM GAS  /tmp/ccH7Wnit.s 			page 39


 1538              		.loc 1 590 34
 1539 0162 3B68     		ldr	r3, [r7]
 1540 0164 C3F87023 		str	r2, [r3, #880]
 591:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                                   data, PTP_di_OperationsSupported + totallen);
 592:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 593:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     totallen = totallen + dev_info->CaptureFormats_len * sizeof(uint16_t) + sizeof(uint32_t);
 1541              		.loc 1 593 35
 1542 0168 3B68     		ldr	r3, [r7]
 1543 016a D3F87033 		ldr	r3, [r3, #880]
 1544              		.loc 1 593 56
 1545 016e 5A00     		lsls	r2, r3, #1
 1546              		.loc 1 593 25
 1547 0170 FB68     		ldr	r3, [r7, #12]
 1548 0172 1344     		add	r3, r3, r2
 1549              		.loc 1 593 14
 1550 0174 0433     		adds	r3, r3, #4
 1551 0176 FB60     		str	r3, [r7, #12]
 594:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     dev_info->ImageFormats_len =  PTP_GetArray16((uint16_t *)(void *)&dev_info->ImageFormats,
 1552              		.loc 1 594 70
 1553 0178 3B68     		ldr	r3, [r7]
 1554 017a 03F58860 		add	r0, r3, #1088
 1555              		.loc 1 594 35
 1556 017e FB68     		ldr	r3, [r7, #12]
 1557 0180 0A33     		adds	r3, r3, #10
 1558 0182 1A46     		mov	r2, r3
 1559 0184 3969     		ldr	r1, [r7, #16]
 1560 0186 FFF7FEFF 		bl	PTP_GetArray16
 1561 018a 0246     		mov	r2, r0
 1562              		.loc 1 594 32
 1563 018c 3B68     		ldr	r3, [r7]
 1564 018e C3F83C24 		str	r2, [r3, #1084]
 595:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                                  data, PTP_di_OperationsSupported + totallen);
 596:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 597:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     totallen = totallen + dev_info->ImageFormats_len * sizeof(uint16_t) + sizeof(uint32_t);
 1565              		.loc 1 597 35
 1566 0192 3B68     		ldr	r3, [r7]
 1567 0194 D3F83C34 		ldr	r3, [r3, #1084]
 1568              		.loc 1 597 54
 1569 0198 5A00     		lsls	r2, r3, #1
 1570              		.loc 1 597 25
 1571 019a FB68     		ldr	r3, [r7, #12]
 1572 019c 1344     		add	r3, r3, r2
 1573              		.loc 1 597 14
 1574 019e 0433     		adds	r3, r3, #4
 1575 01a0 FB60     		str	r3, [r7, #12]
 598:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     PTP_GetString(dev_info->Manufacturer, &data[PTP_di_OperationsSupported + totallen], &len);
 1576              		.loc 1 598 27
 1577 01a2 3B68     		ldr	r3, [r7]
 1578 01a4 03F5A160 		add	r0, r3, #1288
 1579              		.loc 1 598 76
 1580 01a8 FB68     		ldr	r3, [r7, #12]
 1581 01aa 0A33     		adds	r3, r3, #10
 1582              		.loc 1 598 5
 1583 01ac 3A69     		ldr	r2, [r7, #16]
 1584 01ae 1344     		add	r3, r3, r2
 1585 01b0 07F10A02 		add	r2, r7, #10
 1586 01b4 1946     		mov	r1, r3
ARM GAS  /tmp/ccH7Wnit.s 			page 40


 1587 01b6 FFF7FEFF 		bl	PTP_GetString
 599:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 600:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     totallen += len * 2U + 1U;
 1588              		.loc 1 600 14
 1589 01ba 7B89     		ldrh	r3, [r7, #10]
 1590              		.loc 1 600 21
 1591 01bc 5A00     		lsls	r2, r3, #1
 1592              		.loc 1 600 14
 1593 01be FB68     		ldr	r3, [r7, #12]
 1594 01c0 1344     		add	r3, r3, r2
 1595 01c2 0133     		adds	r3, r3, #1
 1596 01c4 FB60     		str	r3, [r7, #12]
 601:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     PTP_GetString(dev_info->Model, &data[PTP_di_OperationsSupported + totallen], &len);
 1597              		.loc 1 601 27
 1598 01c6 3B68     		ldr	r3, [r7]
 1599 01c8 03F20760 		addw	r0, r3, #1543
 1600              		.loc 1 601 69
 1601 01cc FB68     		ldr	r3, [r7, #12]
 1602 01ce 0A33     		adds	r3, r3, #10
 1603              		.loc 1 601 5
 1604 01d0 3A69     		ldr	r2, [r7, #16]
 1605 01d2 1344     		add	r3, r3, r2
 1606 01d4 07F10A02 		add	r2, r7, #10
 1607 01d8 1946     		mov	r1, r3
 1608 01da FFF7FEFF 		bl	PTP_GetString
 602:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 603:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     totallen += len * 2U + 1U;
 1609              		.loc 1 603 14
 1610 01de 7B89     		ldrh	r3, [r7, #10]
 1611              		.loc 1 603 21
 1612 01e0 5A00     		lsls	r2, r3, #1
 1613              		.loc 1 603 14
 1614 01e2 FB68     		ldr	r3, [r7, #12]
 1615 01e4 1344     		add	r3, r3, r2
 1616 01e6 0133     		adds	r3, r3, #1
 1617 01e8 FB60     		str	r3, [r7, #12]
 604:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     PTP_GetString(dev_info->DeviceVersion, &data[PTP_di_OperationsSupported + totallen], &len);
 1618              		.loc 1 604 27
 1619 01ea 3B68     		ldr	r3, [r7]
 1620 01ec 03F20670 		addw	r0, r3, #1798
 1621              		.loc 1 604 77
 1622 01f0 FB68     		ldr	r3, [r7, #12]
 1623 01f2 0A33     		adds	r3, r3, #10
 1624              		.loc 1 604 5
 1625 01f4 3A69     		ldr	r2, [r7, #16]
 1626 01f6 1344     		add	r3, r3, r2
 1627 01f8 07F10A02 		add	r2, r7, #10
 1628 01fc 1946     		mov	r1, r3
 1629 01fe FFF7FEFF 		bl	PTP_GetString
 605:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 606:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     totallen += len * 2U + 1U;
 1630              		.loc 1 606 14
 1631 0202 7B89     		ldrh	r3, [r7, #10]
 1632              		.loc 1 606 21
 1633 0204 5A00     		lsls	r2, r3, #1
 1634              		.loc 1 606 14
 1635 0206 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccH7Wnit.s 			page 41


 1636 0208 1344     		add	r3, r3, r2
 1637 020a 0133     		adds	r3, r3, #1
 1638 020c FB60     		str	r3, [r7, #12]
 607:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     PTP_GetString(dev_info->SerialNumber, &data[PTP_di_OperationsSupported + totallen], &len);
 1639              		.loc 1 607 27
 1640 020e 3B68     		ldr	r3, [r7]
 1641 0210 03F60500 		addw	r0, r3, #2053
 1642              		.loc 1 607 76
 1643 0214 FB68     		ldr	r3, [r7, #12]
 1644 0216 0A33     		adds	r3, r3, #10
 1645              		.loc 1 607 5
 1646 0218 3A69     		ldr	r2, [r7, #16]
 1647 021a 1344     		add	r3, r3, r2
 1648 021c 07F10A02 		add	r2, r7, #10
 1649 0220 1946     		mov	r1, r3
 1650 0222 FFF7FEFF 		bl	PTP_GetString
 1651              	.L65:
 608:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 609:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 1652              		.loc 1 609 1
 1653 0226 00BF     		nop
 1654 0228 1837     		adds	r7, r7, #24
 1655              	.LCFI30:
 1656              		.cfi_def_cfa_offset 8
 1657 022a BD46     		mov	sp, r7
 1658              	.LCFI31:
 1659              		.cfi_def_cfa_register 13
 1660              		@ sp needed
 1661 022c 80BD     		pop	{r7, pc}
 1662              		.cfi_endproc
 1663              	.LFE343:
 1665              		.section	.text.PTP_GetStorageIDs,"ax",%progbits
 1666              		.align	1
 1667              		.syntax unified
 1668              		.thumb
 1669              		.thumb_func
 1670              		.fpu fpv5-d16
 1672              	PTP_GetStorageIDs:
 1673              	.LFB344:
 610:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 611:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 612:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  PTP_GetStorageIDs
 613:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets Storage Ids and fills stor_ids structure.
 614:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 615:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  stor_ids: Storage IDsstructure
 616:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 617:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 618:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetStorageIDs(USBH_HandleTypeDef *phost, PTP_StorageIDsTypedef *stor_ids)
 619:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 1674              		.loc 1 619 1
 1675              		.cfi_startproc
 1676              		@ args = 0, pretend = 0, frame = 16
 1677              		@ frame_needed = 1, uses_anonymous_args = 0
 1678 0000 80B5     		push	{r7, lr}
 1679              	.LCFI32:
 1680              		.cfi_def_cfa_offset 8
 1681              		.cfi_offset 7, -8
ARM GAS  /tmp/ccH7Wnit.s 			page 42


 1682              		.cfi_offset 14, -4
 1683 0002 84B0     		sub	sp, sp, #16
 1684              	.LCFI33:
 1685              		.cfi_def_cfa_offset 24
 1686 0004 00AF     		add	r7, sp, #0
 1687              	.LCFI34:
 1688              		.cfi_def_cfa_register 7
 1689 0006 7860     		str	r0, [r7, #4]
 1690 0008 3960     		str	r1, [r7]
 620:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 1691              		.loc 1 620 64
 1692 000a 7B68     		ldr	r3, [r7, #4]
 1693 000c D3F87C34 		ldr	r3, [r3, #1148]
 1694              		.loc 1 620 25
 1695 0010 DB69     		ldr	r3, [r3, #28]
 1696 0012 FB60     		str	r3, [r7, #12]
 621:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint8_t *data = MTP_Handle->ptp.data_container.payload.data;
 1697              		.loc 1 621 12
 1698 0014 FA68     		ldr	r2, [r7, #12]
 1699 0016 41F69053 		movw	r3, #7568
 1700 001a 1344     		add	r3, r3, r2
 1701 001c BB60     		str	r3, [r7, #8]
 622:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 623:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   stor_ids->n = PTP_GetArray32(stor_ids->Storage, data, 0U);
 1702              		.loc 1 623 40
 1703 001e 3B68     		ldr	r3, [r7]
 1704 0020 0433     		adds	r3, r3, #4
 1705              		.loc 1 623 17
 1706 0022 0022     		movs	r2, #0
 1707 0024 B968     		ldr	r1, [r7, #8]
 1708 0026 1846     		mov	r0, r3
 1709 0028 FFF7FEFF 		bl	PTP_GetArray32
 1710 002c 0246     		mov	r2, r0
 1711              		.loc 1 623 15
 1712 002e 3B68     		ldr	r3, [r7]
 1713 0030 1A60     		str	r2, [r3]
 624:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 1714              		.loc 1 624 1
 1715 0032 00BF     		nop
 1716 0034 1037     		adds	r7, r7, #16
 1717              	.LCFI35:
 1718              		.cfi_def_cfa_offset 8
 1719 0036 BD46     		mov	sp, r7
 1720              	.LCFI36:
 1721              		.cfi_def_cfa_register 13
 1722              		@ sp needed
 1723 0038 80BD     		pop	{r7, pc}
 1724              		.cfi_endproc
 1725              	.LFE344:
 1727              		.section	.text.PTP_GetStorageInfo,"ax",%progbits
 1728              		.align	1
 1729              		.syntax unified
 1730              		.thumb
 1731              		.thumb_func
 1732              		.fpu fpv5-d16
 1734              	PTP_GetStorageInfo:
 1735              	.LFB345:
ARM GAS  /tmp/ccH7Wnit.s 			page 43


 625:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 626:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 627:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 628:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  PTP_GetStorageInfo
 629:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets Storage Info and fills stor_info structure.
 630:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 631:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  stor_ids: Storage IDsstructure
 632:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 633:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 634:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetStorageInfo(USBH_HandleTypeDef *phost, uint32_t storage_id, PTP_StorageInfoTyped
 635:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 1736              		.loc 1 635 1
 1737              		.cfi_startproc
 1738              		@ args = 0, pretend = 0, frame = 144
 1739              		@ frame_needed = 1, uses_anonymous_args = 0
 1740 0000 2DE9B04F 		push	{r4, r5, r7, r8, r9, r10, fp, lr}
 1741              	.LCFI37:
 1742              		.cfi_def_cfa_offset 32
 1743              		.cfi_offset 4, -32
 1744              		.cfi_offset 5, -28
 1745              		.cfi_offset 7, -24
 1746              		.cfi_offset 8, -20
 1747              		.cfi_offset 9, -16
 1748              		.cfi_offset 10, -12
 1749              		.cfi_offset 11, -8
 1750              		.cfi_offset 14, -4
 1751 0004 A4B0     		sub	sp, sp, #144
 1752              	.LCFI38:
 1753              		.cfi_def_cfa_offset 176
 1754 0006 00AF     		add	r7, sp, #0
 1755              	.LCFI39:
 1756              		.cfi_def_cfa_register 7
 1757 0008 F867     		str	r0, [r7, #124]
 1758 000a B967     		str	r1, [r7, #120]
 1759 000c 7A67     		str	r2, [r7, #116]
 636:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   /* Prevent unused argument(s) compilation warning */
 637:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   UNUSED(storage_id);
 638:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 639:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 1760              		.loc 1 639 64
 1761 000e FB6F     		ldr	r3, [r7, #124]
 1762 0010 D3F87C34 		ldr	r3, [r3, #1148]
 1763              		.loc 1 639 25
 1764 0014 DB69     		ldr	r3, [r3, #28]
 1765 0016 C7F88C30 		str	r3, [r7, #140]
 640:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint8_t *data = MTP_Handle->ptp.data_container.payload.data;
 1766              		.loc 1 640 12
 1767 001a D7F88C20 		ldr	r2, [r7, #140]
 1768 001e 41F69053 		movw	r3, #7568
 1769 0022 1344     		add	r3, r3, r2
 1770 0024 C7F88830 		str	r3, [r7, #136]
 641:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint16_t len;
 642:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 643:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   stor_info->StorageType = LE16(&data[PTP_si_StorageType]);
 1771              		.loc 1 643 28
 1772 0028 D7F88830 		ldr	r3, [r7, #136]
 1773 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccH7Wnit.s 			page 44


 1774 002e 9AB2     		uxth	r2, r3
 1775 0030 D7F88830 		ldr	r3, [r7, #136]
 1776 0034 0133     		adds	r3, r3, #1
 1777 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1778 0038 9BB2     		uxth	r3, r3
 1779 003a 1B02     		lsls	r3, r3, #8
 1780 003c 9BB2     		uxth	r3, r3
 1781 003e 1343     		orrs	r3, r3, r2
 1782 0040 9BB2     		uxth	r3, r3
 1783              		.loc 1 643 26
 1784 0042 7A6F     		ldr	r2, [r7, #116]
 1785 0044 1380     		strh	r3, [r2]	@ movhi
 644:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   stor_info->FilesystemType = LE16(&data[PTP_si_FilesystemType]);
 1786              		.loc 1 644 31
 1787 0046 D7F88830 		ldr	r3, [r7, #136]
 1788 004a 0233     		adds	r3, r3, #2
 1789 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1790 004e 9AB2     		uxth	r2, r3
 1791 0050 D7F88830 		ldr	r3, [r7, #136]
 1792 0054 0333     		adds	r3, r3, #3
 1793 0056 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1794 0058 9BB2     		uxth	r3, r3
 1795 005a 1B02     		lsls	r3, r3, #8
 1796 005c 9BB2     		uxth	r3, r3
 1797 005e 1343     		orrs	r3, r3, r2
 1798 0060 9BB2     		uxth	r3, r3
 1799              		.loc 1 644 29
 1800 0062 7A6F     		ldr	r2, [r7, #116]
 1801 0064 5380     		strh	r3, [r2, #2]	@ movhi
 645:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   stor_info->AccessCapability = LE16(&data[PTP_si_AccessCapability]);
 1802              		.loc 1 645 33
 1803 0066 D7F88830 		ldr	r3, [r7, #136]
 1804 006a 0433     		adds	r3, r3, #4
 1805 006c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1806 006e 9AB2     		uxth	r2, r3
 1807 0070 D7F88830 		ldr	r3, [r7, #136]
 1808 0074 0533     		adds	r3, r3, #5
 1809 0076 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1810 0078 9BB2     		uxth	r3, r3
 1811 007a 1B02     		lsls	r3, r3, #8
 1812 007c 9BB2     		uxth	r3, r3
 1813 007e 1343     		orrs	r3, r3, r2
 1814 0080 9BB2     		uxth	r3, r3
 1815              		.loc 1 645 31
 1816 0082 7A6F     		ldr	r2, [r7, #116]
 1817 0084 9380     		strh	r3, [r2, #4]	@ movhi
 646:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   stor_info->MaxCapability = LE64(&data[PTP_si_MaxCapability]);
 1818              		.loc 1 646 30
 1819 0086 D7F88830 		ldr	r3, [r7, #136]
 1820 008a 0633     		adds	r3, r3, #6
 1821 008c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1822 008e DCB2     		uxtb	r4, r3
 1823 0090 4FF00005 		mov	r5, #0
 1824 0094 D7F88830 		ldr	r3, [r7, #136]
 1825 0098 0733     		adds	r3, r3, #7
 1826 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1827 009c DAB2     		uxtb	r2, r3
ARM GAS  /tmp/ccH7Wnit.s 			page 45


 1828 009e 4FF00003 		mov	r3, #0
 1829 00a2 4FF00000 		mov	r0, #0
 1830 00a6 4FF00001 		mov	r1, #0
 1831 00aa 1902     		lsls	r1, r3, #8
 1832 00ac 41EA1261 		orr	r1, r1, r2, lsr #24
 1833 00b0 1002     		lsls	r0, r2, #8
 1834 00b2 44EA000A 		orr	r10, r4, r0
 1835 00b6 45EA010B 		orr	fp, r5, r1
 1836 00ba D7F88830 		ldr	r3, [r7, #136]
 1837 00be 0833     		adds	r3, r3, #8
 1838 00c0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1839 00c2 DAB2     		uxtb	r2, r3
 1840 00c4 4FF00003 		mov	r3, #0
 1841 00c8 4FF00000 		mov	r0, #0
 1842 00cc 4FF00001 		mov	r1, #0
 1843 00d0 1904     		lsls	r1, r3, #16
 1844 00d2 41EA1241 		orr	r1, r1, r2, lsr #16
 1845 00d6 1004     		lsls	r0, r2, #16
 1846 00d8 4AEA0003 		orr	r3, r10, r0
 1847 00dc BB66     		str	r3, [r7, #104]
 1848 00de 4BEA0103 		orr	r3, fp, r1
 1849 00e2 FB66     		str	r3, [r7, #108]
 1850 00e4 D7F88830 		ldr	r3, [r7, #136]
 1851 00e8 0933     		adds	r3, r3, #9
 1852 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1853 00ec DAB2     		uxtb	r2, r3
 1854 00ee 4FF00003 		mov	r3, #0
 1855 00f2 4FEA1229 		lsr	r9, r2, #8
 1856 00f6 4FEA0268 		lsl	r8, r2, #24
 1857 00fa D7E91A12 		ldrd	r1, [r7, #104]
 1858 00fe 0B46     		mov	r3, r1
 1859 0100 43EA0803 		orr	r3, r3, r8
 1860 0104 3B66     		str	r3, [r7, #96]
 1861 0106 1346     		mov	r3, r2
 1862 0108 43EA0903 		orr	r3, r3, r9
 1863 010c 7B66     		str	r3, [r7, #100]
 1864 010e D7F88830 		ldr	r3, [r7, #136]
 1865 0112 0A33     		adds	r3, r3, #10
 1866 0114 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1867 0116 DAB2     		uxtb	r2, r3
 1868 0118 4FF00003 		mov	r3, #0
 1869 011c 4FF00000 		mov	r0, #0
 1870 0120 4FF00001 		mov	r1, #0
 1871 0124 1100     		movs	r1, r2
 1872 0126 0020     		movs	r0, #0
 1873 0128 D7E91845 		ldrd	r4, [r7, #96]
 1874 012c 2346     		mov	r3, r4
 1875 012e 0343     		orrs	r3, r3, r0
 1876 0130 BB65     		str	r3, [r7, #88]
 1877 0132 2B46     		mov	r3, r5
 1878 0134 0B43     		orrs	r3, r3, r1
 1879 0136 FB65     		str	r3, [r7, #92]
 1880 0138 D7F88830 		ldr	r3, [r7, #136]
 1881 013c 0B33     		adds	r3, r3, #11
 1882 013e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1883 0140 DAB2     		uxtb	r2, r3
 1884 0142 4FF00003 		mov	r3, #0
ARM GAS  /tmp/ccH7Wnit.s 			page 46


 1885 0146 4FF00000 		mov	r0, #0
 1886 014a 4FF00001 		mov	r1, #0
 1887 014e 1102     		lsls	r1, r2, #8
 1888 0150 0020     		movs	r0, #0
 1889 0152 D7E91645 		ldrd	r4, [r7, #88]
 1890 0156 2346     		mov	r3, r4
 1891 0158 0343     		orrs	r3, r3, r0
 1892 015a 3B65     		str	r3, [r7, #80]
 1893 015c 2B46     		mov	r3, r5
 1894 015e 0B43     		orrs	r3, r3, r1
 1895 0160 7B65     		str	r3, [r7, #84]
 1896 0162 D7F88830 		ldr	r3, [r7, #136]
 1897 0166 0C33     		adds	r3, r3, #12
 1898 0168 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1899 016a DAB2     		uxtb	r2, r3
 1900 016c 4FF00003 		mov	r3, #0
 1901 0170 4FF00000 		mov	r0, #0
 1902 0174 4FF00001 		mov	r1, #0
 1903 0178 1104     		lsls	r1, r2, #16
 1904 017a 0020     		movs	r0, #0
 1905 017c D7E91445 		ldrd	r4, [r7, #80]
 1906 0180 2346     		mov	r3, r4
 1907 0182 0343     		orrs	r3, r3, r0
 1908 0184 BB64     		str	r3, [r7, #72]
 1909 0186 2B46     		mov	r3, r5
 1910 0188 0B43     		orrs	r3, r3, r1
 1911 018a FB64     		str	r3, [r7, #76]
 1912 018c D7F88830 		ldr	r3, [r7, #136]
 1913 0190 0D33     		adds	r3, r3, #13
 1914 0192 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1915 0194 DAB2     		uxtb	r2, r3
 1916 0196 4FF00003 		mov	r3, #0
 1917 019a 4FF00000 		mov	r0, #0
 1918 019e 4FF00001 		mov	r1, #0
 1919 01a2 1106     		lsls	r1, r2, #24
 1920 01a4 0020     		movs	r0, #0
 1921 01a6 D7E91245 		ldrd	r4, [r7, #72]
 1922 01aa 2346     		mov	r3, r4
 1923 01ac 0343     		orrs	r3, r3, r0
 1924 01ae 3B64     		str	r3, [r7, #64]
 1925 01b0 2B46     		mov	r3, r5
 1926 01b2 0B43     		orrs	r3, r3, r1
 1927 01b4 7B64     		str	r3, [r7, #68]
 1928              		.loc 1 646 28
 1929 01b6 7B6F     		ldr	r3, [r7, #116]
 1930 01b8 D7E91012 		ldrd	r1, [r7, #64]
 1931 01bc C3E90212 		strd	r1, [r3, #8]
 647:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   stor_info->FreeSpaceInBytes = LE64(&data[PTP_si_FreeSpaceInBytes]);
 1932              		.loc 1 647 33
 1933 01c0 D7F88830 		ldr	r3, [r7, #136]
 1934 01c4 0E33     		adds	r3, r3, #14
 1935 01c6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1936 01c8 DCB2     		uxtb	r4, r3
 1937 01ca 4FF00005 		mov	r5, #0
 1938 01ce D7F88830 		ldr	r3, [r7, #136]
 1939 01d2 0F33     		adds	r3, r3, #15
 1940 01d4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccH7Wnit.s 			page 47


 1941 01d6 DAB2     		uxtb	r2, r3
 1942 01d8 4FF00003 		mov	r3, #0
 1943 01dc 4FF00000 		mov	r0, #0
 1944 01e0 4FF00001 		mov	r1, #0
 1945 01e4 1902     		lsls	r1, r3, #8
 1946 01e6 41EA1261 		orr	r1, r1, r2, lsr #24
 1947 01ea 1002     		lsls	r0, r2, #8
 1948 01ec 44EA0003 		orr	r3, r4, r0
 1949 01f0 BB63     		str	r3, [r7, #56]
 1950 01f2 45EA0103 		orr	r3, r5, r1
 1951 01f6 FB63     		str	r3, [r7, #60]
 1952 01f8 D7F88830 		ldr	r3, [r7, #136]
 1953 01fc 1033     		adds	r3, r3, #16
 1954 01fe 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1955 0200 DAB2     		uxtb	r2, r3
 1956 0202 4FF00003 		mov	r3, #0
 1957 0206 4FF00000 		mov	r0, #0
 1958 020a 4FF00001 		mov	r1, #0
 1959 020e 1904     		lsls	r1, r3, #16
 1960 0210 41EA1241 		orr	r1, r1, r2, lsr #16
 1961 0214 1004     		lsls	r0, r2, #16
 1962 0216 D7E90E45 		ldrd	r4, [r7, #56]
 1963 021a 2346     		mov	r3, r4
 1964 021c 0343     		orrs	r3, r3, r0
 1965 021e 3B63     		str	r3, [r7, #48]
 1966 0220 2B46     		mov	r3, r5
 1967 0222 0B43     		orrs	r3, r3, r1
 1968 0224 7B63     		str	r3, [r7, #52]
 1969 0226 D7F88830 		ldr	r3, [r7, #136]
 1970 022a 1133     		adds	r3, r3, #17
 1971 022c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1972 022e DAB2     		uxtb	r2, r3
 1973 0230 4FF00003 		mov	r3, #0
 1974 0234 110A     		lsrs	r1, r2, #8
 1975 0236 F962     		str	r1, [r7, #44]
 1976 0238 1306     		lsls	r3, r2, #24
 1977 023a BB62     		str	r3, [r7, #40]
 1978 023c D7E90C45 		ldrd	r4, [r7, #48]
 1979 0240 2346     		mov	r3, r4
 1980 0242 D7E90A01 		ldrd	r0, [r7, #40]
 1981 0246 0246     		mov	r2, r0
 1982 0248 1343     		orrs	r3, r3, r2
 1983 024a 3B62     		str	r3, [r7, #32]
 1984 024c 2B46     		mov	r3, r5
 1985 024e 0A46     		mov	r2, r1
 1986 0250 1343     		orrs	r3, r3, r2
 1987 0252 7B62     		str	r3, [r7, #36]
 1988 0254 D7F88830 		ldr	r3, [r7, #136]
 1989 0258 1233     		adds	r3, r3, #18
 1990 025a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1991 025c D8B2     		uxtb	r0, r3
 1992 025e 4FF00001 		mov	r1, #0
 1993 0262 4FF00002 		mov	r2, #0
 1994 0266 4FF00003 		mov	r3, #0
 1995 026a 0300     		movs	r3, r0
 1996 026c 0022     		movs	r2, #0
 1997 026e D7E90845 		ldrd	r4, [r7, #32]
ARM GAS  /tmp/ccH7Wnit.s 			page 48


 1998 0272 2146     		mov	r1, r4
 1999 0274 1143     		orrs	r1, r1, r2
 2000 0276 B961     		str	r1, [r7, #24]
 2001 0278 2946     		mov	r1, r5
 2002 027a 1943     		orrs	r1, r1, r3
 2003 027c F961     		str	r1, [r7, #28]
 2004 027e D7F88830 		ldr	r3, [r7, #136]
 2005 0282 1333     		adds	r3, r3, #19
 2006 0284 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2007 0286 D8B2     		uxtb	r0, r3
 2008 0288 4FF00001 		mov	r1, #0
 2009 028c 4FF00002 		mov	r2, #0
 2010 0290 4FF00003 		mov	r3, #0
 2011 0294 0302     		lsls	r3, r0, #8
 2012 0296 0022     		movs	r2, #0
 2013 0298 D7E90645 		ldrd	r4, [r7, #24]
 2014 029c 2146     		mov	r1, r4
 2015 029e 1143     		orrs	r1, r1, r2
 2016 02a0 3961     		str	r1, [r7, #16]
 2017 02a2 2946     		mov	r1, r5
 2018 02a4 1943     		orrs	r1, r1, r3
 2019 02a6 7961     		str	r1, [r7, #20]
 2020 02a8 D7F88830 		ldr	r3, [r7, #136]
 2021 02ac 1433     		adds	r3, r3, #20
 2022 02ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2023 02b0 D8B2     		uxtb	r0, r3
 2024 02b2 4FF00001 		mov	r1, #0
 2025 02b6 4FF00002 		mov	r2, #0
 2026 02ba 4FF00003 		mov	r3, #0
 2027 02be 0304     		lsls	r3, r0, #16
 2028 02c0 0022     		movs	r2, #0
 2029 02c2 D7E90445 		ldrd	r4, [r7, #16]
 2030 02c6 2146     		mov	r1, r4
 2031 02c8 1143     		orrs	r1, r1, r2
 2032 02ca B960     		str	r1, [r7, #8]
 2033 02cc 2946     		mov	r1, r5
 2034 02ce 1943     		orrs	r1, r1, r3
 2035 02d0 F960     		str	r1, [r7, #12]
 2036 02d2 D7F88830 		ldr	r3, [r7, #136]
 2037 02d6 1533     		adds	r3, r3, #21
 2038 02d8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2039 02da D8B2     		uxtb	r0, r3
 2040 02dc 4FF00001 		mov	r1, #0
 2041 02e0 4FF00002 		mov	r2, #0
 2042 02e4 4FF00003 		mov	r3, #0
 2043 02e8 0306     		lsls	r3, r0, #24
 2044 02ea 0022     		movs	r2, #0
 2045 02ec D7E90245 		ldrd	r4, [r7, #8]
 2046 02f0 2146     		mov	r1, r4
 2047 02f2 1143     		orrs	r1, r1, r2
 2048 02f4 3960     		str	r1, [r7]
 2049 02f6 2946     		mov	r1, r5
 2050 02f8 1943     		orrs	r1, r1, r3
 2051 02fa 7960     		str	r1, [r7, #4]
 2052              		.loc 1 647 31
 2053 02fc 7B6F     		ldr	r3, [r7, #116]
 2054 02fe D7E90012 		ldrd	r1, [r7]
ARM GAS  /tmp/ccH7Wnit.s 			page 49


 2055 0302 C3E90412 		strd	r1, [r3, #16]
 648:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   stor_info->FreeSpaceInImages = LE32(&data[PTP_si_FreeSpaceInImages]);
 2056              		.loc 1 648 34
 2057 0306 D7F88830 		ldr	r3, [r7, #136]
 2058 030a 1633     		adds	r3, r3, #22
 2059 030c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2060 030e 1A46     		mov	r2, r3
 2061 0310 D7F88830 		ldr	r3, [r7, #136]
 2062 0314 1733     		adds	r3, r3, #23
 2063 0316 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2064 0318 1B02     		lsls	r3, r3, #8
 2065 031a 1A43     		orrs	r2, r2, r3
 2066 031c D7F88830 		ldr	r3, [r7, #136]
 2067 0320 1833     		adds	r3, r3, #24
 2068 0322 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2069 0324 1B04     		lsls	r3, r3, #16
 2070 0326 1A43     		orrs	r2, r2, r3
 2071 0328 D7F88830 		ldr	r3, [r7, #136]
 2072 032c 1933     		adds	r3, r3, #25
 2073 032e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2074 0330 1B06     		lsls	r3, r3, #24
 2075 0332 1A43     		orrs	r2, r2, r3
 2076              		.loc 1 648 32
 2077 0334 7B6F     		ldr	r3, [r7, #116]
 2078 0336 9A61     		str	r2, [r3, #24]
 649:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 650:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_GetString(stor_info->StorageDescription, &data[PTP_si_StorageDescription], &len);
 2079              		.loc 1 650 26
 2080 0338 7B6F     		ldr	r3, [r7, #116]
 2081 033a 03F11C00 		add	r0, r3, #28
 2082              		.loc 1 650 3
 2083 033e D7F88830 		ldr	r3, [r7, #136]
 2084 0342 1A33     		adds	r3, r3, #26
 2085 0344 07F18602 		add	r2, r7, #134
 2086 0348 1946     		mov	r1, r3
 2087 034a FFF7FEFF 		bl	PTP_GetString
 651:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_GetString(stor_info->VolumeLabel, &data[PTP_si_StorageDescription + len * 2U + 1U], &len);
 2088              		.loc 1 651 26
 2089 034e 7B6F     		ldr	r3, [r7, #116]
 2090 0350 03F21B10 		addw	r0, r3, #283
 2091              		.loc 1 651 46
 2092 0354 B7F88630 		ldrh	r3, [r7, #134]
 2093              		.loc 1 651 79
 2094 0358 5B00     		lsls	r3, r3, #1
 2095              		.loc 1 651 46
 2096 035a 1B33     		adds	r3, r3, #27
 2097              		.loc 1 651 3
 2098 035c D7F88820 		ldr	r2, [r7, #136]
 2099 0360 1344     		add	r3, r3, r2
 2100 0362 07F18602 		add	r2, r7, #134
 2101 0366 1946     		mov	r1, r3
 2102 0368 FFF7FEFF 		bl	PTP_GetString
 652:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 2103              		.loc 1 652 1
 2104 036c 00BF     		nop
 2105 036e 9037     		adds	r7, r7, #144
 2106              	.LCFI40:
ARM GAS  /tmp/ccH7Wnit.s 			page 50


 2107              		.cfi_def_cfa_offset 32
 2108 0370 BD46     		mov	sp, r7
 2109              	.LCFI41:
 2110              		.cfi_def_cfa_register 13
 2111              		@ sp needed
 2112 0372 BDE8B08F 		pop	{r4, r5, r7, r8, r9, r10, fp, pc}
 2113              		.cfi_endproc
 2114              	.LFE345:
 2116              		.section	.text.PTP_GetObjectInfo,"ax",%progbits
 2117              		.align	1
 2118              		.syntax unified
 2119              		.thumb
 2120              		.thumb_func
 2121              		.fpu fpv5-d16
 2123              	PTP_GetObjectInfo:
 2124              	.LFB346:
 653:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 654:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 655:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  PTP_GetObjectInfo
 656:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets objectInfo and fills object_info structure.
 657:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 658:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  object_info: object info structure
 659:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 660:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 661:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetObjectInfo(USBH_HandleTypeDef *phost, PTP_ObjectInfoTypedef *object_info)
 662:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 2125              		.loc 1 662 1
 2126              		.cfi_startproc
 2127              		@ args = 0, pretend = 0, frame = 72
 2128              		@ frame_needed = 1, uses_anonymous_args = 0
 2129 0000 2DE9B04F 		push	{r4, r5, r7, r8, r9, r10, fp, lr}
 2130              	.LCFI42:
 2131              		.cfi_def_cfa_offset 32
 2132              		.cfi_offset 4, -32
 2133              		.cfi_offset 5, -28
 2134              		.cfi_offset 7, -24
 2135              		.cfi_offset 8, -20
 2136              		.cfi_offset 9, -16
 2137              		.cfi_offset 10, -12
 2138              		.cfi_offset 11, -8
 2139              		.cfi_offset 14, -4
 2140 0004 92B0     		sub	sp, sp, #72
 2141              	.LCFI43:
 2142              		.cfi_def_cfa_offset 104
 2143 0006 00AF     		add	r7, sp, #0
 2144              	.LCFI44:
 2145              		.cfi_def_cfa_register 7
 2146 0008 7863     		str	r0, [r7, #52]
 2147 000a 3963     		str	r1, [r7, #48]
 663:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 2148              		.loc 1 663 64
 2149 000c 7B6B     		ldr	r3, [r7, #52]
 2150 000e D3F87C34 		ldr	r3, [r3, #1148]
 2151              		.loc 1 663 25
 2152 0012 DB69     		ldr	r3, [r3, #28]
 2153 0014 3B64     		str	r3, [r7, #64]
 664:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint8_t *data = MTP_Handle->ptp.data_container.payload.data;
ARM GAS  /tmp/ccH7Wnit.s 			page 51


 2154              		.loc 1 664 12
 2155 0016 3A6C     		ldr	r2, [r7, #64]
 2156 0018 41F69053 		movw	r3, #7568
 2157 001c 1344     		add	r3, r3, r2
 2158 001e 7B64     		str	r3, [r7, #68]
 665:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint16_t filenamelen;
 666:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 667:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->StorageID = LE32(&data[PTP_oi_StorageID]);
 2159              		.loc 1 667 28
 2160 0020 7B6C     		ldr	r3, [r7, #68]
 2161 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2162 0024 1A46     		mov	r2, r3
 2163 0026 7B6C     		ldr	r3, [r7, #68]
 2164 0028 0133     		adds	r3, r3, #1
 2165 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2166 002c 1B02     		lsls	r3, r3, #8
 2167 002e 1A43     		orrs	r2, r2, r3
 2168 0030 7B6C     		ldr	r3, [r7, #68]
 2169 0032 0233     		adds	r3, r3, #2
 2170 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2171 0036 1B04     		lsls	r3, r3, #16
 2172 0038 1A43     		orrs	r2, r2, r3
 2173 003a 7B6C     		ldr	r3, [r7, #68]
 2174 003c 0333     		adds	r3, r3, #3
 2175 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2176 0040 1B06     		lsls	r3, r3, #24
 2177 0042 1A43     		orrs	r2, r2, r3
 2178              		.loc 1 667 26
 2179 0044 3B6B     		ldr	r3, [r7, #48]
 2180 0046 1A60     		str	r2, [r3]
 668:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ObjectFormat = LE16(&data[PTP_oi_ObjectFormat]);
 2181              		.loc 1 668 31
 2182 0048 7B6C     		ldr	r3, [r7, #68]
 2183 004a 0433     		adds	r3, r3, #4
 2184 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2185 004e 9AB2     		uxth	r2, r3
 2186 0050 7B6C     		ldr	r3, [r7, #68]
 2187 0052 0533     		adds	r3, r3, #5
 2188 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2189 0056 9BB2     		uxth	r3, r3
 2190 0058 1B02     		lsls	r3, r3, #8
 2191 005a 9BB2     		uxth	r3, r3
 2192 005c 1343     		orrs	r3, r3, r2
 2193 005e 9BB2     		uxth	r3, r3
 2194              		.loc 1 668 29
 2195 0060 3A6B     		ldr	r2, [r7, #48]
 2196 0062 9380     		strh	r3, [r2, #4]	@ movhi
 669:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ProtectionStatus = LE16(&data[PTP_oi_ProtectionStatus]);
 2197              		.loc 1 669 35
 2198 0064 7B6C     		ldr	r3, [r7, #68]
 2199 0066 0633     		adds	r3, r3, #6
 2200 0068 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2201 006a 9AB2     		uxth	r2, r3
 2202 006c 7B6C     		ldr	r3, [r7, #68]
 2203 006e 0733     		adds	r3, r3, #7
 2204 0070 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2205 0072 9BB2     		uxth	r3, r3
ARM GAS  /tmp/ccH7Wnit.s 			page 52


 2206 0074 1B02     		lsls	r3, r3, #8
 2207 0076 9BB2     		uxth	r3, r3
 2208 0078 1343     		orrs	r3, r3, r2
 2209 007a 9BB2     		uxth	r3, r3
 2210              		.loc 1 669 33
 2211 007c 3A6B     		ldr	r2, [r7, #48]
 2212 007e D380     		strh	r3, [r2, #6]	@ movhi
 670:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ObjectCompressedSize = LE64(&data[PTP_oi_ObjectCompressedSize]);
 2213              		.loc 1 670 39
 2214 0080 7B6C     		ldr	r3, [r7, #68]
 2215 0082 0833     		adds	r3, r3, #8
 2216 0084 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2217 0086 DCB2     		uxtb	r4, r3
 2218 0088 4FF00005 		mov	r5, #0
 2219 008c 7B6C     		ldr	r3, [r7, #68]
 2220 008e 0933     		adds	r3, r3, #9
 2221 0090 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2222 0092 DAB2     		uxtb	r2, r3
 2223 0094 4FF00003 		mov	r3, #0
 2224 0098 4FF00000 		mov	r0, #0
 2225 009c 4FF00001 		mov	r1, #0
 2226 00a0 1902     		lsls	r1, r3, #8
 2227 00a2 41EA1261 		orr	r1, r1, r2, lsr #24
 2228 00a6 1002     		lsls	r0, r2, #8
 2229 00a8 44EA0003 		orr	r3, r4, r0
 2230 00ac BB62     		str	r3, [r7, #40]
 2231 00ae 45EA0103 		orr	r3, r5, r1
 2232 00b2 FB62     		str	r3, [r7, #44]
 2233 00b4 7B6C     		ldr	r3, [r7, #68]
 2234 00b6 0A33     		adds	r3, r3, #10
 2235 00b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2236 00ba DAB2     		uxtb	r2, r3
 2237 00bc 4FF00003 		mov	r3, #0
 2238 00c0 4FF00000 		mov	r0, #0
 2239 00c4 4FF00001 		mov	r1, #0
 2240 00c8 1904     		lsls	r1, r3, #16
 2241 00ca 41EA1241 		orr	r1, r1, r2, lsr #16
 2242 00ce 1004     		lsls	r0, r2, #16
 2243 00d0 D7E90A45 		ldrd	r4, [r7, #40]
 2244 00d4 2346     		mov	r3, r4
 2245 00d6 0343     		orrs	r3, r3, r0
 2246 00d8 3B62     		str	r3, [r7, #32]
 2247 00da 2B46     		mov	r3, r5
 2248 00dc 0B43     		orrs	r3, r3, r1
 2249 00de 7B62     		str	r3, [r7, #36]
 2250 00e0 7B6C     		ldr	r3, [r7, #68]
 2251 00e2 0B33     		adds	r3, r3, #11
 2252 00e4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2253 00e6 DAB2     		uxtb	r2, r3
 2254 00e8 4FF00003 		mov	r3, #0
 2255 00ec 110A     		lsrs	r1, r2, #8
 2256 00ee F961     		str	r1, [r7, #28]
 2257 00f0 1306     		lsls	r3, r2, #24
 2258 00f2 BB61     		str	r3, [r7, #24]
 2259 00f4 D7E90845 		ldrd	r4, [r7, #32]
 2260 00f8 2346     		mov	r3, r4
 2261 00fa D7E90601 		ldrd	r0, [r7, #24]
ARM GAS  /tmp/ccH7Wnit.s 			page 53


 2262 00fe 0246     		mov	r2, r0
 2263 0100 1343     		orrs	r3, r3, r2
 2264 0102 3B61     		str	r3, [r7, #16]
 2265 0104 2B46     		mov	r3, r5
 2266 0106 0A46     		mov	r2, r1
 2267 0108 1343     		orrs	r3, r3, r2
 2268 010a 7B61     		str	r3, [r7, #20]
 2269 010c 7B6C     		ldr	r3, [r7, #68]
 2270 010e 0C33     		adds	r3, r3, #12
 2271 0110 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2272 0112 D8B2     		uxtb	r0, r3
 2273 0114 4FF00001 		mov	r1, #0
 2274 0118 4FF00002 		mov	r2, #0
 2275 011c 4FF00003 		mov	r3, #0
 2276 0120 0300     		movs	r3, r0
 2277 0122 0022     		movs	r2, #0
 2278 0124 D7E90445 		ldrd	r4, [r7, #16]
 2279 0128 2146     		mov	r1, r4
 2280 012a 1143     		orrs	r1, r1, r2
 2281 012c B960     		str	r1, [r7, #8]
 2282 012e 2946     		mov	r1, r5
 2283 0130 1943     		orrs	r1, r1, r3
 2284 0132 F960     		str	r1, [r7, #12]
 2285 0134 7B6C     		ldr	r3, [r7, #68]
 2286 0136 0D33     		adds	r3, r3, #13
 2287 0138 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2288 013a D8B2     		uxtb	r0, r3
 2289 013c 4FF00001 		mov	r1, #0
 2290 0140 4FF00002 		mov	r2, #0
 2291 0144 4FF00003 		mov	r3, #0
 2292 0148 0302     		lsls	r3, r0, #8
 2293 014a 0022     		movs	r2, #0
 2294 014c D7E90245 		ldrd	r4, [r7, #8]
 2295 0150 2146     		mov	r1, r4
 2296 0152 41EA020A 		orr	r10, r1, r2
 2297 0156 2946     		mov	r1, r5
 2298 0158 41EA030B 		orr	fp, r1, r3
 2299 015c 7B6C     		ldr	r3, [r7, #68]
 2300 015e 0E33     		adds	r3, r3, #14
 2301 0160 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2302 0162 D8B2     		uxtb	r0, r3
 2303 0164 4FF00001 		mov	r1, #0
 2304 0168 4FF00002 		mov	r2, #0
 2305 016c 4FF00003 		mov	r3, #0
 2306 0170 0304     		lsls	r3, r0, #16
 2307 0172 0022     		movs	r2, #0
 2308 0174 4AEA0208 		orr	r8, r10, r2
 2309 0178 4BEA0309 		orr	r9, fp, r3
 2310 017c 7B6C     		ldr	r3, [r7, #68]
 2311 017e 0F33     		adds	r3, r3, #15
 2312 0180 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2313 0182 D8B2     		uxtb	r0, r3
 2314 0184 4FF00001 		mov	r1, #0
 2315 0188 4FF00002 		mov	r2, #0
 2316 018c 4FF00003 		mov	r3, #0
 2317 0190 0306     		lsls	r3, r0, #24
 2318 0192 0022     		movs	r2, #0
ARM GAS  /tmp/ccH7Wnit.s 			page 54


 2319 0194 48EA0201 		orr	r1, r8, r2
 2320 0198 3960     		str	r1, [r7]
 2321 019a 49EA0303 		orr	r3, r9, r3
 2322 019e 7B60     		str	r3, [r7, #4]
 2323              		.loc 1 670 37
 2324 01a0 3B6B     		ldr	r3, [r7, #48]
 2325 01a2 D7E90012 		ldrd	r1, [r7]
 2326 01a6 C3E90212 		strd	r1, [r3, #8]
 671:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 672:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   /* For Samsung Galaxy */
 673:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   if ((data[PTP_oi_filenamelen] == 0U) && (data[PTP_oi_filenamelen + 4U] != 0U))
 2327              		.loc 1 673 12
 2328 01aa 7B6C     		ldr	r3, [r7, #68]
 2329 01ac 3433     		adds	r3, r3, #52
 2330 01ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2331              		.loc 1 673 6
 2332 01b0 002B     		cmp	r3, #0
 2333 01b2 07D1     		bne	.L69
 2334              		.loc 1 673 48 discriminator 1
 2335 01b4 7B6C     		ldr	r3, [r7, #68]
 2336 01b6 3833     		adds	r3, r3, #56
 2337 01b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2338              		.loc 1 673 40 discriminator 1
 2339 01ba 002B     		cmp	r3, #0
 2340 01bc 02D0     		beq	.L69
 674:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 675:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     data += 4;
 2341              		.loc 1 675 10
 2342 01be 7B6C     		ldr	r3, [r7, #68]
 2343 01c0 0433     		adds	r3, r3, #4
 2344 01c2 7B64     		str	r3, [r7, #68]
 2345              	.L69:
 676:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 677:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ThumbFormat = LE16(&data[PTP_oi_ThumbFormat]);
 2346              		.loc 1 677 30
 2347 01c4 7B6C     		ldr	r3, [r7, #68]
 2348 01c6 0C33     		adds	r3, r3, #12
 2349 01c8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2350 01ca 9AB2     		uxth	r2, r3
 2351 01cc 7B6C     		ldr	r3, [r7, #68]
 2352 01ce 0D33     		adds	r3, r3, #13
 2353 01d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2354 01d2 9BB2     		uxth	r3, r3
 2355 01d4 1B02     		lsls	r3, r3, #8
 2356 01d6 9BB2     		uxth	r3, r3
 2357 01d8 1343     		orrs	r3, r3, r2
 2358 01da 9AB2     		uxth	r2, r3
 2359              		.loc 1 677 28
 2360 01dc 3B6B     		ldr	r3, [r7, #48]
 2361 01de 1A82     		strh	r2, [r3, #16]	@ movhi
 678:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ThumbCompressedSize = LE32(&data[PTP_oi_ThumbCompressedSize]);
 2362              		.loc 1 678 38
 2363 01e0 7B6C     		ldr	r3, [r7, #68]
 2364 01e2 0E33     		adds	r3, r3, #14
 2365 01e4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2366 01e6 1A46     		mov	r2, r3
 2367 01e8 7B6C     		ldr	r3, [r7, #68]
ARM GAS  /tmp/ccH7Wnit.s 			page 55


 2368 01ea 0F33     		adds	r3, r3, #15
 2369 01ec 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2370 01ee 1B02     		lsls	r3, r3, #8
 2371 01f0 1A43     		orrs	r2, r2, r3
 2372 01f2 7B6C     		ldr	r3, [r7, #68]
 2373 01f4 1033     		adds	r3, r3, #16
 2374 01f6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2375 01f8 1B04     		lsls	r3, r3, #16
 2376 01fa 1A43     		orrs	r2, r2, r3
 2377 01fc 7B6C     		ldr	r3, [r7, #68]
 2378 01fe 1133     		adds	r3, r3, #17
 2379 0200 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2380 0202 1B06     		lsls	r3, r3, #24
 2381 0204 1A43     		orrs	r2, r2, r3
 2382              		.loc 1 678 36
 2383 0206 3B6B     		ldr	r3, [r7, #48]
 2384 0208 5A61     		str	r2, [r3, #20]
 679:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ThumbPixWidth = LE32(&data[PTP_oi_ThumbPixWidth]);
 2385              		.loc 1 679 32
 2386 020a 7B6C     		ldr	r3, [r7, #68]
 2387 020c 1233     		adds	r3, r3, #18
 2388 020e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2389 0210 1A46     		mov	r2, r3
 2390 0212 7B6C     		ldr	r3, [r7, #68]
 2391 0214 1333     		adds	r3, r3, #19
 2392 0216 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2393 0218 1B02     		lsls	r3, r3, #8
 2394 021a 1A43     		orrs	r2, r2, r3
 2395 021c 7B6C     		ldr	r3, [r7, #68]
 2396 021e 1433     		adds	r3, r3, #20
 2397 0220 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2398 0222 1B04     		lsls	r3, r3, #16
 2399 0224 1A43     		orrs	r2, r2, r3
 2400 0226 7B6C     		ldr	r3, [r7, #68]
 2401 0228 1533     		adds	r3, r3, #21
 2402 022a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2403 022c 1B06     		lsls	r3, r3, #24
 2404 022e 1A43     		orrs	r2, r2, r3
 2405              		.loc 1 679 30
 2406 0230 3B6B     		ldr	r3, [r7, #48]
 2407 0232 9A61     		str	r2, [r3, #24]
 680:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ThumbPixHeight = LE32(&data[PTP_oi_ThumbPixHeight]);
 2408              		.loc 1 680 33
 2409 0234 7B6C     		ldr	r3, [r7, #68]
 2410 0236 1633     		adds	r3, r3, #22
 2411 0238 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2412 023a 1A46     		mov	r2, r3
 2413 023c 7B6C     		ldr	r3, [r7, #68]
 2414 023e 1733     		adds	r3, r3, #23
 2415 0240 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2416 0242 1B02     		lsls	r3, r3, #8
 2417 0244 1A43     		orrs	r2, r2, r3
 2418 0246 7B6C     		ldr	r3, [r7, #68]
 2419 0248 1833     		adds	r3, r3, #24
 2420 024a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2421 024c 1B04     		lsls	r3, r3, #16
 2422 024e 1A43     		orrs	r2, r2, r3
ARM GAS  /tmp/ccH7Wnit.s 			page 56


 2423 0250 7B6C     		ldr	r3, [r7, #68]
 2424 0252 1933     		adds	r3, r3, #25
 2425 0254 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2426 0256 1B06     		lsls	r3, r3, #24
 2427 0258 1A43     		orrs	r2, r2, r3
 2428              		.loc 1 680 31
 2429 025a 3B6B     		ldr	r3, [r7, #48]
 2430 025c DA61     		str	r2, [r3, #28]
 681:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ImagePixWidth = LE32(&data[PTP_oi_ImagePixWidth]);
 2431              		.loc 1 681 32
 2432 025e 7B6C     		ldr	r3, [r7, #68]
 2433 0260 1A33     		adds	r3, r3, #26
 2434 0262 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2435 0264 1A46     		mov	r2, r3
 2436 0266 7B6C     		ldr	r3, [r7, #68]
 2437 0268 1B33     		adds	r3, r3, #27
 2438 026a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2439 026c 1B02     		lsls	r3, r3, #8
 2440 026e 1A43     		orrs	r2, r2, r3
 2441 0270 7B6C     		ldr	r3, [r7, #68]
 2442 0272 1C33     		adds	r3, r3, #28
 2443 0274 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2444 0276 1B04     		lsls	r3, r3, #16
 2445 0278 1A43     		orrs	r2, r2, r3
 2446 027a 7B6C     		ldr	r3, [r7, #68]
 2447 027c 1D33     		adds	r3, r3, #29
 2448 027e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2449 0280 1B06     		lsls	r3, r3, #24
 2450 0282 1A43     		orrs	r2, r2, r3
 2451              		.loc 1 681 30
 2452 0284 3B6B     		ldr	r3, [r7, #48]
 2453 0286 1A62     		str	r2, [r3, #32]
 682:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ImagePixHeight = LE32(&data[PTP_oi_ImagePixHeight]);
 2454              		.loc 1 682 33
 2455 0288 7B6C     		ldr	r3, [r7, #68]
 2456 028a 1E33     		adds	r3, r3, #30
 2457 028c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2458 028e 1A46     		mov	r2, r3
 2459 0290 7B6C     		ldr	r3, [r7, #68]
 2460 0292 1F33     		adds	r3, r3, #31
 2461 0294 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2462 0296 1B02     		lsls	r3, r3, #8
 2463 0298 1A43     		orrs	r2, r2, r3
 2464 029a 7B6C     		ldr	r3, [r7, #68]
 2465 029c 2033     		adds	r3, r3, #32
 2466 029e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2467 02a0 1B04     		lsls	r3, r3, #16
 2468 02a2 1A43     		orrs	r2, r2, r3
 2469 02a4 7B6C     		ldr	r3, [r7, #68]
 2470 02a6 2133     		adds	r3, r3, #33
 2471 02a8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2472 02aa 1B06     		lsls	r3, r3, #24
 2473 02ac 1A43     		orrs	r2, r2, r3
 2474              		.loc 1 682 31
 2475 02ae 3B6B     		ldr	r3, [r7, #48]
 2476 02b0 5A62     		str	r2, [r3, #36]
 683:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ImageBitDepth = LE32(&data[PTP_oi_ImageBitDepth]);
ARM GAS  /tmp/ccH7Wnit.s 			page 57


 2477              		.loc 1 683 32
 2478 02b2 7B6C     		ldr	r3, [r7, #68]
 2479 02b4 2233     		adds	r3, r3, #34
 2480 02b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2481 02b8 1A46     		mov	r2, r3
 2482 02ba 7B6C     		ldr	r3, [r7, #68]
 2483 02bc 2333     		adds	r3, r3, #35
 2484 02be 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2485 02c0 1B02     		lsls	r3, r3, #8
 2486 02c2 1A43     		orrs	r2, r2, r3
 2487 02c4 7B6C     		ldr	r3, [r7, #68]
 2488 02c6 2433     		adds	r3, r3, #36
 2489 02c8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2490 02ca 1B04     		lsls	r3, r3, #16
 2491 02cc 1A43     		orrs	r2, r2, r3
 2492 02ce 7B6C     		ldr	r3, [r7, #68]
 2493 02d0 2533     		adds	r3, r3, #37
 2494 02d2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2495 02d4 1B06     		lsls	r3, r3, #24
 2496 02d6 1A43     		orrs	r2, r2, r3
 2497              		.loc 1 683 30
 2498 02d8 3B6B     		ldr	r3, [r7, #48]
 2499 02da 9A62     		str	r2, [r3, #40]
 684:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->ParentObject = LE32(&data[PTP_oi_ParentObject]);
 2500              		.loc 1 684 31
 2501 02dc 7B6C     		ldr	r3, [r7, #68]
 2502 02de 2633     		adds	r3, r3, #38
 2503 02e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2504 02e2 1A46     		mov	r2, r3
 2505 02e4 7B6C     		ldr	r3, [r7, #68]
 2506 02e6 2733     		adds	r3, r3, #39
 2507 02e8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2508 02ea 1B02     		lsls	r3, r3, #8
 2509 02ec 1A43     		orrs	r2, r2, r3
 2510 02ee 7B6C     		ldr	r3, [r7, #68]
 2511 02f0 2833     		adds	r3, r3, #40
 2512 02f2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2513 02f4 1B04     		lsls	r3, r3, #16
 2514 02f6 1A43     		orrs	r2, r2, r3
 2515 02f8 7B6C     		ldr	r3, [r7, #68]
 2516 02fa 2933     		adds	r3, r3, #41
 2517 02fc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2518 02fe 1B06     		lsls	r3, r3, #24
 2519 0300 1A43     		orrs	r2, r2, r3
 2520              		.loc 1 684 29
 2521 0302 3B6B     		ldr	r3, [r7, #48]
 2522 0304 DA62     		str	r2, [r3, #44]
 685:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->AssociationType = LE16(&data[PTP_oi_AssociationType]);
 2523              		.loc 1 685 34
 2524 0306 7B6C     		ldr	r3, [r7, #68]
 2525 0308 2A33     		adds	r3, r3, #42
 2526 030a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2527 030c 9AB2     		uxth	r2, r3
 2528 030e 7B6C     		ldr	r3, [r7, #68]
 2529 0310 2B33     		adds	r3, r3, #43
 2530 0312 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2531 0314 9BB2     		uxth	r3, r3
ARM GAS  /tmp/ccH7Wnit.s 			page 58


 2532 0316 1B02     		lsls	r3, r3, #8
 2533 0318 9BB2     		uxth	r3, r3
 2534 031a 1343     		orrs	r3, r3, r2
 2535 031c 9AB2     		uxth	r2, r3
 2536              		.loc 1 685 32
 2537 031e 3B6B     		ldr	r3, [r7, #48]
 2538 0320 1A86     		strh	r2, [r3, #48]	@ movhi
 686:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->AssociationDesc = LE32(&data[PTP_oi_AssociationDesc]);
 2539              		.loc 1 686 34
 2540 0322 7B6C     		ldr	r3, [r7, #68]
 2541 0324 2C33     		adds	r3, r3, #44
 2542 0326 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2543 0328 1A46     		mov	r2, r3
 2544 032a 7B6C     		ldr	r3, [r7, #68]
 2545 032c 2D33     		adds	r3, r3, #45
 2546 032e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2547 0330 1B02     		lsls	r3, r3, #8
 2548 0332 1A43     		orrs	r2, r2, r3
 2549 0334 7B6C     		ldr	r3, [r7, #68]
 2550 0336 2E33     		adds	r3, r3, #46
 2551 0338 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2552 033a 1B04     		lsls	r3, r3, #16
 2553 033c 1A43     		orrs	r2, r2, r3
 2554 033e 7B6C     		ldr	r3, [r7, #68]
 2555 0340 2F33     		adds	r3, r3, #47
 2556 0342 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2557 0344 1B06     		lsls	r3, r3, #24
 2558 0346 1A43     		orrs	r2, r2, r3
 2559              		.loc 1 686 32
 2560 0348 3B6B     		ldr	r3, [r7, #48]
 2561 034a 5A63     		str	r2, [r3, #52]
 687:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   object_info->SequenceNumber = LE32(&data[PTP_oi_SequenceNumber]);
 2562              		.loc 1 687 33
 2563 034c 7B6C     		ldr	r3, [r7, #68]
 2564 034e 3033     		adds	r3, r3, #48
 2565 0350 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2566 0352 1A46     		mov	r2, r3
 2567 0354 7B6C     		ldr	r3, [r7, #68]
 2568 0356 3133     		adds	r3, r3, #49
 2569 0358 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2570 035a 1B02     		lsls	r3, r3, #8
 2571 035c 1A43     		orrs	r2, r2, r3
 2572 035e 7B6C     		ldr	r3, [r7, #68]
 2573 0360 3233     		adds	r3, r3, #50
 2574 0362 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2575 0364 1B04     		lsls	r3, r3, #16
 2576 0366 1A43     		orrs	r2, r2, r3
 2577 0368 7B6C     		ldr	r3, [r7, #68]
 2578 036a 3333     		adds	r3, r3, #51
 2579 036c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2580 036e 1B06     		lsls	r3, r3, #24
 2581 0370 1A43     		orrs	r2, r2, r3
 2582              		.loc 1 687 31
 2583 0372 3B6B     		ldr	r3, [r7, #48]
 2584 0374 9A63     		str	r2, [r3, #56]
 688:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_GetString(object_info->Filename, &data[PTP_oi_filenamelen], &filenamelen);
 2585              		.loc 1 688 28
ARM GAS  /tmp/ccH7Wnit.s 			page 59


 2586 0376 3B6B     		ldr	r3, [r7, #48]
 2587 0378 03F13C00 		add	r0, r3, #60
 2588              		.loc 1 688 3
 2589 037c 7B6C     		ldr	r3, [r7, #68]
 2590 037e 3433     		adds	r3, r3, #52
 2591 0380 07F13E02 		add	r2, r7, #62
 2592 0384 1946     		mov	r1, r3
 2593 0386 FFF7FEFF 		bl	PTP_GetString
 689:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 2594              		.loc 1 689 1
 2595 038a 00BF     		nop
 2596 038c 4837     		adds	r7, r7, #72
 2597              	.LCFI45:
 2598              		.cfi_def_cfa_offset 32
 2599 038e BD46     		mov	sp, r7
 2600              	.LCFI46:
 2601              		.cfi_def_cfa_register 13
 2602              		@ sp needed
 2603 0390 BDE8B08F 		pop	{r4, r5, r7, r8, r9, r10, fp, pc}
 2604              		.cfi_endproc
 2605              	.LFE346:
 2607              		.section	.text.PTP_GetObjectPropDesc,"ax",%progbits
 2608              		.align	1
 2609              		.syntax unified
 2610              		.thumb
 2611              		.thumb_func
 2612              		.fpu fpv5-d16
 2614              	PTP_GetObjectPropDesc:
 2615              	.LFB347:
 690:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 691:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 692:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 693:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  PTP_GetObjectPropDesc
 694:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets objectInfo and fills object_info structure.
 695:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 696:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  opd: object prop descriptor structure
 697:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 698:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 699:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetObjectPropDesc(USBH_HandleTypeDef *phost, PTP_ObjectPropDescTypeDef *opd, uint32
 700:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 2616              		.loc 1 700 1
 2617              		.cfi_startproc
 2618              		@ args = 0, pretend = 0, frame = 32
 2619              		@ frame_needed = 1, uses_anonymous_args = 0
 2620 0000 80B5     		push	{r7, lr}
 2621              	.LCFI47:
 2622              		.cfi_def_cfa_offset 8
 2623              		.cfi_offset 7, -8
 2624              		.cfi_offset 14, -4
 2625 0002 8AB0     		sub	sp, sp, #40
 2626              	.LCFI48:
 2627              		.cfi_def_cfa_offset 48
 2628 0004 02AF     		add	r7, sp, #8
 2629              	.LCFI49:
 2630              		.cfi_def_cfa 7, 40
 2631 0006 F860     		str	r0, [r7, #12]
 2632 0008 B960     		str	r1, [r7, #8]
ARM GAS  /tmp/ccH7Wnit.s 			page 60


 2633 000a 7A60     		str	r2, [r7, #4]
 701:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 2634              		.loc 1 701 64
 2635 000c FB68     		ldr	r3, [r7, #12]
 2636 000e D3F87C34 		ldr	r3, [r3, #1148]
 2637              		.loc 1 701 25
 2638 0012 DB69     		ldr	r3, [r3, #28]
 2639 0014 BB61     		str	r3, [r7, #24]
 702:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint8_t *data = MTP_Handle->ptp.data_container.payload.data;
 2640              		.loc 1 702 12
 2641 0016 BA69     		ldr	r2, [r7, #24]
 2642 0018 41F69053 		movw	r3, #7568
 2643 001c 1344     		add	r3, r3, r2
 2644 001e 7B61     		str	r3, [r7, #20]
 703:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint32_t offset = 0U, i;
 2645              		.loc 1 703 12
 2646 0020 0023     		movs	r3, #0
 2647 0022 3B61     		str	r3, [r7, #16]
 704:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 705:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   opd->ObjectPropertyCode = LE16(&data[PTP_opd_ObjectPropertyCode]);
 2648              		.loc 1 705 29
 2649 0024 7B69     		ldr	r3, [r7, #20]
 2650 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2651 0028 9AB2     		uxth	r2, r3
 2652 002a 7B69     		ldr	r3, [r7, #20]
 2653 002c 0133     		adds	r3, r3, #1
 2654 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2655 0030 9BB2     		uxth	r3, r3
 2656 0032 1B02     		lsls	r3, r3, #8
 2657 0034 9BB2     		uxth	r3, r3
 2658 0036 1343     		orrs	r3, r3, r2
 2659 0038 9AB2     		uxth	r2, r3
 2660              		.loc 1 705 27
 2661 003a BB68     		ldr	r3, [r7, #8]
 2662 003c 1A80     		strh	r2, [r3]	@ movhi
 706:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   opd->DataType = LE16(&data[PTP_opd_DataType]);
 2663              		.loc 1 706 19
 2664 003e 7B69     		ldr	r3, [r7, #20]
 2665 0040 0233     		adds	r3, r3, #2
 2666 0042 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2667 0044 9AB2     		uxth	r2, r3
 2668 0046 7B69     		ldr	r3, [r7, #20]
 2669 0048 0333     		adds	r3, r3, #3
 2670 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2671 004c 9BB2     		uxth	r3, r3
 2672 004e 1B02     		lsls	r3, r3, #8
 2673 0050 9BB2     		uxth	r3, r3
 2674 0052 1343     		orrs	r3, r3, r2
 2675 0054 9AB2     		uxth	r2, r3
 2676              		.loc 1 706 17
 2677 0056 BB68     		ldr	r3, [r7, #8]
 2678 0058 5A80     		strh	r2, [r3, #2]	@ movhi
 707:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   opd->GetSet = *(uint8_t *)(&data[PTP_opd_GetSet]);
 2679              		.loc 1 707 15
 2680 005a 7B69     		ldr	r3, [r7, #20]
 2681 005c 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 2682 005e BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccH7Wnit.s 			page 61


 2683 0060 1A71     		strb	r2, [r3, #4]
 708:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 709:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   offset = PTP_opd_FactoryDefaultValue;
 2684              		.loc 1 709 10
 2685 0062 0523     		movs	r3, #5
 2686 0064 3B61     		str	r3, [r7, #16]
 710:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_GetDevicePropValue(phost, &offset, opdlen, &opd->FactoryDefaultValue, opd->DataType);
 2687              		.loc 1 710 3
 2688 0066 BB68     		ldr	r3, [r7, #8]
 2689 0068 03F10802 		add	r2, r3, #8
 2690 006c BB68     		ldr	r3, [r7, #8]
 2691 006e 5B88     		ldrh	r3, [r3, #2]
 2692 0070 07F11001 		add	r1, r7, #16
 2693 0074 0093     		str	r3, [sp]
 2694 0076 1346     		mov	r3, r2
 2695 0078 7A68     		ldr	r2, [r7, #4]
 2696 007a F868     		ldr	r0, [r7, #12]
 2697 007c FFF7FEFF 		bl	PTP_GetDevicePropValue
 711:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 712:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   opd->GroupCode = LE32(&data[offset]);
 2698              		.loc 1 712 20
 2699 0080 3B69     		ldr	r3, [r7, #16]
 2700 0082 7A69     		ldr	r2, [r7, #20]
 2701 0084 1344     		add	r3, r3, r2
 2702 0086 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2703 0088 1946     		mov	r1, r3
 2704 008a 3B69     		ldr	r3, [r7, #16]
 2705 008c 0133     		adds	r3, r3, #1
 2706 008e 7A69     		ldr	r2, [r7, #20]
 2707 0090 1344     		add	r3, r3, r2
 2708 0092 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2709 0094 1B02     		lsls	r3, r3, #8
 2710 0096 41EA0302 		orr	r2, r1, r3
 2711 009a 3B69     		ldr	r3, [r7, #16]
 2712 009c 0233     		adds	r3, r3, #2
 2713 009e 7969     		ldr	r1, [r7, #20]
 2714 00a0 0B44     		add	r3, r3, r1
 2715 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2716 00a4 1B04     		lsls	r3, r3, #16
 2717 00a6 1A43     		orrs	r2, r2, r3
 2718 00a8 3B69     		ldr	r3, [r7, #16]
 2719 00aa 0333     		adds	r3, r3, #3
 2720 00ac 7969     		ldr	r1, [r7, #20]
 2721 00ae 0B44     		add	r3, r3, r1
 2722 00b0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2723 00b2 1B06     		lsls	r3, r3, #24
 2724 00b4 1A43     		orrs	r2, r2, r3
 2725              		.loc 1 712 18
 2726 00b6 BB68     		ldr	r3, [r7, #8]
 2727 00b8 C3F80821 		str	r2, [r3, #264]
 713:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   offset += sizeof(uint32_t);
 2728              		.loc 1 713 10
 2729 00bc 3B69     		ldr	r3, [r7, #16]
 2730 00be 0433     		adds	r3, r3, #4
 2731 00c0 3B61     		str	r3, [r7, #16]
 714:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 715:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   opd->FormFlag = *(uint8_t *)(&data[offset]);
ARM GAS  /tmp/ccH7Wnit.s 			page 62


 2732              		.loc 1 715 20
 2733 00c2 3B69     		ldr	r3, [r7, #16]
 2734 00c4 7A69     		ldr	r2, [r7, #20]
 2735 00c6 1344     		add	r3, r3, r2
 2736              		.loc 1 715 19
 2737 00c8 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2738              		.loc 1 715 17
 2739 00ca BB68     		ldr	r3, [r7, #8]
 2740 00cc 83F80C21 		strb	r2, [r3, #268]
 716:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   offset += sizeof(uint8_t);
 2741              		.loc 1 716 10
 2742 00d0 3B69     		ldr	r3, [r7, #16]
 2743 00d2 0133     		adds	r3, r3, #1
 2744 00d4 3B61     		str	r3, [r7, #16]
 717:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 718:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (opd->FormFlag)
 2745              		.loc 1 718 14
 2746 00d6 BB68     		ldr	r3, [r7, #8]
 2747 00d8 93F80C31 		ldrb	r3, [r3, #268]	@ zero_extendqisi2
 2748              		.loc 1 718 3
 2749 00dc 012B     		cmp	r3, #1
 2750 00de 02D0     		beq	.L71
 2751 00e0 022B     		cmp	r3, #2
 2752 00e2 28D0     		beq	.L72
 719:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 720:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_OPFF_Range:
 721:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       PTP_GetDevicePropValue(phost, &offset, opdlen, &opd->FORM.Range.MinimumValue, opd->DataType);
 722:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       PTP_GetDevicePropValue(phost, &offset, opdlen, &opd->FORM.Range.MaximumValue, opd->DataType);
 723:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       PTP_GetDevicePropValue(phost, &offset, opdlen, &opd->FORM.Range.StepSize, opd->DataType);
 724:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 725:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 726:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_OPFF_Enumeration:
 727:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 728:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       opd->FORM.Enum.NumberOfValues = LE16(&data[offset]);
 729:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       offset += sizeof(uint16_t);
 730:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 731:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       for (i = 0U; i < opd->FORM.Enum.NumberOfValues ; i++)
 732:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 733:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         PTP_GetDevicePropValue(phost, &offset, opdlen, &opd->FORM.Enum.SupportedValue[i], opd->Data
 734:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 735:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 736:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
 737:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 2753              		.loc 1 737 7
 2754 00e4 5AE0     		b	.L74
 2755              	.L71:
 721:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       PTP_GetDevicePropValue(phost, &offset, opdlen, &opd->FORM.Range.MaximumValue, opd->DataType);
 2756              		.loc 1 721 7
 2757 00e6 BB68     		ldr	r3, [r7, #8]
 2758 00e8 03F58872 		add	r2, r3, #272
 2759 00ec BB68     		ldr	r3, [r7, #8]
 2760 00ee 5B88     		ldrh	r3, [r3, #2]
 2761 00f0 07F11001 		add	r1, r7, #16
 2762 00f4 0093     		str	r3, [sp]
 2763 00f6 1346     		mov	r3, r2
 2764 00f8 7A68     		ldr	r2, [r7, #4]
 2765 00fa F868     		ldr	r0, [r7, #12]
ARM GAS  /tmp/ccH7Wnit.s 			page 63


 2766 00fc FFF7FEFF 		bl	PTP_GetDevicePropValue
 722:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       PTP_GetDevicePropValue(phost, &offset, opdlen, &opd->FORM.Range.StepSize, opd->DataType);
 2767              		.loc 1 722 7
 2768 0100 BB68     		ldr	r3, [r7, #8]
 2769 0102 03F50472 		add	r2, r3, #528
 2770 0106 BB68     		ldr	r3, [r7, #8]
 2771 0108 5B88     		ldrh	r3, [r3, #2]
 2772 010a 07F11001 		add	r1, r7, #16
 2773 010e 0093     		str	r3, [sp]
 2774 0110 1346     		mov	r3, r2
 2775 0112 7A68     		ldr	r2, [r7, #4]
 2776 0114 F868     		ldr	r0, [r7, #12]
 2777 0116 FFF7FEFF 		bl	PTP_GetDevicePropValue
 723:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 2778              		.loc 1 723 7
 2779 011a BB68     		ldr	r3, [r7, #8]
 2780 011c 03F54472 		add	r2, r3, #784
 2781 0120 BB68     		ldr	r3, [r7, #8]
 2782 0122 5B88     		ldrh	r3, [r3, #2]
 2783 0124 07F11001 		add	r1, r7, #16
 2784 0128 0093     		str	r3, [sp]
 2785 012a 1346     		mov	r3, r2
 2786 012c 7A68     		ldr	r2, [r7, #4]
 2787 012e F868     		ldr	r0, [r7, #12]
 2788 0130 FFF7FEFF 		bl	PTP_GetDevicePropValue
 724:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 2789              		.loc 1 724 7
 2790 0134 32E0     		b	.L74
 2791              	.L72:
 728:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       offset += sizeof(uint16_t);
 2792              		.loc 1 728 39
 2793 0136 3B69     		ldr	r3, [r7, #16]
 2794 0138 7A69     		ldr	r2, [r7, #20]
 2795 013a 1344     		add	r3, r3, r2
 2796 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2797 013e 9AB2     		uxth	r2, r3
 2798 0140 3B69     		ldr	r3, [r7, #16]
 2799 0142 0133     		adds	r3, r3, #1
 2800 0144 7969     		ldr	r1, [r7, #20]
 2801 0146 0B44     		add	r3, r3, r1
 2802 0148 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2803 014a 9BB2     		uxth	r3, r3
 2804 014c 1B02     		lsls	r3, r3, #8
 2805 014e 9BB2     		uxth	r3, r3
 2806 0150 1343     		orrs	r3, r3, r2
 2807 0152 9AB2     		uxth	r2, r3
 728:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       offset += sizeof(uint16_t);
 2808              		.loc 1 728 37
 2809 0154 BB68     		ldr	r3, [r7, #8]
 2810 0156 A3F81021 		strh	r2, [r3, #272]	@ movhi
 729:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 2811              		.loc 1 729 14
 2812 015a 3B69     		ldr	r3, [r7, #16]
 2813 015c 0233     		adds	r3, r3, #2
 2814 015e 3B61     		str	r3, [r7, #16]
 731:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 2815              		.loc 1 731 14
ARM GAS  /tmp/ccH7Wnit.s 			page 64


 2816 0160 0023     		movs	r3, #0
 2817 0162 FB61     		str	r3, [r7, #28]
 731:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 2818              		.loc 1 731 7
 2819 0164 12E0     		b	.L75
 2820              	.L76:
 733:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 2821              		.loc 1 733 9 discriminator 3
 2822 0166 FB69     		ldr	r3, [r7, #28]
 2823 0168 1B02     		lsls	r3, r3, #8
 2824 016a 03F58C73 		add	r3, r3, #280
 2825 016e BA68     		ldr	r2, [r7, #8]
 2826 0170 1A44     		add	r2, r2, r3
 2827 0172 BB68     		ldr	r3, [r7, #8]
 2828 0174 5B88     		ldrh	r3, [r3, #2]
 2829 0176 07F11001 		add	r1, r7, #16
 2830 017a 0093     		str	r3, [sp]
 2831 017c 1346     		mov	r3, r2
 2832 017e 7A68     		ldr	r2, [r7, #4]
 2833 0180 F868     		ldr	r0, [r7, #12]
 2834 0182 FFF7FEFF 		bl	PTP_GetDevicePropValue
 731:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 2835              		.loc 1 731 57 discriminator 3
 2836 0186 FB69     		ldr	r3, [r7, #28]
 2837 0188 0133     		adds	r3, r3, #1
 2838 018a FB61     		str	r3, [r7, #28]
 2839              	.L75:
 731:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 2840              		.loc 1 731 38 discriminator 1
 2841 018c BB68     		ldr	r3, [r7, #8]
 2842 018e B3F81031 		ldrh	r3, [r3, #272]
 2843 0192 1A46     		mov	r2, r3
 731:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 2844              		.loc 1 731 7 discriminator 1
 2845 0194 FB69     		ldr	r3, [r7, #28]
 2846 0196 9342     		cmp	r3, r2
 2847 0198 E5D3     		bcc	.L76
 735:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
 2848              		.loc 1 735 7
 2849 019a 00BF     		nop
 2850              	.L74:
 738:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 739:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 2851              		.loc 1 739 1 discriminator 1
 2852 019c 00BF     		nop
 2853 019e 2037     		adds	r7, r7, #32
 2854              	.LCFI50:
 2855              		.cfi_def_cfa_offset 8
 2856 01a0 BD46     		mov	sp, r7
 2857              	.LCFI51:
 2858              		.cfi_def_cfa_register 13
 2859              		@ sp needed
 2860 01a2 80BD     		pop	{r7, pc}
 2861              		.cfi_endproc
 2862              	.LFE347:
 2864              		.section	.text.PTP_GetDevicePropValue,"ax",%progbits
 2865              		.align	1
ARM GAS  /tmp/ccH7Wnit.s 			page 65


 2866              		.syntax unified
 2867              		.thumb
 2868              		.thumb_func
 2869              		.fpu fpv5-d16
 2871              	PTP_GetDevicePropValue:
 2872              	.LFB348:
 740:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 741:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 742:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  PTP_GetDevicePropValue
 743:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets objectInfo and fills object_info structure.
 744:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 745:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  opd: object prop descriptor structure
 746:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 747:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 748:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetDevicePropValue(USBH_HandleTypeDef *phost,
 749:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                    uint32_t *offset,
 750:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                    uint32_t total,
 751:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                    PTP_PropertyValueTypedef *value,
 752:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                    uint16_t datatype)
 753:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 2873              		.loc 1 753 1
 2874              		.cfi_startproc
 2875              		@ args = 4, pretend = 0, frame = 80
 2876              		@ frame_needed = 1, uses_anonymous_args = 0
 2877 0000 2DE9B04F 		push	{r4, r5, r7, r8, r9, r10, fp, lr}
 2878              	.LCFI52:
 2879              		.cfi_def_cfa_offset 32
 2880              		.cfi_offset 4, -32
 2881              		.cfi_offset 5, -28
 2882              		.cfi_offset 7, -24
 2883              		.cfi_offset 8, -20
 2884              		.cfi_offset 9, -16
 2885              		.cfi_offset 10, -12
 2886              		.cfi_offset 11, -8
 2887              		.cfi_offset 14, -4
 2888 0004 94B0     		sub	sp, sp, #80
 2889              	.LCFI53:
 2890              		.cfi_def_cfa_offset 112
 2891 0006 00AF     		add	r7, sp, #0
 2892              	.LCFI54:
 2893              		.cfi_def_cfa_register 7
 2894 0008 F863     		str	r0, [r7, #60]
 2895 000a B963     		str	r1, [r7, #56]
 2896 000c 7A63     		str	r2, [r7, #52]
 2897 000e 3B63     		str	r3, [r7, #48]
 754:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   /* Prevent unused argument(s) compilation warning */
 755:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   UNUSED(total);
 756:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 757:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 2898              		.loc 1 757 64
 2899 0010 FB6B     		ldr	r3, [r7, #60]
 2900 0012 D3F87C34 		ldr	r3, [r3, #1148]
 2901              		.loc 1 757 25
 2902 0016 DB69     		ldr	r3, [r3, #28]
 2903 0018 FB64     		str	r3, [r7, #76]
 758:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint8_t *data = MTP_Handle->ptp.data_container.payload.data;
 2904              		.loc 1 758 12
ARM GAS  /tmp/ccH7Wnit.s 			page 66


 2905 001a FA6C     		ldr	r2, [r7, #76]
 2906 001c 41F69053 		movw	r3, #7568
 2907 0020 1344     		add	r3, r3, r2
 2908 0022 BB64     		str	r3, [r7, #72]
 759:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint16_t len;
 760:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (datatype)
 2909              		.loc 1 760 3
 2910 0024 B7F87020 		ldrh	r2, [r7, #112]
 2911 0028 0A2A     		cmp	r2, #10
 2912 002a 1DDC     		bgt	.L78
 2913 002c 002A     		cmp	r2, #0
 2914 002e 40F37C81 		ble	.L93
 2915 0032 531E     		subs	r3, r2, #1
 2916 0034 092B     		cmp	r3, #9
 2917 0036 00F27881 		bhi	.L93
 2918 003a 01A2     		adr	r2, .L81
 2919 003c 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2920              		.p2align 2
 2921              	.L81:
 2922 0040 75000000 		.word	.L90+1
 2923 0044 91000000 		.word	.L89+1
 2924 0048 AB000000 		.word	.L88+1
 2925 004c C7000000 		.word	.L87+1
 2926 0050 F9000000 		.word	.L86+1
 2927 0054 13010000 		.word	.L85+1
 2928 0058 61010000 		.word	.L84+1
 2929 005c 81010000 		.word	.L83+1
 2930 0060 F5020000 		.word	.L82+1
 2931 0064 E7020000 		.word	.L80+1
 2932              		.p2align 1
 2933              	.L78:
 2934 0068 4FF6FF73 		movw	r3, #65535
 2935 006c 9A42     		cmp	r2, r3
 2936 006e 00F04881 		beq	.L91
 761:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 762:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_INT8:
 763:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       value->i8 = *(int8_t *)(void *) &(data[*offset]);
 764:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 1U;
 765:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 766:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_UINT8:
 767:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       value->u8 = *(uint8_t *) &(data[*offset]);
 768:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 1U;
 769:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 770:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_INT16:
 771:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       value->i16 = *(int16_t *)(void *) &(data[*offset]);
 772:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 2U;
 773:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 774:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_UINT16:
 775:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       value->u16 = LE16(&(data[*offset]));
 776:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 2U;
 777:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 778:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_INT32:
 779:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       value->i32 = *(int32_t *)(void *)(&(data[*offset]));
 780:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 4U;
 781:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 782:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_UINT32:
 783:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       value->u32 = LE32(&(data[*offset]));
ARM GAS  /tmp/ccH7Wnit.s 			page 67


 784:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 4U;
 785:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 786:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_INT64:
 787:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       value->i64 = *(int64_t *)(void *)(&(data[*offset]));
 788:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 8U;
 789:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 790:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_UINT64:
 791:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       value->u64 = LE64(&(data[*offset]));
 792:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 8U;
 793:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 794:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 795:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_UINT128:
 796:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 16U;
 797:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 798:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_INT128:
 799:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 16U;
 800:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 801:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 802:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_STR:
 803:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 804:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       PTP_GetString((uint8_t *)(void *)value->str, (uint8_t *) & (data[*offset]), &len);
 805:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += len * 2U + 1U;
 806:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 807:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
 808:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 2937              		.loc 1 808 7
 2938 0072 5AE1     		b	.L93
 2939              	.L90:
 763:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 1U;
 2940              		.loc 1 763 46
 2941 0074 BB6B     		ldr	r3, [r7, #56]
 2942 0076 1B68     		ldr	r3, [r3]
 763:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 1U;
 2943              		.loc 1 763 39
 2944 0078 BA6C     		ldr	r2, [r7, #72]
 2945 007a 1344     		add	r3, r3, r2
 763:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 1U;
 2946              		.loc 1 763 19
 2947 007c 93F90020 		ldrsb	r2, [r3]
 763:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 1U;
 2948              		.loc 1 763 17
 2949 0080 3B6B     		ldr	r3, [r7, #48]
 2950 0082 1A70     		strb	r2, [r3]
 764:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 2951              		.loc 1 764 15
 2952 0084 BB6B     		ldr	r3, [r7, #56]
 2953 0086 1B68     		ldr	r3, [r3]
 2954 0088 5A1C     		adds	r2, r3, #1
 2955 008a BB6B     		ldr	r3, [r7, #56]
 2956 008c 1A60     		str	r2, [r3]
 765:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_UINT8:
 2957              		.loc 1 765 7
 2958 008e 4DE1     		b	.L92
 2959              	.L89:
 767:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 1U;
 2960              		.loc 1 767 39
 2961 0090 BB6B     		ldr	r3, [r7, #56]
ARM GAS  /tmp/ccH7Wnit.s 			page 68


 2962 0092 1B68     		ldr	r3, [r3]
 767:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 1U;
 2963              		.loc 1 767 20
 2964 0094 BA6C     		ldr	r2, [r7, #72]
 2965 0096 1344     		add	r3, r3, r2
 767:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 1U;
 2966              		.loc 1 767 19
 2967 0098 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 767:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 1U;
 2968              		.loc 1 767 17
 2969 009a 3B6B     		ldr	r3, [r7, #48]
 2970 009c 1A70     		strb	r2, [r3]
 768:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 2971              		.loc 1 768 15
 2972 009e BB6B     		ldr	r3, [r7, #56]
 2973 00a0 1B68     		ldr	r3, [r3]
 2974 00a2 5A1C     		adds	r2, r3, #1
 2975 00a4 BB6B     		ldr	r3, [r7, #56]
 2976 00a6 1A60     		str	r2, [r3]
 769:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_INT16:
 2977              		.loc 1 769 7
 2978 00a8 40E1     		b	.L92
 2979              	.L88:
 771:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 2U;
 2980              		.loc 1 771 48
 2981 00aa BB6B     		ldr	r3, [r7, #56]
 2982 00ac 1B68     		ldr	r3, [r3]
 771:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 2U;
 2983              		.loc 1 771 41
 2984 00ae BA6C     		ldr	r2, [r7, #72]
 2985 00b0 1344     		add	r3, r3, r2
 771:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 2U;
 2986              		.loc 1 771 20
 2987 00b2 B3F90020 		ldrsh	r2, [r3]
 771:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 2U;
 2988              		.loc 1 771 18
 2989 00b6 3B6B     		ldr	r3, [r7, #48]
 2990 00b8 1A80     		strh	r2, [r3]	@ movhi
 772:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 2991              		.loc 1 772 15
 2992 00ba BB6B     		ldr	r3, [r7, #56]
 2993 00bc 1B68     		ldr	r3, [r3]
 2994 00be 9A1C     		adds	r2, r3, #2
 2995 00c0 BB6B     		ldr	r3, [r7, #56]
 2996 00c2 1A60     		str	r2, [r3]
 773:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_UINT16:
 2997              		.loc 1 773 7
 2998 00c4 32E1     		b	.L92
 2999              	.L87:
 775:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 2U;
 3000              		.loc 1 775 20
 3001 00c6 BB6B     		ldr	r3, [r7, #56]
 3002 00c8 1B68     		ldr	r3, [r3]
 3003 00ca BA6C     		ldr	r2, [r7, #72]
 3004 00cc 1344     		add	r3, r3, r2
 3005 00ce 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3006 00d0 9AB2     		uxth	r2, r3
ARM GAS  /tmp/ccH7Wnit.s 			page 69


 3007 00d2 BB6B     		ldr	r3, [r7, #56]
 3008 00d4 1B68     		ldr	r3, [r3]
 3009 00d6 0133     		adds	r3, r3, #1
 3010 00d8 B96C     		ldr	r1, [r7, #72]
 3011 00da 0B44     		add	r3, r3, r1
 3012 00dc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3013 00de 9BB2     		uxth	r3, r3
 3014 00e0 1B02     		lsls	r3, r3, #8
 3015 00e2 9BB2     		uxth	r3, r3
 3016 00e4 1343     		orrs	r3, r3, r2
 3017 00e6 9AB2     		uxth	r2, r3
 775:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 2U;
 3018              		.loc 1 775 18
 3019 00e8 3B6B     		ldr	r3, [r7, #48]
 3020 00ea 1A80     		strh	r2, [r3]	@ movhi
 776:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3021              		.loc 1 776 15
 3022 00ec BB6B     		ldr	r3, [r7, #56]
 3023 00ee 1B68     		ldr	r3, [r3]
 3024 00f0 9A1C     		adds	r2, r3, #2
 3025 00f2 BB6B     		ldr	r3, [r7, #56]
 3026 00f4 1A60     		str	r2, [r3]
 777:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_INT32:
 3027              		.loc 1 777 7
 3028 00f6 19E1     		b	.L92
 3029              	.L86:
 779:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 4U;
 3030              		.loc 1 779 48
 3031 00f8 BB6B     		ldr	r3, [r7, #56]
 3032 00fa 1B68     		ldr	r3, [r3]
 779:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 4U;
 3033              		.loc 1 779 41
 3034 00fc BA6C     		ldr	r2, [r7, #72]
 3035 00fe 1344     		add	r3, r3, r2
 779:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 4U;
 3036              		.loc 1 779 20
 3037 0100 1A68     		ldr	r2, [r3]
 779:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 4U;
 3038              		.loc 1 779 18
 3039 0102 3B6B     		ldr	r3, [r7, #48]
 3040 0104 1A60     		str	r2, [r3]
 780:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3041              		.loc 1 780 15
 3042 0106 BB6B     		ldr	r3, [r7, #56]
 3043 0108 1B68     		ldr	r3, [r3]
 3044 010a 1A1D     		adds	r2, r3, #4
 3045 010c BB6B     		ldr	r3, [r7, #56]
 3046 010e 1A60     		str	r2, [r3]
 781:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_UINT32:
 3047              		.loc 1 781 7
 3048 0110 0CE1     		b	.L92
 3049              	.L85:
 783:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 4U;
 3050              		.loc 1 783 20
 3051 0112 BB6B     		ldr	r3, [r7, #56]
 3052 0114 1B68     		ldr	r3, [r3]
 3053 0116 BA6C     		ldr	r2, [r7, #72]
ARM GAS  /tmp/ccH7Wnit.s 			page 70


 3054 0118 1344     		add	r3, r3, r2
 3055 011a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3056 011c 1946     		mov	r1, r3
 3057 011e BB6B     		ldr	r3, [r7, #56]
 3058 0120 1B68     		ldr	r3, [r3]
 3059 0122 0133     		adds	r3, r3, #1
 3060 0124 BA6C     		ldr	r2, [r7, #72]
 3061 0126 1344     		add	r3, r3, r2
 3062 0128 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3063 012a 1B02     		lsls	r3, r3, #8
 3064 012c 41EA0302 		orr	r2, r1, r3
 3065 0130 BB6B     		ldr	r3, [r7, #56]
 3066 0132 1B68     		ldr	r3, [r3]
 3067 0134 0233     		adds	r3, r3, #2
 3068 0136 B96C     		ldr	r1, [r7, #72]
 3069 0138 0B44     		add	r3, r3, r1
 3070 013a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3071 013c 1B04     		lsls	r3, r3, #16
 3072 013e 1A43     		orrs	r2, r2, r3
 3073 0140 BB6B     		ldr	r3, [r7, #56]
 3074 0142 1B68     		ldr	r3, [r3]
 3075 0144 0333     		adds	r3, r3, #3
 3076 0146 B96C     		ldr	r1, [r7, #72]
 3077 0148 0B44     		add	r3, r3, r1
 3078 014a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3079 014c 1B06     		lsls	r3, r3, #24
 3080 014e 1A43     		orrs	r2, r2, r3
 783:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 4U;
 3081              		.loc 1 783 18
 3082 0150 3B6B     		ldr	r3, [r7, #48]
 3083 0152 1A60     		str	r2, [r3]
 784:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3084              		.loc 1 784 15
 3085 0154 BB6B     		ldr	r3, [r7, #56]
 3086 0156 1B68     		ldr	r3, [r3]
 3087 0158 1A1D     		adds	r2, r3, #4
 3088 015a BB6B     		ldr	r3, [r7, #56]
 3089 015c 1A60     		str	r2, [r3]
 785:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_INT64:
 3090              		.loc 1 785 7
 3091 015e E5E0     		b	.L92
 3092              	.L84:
 787:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 8U;
 3093              		.loc 1 787 48
 3094 0160 BB6B     		ldr	r3, [r7, #56]
 3095 0162 1B68     		ldr	r3, [r3]
 787:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 8U;
 3096              		.loc 1 787 41
 3097 0164 BA6C     		ldr	r2, [r7, #72]
 3098 0166 1344     		add	r3, r3, r2
 787:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 8U;
 3099              		.loc 1 787 20
 3100 0168 D3E90023 		ldrd	r2, [r3]
 787:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 8U;
 3101              		.loc 1 787 18
 3102 016c 396B     		ldr	r1, [r7, #48]
 3103 016e C1E90023 		strd	r2, [r1]
ARM GAS  /tmp/ccH7Wnit.s 			page 71


 788:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3104              		.loc 1 788 15
 3105 0172 BB6B     		ldr	r3, [r7, #56]
 3106 0174 1B68     		ldr	r3, [r3]
 3107 0176 03F10802 		add	r2, r3, #8
 3108 017a BB6B     		ldr	r3, [r7, #56]
 3109 017c 1A60     		str	r2, [r3]
 789:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_UINT64:
 3110              		.loc 1 789 7
 3111 017e D5E0     		b	.L92
 3112              	.L83:
 791:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 8U;
 3113              		.loc 1 791 20
 3114 0180 BB6B     		ldr	r3, [r7, #56]
 3115 0182 1A68     		ldr	r2, [r3]
 3116 0184 BB6C     		ldr	r3, [r7, #72]
 3117 0186 1344     		add	r3, r3, r2
 3118 0188 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3119 018a DCB2     		uxtb	r4, r3
 3120 018c 4FF00005 		mov	r5, #0
 3121 0190 BB6B     		ldr	r3, [r7, #56]
 3122 0192 1B68     		ldr	r3, [r3]
 3123 0194 5A1C     		adds	r2, r3, #1
 3124 0196 BB6C     		ldr	r3, [r7, #72]
 3125 0198 1344     		add	r3, r3, r2
 3126 019a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3127 019c DAB2     		uxtb	r2, r3
 3128 019e 4FF00003 		mov	r3, #0
 3129 01a2 4FF00000 		mov	r0, #0
 3130 01a6 4FF00001 		mov	r1, #0
 3131 01aa 1902     		lsls	r1, r3, #8
 3132 01ac 41EA1261 		orr	r1, r1, r2, lsr #24
 3133 01b0 1002     		lsls	r0, r2, #8
 3134 01b2 44EA0003 		orr	r3, r4, r0
 3135 01b6 BB62     		str	r3, [r7, #40]
 3136 01b8 45EA0103 		orr	r3, r5, r1
 3137 01bc FB62     		str	r3, [r7, #44]
 3138 01be BB6B     		ldr	r3, [r7, #56]
 3139 01c0 1B68     		ldr	r3, [r3]
 3140 01c2 9A1C     		adds	r2, r3, #2
 3141 01c4 BB6C     		ldr	r3, [r7, #72]
 3142 01c6 1344     		add	r3, r3, r2
 3143 01c8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3144 01ca DAB2     		uxtb	r2, r3
 3145 01cc 4FF00003 		mov	r3, #0
 3146 01d0 4FF00000 		mov	r0, #0
 3147 01d4 4FF00001 		mov	r1, #0
 3148 01d8 1904     		lsls	r1, r3, #16
 3149 01da 41EA1241 		orr	r1, r1, r2, lsr #16
 3150 01de 1004     		lsls	r0, r2, #16
 3151 01e0 D7E90A45 		ldrd	r4, [r7, #40]
 3152 01e4 2346     		mov	r3, r4
 3153 01e6 0343     		orrs	r3, r3, r0
 3154 01e8 3B62     		str	r3, [r7, #32]
 3155 01ea 2B46     		mov	r3, r5
 3156 01ec 0B43     		orrs	r3, r3, r1
 3157 01ee 7B62     		str	r3, [r7, #36]
ARM GAS  /tmp/ccH7Wnit.s 			page 72


 3158 01f0 BB6B     		ldr	r3, [r7, #56]
 3159 01f2 1B68     		ldr	r3, [r3]
 3160 01f4 DA1C     		adds	r2, r3, #3
 3161 01f6 BB6C     		ldr	r3, [r7, #72]
 3162 01f8 1344     		add	r3, r3, r2
 3163 01fa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3164 01fc DAB2     		uxtb	r2, r3
 3165 01fe 4FF00003 		mov	r3, #0
 3166 0202 110A     		lsrs	r1, r2, #8
 3167 0204 F961     		str	r1, [r7, #28]
 3168 0206 1306     		lsls	r3, r2, #24
 3169 0208 BB61     		str	r3, [r7, #24]
 3170 020a D7E90845 		ldrd	r4, [r7, #32]
 3171 020e 2346     		mov	r3, r4
 3172 0210 D7E90601 		ldrd	r0, [r7, #24]
 3173 0214 0246     		mov	r2, r0
 3174 0216 1343     		orrs	r3, r3, r2
 3175 0218 3B61     		str	r3, [r7, #16]
 3176 021a 2B46     		mov	r3, r5
 3177 021c 0A46     		mov	r2, r1
 3178 021e 1343     		orrs	r3, r3, r2
 3179 0220 7B61     		str	r3, [r7, #20]
 3180 0222 BB6B     		ldr	r3, [r7, #56]
 3181 0224 1B68     		ldr	r3, [r3]
 3182 0226 0433     		adds	r3, r3, #4
 3183 0228 BA6C     		ldr	r2, [r7, #72]
 3184 022a 1344     		add	r3, r3, r2
 3185 022c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3186 022e D8B2     		uxtb	r0, r3
 3187 0230 4FF00001 		mov	r1, #0
 3188 0234 4FF00002 		mov	r2, #0
 3189 0238 4FF00003 		mov	r3, #0
 3190 023c 0300     		movs	r3, r0
 3191 023e 0022     		movs	r2, #0
 3192 0240 D7E90445 		ldrd	r4, [r7, #16]
 3193 0244 2146     		mov	r1, r4
 3194 0246 1143     		orrs	r1, r1, r2
 3195 0248 B960     		str	r1, [r7, #8]
 3196 024a 2946     		mov	r1, r5
 3197 024c 1943     		orrs	r1, r1, r3
 3198 024e F960     		str	r1, [r7, #12]
 3199 0250 BB6B     		ldr	r3, [r7, #56]
 3200 0252 1B68     		ldr	r3, [r3]
 3201 0254 0533     		adds	r3, r3, #5
 3202 0256 BA6C     		ldr	r2, [r7, #72]
 3203 0258 1344     		add	r3, r3, r2
 3204 025a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3205 025c D8B2     		uxtb	r0, r3
 3206 025e 4FF00001 		mov	r1, #0
 3207 0262 4FF00002 		mov	r2, #0
 3208 0266 4FF00003 		mov	r3, #0
 3209 026a 0302     		lsls	r3, r0, #8
 3210 026c 0022     		movs	r2, #0
 3211 026e D7E90245 		ldrd	r4, [r7, #8]
 3212 0272 2146     		mov	r1, r4
 3213 0274 41EA020A 		orr	r10, r1, r2
 3214 0278 2946     		mov	r1, r5
ARM GAS  /tmp/ccH7Wnit.s 			page 73


 3215 027a 41EA030B 		orr	fp, r1, r3
 3216 027e BB6B     		ldr	r3, [r7, #56]
 3217 0280 1B68     		ldr	r3, [r3]
 3218 0282 0633     		adds	r3, r3, #6
 3219 0284 BA6C     		ldr	r2, [r7, #72]
 3220 0286 1344     		add	r3, r3, r2
 3221 0288 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3222 028a D8B2     		uxtb	r0, r3
 3223 028c 4FF00001 		mov	r1, #0
 3224 0290 4FF00002 		mov	r2, #0
 3225 0294 4FF00003 		mov	r3, #0
 3226 0298 0304     		lsls	r3, r0, #16
 3227 029a 0022     		movs	r2, #0
 3228 029c 4AEA0208 		orr	r8, r10, r2
 3229 02a0 4BEA0309 		orr	r9, fp, r3
 3230 02a4 BB6B     		ldr	r3, [r7, #56]
 3231 02a6 1B68     		ldr	r3, [r3]
 3232 02a8 0733     		adds	r3, r3, #7
 3233 02aa BA6C     		ldr	r2, [r7, #72]
 3234 02ac 1344     		add	r3, r3, r2
 3235 02ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3236 02b0 D8B2     		uxtb	r0, r3
 3237 02b2 4FF00001 		mov	r1, #0
 3238 02b6 4FF00002 		mov	r2, #0
 3239 02ba 4FF00003 		mov	r3, #0
 3240 02be 0306     		lsls	r3, r0, #24
 3241 02c0 0022     		movs	r2, #0
 3242 02c2 48EA0201 		orr	r1, r8, r2
 3243 02c6 3960     		str	r1, [r7]
 3244 02c8 49EA0303 		orr	r3, r9, r3
 3245 02cc 7B60     		str	r3, [r7, #4]
 791:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += 8U;
 3246              		.loc 1 791 18
 3247 02ce 3B6B     		ldr	r3, [r7, #48]
 3248 02d0 D7E90012 		ldrd	r1, [r7]
 3249 02d4 C3E90012 		strd	r1, [r3]
 792:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3250              		.loc 1 792 15
 3251 02d8 BB6B     		ldr	r3, [r7, #56]
 3252 02da 1B68     		ldr	r3, [r3]
 3253 02dc 03F10802 		add	r2, r3, #8
 3254 02e0 BB6B     		ldr	r3, [r7, #56]
 3255 02e2 1A60     		str	r2, [r3]
 793:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 3256              		.loc 1 793 7
 3257 02e4 22E0     		b	.L92
 3258              	.L80:
 796:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3259              		.loc 1 796 15
 3260 02e6 BB6B     		ldr	r3, [r7, #56]
 3261 02e8 1B68     		ldr	r3, [r3]
 3262 02ea 03F11002 		add	r2, r3, #16
 3263 02ee BB6B     		ldr	r3, [r7, #56]
 3264 02f0 1A60     		str	r2, [r3]
 797:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_DTC_INT128:
 3265              		.loc 1 797 7
 3266 02f2 1BE0     		b	.L92
ARM GAS  /tmp/ccH7Wnit.s 			page 74


 3267              	.L82:
 799:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3268              		.loc 1 799 15
 3269 02f4 BB6B     		ldr	r3, [r7, #56]
 3270 02f6 1B68     		ldr	r3, [r3]
 3271 02f8 03F11002 		add	r2, r3, #16
 3272 02fc BB6B     		ldr	r3, [r7, #56]
 3273 02fe 1A60     		str	r2, [r3]
 800:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 3274              		.loc 1 800 7
 3275 0300 14E0     		b	.L92
 3276              	.L91:
 804:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += len * 2U + 1U;
 3277              		.loc 1 804 40
 3278 0302 386B     		ldr	r0, [r7, #48]
 804:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += len * 2U + 1U;
 3279              		.loc 1 804 72
 3280 0304 BB6B     		ldr	r3, [r7, #56]
 3281 0306 1B68     		ldr	r3, [r3]
 804:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       *offset += len * 2U + 1U;
 3282              		.loc 1 804 7
 3283 0308 BA6C     		ldr	r2, [r7, #72]
 3284 030a 1344     		add	r3, r3, r2
 3285 030c 07F14602 		add	r2, r7, #70
 3286 0310 1946     		mov	r1, r3
 3287 0312 FFF7FEFF 		bl	PTP_GetString
 805:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3288              		.loc 1 805 15
 3289 0316 BB6B     		ldr	r3, [r7, #56]
 3290 0318 1A68     		ldr	r2, [r3]
 3291 031a B7F84630 		ldrh	r3, [r7, #70]
 805:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3292              		.loc 1 805 22
 3293 031e 5B00     		lsls	r3, r3, #1
 805:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3294              		.loc 1 805 15
 3295 0320 1344     		add	r3, r3, r2
 3296 0322 5A1C     		adds	r2, r3, #1
 3297 0324 BB6B     		ldr	r3, [r7, #56]
 3298 0326 1A60     		str	r2, [r3]
 806:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
 3299              		.loc 1 806 7
 3300 0328 00E0     		b	.L92
 3301              	.L93:
 3302              		.loc 1 808 7
 3303 032a 00BF     		nop
 3304              	.L92:
 809:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 810:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 3305              		.loc 1 810 1
 3306 032c 00BF     		nop
 3307 032e 5037     		adds	r7, r7, #80
 3308              	.LCFI55:
 3309              		.cfi_def_cfa_offset 32
 3310 0330 BD46     		mov	sp, r7
 3311              	.LCFI56:
 3312              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccH7Wnit.s 			page 75


 3313              		@ sp needed
 3314 0332 BDE8B08F 		pop	{r4, r5, r7, r8, r9, r10, fp, pc}
 3315              		.cfi_endproc
 3316              	.LFE348:
 3318 0336 00BF     		.section	.text.PTP_GetObjectPropList,"ax",%progbits
 3319              		.align	1
 3320              		.syntax unified
 3321              		.thumb
 3322              		.thumb_func
 3323              		.fpu fpv5-d16
 3325              	PTP_GetObjectPropList:
 3326              	.LFB349:
 811:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 812:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 813:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 814:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  PTP_GetDevicePropValue
 815:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets objectInfo and fills object_info structure.
 816:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 817:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  opd: object prop descriptor structure
 818:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 819:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 820:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static uint32_t PTP_GetObjectPropList(USBH_HandleTypeDef *phost,
 821:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                       MTP_PropertiesTypedef *props,
 822:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                       uint32_t len)
 823:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 3327              		.loc 1 823 1
 3328              		.cfi_startproc
 3329              		@ args = 0, pretend = 0, frame = 40
 3330              		@ frame_needed = 1, uses_anonymous_args = 0
 3331 0000 80B5     		push	{r7, lr}
 3332              	.LCFI57:
 3333              		.cfi_def_cfa_offset 8
 3334              		.cfi_offset 7, -8
 3335              		.cfi_offset 14, -4
 3336 0002 8CB0     		sub	sp, sp, #48
 3337              	.LCFI58:
 3338              		.cfi_def_cfa_offset 56
 3339 0004 02AF     		add	r7, sp, #8
 3340              	.LCFI59:
 3341              		.cfi_def_cfa 7, 48
 3342 0006 F860     		str	r0, [r7, #12]
 3343 0008 B960     		str	r1, [r7, #8]
 3344 000a 7A60     		str	r2, [r7, #4]
 824:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 3345              		.loc 1 824 64
 3346 000c FB68     		ldr	r3, [r7, #12]
 3347 000e D3F87C34 		ldr	r3, [r3, #1148]
 3348              		.loc 1 824 25
 3349 0012 DB69     		ldr	r3, [r3, #28]
 3350 0014 FB61     		str	r3, [r7, #28]
 825:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint8_t *data = MTP_Handle->ptp.data_container.payload.data;
 3351              		.loc 1 825 12
 3352 0016 FA69     		ldr	r2, [r7, #28]
 3353 0018 41F69053 		movw	r3, #7568
 3354 001c 1344     		add	r3, r3, r2
 3355 001e 7B62     		str	r3, [r7, #36]
 826:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint32_t prop_count;
ARM GAS  /tmp/ccH7Wnit.s 			page 76


 827:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint32_t offset = 0U, i;
 3356              		.loc 1 827 12
 3357 0020 0023     		movs	r3, #0
 3358 0022 7B61     		str	r3, [r7, #20]
 828:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 829:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   prop_count = LE32(data);
 3359              		.loc 1 829 16
 3360 0024 7B6A     		ldr	r3, [r7, #36]
 3361 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3362 0028 1A46     		mov	r2, r3
 3363 002a 7B6A     		ldr	r3, [r7, #36]
 3364 002c 0133     		adds	r3, r3, #1
 3365 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3366 0030 1B02     		lsls	r3, r3, #8
 3367 0032 1A43     		orrs	r2, r2, r3
 3368 0034 7B6A     		ldr	r3, [r7, #36]
 3369 0036 0233     		adds	r3, r3, #2
 3370 0038 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3371 003a 1B04     		lsls	r3, r3, #16
 3372 003c 1A43     		orrs	r2, r2, r3
 3373 003e 7B6A     		ldr	r3, [r7, #36]
 3374 0040 0333     		adds	r3, r3, #3
 3375 0042 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3376 0044 1B06     		lsls	r3, r3, #24
 3377              		.loc 1 829 14
 3378 0046 1343     		orrs	r3, r3, r2
 3379 0048 BB61     		str	r3, [r7, #24]
 830:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 831:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   if (prop_count == 0U)
 3380              		.loc 1 831 6
 3381 004a BB69     		ldr	r3, [r7, #24]
 3382 004c 002B     		cmp	r3, #0
 3383 004e 01D1     		bne	.L95
 832:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 833:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     return 0U;
 3384              		.loc 1 833 12
 3385 0050 0023     		movs	r3, #0
 3386 0052 94E0     		b	.L100
 3387              	.L95:
 834:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 835:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 836:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   data += sizeof(uint32_t);
 3388              		.loc 1 836 8
 3389 0054 7B6A     		ldr	r3, [r7, #36]
 3390 0056 0433     		adds	r3, r3, #4
 3391 0058 7B62     		str	r3, [r7, #36]
 837:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   len -= sizeof(uint32_t);
 3392              		.loc 1 837 7
 3393 005a 7B68     		ldr	r3, [r7, #4]
 3394 005c 043B     		subs	r3, r3, #4
 3395 005e 7B60     		str	r3, [r7, #4]
 838:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 839:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   for (i = 0U; i < prop_count; i++)
 3396              		.loc 1 839 10
 3397 0060 0023     		movs	r3, #0
 3398 0062 3B62     		str	r3, [r7, #32]
 3399              		.loc 1 839 3
ARM GAS  /tmp/ccH7Wnit.s 			page 77


 3400 0064 85E0     		b	.L97
 3401              	.L99:
 840:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 841:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     if (len <= 0U)
 3402              		.loc 1 841 8
 3403 0066 7B68     		ldr	r3, [r7, #4]
 3404 0068 002B     		cmp	r3, #0
 3405 006a 01D1     		bne	.L98
 842:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     {
 843:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       return 0U;
 3406              		.loc 1 843 14
 3407 006c 0023     		movs	r3, #0
 3408 006e 86E0     		b	.L100
 3409              	.L98:
 844:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     }
 845:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 846:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     props[i].ObjectHandle = LE32(data);
 3410              		.loc 1 846 29 discriminator 2
 3411 0070 7B6A     		ldr	r3, [r7, #36]
 3412 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3413 0074 1A46     		mov	r2, r3
 3414 0076 7B6A     		ldr	r3, [r7, #36]
 3415 0078 0133     		adds	r3, r3, #1
 3416 007a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3417 007c 1B02     		lsls	r3, r3, #8
 3418 007e 1A43     		orrs	r2, r2, r3
 3419 0080 7B6A     		ldr	r3, [r7, #36]
 3420 0082 0233     		adds	r3, r3, #2
 3421 0084 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3422 0086 1B04     		lsls	r3, r3, #16
 3423 0088 42EA0300 		orr	r0, r2, r3
 3424 008c 7B6A     		ldr	r3, [r7, #36]
 3425 008e 0333     		adds	r3, r3, #3
 3426 0090 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3427 0092 1906     		lsls	r1, r3, #24
 3428              		.loc 1 846 10 discriminator 2
 3429 0094 3A6A     		ldr	r2, [r7, #32]
 3430 0096 1346     		mov	r3, r2
 3431 0098 5B01     		lsls	r3, r3, #5
 3432 009a 1344     		add	r3, r3, r2
 3433 009c DB00     		lsls	r3, r3, #3
 3434 009e 1A46     		mov	r2, r3
 3435 00a0 BB68     		ldr	r3, [r7, #8]
 3436 00a2 1344     		add	r3, r3, r2
 3437              		.loc 1 846 29 discriminator 2
 3438 00a4 40EA0102 		orr	r2, r0, r1
 3439              		.loc 1 846 27 discriminator 2
 3440 00a8 5A60     		str	r2, [r3, #4]
 847:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     data += sizeof(uint32_t);
 3441              		.loc 1 847 10 discriminator 2
 3442 00aa 7B6A     		ldr	r3, [r7, #36]
 3443 00ac 0433     		adds	r3, r3, #4
 3444 00ae 7B62     		str	r3, [r7, #36]
 848:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     len -= sizeof(uint32_t);
 3445              		.loc 1 848 9 discriminator 2
 3446 00b0 7B68     		ldr	r3, [r7, #4]
 3447 00b2 043B     		subs	r3, r3, #4
ARM GAS  /tmp/ccH7Wnit.s 			page 78


 3448 00b4 7B60     		str	r3, [r7, #4]
 849:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 850:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     props[i].property = LE16(data);
 3449              		.loc 1 850 25 discriminator 2
 3450 00b6 7B6A     		ldr	r3, [r7, #36]
 3451 00b8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3452 00ba 98B2     		uxth	r0, r3
 3453 00bc 7B6A     		ldr	r3, [r7, #36]
 3454 00be 0133     		adds	r3, r3, #1
 3455 00c0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3456 00c2 9BB2     		uxth	r3, r3
 3457 00c4 1B02     		lsls	r3, r3, #8
 3458 00c6 99B2     		uxth	r1, r3
 3459              		.loc 1 850 10 discriminator 2
 3460 00c8 3A6A     		ldr	r2, [r7, #32]
 3461 00ca 1346     		mov	r3, r2
 3462 00cc 5B01     		lsls	r3, r3, #5
 3463 00ce 1344     		add	r3, r3, r2
 3464 00d0 DB00     		lsls	r3, r3, #3
 3465 00d2 1A46     		mov	r2, r3
 3466 00d4 BB68     		ldr	r3, [r7, #8]
 3467 00d6 1344     		add	r3, r3, r2
 3468              		.loc 1 850 25 discriminator 2
 3469 00d8 40EA0102 		orr	r2, r0, r1
 3470 00dc 92B2     		uxth	r2, r2
 3471              		.loc 1 850 23 discriminator 2
 3472 00de 1A80     		strh	r2, [r3]	@ movhi
 851:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     data += sizeof(uint16_t);
 3473              		.loc 1 851 10 discriminator 2
 3474 00e0 7B6A     		ldr	r3, [r7, #36]
 3475 00e2 0233     		adds	r3, r3, #2
 3476 00e4 7B62     		str	r3, [r7, #36]
 852:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     len -= sizeof(uint16_t);
 3477              		.loc 1 852 9 discriminator 2
 3478 00e6 7B68     		ldr	r3, [r7, #4]
 3479 00e8 023B     		subs	r3, r3, #2
 3480 00ea 7B60     		str	r3, [r7, #4]
 853:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 854:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     props[i].datatype = LE16(data);
 3481              		.loc 1 854 25 discriminator 2
 3482 00ec 7B6A     		ldr	r3, [r7, #36]
 3483 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3484 00f0 98B2     		uxth	r0, r3
 3485 00f2 7B6A     		ldr	r3, [r7, #36]
 3486 00f4 0133     		adds	r3, r3, #1
 3487 00f6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3488 00f8 9BB2     		uxth	r3, r3
 3489 00fa 1B02     		lsls	r3, r3, #8
 3490 00fc 99B2     		uxth	r1, r3
 3491              		.loc 1 854 10 discriminator 2
 3492 00fe 3A6A     		ldr	r2, [r7, #32]
 3493 0100 1346     		mov	r3, r2
 3494 0102 5B01     		lsls	r3, r3, #5
 3495 0104 1344     		add	r3, r3, r2
 3496 0106 DB00     		lsls	r3, r3, #3
 3497 0108 1A46     		mov	r2, r3
 3498 010a BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccH7Wnit.s 			page 79


 3499 010c 1344     		add	r3, r3, r2
 3500              		.loc 1 854 25 discriminator 2
 3501 010e 40EA0102 		orr	r2, r0, r1
 3502 0112 92B2     		uxth	r2, r2
 3503              		.loc 1 854 23 discriminator 2
 3504 0114 5A80     		strh	r2, [r3, #2]	@ movhi
 855:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     data += sizeof(uint16_t);
 3505              		.loc 1 855 10 discriminator 2
 3506 0116 7B6A     		ldr	r3, [r7, #36]
 3507 0118 0233     		adds	r3, r3, #2
 3508 011a 7B62     		str	r3, [r7, #36]
 856:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     len -= sizeof(uint16_t);
 3509              		.loc 1 856 9 discriminator 2
 3510 011c 7B68     		ldr	r3, [r7, #4]
 3511 011e 023B     		subs	r3, r3, #2
 3512 0120 7B60     		str	r3, [r7, #4]
 857:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 858:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     offset = 0U;
 3513              		.loc 1 858 12 discriminator 2
 3514 0122 0023     		movs	r3, #0
 3515 0124 7B61     		str	r3, [r7, #20]
 859:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 860:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     PTP_GetDevicePropValue(phost, &offset, len, &props[i].propval, props[i].datatype);
 3516              		.loc 1 860 55 discriminator 2
 3517 0126 3A6A     		ldr	r2, [r7, #32]
 3518 0128 1346     		mov	r3, r2
 3519 012a 5B01     		lsls	r3, r3, #5
 3520 012c 1344     		add	r3, r3, r2
 3521 012e DB00     		lsls	r3, r3, #3
 3522 0130 1A46     		mov	r2, r3
 3523 0132 BB68     		ldr	r3, [r7, #8]
 3524 0134 1344     		add	r3, r3, r2
 3525              		.loc 1 860 5 discriminator 2
 3526 0136 03F10800 		add	r0, r3, #8
 3527              		.loc 1 860 73 discriminator 2
 3528 013a 3A6A     		ldr	r2, [r7, #32]
 3529 013c 1346     		mov	r3, r2
 3530 013e 5B01     		lsls	r3, r3, #5
 3531 0140 1344     		add	r3, r3, r2
 3532 0142 DB00     		lsls	r3, r3, #3
 3533 0144 1A46     		mov	r2, r3
 3534 0146 BB68     		ldr	r3, [r7, #8]
 3535 0148 1344     		add	r3, r3, r2
 3536              		.loc 1 860 5 discriminator 2
 3537 014a 5B88     		ldrh	r3, [r3, #2]
 3538 014c 07F11401 		add	r1, r7, #20
 3539 0150 0093     		str	r3, [sp]
 3540 0152 0346     		mov	r3, r0
 3541 0154 7A68     		ldr	r2, [r7, #4]
 3542 0156 F868     		ldr	r0, [r7, #12]
 3543 0158 FFF7FEFF 		bl	PTP_GetDevicePropValue
 861:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 862:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     data += offset;
 3544              		.loc 1 862 10 discriminator 2
 3545 015c 7B69     		ldr	r3, [r7, #20]
 3546 015e 7A6A     		ldr	r2, [r7, #36]
 3547 0160 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccH7Wnit.s 			page 80


 3548 0162 7B62     		str	r3, [r7, #36]
 863:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     len -= offset;
 3549              		.loc 1 863 9 discriminator 2
 3550 0164 7B69     		ldr	r3, [r7, #20]
 3551 0166 7A68     		ldr	r2, [r7, #4]
 3552 0168 D31A     		subs	r3, r2, r3
 3553 016a 7B60     		str	r3, [r7, #4]
 839:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 3554              		.loc 1 839 33 discriminator 2
 3555 016c 3B6A     		ldr	r3, [r7, #32]
 3556 016e 0133     		adds	r3, r3, #1
 3557 0170 3B62     		str	r3, [r7, #32]
 3558              	.L97:
 839:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 3559              		.loc 1 839 3 discriminator 1
 3560 0172 3A6A     		ldr	r2, [r7, #32]
 3561 0174 BB69     		ldr	r3, [r7, #24]
 3562 0176 9A42     		cmp	r2, r3
 3563 0178 FFF475AF 		bcc	.L99
 864:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 865:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 866:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return prop_count;
 3564              		.loc 1 866 10
 3565 017c BB69     		ldr	r3, [r7, #24]
 3566              	.L100:
 867:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 3567              		.loc 1 867 1 discriminator 1
 3568 017e 1846     		mov	r0, r3
 3569 0180 2837     		adds	r7, r7, #40
 3570              	.LCFI60:
 3571              		.cfi_def_cfa_offset 8
 3572 0182 BD46     		mov	sp, r7
 3573              	.LCFI61:
 3574              		.cfi_def_cfa_register 13
 3575              		@ sp needed
 3576 0184 80BD     		pop	{r7, pc}
 3577              		.cfi_endproc
 3578              	.LFE349:
 3580              		.section	.text.PTP_GetString,"ax",%progbits
 3581              		.align	1
 3582              		.syntax unified
 3583              		.thumb
 3584              		.thumb_func
 3585              		.fpu fpv5-d16
 3587              	PTP_GetString:
 3588              	.LFB350:
 868:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 869:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 870:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  PTP_GetString
 871:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets SCII String from.
 872:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  str: ascii string
 873:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  data: Device info structure
 874:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 875:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 876:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static void PTP_GetString(uint8_t *str, uint8_t *data, uint16_t *len)
 877:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 3589              		.loc 1 877 1
ARM GAS  /tmp/ccH7Wnit.s 			page 81


 3590              		.cfi_startproc
 3591              		@ args = 0, pretend = 0, frame = 24
 3592              		@ frame_needed = 1, uses_anonymous_args = 0
 3593              		@ link register save eliminated.
 3594 0000 80B4     		push	{r7}
 3595              	.LCFI62:
 3596              		.cfi_def_cfa_offset 4
 3597              		.cfi_offset 7, -4
 3598 0002 87B0     		sub	sp, sp, #28
 3599              	.LCFI63:
 3600              		.cfi_def_cfa_offset 32
 3601 0004 00AF     		add	r7, sp, #0
 3602              	.LCFI64:
 3603              		.cfi_def_cfa_register 7
 3604 0006 F860     		str	r0, [r7, #12]
 3605 0008 B960     		str	r1, [r7, #8]
 3606 000a 7A60     		str	r2, [r7, #4]
 878:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint16_t strlength;
 879:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint16_t idx;
 880:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 881:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *len = data[0];
 3607              		.loc 1 881 14
 3608 000c BB68     		ldr	r3, [r7, #8]
 3609 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3610 0010 9AB2     		uxth	r2, r3
 3611              		.loc 1 881 8
 3612 0012 7B68     		ldr	r3, [r7, #4]
 3613 0014 1A80     		strh	r2, [r3]	@ movhi
 882:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   strlength = (uint16_t)(2U * (uint32_t)data[0]);
 3614              		.loc 1 882 45
 3615 0016 BB68     		ldr	r3, [r7, #8]
 3616 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3617 001a 9BB2     		uxth	r3, r3
 3618              		.loc 1 882 13
 3619 001c 5B00     		lsls	r3, r3, #1
 3620 001e BB82     		strh	r3, [r7, #20]	@ movhi
 883:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   data ++; /* Adjust the offset ignoring the String Len */
 3621              		.loc 1 883 8
 3622 0020 BB68     		ldr	r3, [r7, #8]
 3623 0022 0133     		adds	r3, r3, #1
 3624 0024 BB60     		str	r3, [r7, #8]
 884:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 885:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   for (idx = 0U; idx < strlength; idx += 2U)
 3625              		.loc 1 885 12
 3626 0026 0023     		movs	r3, #0
 3627 0028 FB82     		strh	r3, [r7, #22]	@ movhi
 3628              		.loc 1 885 3
 3629 002a 0BE0     		b	.L102
 3630              	.L103:
 886:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 887:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     /* Copy Only the string and ignore the UNICODE ID, hence add the src */
 888:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     *str = data[idx];
 3631              		.loc 1 888 16 discriminator 3
 3632 002c FB8A     		ldrh	r3, [r7, #22]
 3633 002e BA68     		ldr	r2, [r7, #8]
 3634 0030 1344     		add	r3, r3, r2
 3635 0032 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccH7Wnit.s 			page 82


 3636              		.loc 1 888 10 discriminator 3
 3637 0034 FB68     		ldr	r3, [r7, #12]
 3638 0036 1A70     		strb	r2, [r3]
 889:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     str++;
 3639              		.loc 1 889 8 discriminator 3
 3640 0038 FB68     		ldr	r3, [r7, #12]
 3641 003a 0133     		adds	r3, r3, #1
 3642 003c FB60     		str	r3, [r7, #12]
 885:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 3643              		.loc 1 885 39 discriminator 3
 3644 003e FB8A     		ldrh	r3, [r7, #22]	@ movhi
 3645 0040 0233     		adds	r3, r3, #2
 3646 0042 FB82     		strh	r3, [r7, #22]	@ movhi
 3647              	.L102:
 885:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 3648              		.loc 1 885 3 discriminator 1
 3649 0044 FA8A     		ldrh	r2, [r7, #22]
 3650 0046 BB8A     		ldrh	r3, [r7, #20]
 3651 0048 9A42     		cmp	r2, r3
 3652 004a EFD3     		bcc	.L103
 890:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 891:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *str = 0U; /* mark end of string */
 3653              		.loc 1 891 8
 3654 004c FB68     		ldr	r3, [r7, #12]
 3655 004e 0022     		movs	r2, #0
 3656 0050 1A70     		strb	r2, [r3]
 892:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 3657              		.loc 1 892 1
 3658 0052 00BF     		nop
 3659 0054 1C37     		adds	r7, r7, #28
 3660              	.LCFI65:
 3661              		.cfi_def_cfa_offset 4
 3662 0056 BD46     		mov	sp, r7
 3663              	.LCFI66:
 3664              		.cfi_def_cfa_register 13
 3665              		@ sp needed
 3666 0058 5DF8047B 		ldr	r7, [sp], #4
 3667              	.LCFI67:
 3668              		.cfi_restore 7
 3669              		.cfi_def_cfa_offset 0
 3670 005c 7047     		bx	lr
 3671              		.cfi_endproc
 3672              	.LFE350:
 3674              		.section	.text.PTP_GetArray16,"ax",%progbits
 3675              		.align	1
 3676              		.syntax unified
 3677              		.thumb
 3678              		.thumb_func
 3679              		.fpu fpv5-d16
 3681              	PTP_GetArray16:
 3682              	.LFB351:
 893:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 894:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 895:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  PTP_GetString
 896:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets SCII String from.
 897:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  str: ascii string
 898:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  data: Device info structure
ARM GAS  /tmp/ccH7Wnit.s 			page 83


 899:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 900:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 901:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 902:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static uint32_t PTP_GetArray16(uint16_t *array, uint8_t *data, uint32_t offset)
 903:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 3683              		.loc 1 903 1
 3684              		.cfi_startproc
 3685              		@ args = 0, pretend = 0, frame = 24
 3686              		@ frame_needed = 1, uses_anonymous_args = 0
 3687              		@ link register save eliminated.
 3688 0000 80B4     		push	{r7}
 3689              	.LCFI68:
 3690              		.cfi_def_cfa_offset 4
 3691              		.cfi_offset 7, -4
 3692 0002 87B0     		sub	sp, sp, #28
 3693              	.LCFI69:
 3694              		.cfi_def_cfa_offset 32
 3695 0004 00AF     		add	r7, sp, #0
 3696              	.LCFI70:
 3697              		.cfi_def_cfa_register 7
 3698 0006 F860     		str	r0, [r7, #12]
 3699 0008 B960     		str	r1, [r7, #8]
 3700 000a 7A60     		str	r2, [r7, #4]
 904:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint32_t size, idx = 0U;
 3701              		.loc 1 904 18
 3702 000c 0023     		movs	r3, #0
 3703 000e 7B61     		str	r3, [r7, #20]
 905:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 906:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   size = LE32(&data[offset]);
 3704              		.loc 1 906 10
 3705 0010 BA68     		ldr	r2, [r7, #8]
 3706 0012 7B68     		ldr	r3, [r7, #4]
 3707 0014 1344     		add	r3, r3, r2
 3708 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3709 0018 1946     		mov	r1, r3
 3710 001a 7B68     		ldr	r3, [r7, #4]
 3711 001c 0133     		adds	r3, r3, #1
 3712 001e BA68     		ldr	r2, [r7, #8]
 3713 0020 1344     		add	r3, r3, r2
 3714 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3715 0024 1B02     		lsls	r3, r3, #8
 3716 0026 41EA0302 		orr	r2, r1, r3
 3717 002a 7B68     		ldr	r3, [r7, #4]
 3718 002c 0233     		adds	r3, r3, #2
 3719 002e B968     		ldr	r1, [r7, #8]
 3720 0030 0B44     		add	r3, r3, r1
 3721 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3722 0034 1B04     		lsls	r3, r3, #16
 3723 0036 1A43     		orrs	r2, r2, r3
 3724 0038 7B68     		ldr	r3, [r7, #4]
 3725 003a 0333     		adds	r3, r3, #3
 3726 003c B968     		ldr	r1, [r7, #8]
 3727 003e 0B44     		add	r3, r3, r1
 3728 0040 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3729 0042 1B06     		lsls	r3, r3, #24
 3730              		.loc 1 906 8
 3731 0044 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/ccH7Wnit.s 			page 84


 3732 0046 3B61     		str	r3, [r7, #16]
 907:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   while (size > idx)
 3733              		.loc 1 907 9
 3734 0048 10E0     		b	.L105
 3735              	.L106:
 908:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 909:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     array[idx] = (uint16_t)data[offset + (sizeof(uint16_t) * (idx + 2U))];
 3736              		.loc 1 909 67
 3737 004a 7B69     		ldr	r3, [r7, #20]
 3738 004c 0233     		adds	r3, r3, #2
 3739              		.loc 1 909 60
 3740 004e 5A00     		lsls	r2, r3, #1
 3741              		.loc 1 909 40
 3742 0050 7B68     		ldr	r3, [r7, #4]
 3743 0052 1344     		add	r3, r3, r2
 3744              		.loc 1 909 32
 3745 0054 BA68     		ldr	r2, [r7, #8]
 3746 0056 1344     		add	r3, r3, r2
 3747 0058 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 3748              		.loc 1 909 10
 3749 005a 7B69     		ldr	r3, [r7, #20]
 3750 005c 5B00     		lsls	r3, r3, #1
 3751 005e FA68     		ldr	r2, [r7, #12]
 3752 0060 1344     		add	r3, r3, r2
 3753              		.loc 1 909 18
 3754 0062 8AB2     		uxth	r2, r1
 3755              		.loc 1 909 16
 3756 0064 1A80     		strh	r2, [r3]	@ movhi
 910:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     idx++;
 3757              		.loc 1 910 8
 3758 0066 7B69     		ldr	r3, [r7, #20]
 3759 0068 0133     		adds	r3, r3, #1
 3760 006a 7B61     		str	r3, [r7, #20]
 3761              	.L105:
 907:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   while (size > idx)
 3762              		.loc 1 907 9
 3763 006c 3A69     		ldr	r2, [r7, #16]
 3764 006e 7B69     		ldr	r3, [r7, #20]
 3765 0070 9A42     		cmp	r2, r3
 3766 0072 EAD8     		bhi	.L106
 911:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 912:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return size;
 3767              		.loc 1 912 10
 3768 0074 3B69     		ldr	r3, [r7, #16]
 913:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 3769              		.loc 1 913 1
 3770 0076 1846     		mov	r0, r3
 3771 0078 1C37     		adds	r7, r7, #28
 3772              	.LCFI71:
 3773              		.cfi_def_cfa_offset 4
 3774 007a BD46     		mov	sp, r7
 3775              	.LCFI72:
 3776              		.cfi_def_cfa_register 13
 3777              		@ sp needed
 3778 007c 5DF8047B 		ldr	r7, [sp], #4
 3779              	.LCFI73:
 3780              		.cfi_restore 7
ARM GAS  /tmp/ccH7Wnit.s 			page 85


 3781              		.cfi_def_cfa_offset 0
 3782 0080 7047     		bx	lr
 3783              		.cfi_endproc
 3784              	.LFE351:
 3786              		.section	.text.PTP_GetArray32,"ax",%progbits
 3787              		.align	1
 3788              		.syntax unified
 3789              		.thumb
 3790              		.thumb_func
 3791              		.fpu fpv5-d16
 3793              	PTP_GetArray32:
 3794              	.LFB352:
 914:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 915:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 916:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  PTP_GetString
 917:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets SCII String from.
 918:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  str: ascii string
 919:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  data: Device info structure
 920:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval None
 921:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 922:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 923:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** static uint32_t PTP_GetArray32(uint32_t *array, uint8_t *data, uint32_t offset)
 924:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 3795              		.loc 1 924 1
 3796              		.cfi_startproc
 3797              		@ args = 0, pretend = 0, frame = 24
 3798              		@ frame_needed = 1, uses_anonymous_args = 0
 3799              		@ link register save eliminated.
 3800 0000 80B4     		push	{r7}
 3801              	.LCFI74:
 3802              		.cfi_def_cfa_offset 4
 3803              		.cfi_offset 7, -4
 3804 0002 87B0     		sub	sp, sp, #28
 3805              	.LCFI75:
 3806              		.cfi_def_cfa_offset 32
 3807 0004 00AF     		add	r7, sp, #0
 3808              	.LCFI76:
 3809              		.cfi_def_cfa_register 7
 3810 0006 F860     		str	r0, [r7, #12]
 3811 0008 B960     		str	r1, [r7, #8]
 3812 000a 7A60     		str	r2, [r7, #4]
 925:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint32_t size, idx = 0U;
 3813              		.loc 1 925 18
 3814 000c 0023     		movs	r3, #0
 3815 000e 7B61     		str	r3, [r7, #20]
 926:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 927:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   size = LE32(&data[offset]);
 3816              		.loc 1 927 10
 3817 0010 BA68     		ldr	r2, [r7, #8]
 3818 0012 7B68     		ldr	r3, [r7, #4]
 3819 0014 1344     		add	r3, r3, r2
 3820 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3821 0018 1946     		mov	r1, r3
 3822 001a 7B68     		ldr	r3, [r7, #4]
 3823 001c 0133     		adds	r3, r3, #1
 3824 001e BA68     		ldr	r2, [r7, #8]
 3825 0020 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccH7Wnit.s 			page 86


 3826 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3827 0024 1B02     		lsls	r3, r3, #8
 3828 0026 41EA0302 		orr	r2, r1, r3
 3829 002a 7B68     		ldr	r3, [r7, #4]
 3830 002c 0233     		adds	r3, r3, #2
 3831 002e B968     		ldr	r1, [r7, #8]
 3832 0030 0B44     		add	r3, r3, r1
 3833 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3834 0034 1B04     		lsls	r3, r3, #16
 3835 0036 1A43     		orrs	r2, r2, r3
 3836 0038 7B68     		ldr	r3, [r7, #4]
 3837 003a 0333     		adds	r3, r3, #3
 3838 003c B968     		ldr	r1, [r7, #8]
 3839 003e 0B44     		add	r3, r3, r1
 3840 0040 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3841 0042 1B06     		lsls	r3, r3, #24
 3842              		.loc 1 927 8
 3843 0044 1343     		orrs	r3, r3, r2
 3844 0046 3B61     		str	r3, [r7, #16]
 928:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   while (size > idx)
 3845              		.loc 1 928 9
 3846 0048 33E0     		b	.L109
 3847              	.L110:
 929:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 930:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     array[idx] = LE32(&data[offset + (sizeof(uint32_t) * (idx + 1U))]);
 3848              		.loc 1 930 18
 3849 004a 7B69     		ldr	r3, [r7, #20]
 3850 004c 0133     		adds	r3, r3, #1
 3851 004e 9A00     		lsls	r2, r3, #2
 3852 0050 7B68     		ldr	r3, [r7, #4]
 3853 0052 1344     		add	r3, r3, r2
 3854 0054 BA68     		ldr	r2, [r7, #8]
 3855 0056 1344     		add	r3, r3, r2
 3856 0058 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3857 005a 1946     		mov	r1, r3
 3858 005c 7B69     		ldr	r3, [r7, #20]
 3859 005e 0133     		adds	r3, r3, #1
 3860 0060 9A00     		lsls	r2, r3, #2
 3861 0062 7B68     		ldr	r3, [r7, #4]
 3862 0064 1344     		add	r3, r3, r2
 3863 0066 0133     		adds	r3, r3, #1
 3864 0068 BA68     		ldr	r2, [r7, #8]
 3865 006a 1344     		add	r3, r3, r2
 3866 006c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3867 006e 1B02     		lsls	r3, r3, #8
 3868 0070 41EA0302 		orr	r2, r1, r3
 3869 0074 7B69     		ldr	r3, [r7, #20]
 3870 0076 0133     		adds	r3, r3, #1
 3871 0078 9900     		lsls	r1, r3, #2
 3872 007a 7B68     		ldr	r3, [r7, #4]
 3873 007c 0B44     		add	r3, r3, r1
 3874 007e 0233     		adds	r3, r3, #2
 3875 0080 B968     		ldr	r1, [r7, #8]
 3876 0082 0B44     		add	r3, r3, r1
 3877 0084 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3878 0086 1B04     		lsls	r3, r3, #16
 3879 0088 42EA0301 		orr	r1, r2, r3
ARM GAS  /tmp/ccH7Wnit.s 			page 87


 3880 008c 7B69     		ldr	r3, [r7, #20]
 3881 008e 0133     		adds	r3, r3, #1
 3882 0090 9A00     		lsls	r2, r3, #2
 3883 0092 7B68     		ldr	r3, [r7, #4]
 3884 0094 1344     		add	r3, r3, r2
 3885 0096 0333     		adds	r3, r3, #3
 3886 0098 BA68     		ldr	r2, [r7, #8]
 3887 009a 1344     		add	r3, r3, r2
 3888 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3889 009e 1A06     		lsls	r2, r3, #24
 3890              		.loc 1 930 10
 3891 00a0 7B69     		ldr	r3, [r7, #20]
 3892 00a2 9B00     		lsls	r3, r3, #2
 3893 00a4 F868     		ldr	r0, [r7, #12]
 3894 00a6 0344     		add	r3, r3, r0
 3895              		.loc 1 930 18
 3896 00a8 0A43     		orrs	r2, r2, r1
 3897              		.loc 1 930 16
 3898 00aa 1A60     		str	r2, [r3]
 931:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     idx++;
 3899              		.loc 1 931 8
 3900 00ac 7B69     		ldr	r3, [r7, #20]
 3901 00ae 0133     		adds	r3, r3, #1
 3902 00b0 7B61     		str	r3, [r7, #20]
 3903              	.L109:
 928:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   while (size > idx)
 3904              		.loc 1 928 9
 3905 00b2 3A69     		ldr	r2, [r7, #16]
 3906 00b4 7B69     		ldr	r3, [r7, #20]
 3907 00b6 9A42     		cmp	r2, r3
 3908 00b8 C7D8     		bhi	.L110
 932:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 933:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return size;
 3909              		.loc 1 933 10
 3910 00ba 3B69     		ldr	r3, [r7, #16]
 934:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 3911              		.loc 1 934 1
 3912 00bc 1846     		mov	r0, r3
 3913 00be 1C37     		adds	r7, r7, #28
 3914              	.LCFI77:
 3915              		.cfi_def_cfa_offset 4
 3916 00c0 BD46     		mov	sp, r7
 3917              	.LCFI78:
 3918              		.cfi_def_cfa_register 13
 3919              		@ sp needed
 3920 00c2 5DF8047B 		ldr	r7, [sp], #4
 3921              	.LCFI79:
 3922              		.cfi_restore 7
 3923              		.cfi_def_cfa_offset 0
 3924 00c6 7047     		bx	lr
 3925              		.cfi_endproc
 3926              	.LFE352:
 3928              		.section	.text.USBH_PTP_OpenSession,"ax",%progbits
 3929              		.align	1
 3930              		.global	USBH_PTP_OpenSession
 3931              		.syntax unified
 3932              		.thumb
ARM GAS  /tmp/ccH7Wnit.s 			page 88


 3933              		.thumb_func
 3934              		.fpu fpv5-d16
 3936              	USBH_PTP_OpenSession:
 3937              	.LFB353:
 935:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 936:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /*******************************************************************************
 937:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 938:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                           PTP Requests
 939:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 940:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** *******************************************************************************/
 941:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 942:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_OpenSession
 943:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Open a new session
 944:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
 945:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  session: Session ID (MUST BE > 0U)
 946:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
 947:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
 948:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_OpenSession(USBH_HandleTypeDef *phost, uint32_t session)
 949:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 3938              		.loc 1 949 1
 3939              		.cfi_startproc
 3940              		@ args = 0, pretend = 0, frame = 56
 3941              		@ frame_needed = 1, uses_anonymous_args = 0
 3942 0000 80B5     		push	{r7, lr}
 3943              	.LCFI80:
 3944              		.cfi_def_cfa_offset 8
 3945              		.cfi_offset 7, -8
 3946              		.cfi_offset 14, -4
 3947 0002 8EB0     		sub	sp, sp, #56
 3948              	.LCFI81:
 3949              		.cfi_def_cfa_offset 64
 3950 0004 00AF     		add	r7, sp, #0
 3951              	.LCFI82:
 3952              		.cfi_def_cfa_register 7
 3953 0006 7860     		str	r0, [r7, #4]
 3954 0008 3960     		str	r1, [r7]
 950:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef   status = USBH_BUSY;
 3955              		.loc 1 950 24
 3956 000a 0123     		movs	r3, #1
 3957 000c 87F83730 		strb	r3, [r7, #55]
 951:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 3958              		.loc 1 951 64
 3959 0010 7B68     		ldr	r3, [r7, #4]
 3960 0012 D3F87C34 		ldr	r3, [r3, #1148]
 3961              		.loc 1 951 25
 3962 0016 DB69     		ldr	r3, [r3, #28]
 3963 0018 3B63     		str	r3, [r7, #48]
 952:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef  ptp_container;
 953:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 954:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 3964              		.loc 1 954 26
 3965 001a 3A6B     		ldr	r2, [r7, #48]
 3966 001c 41F66153 		movw	r3, #7521
 3967 0020 1344     		add	r3, r3, r2
 3968 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3969              		.loc 1 954 3
 3970 0024 012B     		cmp	r3, #1
ARM GAS  /tmp/ccH7Wnit.s 			page 89


 3971 0026 02D0     		beq	.L113
 3972 0028 022B     		cmp	r3, #2
 3973 002a 4BD0     		beq	.L114
 955:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
 956:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
 957:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Init session params */
 958:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.transaction_id = 0x00000000U;
 959:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.session_id = session;
 960:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_NODATA;
 961:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 962:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
 963:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_OpenSession;
 964:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = session;
 965:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id ++;
 966:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = session;
 967:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
 968:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 969:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet inti USB raw packet*/
 970:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
 971:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 972:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
 973:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
 974:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 975:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 976:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 977:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
 978:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
 979:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 980:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 981:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
 982:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 983:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 984:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 985:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 986:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 987:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
 988:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
 989:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 990:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 991:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
 992:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 3974              		.loc 1 992 7
 3975 002c 51E0     		b	.L116
 3976              	.L113:
 958:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.session_id = session;
 3977              		.loc 1 958 38
 3978 002e 3A6B     		ldr	r2, [r7, #48]
 3979 0030 42F2A413 		movw	r3, #8612
 3980 0034 1344     		add	r3, r3, r2
 3981 0036 0022     		movs	r2, #0
 3982 0038 1A60     		str	r2, [r3]
 959:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_NODATA;
 3983              		.loc 1 959 34
 3984 003a 3A6B     		ldr	r2, [r7, #48]
 3985 003c 42F2A813 		movw	r3, #8616
 3986 0040 1344     		add	r3, r3, r2
 3987 0042 3A68     		ldr	r2, [r7]
ARM GAS  /tmp/ccH7Wnit.s 			page 90


 3988 0044 1A60     		str	r2, [r3]
 960:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 3989              		.loc 1 960 29
 3990 0046 3A6B     		ldr	r2, [r7, #48]
 3991 0048 42F2AC13 		movw	r3, #8620
 3992 004c 1344     		add	r3, r3, r2
 3993 004e 0022     		movs	r2, #0
 3994 0050 1A60     		str	r2, [r3]
 963:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = session;
 3995              		.loc 1 963 26
 3996 0052 41F20203 		movw	r3, #4098
 3997 0056 BB81     		strh	r3, [r7, #12]	@ movhi
 964:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id ++;
 3998              		.loc 1 964 31
 3999 0058 3B68     		ldr	r3, [r7]
 4000 005a 3B61     		str	r3, [r7, #16]
 965:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = session;
 4001              		.loc 1 965 53
 4002 005c 3A6B     		ldr	r2, [r7, #48]
 4003 005e 42F2A413 		movw	r3, #8612
 4004 0062 1344     		add	r3, r3, r2
 4005 0064 1A68     		ldr	r2, [r3]
 965:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = session;
 4006              		.loc 1 965 69
 4007 0066 511C     		adds	r1, r2, #1
 4008 0068 386B     		ldr	r0, [r7, #48]
 4009 006a 42F2A413 		movw	r3, #8612
 4010 006e 0344     		add	r3, r3, r0
 4011 0070 1960     		str	r1, [r3]
 965:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = session;
 4012              		.loc 1 965 36
 4013 0072 7A61     		str	r2, [r7, #20]
 966:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
 4014              		.loc 1 966 28
 4015 0074 3B68     		ldr	r3, [r7]
 4016 0076 BB61     		str	r3, [r7, #24]
 967:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4017              		.loc 1 967 28
 4018 0078 0123     		movs	r3, #1
 4019 007a 87F82C30 		strb	r3, [r7, #44]
 970:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4020              		.loc 1 970 7
 4021 007e 07F10C03 		add	r3, r7, #12
 4022 0082 1946     		mov	r1, r3
 4023 0084 7868     		ldr	r0, [r7, #4]
 4024 0086 FFF7FEFF 		bl	USBH_PTP_SendRequest
 973:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 4025              		.loc 1 973 29
 4026 008a 3B6B     		ldr	r3, [r7, #48]
 4027 008c 03F5EB53 		add	r3, r3, #7520
 4028 0090 0122     		movs	r2, #1
 4029 0092 1A70     		strb	r2, [r3]
 974:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 4030              		.loc 1 974 33
 4031 0094 3A6B     		ldr	r2, [r7, #48]
 4032 0096 41F66153 		movw	r3, #7521
 4033 009a 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccH7Wnit.s 			page 91


 4034 009c 0222     		movs	r2, #2
 4035 009e 1A70     		strb	r2, [r3]
 975:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4036              		.loc 1 975 14
 4037 00a0 0123     		movs	r3, #1
 4038 00a2 87F83730 		strb	r3, [r7, #55]
 978:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 4039              		.loc 1 978 21
 4040 00a6 7B68     		ldr	r3, [r7, #4]
 4041 00a8 0522     		movs	r2, #5
 4042 00aa C3F8E024 		str	r2, [r3, #1248]
 982:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4043              		.loc 1 982 13
 4044 00ae 7B68     		ldr	r3, [r7, #4]
 4045 00b0 D3F8D804 		ldr	r0, [r3, #1240]
 982:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4046              		.loc 1 982 48
 4047 00b4 7B68     		ldr	r3, [r7, #4]
 4048 00b6 03F59C61 		add	r1, r3, #1248
 982:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4049              		.loc 1 982 13
 4050 00ba 0023     		movs	r3, #0
 4051 00bc 0022     		movs	r2, #0
 4052 00be FFF7FEFF 		bl	osMessageQueuePut
 985:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4053              		.loc 1 985 7
 4054 00c2 06E0     		b	.L116
 4055              	.L114:
 988:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 4056              		.loc 1 988 16
 4057 00c4 7868     		ldr	r0, [r7, #4]
 4058 00c6 FFF7FEFF 		bl	USBH_PTP_Process
 4059 00ca 0346     		mov	r3, r0
 4060 00cc 87F83730 		strb	r3, [r7, #55]
 989:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4061              		.loc 1 989 7
 4062 00d0 00BF     		nop
 4063              	.L116:
 993:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
 994:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 4064              		.loc 1 994 10
 4065 00d2 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 995:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 4066              		.loc 1 995 1
 4067 00d6 1846     		mov	r0, r3
 4068 00d8 3837     		adds	r7, r7, #56
 4069              	.LCFI83:
 4070              		.cfi_def_cfa_offset 8
 4071 00da BD46     		mov	sp, r7
 4072              	.LCFI84:
 4073              		.cfi_def_cfa_register 13
 4074              		@ sp needed
 4075 00dc 80BD     		pop	{r7, pc}
 4076              		.cfi_endproc
 4077              	.LFE353:
 4079              		.section	.text.USBH_PTP_GetDevicePropDesc,"ax",%progbits
 4080              		.align	1
ARM GAS  /tmp/ccH7Wnit.s 			page 92


 4081              		.global	USBH_PTP_GetDevicePropDesc
 4082              		.syntax unified
 4083              		.thumb
 4084              		.thumb_func
 4085              		.fpu fpv5-d16
 4087              	USBH_PTP_GetDevicePropDesc:
 4088              	.LFB354:
 996:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 997:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
 998:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetDevicePropDesc
 999:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets object partially
1000:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1001:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1002:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1003:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1004:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetDevicePropDesc(USBH_HandleTypeDef *phost,
1005:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                               uint16_t propcode,
1006:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                               PTP_DevicePropDescTypdef *devicepropertydesc)
1007:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 4089              		.loc 1 1007 1
 4090              		.cfi_startproc
 4091              		@ args = 0, pretend = 0, frame = 64
 4092              		@ frame_needed = 1, uses_anonymous_args = 0
 4093 0000 80B5     		push	{r7, lr}
 4094              	.LCFI85:
 4095              		.cfi_def_cfa_offset 8
 4096              		.cfi_offset 7, -8
 4097              		.cfi_offset 14, -4
 4098 0002 90B0     		sub	sp, sp, #64
 4099              	.LCFI86:
 4100              		.cfi_def_cfa_offset 72
 4101 0004 00AF     		add	r7, sp, #0
 4102              	.LCFI87:
 4103              		.cfi_def_cfa_register 7
 4104 0006 F860     		str	r0, [r7, #12]
 4105 0008 0B46     		mov	r3, r1
 4106 000a 7A60     		str	r2, [r7, #4]
 4107 000c 7B81     		strh	r3, [r7, #10]	@ movhi
1008:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 4108              		.loc 1 1008 22
 4109 000e 0123     		movs	r3, #1
 4110 0010 87F83F30 		strb	r3, [r7, #63]
1009:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 4111              		.loc 1 1009 61
 4112 0014 FB68     		ldr	r3, [r7, #12]
 4113 0016 D3F87C34 		ldr	r3, [r3, #1148]
 4114              		.loc 1 1009 22
 4115 001a DB69     		ldr	r3, [r3, #28]
 4116 001c BB63     		str	r3, [r7, #56]
1010:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef ptp_container;
1011:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   uint8_t *data = MTP_Handle->ptp.data_container.payload.data;
 4117              		.loc 1 1011 12
 4118 001e BA6B     		ldr	r2, [r7, #56]
 4119 0020 41F69053 		movw	r3, #7568
 4120 0024 1344     		add	r3, r3, r2
 4121 0026 7B63     		str	r3, [r7, #52]
1012:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
ARM GAS  /tmp/ccH7Wnit.s 			page 93


1013:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 4122              		.loc 1 1013 26
 4123 0028 BA6B     		ldr	r2, [r7, #56]
 4124 002a 41F66153 		movw	r3, #7521
 4125 002e 1344     		add	r3, r3, r2
 4126 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4127              		.loc 1 1013 3
 4128 0032 012B     		cmp	r3, #1
 4129 0034 02D0     		beq	.L119
 4130 0036 022B     		cmp	r3, #2
 4131 0038 5DD0     		beq	.L120
1014:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1015:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1016:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1017:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1018:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) & (MTP_Handle->ptp.data_container);
1019:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1020:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1021:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1022:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1023:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1024:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetDevicePropDesc;
1025:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1026:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id ++;
1027:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = propcode;
1028:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
1029:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1030:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1031:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1032:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1033:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1034:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1035:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1036:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1037:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1038:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1039:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1040:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1041:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1042:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1043:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1044:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1045:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1046:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1047:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1048:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1049:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1050:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1051:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1052:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1053:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         devicepropertydesc->DevicePropertyCode = LE16(&data[PTP_dpd_DevicePropertyCode]);
1054:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         devicepropertydesc->DataType = LE16(&data[PTP_dpd_DataType]);
1055:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         devicepropertydesc->GetSet = *(uint8_t *)(&data[PTP_dpd_GetSet]);
1056:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         devicepropertydesc->FormFlag = PTP_DPFF_None;
1057:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1058:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1059:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
ARM GAS  /tmp/ccH7Wnit.s 			page 94


1060:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1061:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 4132              		.loc 1 1061 7
 4133 003a 8AE0     		b	.L122
 4134              	.L119:
1017:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) & (MTP_Handle->ptp.data_container);
 4135              		.loc 1 1017 29
 4136 003c BA6B     		ldr	r2, [r7, #56]
 4137 003e 42F2AC13 		movw	r3, #8620
 4138 0042 1344     		add	r3, r3, r2
 4139 0044 0222     		movs	r2, #2
 4140 0046 1A60     		str	r2, [r3]
1018:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 4141              		.loc 1 1018 54
 4142 0048 BB6B     		ldr	r3, [r7, #56]
 4143 004a 41F68452 		movw	r2, #7556
 4144 004e 1A44     		add	r2, r2, r3
1018:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 4145              		.loc 1 1018 32
 4146 0050 B96B     		ldr	r1, [r7, #56]
 4147 0052 42F2B013 		movw	r3, #8624
 4148 0056 0B44     		add	r3, r3, r1
 4149 0058 1A60     		str	r2, [r3]
1019:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 4150              		.loc 1 1019 35
 4151 005a BA6B     		ldr	r2, [r7, #56]
 4152 005c 42F2B413 		movw	r3, #8628
 4153 0060 1344     		add	r3, r3, r2
 4154 0062 0022     		movs	r2, #0
 4155 0064 1A60     		str	r2, [r3]
1020:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 4156              		.loc 1 1020 43
 4157 0066 BB6B     		ldr	r3, [r7, #56]
 4158 0068 03F50753 		add	r3, r3, #8640
 4159 006c 0022     		movs	r2, #0
 4160 006e 1A60     		str	r2, [r3]
1021:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4161              		.loc 1 1021 35
 4162 0070 BA6B     		ldr	r2, [r7, #56]
 4163 0072 42F2B813 		movw	r3, #8632
 4164 0076 1344     		add	r3, r3, r2
 4165 0078 0022     		movs	r2, #0
 4166 007a 1A60     		str	r2, [r3]
1024:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 4167              		.loc 1 1024 26
 4168 007c 41F21403 		movw	r3, #4116
 4169 0080 3B82     		strh	r3, [r7, #16]	@ movhi
1025:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id ++;
 4170              		.loc 1 1025 48
 4171 0082 BA6B     		ldr	r2, [r7, #56]
 4172 0084 42F2A813 		movw	r3, #8616
 4173 0088 1344     		add	r3, r3, r2
 4174 008a 1B68     		ldr	r3, [r3]
1025:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id ++;
 4175              		.loc 1 1025 31
 4176 008c 7B61     		str	r3, [r7, #20]
1026:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = propcode;
ARM GAS  /tmp/ccH7Wnit.s 			page 95


 4177              		.loc 1 1026 53
 4178 008e BA6B     		ldr	r2, [r7, #56]
 4179 0090 42F2A413 		movw	r3, #8612
 4180 0094 1344     		add	r3, r3, r2
 4181 0096 1A68     		ldr	r2, [r3]
1026:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = propcode;
 4182              		.loc 1 1026 69
 4183 0098 511C     		adds	r1, r2, #1
 4184 009a B86B     		ldr	r0, [r7, #56]
 4185 009c 42F2A413 		movw	r3, #8612
 4186 00a0 0344     		add	r3, r3, r0
 4187 00a2 1960     		str	r1, [r3]
1026:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = propcode;
 4188              		.loc 1 1026 36
 4189 00a4 BA61     		str	r2, [r7, #24]
1027:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
 4190              		.loc 1 1027 28
 4191 00a6 7B89     		ldrh	r3, [r7, #10]
 4192 00a8 FB61     		str	r3, [r7, #28]
1028:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4193              		.loc 1 1028 28
 4194 00aa 0123     		movs	r3, #1
 4195 00ac 87F83030 		strb	r3, [r7, #48]
1031:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4196              		.loc 1 1031 7
 4197 00b0 07F11003 		add	r3, r7, #16
 4198 00b4 1946     		mov	r1, r3
 4199 00b6 F868     		ldr	r0, [r7, #12]
 4200 00b8 FFF7FEFF 		bl	USBH_PTP_SendRequest
1034:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 4201              		.loc 1 1034 29
 4202 00bc BB6B     		ldr	r3, [r7, #56]
 4203 00be 03F5EB53 		add	r3, r3, #7520
 4204 00c2 0122     		movs	r2, #1
 4205 00c4 1A70     		strb	r2, [r3]
1035:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 4206              		.loc 1 1035 33
 4207 00c6 BA6B     		ldr	r2, [r7, #56]
 4208 00c8 41F66153 		movw	r3, #7521
 4209 00cc 1344     		add	r3, r3, r2
 4210 00ce 0222     		movs	r2, #2
 4211 00d0 1A70     		strb	r2, [r3]
1036:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4212              		.loc 1 1036 14
 4213 00d2 0123     		movs	r3, #1
 4214 00d4 87F83F30 		strb	r3, [r7, #63]
1039:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 4215              		.loc 1 1039 21
 4216 00d8 FB68     		ldr	r3, [r7, #12]
 4217 00da 0522     		movs	r2, #5
 4218 00dc C3F8E024 		str	r2, [r3, #1248]
1043:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4219              		.loc 1 1043 13
 4220 00e0 FB68     		ldr	r3, [r7, #12]
 4221 00e2 D3F8D804 		ldr	r0, [r3, #1240]
1043:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4222              		.loc 1 1043 48
ARM GAS  /tmp/ccH7Wnit.s 			page 96


 4223 00e6 FB68     		ldr	r3, [r7, #12]
 4224 00e8 03F59C61 		add	r1, r3, #1248
1043:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4225              		.loc 1 1043 13
 4226 00ec 0023     		movs	r3, #0
 4227 00ee 0022     		movs	r2, #0
 4228 00f0 FFF7FEFF 		bl	osMessageQueuePut
1046:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4229              		.loc 1 1046 7
 4230 00f4 2DE0     		b	.L122
 4231              	.L120:
1049:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4232              		.loc 1 1049 16
 4233 00f6 F868     		ldr	r0, [r7, #12]
 4234 00f8 FFF7FEFF 		bl	USBH_PTP_Process
 4235 00fc 0346     		mov	r3, r0
 4236 00fe 87F83F30 		strb	r3, [r7, #63]
1051:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 4237              		.loc 1 1051 10
 4238 0102 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 4239 0106 002B     		cmp	r3, #0
 4240 0108 22D1     		bne	.L125
1053:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         devicepropertydesc->DataType = LE16(&data[PTP_dpd_DataType]);
 4241              		.loc 1 1053 50
 4242 010a 7B6B     		ldr	r3, [r7, #52]
 4243 010c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4244 010e 9AB2     		uxth	r2, r3
 4245 0110 7B6B     		ldr	r3, [r7, #52]
 4246 0112 0133     		adds	r3, r3, #1
 4247 0114 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4248 0116 9BB2     		uxth	r3, r3
 4249 0118 1B02     		lsls	r3, r3, #8
 4250 011a 9BB2     		uxth	r3, r3
 4251 011c 1343     		orrs	r3, r3, r2
 4252 011e 9AB2     		uxth	r2, r3
1053:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         devicepropertydesc->DataType = LE16(&data[PTP_dpd_DataType]);
 4253              		.loc 1 1053 48
 4254 0120 7B68     		ldr	r3, [r7, #4]
 4255 0122 1A80     		strh	r2, [r3]	@ movhi
1054:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         devicepropertydesc->GetSet = *(uint8_t *)(&data[PTP_dpd_GetSet]);
 4256              		.loc 1 1054 40
 4257 0124 7B6B     		ldr	r3, [r7, #52]
 4258 0126 0233     		adds	r3, r3, #2
 4259 0128 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4260 012a 9AB2     		uxth	r2, r3
 4261 012c 7B6B     		ldr	r3, [r7, #52]
 4262 012e 0333     		adds	r3, r3, #3
 4263 0130 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4264 0132 9BB2     		uxth	r3, r3
 4265 0134 1B02     		lsls	r3, r3, #8
 4266 0136 9BB2     		uxth	r3, r3
 4267 0138 1343     		orrs	r3, r3, r2
 4268 013a 9AB2     		uxth	r2, r3
1054:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         devicepropertydesc->GetSet = *(uint8_t *)(&data[PTP_dpd_GetSet]);
 4269              		.loc 1 1054 38
 4270 013c 7B68     		ldr	r3, [r7, #4]
 4271 013e 5A80     		strh	r2, [r3, #2]	@ movhi
ARM GAS  /tmp/ccH7Wnit.s 			page 97


1055:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         devicepropertydesc->FormFlag = PTP_DPFF_None;
 4272              		.loc 1 1055 36
 4273 0140 7B6B     		ldr	r3, [r7, #52]
 4274 0142 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 4275 0144 7B68     		ldr	r3, [r7, #4]
 4276 0146 1A71     		strb	r2, [r3, #4]
1056:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 4277              		.loc 1 1056 38
 4278 0148 7B68     		ldr	r3, [r7, #4]
 4279 014a 0022     		movs	r2, #0
 4280 014c 83F80822 		strb	r2, [r3, #520]
 4281              	.L125:
1058:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4282              		.loc 1 1058 7
 4283 0150 00BF     		nop
 4284              	.L122:
1062:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1063:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 4285              		.loc 1 1063 10
 4286 0152 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1064:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 4287              		.loc 1 1064 1
 4288 0156 1846     		mov	r0, r3
 4289 0158 4037     		adds	r7, r7, #64
 4290              	.LCFI88:
 4291              		.cfi_def_cfa_offset 8
 4292 015a BD46     		mov	sp, r7
 4293              	.LCFI89:
 4294              		.cfi_def_cfa_register 13
 4295              		@ sp needed
 4296 015c 80BD     		pop	{r7, pc}
 4297              		.cfi_endproc
 4298              	.LFE354:
 4300              		.section	.text.USBH_PTP_GetDeviceInfo,"ax",%progbits
 4301              		.align	1
 4302              		.global	USBH_PTP_GetDeviceInfo
 4303              		.syntax unified
 4304              		.thumb
 4305              		.thumb_func
 4306              		.fpu fpv5-d16
 4308              	USBH_PTP_GetDeviceInfo:
 4309              	.LFB355:
1065:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1066:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetDeviceInfo
1067:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets device info dataset and fills deviceinfo structure.
1068:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1069:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1070:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1071:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1072:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetDeviceInfo(USBH_HandleTypeDef *phost, PTP_DeviceInfoTypedef *dev_inf
1073:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 4310              		.loc 1 1073 1
 4311              		.cfi_startproc
 4312              		@ args = 0, pretend = 0, frame = 56
 4313              		@ frame_needed = 1, uses_anonymous_args = 0
 4314 0000 80B5     		push	{r7, lr}
 4315              	.LCFI90:
ARM GAS  /tmp/ccH7Wnit.s 			page 98


 4316              		.cfi_def_cfa_offset 8
 4317              		.cfi_offset 7, -8
 4318              		.cfi_offset 14, -4
 4319 0002 8EB0     		sub	sp, sp, #56
 4320              	.LCFI91:
 4321              		.cfi_def_cfa_offset 64
 4322 0004 00AF     		add	r7, sp, #0
 4323              	.LCFI92:
 4324              		.cfi_def_cfa_register 7
 4325 0006 7860     		str	r0, [r7, #4]
 4326 0008 3960     		str	r1, [r7]
1074:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 4327              		.loc 1 1074 22
 4328 000a 0123     		movs	r3, #1
 4329 000c 87F83730 		strb	r3, [r7, #55]
1075:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 4330              		.loc 1 1075 61
 4331 0010 7B68     		ldr	r3, [r7, #4]
 4332 0012 D3F87C34 		ldr	r3, [r3, #1148]
 4333              		.loc 1 1075 22
 4334 0016 DB69     		ldr	r3, [r3, #28]
 4335 0018 3B63     		str	r3, [r7, #48]
1076:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef ptp_container;
1077:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1078:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 4336              		.loc 1 1078 26
 4337 001a 3A6B     		ldr	r2, [r7, #48]
 4338 001c 41F66153 		movw	r3, #7521
 4339 0020 1344     		add	r3, r3, r2
 4340 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4341              		.loc 1 1078 3
 4342 0024 012B     		cmp	r3, #1
 4343 0026 02D0     		beq	.L127
 4344 0028 022B     		cmp	r3, #2
 4345 002a 5BD0     		beq	.L128
1079:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1080:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1081:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1082:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1083:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1084:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1085:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1086:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1087:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1088:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1089:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetDeviceInfo;
1090:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1091:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1092:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
1093:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1094:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet inti USB raw packet*/
1095:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1096:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1097:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1098:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1099:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1100:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
ARM GAS  /tmp/ccH7Wnit.s 			page 99


1101:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1102:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1103:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1104:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1105:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1106:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1107:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1108:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1109:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1110:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1111:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1112:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1113:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1114:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1115:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1116:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1117:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         PTP_DecodeDeviceInfo(phost, dev_info);
1118:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1119:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1120:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1121:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1122:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 4346              		.loc 1 1122 7
 4347 002c 69E0     		b	.L130
 4348              	.L127:
1082:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
 4349              		.loc 1 1082 29
 4350 002e 3A6B     		ldr	r2, [r7, #48]
 4351 0030 42F2AC13 		movw	r3, #8620
 4352 0034 1344     		add	r3, r3, r2
 4353 0036 0222     		movs	r2, #2
 4354 0038 1A60     		str	r2, [r3]
1083:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 4355              		.loc 1 1083 54
 4356 003a 3B6B     		ldr	r3, [r7, #48]
 4357 003c 41F68452 		movw	r2, #7556
 4358 0040 1A44     		add	r2, r2, r3
1083:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 4359              		.loc 1 1083 32
 4360 0042 396B     		ldr	r1, [r7, #48]
 4361 0044 42F2B013 		movw	r3, #8624
 4362 0048 0B44     		add	r3, r3, r1
 4363 004a 1A60     		str	r2, [r3]
1084:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 4364              		.loc 1 1084 35
 4365 004c 3A6B     		ldr	r2, [r7, #48]
 4366 004e 42F2B413 		movw	r3, #8628
 4367 0052 1344     		add	r3, r3, r2
 4368 0054 0022     		movs	r2, #0
 4369 0056 1A60     		str	r2, [r3]
1085:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 4370              		.loc 1 1085 43
 4371 0058 3B6B     		ldr	r3, [r7, #48]
 4372 005a 03F50753 		add	r3, r3, #8640
 4373 005e 0022     		movs	r2, #0
 4374 0060 1A60     		str	r2, [r3]
1086:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
ARM GAS  /tmp/ccH7Wnit.s 			page 100


 4375              		.loc 1 1086 35
 4376 0062 3A6B     		ldr	r2, [r7, #48]
 4377 0064 42F2B813 		movw	r3, #8632
 4378 0068 1344     		add	r3, r3, r2
 4379 006a 0022     		movs	r2, #0
 4380 006c 1A60     		str	r2, [r3]
1089:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 4381              		.loc 1 1089 26
 4382 006e 41F20103 		movw	r3, #4097
 4383 0072 BB81     		strh	r3, [r7, #12]	@ movhi
1090:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 4384              		.loc 1 1090 48
 4385 0074 3A6B     		ldr	r2, [r7, #48]
 4386 0076 42F2A813 		movw	r3, #8616
 4387 007a 1344     		add	r3, r3, r2
 4388 007c 1B68     		ldr	r3, [r3]
1090:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 4389              		.loc 1 1090 31
 4390 007e 3B61     		str	r3, [r7, #16]
1091:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
 4391              		.loc 1 1091 53
 4392 0080 3A6B     		ldr	r2, [r7, #48]
 4393 0082 42F2A413 		movw	r3, #8612
 4394 0086 1344     		add	r3, r3, r2
 4395 0088 1A68     		ldr	r2, [r3]
1091:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
 4396              		.loc 1 1091 68
 4397 008a 511C     		adds	r1, r2, #1
 4398 008c 386B     		ldr	r0, [r7, #48]
 4399 008e 42F2A413 		movw	r3, #8612
 4400 0092 0344     		add	r3, r3, r0
 4401 0094 1960     		str	r1, [r3]
1091:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
 4402              		.loc 1 1091 36
 4403 0096 7A61     		str	r2, [r7, #20]
1092:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4404              		.loc 1 1092 28
 4405 0098 0023     		movs	r3, #0
 4406 009a 87F82C30 		strb	r3, [r7, #44]
1095:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4407              		.loc 1 1095 7
 4408 009e 07F10C03 		add	r3, r7, #12
 4409 00a2 1946     		mov	r1, r3
 4410 00a4 7868     		ldr	r0, [r7, #4]
 4411 00a6 FFF7FEFF 		bl	USBH_PTP_SendRequest
1098:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 4412              		.loc 1 1098 29
 4413 00aa 3B6B     		ldr	r3, [r7, #48]
 4414 00ac 03F5EB53 		add	r3, r3, #7520
 4415 00b0 0122     		movs	r2, #1
 4416 00b2 1A70     		strb	r2, [r3]
1099:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 4417              		.loc 1 1099 33
 4418 00b4 3A6B     		ldr	r2, [r7, #48]
 4419 00b6 41F66153 		movw	r3, #7521
 4420 00ba 1344     		add	r3, r3, r2
 4421 00bc 0222     		movs	r2, #2
ARM GAS  /tmp/ccH7Wnit.s 			page 101


 4422 00be 1A70     		strb	r2, [r3]
1100:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4423              		.loc 1 1100 14
 4424 00c0 0123     		movs	r3, #1
 4425 00c2 87F83730 		strb	r3, [r7, #55]
1103:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 4426              		.loc 1 1103 21
 4427 00c6 7B68     		ldr	r3, [r7, #4]
 4428 00c8 0522     		movs	r2, #5
 4429 00ca C3F8E024 		str	r2, [r3, #1248]
1107:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4430              		.loc 1 1107 13
 4431 00ce 7B68     		ldr	r3, [r7, #4]
 4432 00d0 D3F8D804 		ldr	r0, [r3, #1240]
1107:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4433              		.loc 1 1107 48
 4434 00d4 7B68     		ldr	r3, [r7, #4]
 4435 00d6 03F59C61 		add	r1, r3, #1248
1107:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4436              		.loc 1 1107 13
 4437 00da 0023     		movs	r3, #0
 4438 00dc 0022     		movs	r2, #0
 4439 00de FFF7FEFF 		bl	osMessageQueuePut
1110:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4440              		.loc 1 1110 7
 4441 00e2 0EE0     		b	.L130
 4442              	.L128:
1113:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4443              		.loc 1 1113 16
 4444 00e4 7868     		ldr	r0, [r7, #4]
 4445 00e6 FFF7FEFF 		bl	USBH_PTP_Process
 4446 00ea 0346     		mov	r3, r0
 4447 00ec 87F83730 		strb	r3, [r7, #55]
1115:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 4448              		.loc 1 1115 10
 4449 00f0 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 4450 00f4 002B     		cmp	r3, #0
 4451 00f6 03D1     		bne	.L133
1117:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 4452              		.loc 1 1117 9
 4453 00f8 3968     		ldr	r1, [r7]
 4454 00fa 7868     		ldr	r0, [r7, #4]
 4455 00fc FFF7FEFF 		bl	PTP_DecodeDeviceInfo
 4456              	.L133:
1119:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4457              		.loc 1 1119 7
 4458 0100 00BF     		nop
 4459              	.L130:
1123:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1124:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 4460              		.loc 1 1124 10
 4461 0102 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
1125:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 4462              		.loc 1 1125 1
 4463 0106 1846     		mov	r0, r3
 4464 0108 3837     		adds	r7, r7, #56
 4465              	.LCFI93:
ARM GAS  /tmp/ccH7Wnit.s 			page 102


 4466              		.cfi_def_cfa_offset 8
 4467 010a BD46     		mov	sp, r7
 4468              	.LCFI94:
 4469              		.cfi_def_cfa_register 13
 4470              		@ sp needed
 4471 010c 80BD     		pop	{r7, pc}
 4472              		.cfi_endproc
 4473              	.LFE355:
 4475              		.section	.text.USBH_PTP_GetStorageIds,"ax",%progbits
 4476              		.align	1
 4477              		.global	USBH_PTP_GetStorageIds
 4478              		.syntax unified
 4479              		.thumb
 4480              		.thumb_func
 4481              		.fpu fpv5-d16
 4483              	USBH_PTP_GetStorageIds:
 4484              	.LFB356:
1126:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1127:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1128:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetStorageIds
1129:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets device info dataset and fills deviceinfo structure.
1130:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1131:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1132:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1133:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1134:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetStorageIds(USBH_HandleTypeDef *phost, PTP_StorageIDsTypedef *storage
1135:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 4485              		.loc 1 1135 1
 4486              		.cfi_startproc
 4487              		@ args = 0, pretend = 0, frame = 56
 4488              		@ frame_needed = 1, uses_anonymous_args = 0
 4489 0000 80B5     		push	{r7, lr}
 4490              	.LCFI95:
 4491              		.cfi_def_cfa_offset 8
 4492              		.cfi_offset 7, -8
 4493              		.cfi_offset 14, -4
 4494 0002 8EB0     		sub	sp, sp, #56
 4495              	.LCFI96:
 4496              		.cfi_def_cfa_offset 64
 4497 0004 00AF     		add	r7, sp, #0
 4498              	.LCFI97:
 4499              		.cfi_def_cfa_register 7
 4500 0006 7860     		str	r0, [r7, #4]
 4501 0008 3960     		str	r1, [r7]
1136:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 4502              		.loc 1 1136 22
 4503 000a 0123     		movs	r3, #1
 4504 000c 87F83730 		strb	r3, [r7, #55]
1137:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 4505              		.loc 1 1137 61
 4506 0010 7B68     		ldr	r3, [r7, #4]
 4507 0012 D3F87C34 		ldr	r3, [r3, #1148]
 4508              		.loc 1 1137 22
 4509 0016 DB69     		ldr	r3, [r3, #28]
 4510 0018 3B63     		str	r3, [r7, #48]
1138:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef ptp_container;
1139:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
ARM GAS  /tmp/ccH7Wnit.s 			page 103


1140:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 4511              		.loc 1 1140 26
 4512 001a 3A6B     		ldr	r2, [r7, #48]
 4513 001c 41F66153 		movw	r3, #7521
 4514 0020 1344     		add	r3, r3, r2
 4515 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4516              		.loc 1 1140 3
 4517 0024 012B     		cmp	r3, #1
 4518 0026 02D0     		beq	.L135
 4519 0028 022B     		cmp	r3, #2
 4520 002a 5BD0     		beq	.L136
1141:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1142:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1143:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1144:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1145:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1146:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1147:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1148:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1149:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1150:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1151:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetStorageIDs;
1152:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1153:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1154:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
1155:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1156:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet inti USB raw packet*/
1157:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1158:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1159:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1160:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1161:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1162:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1163:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1164:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1165:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1166:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1167:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1168:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1169:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1170:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1171:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1172:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1173:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1174:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1175:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1176:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1177:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1178:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1179:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         PTP_GetStorageIDs(phost, storage_ids);
1180:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1181:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1182:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1183:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1184:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 4521              		.loc 1 1184 7
 4522 002c 69E0     		b	.L138
ARM GAS  /tmp/ccH7Wnit.s 			page 104


 4523              	.L135:
1144:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
 4524              		.loc 1 1144 29
 4525 002e 3A6B     		ldr	r2, [r7, #48]
 4526 0030 42F2AC13 		movw	r3, #8620
 4527 0034 1344     		add	r3, r3, r2
 4528 0036 0222     		movs	r2, #2
 4529 0038 1A60     		str	r2, [r3]
1145:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 4530              		.loc 1 1145 54
 4531 003a 3B6B     		ldr	r3, [r7, #48]
 4532 003c 41F68452 		movw	r2, #7556
 4533 0040 1A44     		add	r2, r2, r3
1145:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 4534              		.loc 1 1145 32
 4535 0042 396B     		ldr	r1, [r7, #48]
 4536 0044 42F2B013 		movw	r3, #8624
 4537 0048 0B44     		add	r3, r3, r1
 4538 004a 1A60     		str	r2, [r3]
1146:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 4539              		.loc 1 1146 35
 4540 004c 3A6B     		ldr	r2, [r7, #48]
 4541 004e 42F2B413 		movw	r3, #8628
 4542 0052 1344     		add	r3, r3, r2
 4543 0054 0022     		movs	r2, #0
 4544 0056 1A60     		str	r2, [r3]
1147:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 4545              		.loc 1 1147 43
 4546 0058 3B6B     		ldr	r3, [r7, #48]
 4547 005a 03F50753 		add	r3, r3, #8640
 4548 005e 0022     		movs	r2, #0
 4549 0060 1A60     		str	r2, [r3]
1148:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4550              		.loc 1 1148 35
 4551 0062 3A6B     		ldr	r2, [r7, #48]
 4552 0064 42F2B813 		movw	r3, #8632
 4553 0068 1344     		add	r3, r3, r2
 4554 006a 0022     		movs	r2, #0
 4555 006c 1A60     		str	r2, [r3]
1151:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 4556              		.loc 1 1151 26
 4557 006e 41F20403 		movw	r3, #4100
 4558 0072 BB81     		strh	r3, [r7, #12]	@ movhi
1152:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 4559              		.loc 1 1152 48
 4560 0074 3A6B     		ldr	r2, [r7, #48]
 4561 0076 42F2A813 		movw	r3, #8616
 4562 007a 1344     		add	r3, r3, r2
 4563 007c 1B68     		ldr	r3, [r3]
1152:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 4564              		.loc 1 1152 31
 4565 007e 3B61     		str	r3, [r7, #16]
1153:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
 4566              		.loc 1 1153 53
 4567 0080 3A6B     		ldr	r2, [r7, #48]
 4568 0082 42F2A413 		movw	r3, #8612
 4569 0086 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccH7Wnit.s 			page 105


 4570 0088 1A68     		ldr	r2, [r3]
1153:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
 4571              		.loc 1 1153 68
 4572 008a 511C     		adds	r1, r2, #1
 4573 008c 386B     		ldr	r0, [r7, #48]
 4574 008e 42F2A413 		movw	r3, #8612
 4575 0092 0344     		add	r3, r3, r0
 4576 0094 1960     		str	r1, [r3]
1153:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
 4577              		.loc 1 1153 36
 4578 0096 7A61     		str	r2, [r7, #20]
1154:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4579              		.loc 1 1154 28
 4580 0098 0023     		movs	r3, #0
 4581 009a 87F82C30 		strb	r3, [r7, #44]
1157:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4582              		.loc 1 1157 7
 4583 009e 07F10C03 		add	r3, r7, #12
 4584 00a2 1946     		mov	r1, r3
 4585 00a4 7868     		ldr	r0, [r7, #4]
 4586 00a6 FFF7FEFF 		bl	USBH_PTP_SendRequest
1160:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 4587              		.loc 1 1160 29
 4588 00aa 3B6B     		ldr	r3, [r7, #48]
 4589 00ac 03F5EB53 		add	r3, r3, #7520
 4590 00b0 0122     		movs	r2, #1
 4591 00b2 1A70     		strb	r2, [r3]
1161:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 4592              		.loc 1 1161 33
 4593 00b4 3A6B     		ldr	r2, [r7, #48]
 4594 00b6 41F66153 		movw	r3, #7521
 4595 00ba 1344     		add	r3, r3, r2
 4596 00bc 0222     		movs	r2, #2
 4597 00be 1A70     		strb	r2, [r3]
1162:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4598              		.loc 1 1162 14
 4599 00c0 0123     		movs	r3, #1
 4600 00c2 87F83730 		strb	r3, [r7, #55]
1165:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 4601              		.loc 1 1165 21
 4602 00c6 7B68     		ldr	r3, [r7, #4]
 4603 00c8 0522     		movs	r2, #5
 4604 00ca C3F8E024 		str	r2, [r3, #1248]
1169:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4605              		.loc 1 1169 13
 4606 00ce 7B68     		ldr	r3, [r7, #4]
 4607 00d0 D3F8D804 		ldr	r0, [r3, #1240]
1169:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4608              		.loc 1 1169 48
 4609 00d4 7B68     		ldr	r3, [r7, #4]
 4610 00d6 03F59C61 		add	r1, r3, #1248
1169:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4611              		.loc 1 1169 13
 4612 00da 0023     		movs	r3, #0
 4613 00dc 0022     		movs	r2, #0
 4614 00de FFF7FEFF 		bl	osMessageQueuePut
1172:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
ARM GAS  /tmp/ccH7Wnit.s 			page 106


 4615              		.loc 1 1172 7
 4616 00e2 0EE0     		b	.L138
 4617              	.L136:
1175:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4618              		.loc 1 1175 16
 4619 00e4 7868     		ldr	r0, [r7, #4]
 4620 00e6 FFF7FEFF 		bl	USBH_PTP_Process
 4621 00ea 0346     		mov	r3, r0
 4622 00ec 87F83730 		strb	r3, [r7, #55]
1177:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 4623              		.loc 1 1177 10
 4624 00f0 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 4625 00f4 002B     		cmp	r3, #0
 4626 00f6 03D1     		bne	.L141
1179:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 4627              		.loc 1 1179 9
 4628 00f8 3968     		ldr	r1, [r7]
 4629 00fa 7868     		ldr	r0, [r7, #4]
 4630 00fc FFF7FEFF 		bl	PTP_GetStorageIDs
 4631              	.L141:
1181:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4632              		.loc 1 1181 7
 4633 0100 00BF     		nop
 4634              	.L138:
1185:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1186:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 4635              		.loc 1 1186 10
 4636 0102 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
1187:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 4637              		.loc 1 1187 1
 4638 0106 1846     		mov	r0, r3
 4639 0108 3837     		adds	r7, r7, #56
 4640              	.LCFI98:
 4641              		.cfi_def_cfa_offset 8
 4642 010a BD46     		mov	sp, r7
 4643              	.LCFI99:
 4644              		.cfi_def_cfa_register 13
 4645              		@ sp needed
 4646 010c 80BD     		pop	{r7, pc}
 4647              		.cfi_endproc
 4648              	.LFE356:
 4650              		.section	.text.USBH_PTP_GetStorageInfo,"ax",%progbits
 4651              		.align	1
 4652              		.global	USBH_PTP_GetStorageInfo
 4653              		.syntax unified
 4654              		.thumb
 4655              		.thumb_func
 4656              		.fpu fpv5-d16
 4658              	USBH_PTP_GetStorageInfo:
 4659              	.LFB357:
1188:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1189:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1190:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetDeviceInfo
1191:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets device info dataset and fills deviceinfo structure.
1192:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1193:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1194:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
ARM GAS  /tmp/ccH7Wnit.s 			page 107


1195:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1196:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetStorageInfo(USBH_HandleTypeDef *phost,
1197:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                            uint32_t storage_id,
1198:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                            PTP_StorageInfoTypedef *storage_info)
1199:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 4660              		.loc 1 1199 1
 4661              		.cfi_startproc
 4662              		@ args = 0, pretend = 0, frame = 64
 4663              		@ frame_needed = 1, uses_anonymous_args = 0
 4664 0000 80B5     		push	{r7, lr}
 4665              	.LCFI100:
 4666              		.cfi_def_cfa_offset 8
 4667              		.cfi_offset 7, -8
 4668              		.cfi_offset 14, -4
 4669 0002 90B0     		sub	sp, sp, #64
 4670              	.LCFI101:
 4671              		.cfi_def_cfa_offset 72
 4672 0004 00AF     		add	r7, sp, #0
 4673              	.LCFI102:
 4674              		.cfi_def_cfa_register 7
 4675 0006 F860     		str	r0, [r7, #12]
 4676 0008 B960     		str	r1, [r7, #8]
 4677 000a 7A60     		str	r2, [r7, #4]
1200:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef   status = USBH_BUSY;
 4678              		.loc 1 1200 24
 4679 000c 0123     		movs	r3, #1
 4680 000e 87F83F30 		strb	r3, [r7, #63]
1201:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 4681              		.loc 1 1201 64
 4682 0012 FB68     		ldr	r3, [r7, #12]
 4683 0014 D3F87C34 		ldr	r3, [r3, #1148]
 4684              		.loc 1 1201 25
 4685 0018 DB69     		ldr	r3, [r3, #28]
 4686 001a BB63     		str	r3, [r7, #56]
1202:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef  ptp_container;
1203:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1204:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 4687              		.loc 1 1204 26
 4688 001c BA6B     		ldr	r2, [r7, #56]
 4689 001e 41F66153 		movw	r3, #7521
 4690 0022 1344     		add	r3, r3, r2
 4691 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4692              		.loc 1 1204 3
 4693 0026 012B     		cmp	r3, #1
 4694 0028 02D0     		beq	.L143
 4695 002a 022B     		cmp	r3, #2
 4696 002c 5DD0     		beq	.L144
1205:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1206:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1207:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1208:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1209:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1210:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1211:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1212:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1213:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1214:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
ARM GAS  /tmp/ccH7Wnit.s 			page 108


1215:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetStorageInfo;
1216:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1217:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1218:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
1219:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
1220:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1221:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet inti USB raw packet*/
1222:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1223:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1224:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1225:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1226:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1227:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1228:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1229:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1230:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1231:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1232:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1233:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1234:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1235:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1236:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1237:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1238:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1239:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1240:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1241:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1242:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1243:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1244:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         PTP_GetStorageInfo(phost, storage_id, storage_info);
1245:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1246:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1247:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1248:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1249:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 4697              		.loc 1 1249 7
 4698 002e 6CE0     		b	.L146
 4699              	.L143:
1208:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
 4700              		.loc 1 1208 29
 4701 0030 BA6B     		ldr	r2, [r7, #56]
 4702 0032 42F2AC13 		movw	r3, #8620
 4703 0036 1344     		add	r3, r3, r2
 4704 0038 0222     		movs	r2, #2
 4705 003a 1A60     		str	r2, [r3]
1209:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 4706              		.loc 1 1209 54
 4707 003c BB6B     		ldr	r3, [r7, #56]
 4708 003e 41F68452 		movw	r2, #7556
 4709 0042 1A44     		add	r2, r2, r3
1209:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 4710              		.loc 1 1209 32
 4711 0044 B96B     		ldr	r1, [r7, #56]
 4712 0046 42F2B013 		movw	r3, #8624
 4713 004a 0B44     		add	r3, r3, r1
 4714 004c 1A60     		str	r2, [r3]
1210:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
ARM GAS  /tmp/ccH7Wnit.s 			page 109


 4715              		.loc 1 1210 35
 4716 004e BA6B     		ldr	r2, [r7, #56]
 4717 0050 42F2B413 		movw	r3, #8628
 4718 0054 1344     		add	r3, r3, r2
 4719 0056 0022     		movs	r2, #0
 4720 0058 1A60     		str	r2, [r3]
1211:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 4721              		.loc 1 1211 43
 4722 005a BB6B     		ldr	r3, [r7, #56]
 4723 005c 03F50753 		add	r3, r3, #8640
 4724 0060 0022     		movs	r2, #0
 4725 0062 1A60     		str	r2, [r3]
1212:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4726              		.loc 1 1212 35
 4727 0064 BA6B     		ldr	r2, [r7, #56]
 4728 0066 42F2B813 		movw	r3, #8632
 4729 006a 1344     		add	r3, r3, r2
 4730 006c 0022     		movs	r2, #0
 4731 006e 1A60     		str	r2, [r3]
1215:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 4732              		.loc 1 1215 26
 4733 0070 41F20503 		movw	r3, #4101
 4734 0074 BB82     		strh	r3, [r7, #20]	@ movhi
1216:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 4735              		.loc 1 1216 48
 4736 0076 BA6B     		ldr	r2, [r7, #56]
 4737 0078 42F2A813 		movw	r3, #8616
 4738 007c 1344     		add	r3, r3, r2
 4739 007e 1B68     		ldr	r3, [r3]
1216:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 4740              		.loc 1 1216 31
 4741 0080 BB61     		str	r3, [r7, #24]
1217:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
 4742              		.loc 1 1217 53
 4743 0082 BA6B     		ldr	r2, [r7, #56]
 4744 0084 42F2A413 		movw	r3, #8612
 4745 0088 1344     		add	r3, r3, r2
 4746 008a 1A68     		ldr	r2, [r3]
1217:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
 4747              		.loc 1 1217 68
 4748 008c 511C     		adds	r1, r2, #1
 4749 008e B86B     		ldr	r0, [r7, #56]
 4750 0090 42F2A413 		movw	r3, #8612
 4751 0094 0344     		add	r3, r3, r0
 4752 0096 1960     		str	r1, [r3]
1217:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
 4753              		.loc 1 1217 36
 4754 0098 FA61     		str	r2, [r7, #28]
1218:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
 4755              		.loc 1 1218 28
 4756 009a BB68     		ldr	r3, [r7, #8]
 4757 009c 3B62     		str	r3, [r7, #32]
1219:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4758              		.loc 1 1219 28
 4759 009e 0123     		movs	r3, #1
 4760 00a0 87F83430 		strb	r3, [r7, #52]
1222:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
ARM GAS  /tmp/ccH7Wnit.s 			page 110


 4761              		.loc 1 1222 7
 4762 00a4 07F11403 		add	r3, r7, #20
 4763 00a8 1946     		mov	r1, r3
 4764 00aa F868     		ldr	r0, [r7, #12]
 4765 00ac FFF7FEFF 		bl	USBH_PTP_SendRequest
1225:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 4766              		.loc 1 1225 29
 4767 00b0 BB6B     		ldr	r3, [r7, #56]
 4768 00b2 03F5EB53 		add	r3, r3, #7520
 4769 00b6 0122     		movs	r2, #1
 4770 00b8 1A70     		strb	r2, [r3]
1226:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 4771              		.loc 1 1226 33
 4772 00ba BA6B     		ldr	r2, [r7, #56]
 4773 00bc 41F66153 		movw	r3, #7521
 4774 00c0 1344     		add	r3, r3, r2
 4775 00c2 0222     		movs	r2, #2
 4776 00c4 1A70     		strb	r2, [r3]
1227:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4777              		.loc 1 1227 14
 4778 00c6 0123     		movs	r3, #1
 4779 00c8 87F83F30 		strb	r3, [r7, #63]
1230:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 4780              		.loc 1 1230 21
 4781 00cc FB68     		ldr	r3, [r7, #12]
 4782 00ce 0522     		movs	r2, #5
 4783 00d0 C3F8E024 		str	r2, [r3, #1248]
1234:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4784              		.loc 1 1234 13
 4785 00d4 FB68     		ldr	r3, [r7, #12]
 4786 00d6 D3F8D804 		ldr	r0, [r3, #1240]
1234:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4787              		.loc 1 1234 48
 4788 00da FB68     		ldr	r3, [r7, #12]
 4789 00dc 03F59C61 		add	r1, r3, #1248
1234:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4790              		.loc 1 1234 13
 4791 00e0 0023     		movs	r3, #0
 4792 00e2 0022     		movs	r2, #0
 4793 00e4 FFF7FEFF 		bl	osMessageQueuePut
1237:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4794              		.loc 1 1237 7
 4795 00e8 0FE0     		b	.L146
 4796              	.L144:
1240:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4797              		.loc 1 1240 16
 4798 00ea F868     		ldr	r0, [r7, #12]
 4799 00ec FFF7FEFF 		bl	USBH_PTP_Process
 4800 00f0 0346     		mov	r3, r0
 4801 00f2 87F83F30 		strb	r3, [r7, #63]
1242:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 4802              		.loc 1 1242 10
 4803 00f6 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 4804 00fa 002B     		cmp	r3, #0
 4805 00fc 04D1     		bne	.L149
1244:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 4806              		.loc 1 1244 9
ARM GAS  /tmp/ccH7Wnit.s 			page 111


 4807 00fe 7A68     		ldr	r2, [r7, #4]
 4808 0100 B968     		ldr	r1, [r7, #8]
 4809 0102 F868     		ldr	r0, [r7, #12]
 4810 0104 FFF7FEFF 		bl	PTP_GetStorageInfo
 4811              	.L149:
1246:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4812              		.loc 1 1246 7
 4813 0108 00BF     		nop
 4814              	.L146:
1250:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1251:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 4815              		.loc 1 1251 10
 4816 010a 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1252:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 4817              		.loc 1 1252 1
 4818 010e 1846     		mov	r0, r3
 4819 0110 4037     		adds	r7, r7, #64
 4820              	.LCFI103:
 4821              		.cfi_def_cfa_offset 8
 4822 0112 BD46     		mov	sp, r7
 4823              	.LCFI104:
 4824              		.cfi_def_cfa_register 13
 4825              		@ sp needed
 4826 0114 80BD     		pop	{r7, pc}
 4827              		.cfi_endproc
 4828              	.LFE357:
 4830              		.section	.text.USBH_PTP_GetNumObjects,"ax",%progbits
 4831              		.align	1
 4832              		.global	USBH_PTP_GetNumObjects
 4833              		.syntax unified
 4834              		.thumb
 4835              		.thumb_func
 4836              		.fpu fpv5-d16
 4838              	USBH_PTP_GetNumObjects:
 4839              	.LFB358:
1253:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1254:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1255:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetNumObjects
1256:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets device info dataset and fills deviceinfo structure.
1257:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1258:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1259:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1260:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1261:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetNumObjects(USBH_HandleTypeDef *phost,
1262:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           uint32_t storage_id,
1263:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           uint32_t objectformatcode,
1264:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           uint32_t associationOH,
1265:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           uint32_t *numobs)
1266:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 4840              		.loc 1 1266 1
 4841              		.cfi_startproc
 4842              		@ args = 4, pretend = 0, frame = 64
 4843              		@ frame_needed = 1, uses_anonymous_args = 0
 4844 0000 80B5     		push	{r7, lr}
 4845              	.LCFI105:
 4846              		.cfi_def_cfa_offset 8
 4847              		.cfi_offset 7, -8
ARM GAS  /tmp/ccH7Wnit.s 			page 112


 4848              		.cfi_offset 14, -4
 4849 0002 90B0     		sub	sp, sp, #64
 4850              	.LCFI106:
 4851              		.cfi_def_cfa_offset 72
 4852 0004 00AF     		add	r7, sp, #0
 4853              	.LCFI107:
 4854              		.cfi_def_cfa_register 7
 4855 0006 F860     		str	r0, [r7, #12]
 4856 0008 B960     		str	r1, [r7, #8]
 4857 000a 7A60     		str	r2, [r7, #4]
 4858 000c 3B60     		str	r3, [r7]
1267:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef   status = USBH_BUSY;
 4859              		.loc 1 1267 24
 4860 000e 0123     		movs	r3, #1
 4861 0010 87F83F30 		strb	r3, [r7, #63]
1268:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 4862              		.loc 1 1268 64
 4863 0014 FB68     		ldr	r3, [r7, #12]
 4864 0016 D3F87C34 		ldr	r3, [r3, #1148]
 4865              		.loc 1 1268 25
 4866 001a DB69     		ldr	r3, [r3, #28]
 4867 001c BB63     		str	r3, [r7, #56]
1269:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef  ptp_container;
1270:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1271:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 4868              		.loc 1 1271 26
 4869 001e BA6B     		ldr	r2, [r7, #56]
 4870 0020 41F66153 		movw	r3, #7521
 4871 0024 1344     		add	r3, r3, r2
 4872 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4873              		.loc 1 1271 3
 4874 0028 012B     		cmp	r3, #1
 4875 002a 02D0     		beq	.L151
 4876 002c 022B     		cmp	r3, #2
 4877 002e 47D0     		beq	.L152
1272:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1273:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1274:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1275:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_NODATA;
1276:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1277:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1278:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetNumObjects;
1279:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1280:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1281:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
1282:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = objectformatcode;
1283:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param3 = associationOH;
1284:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 3U;
1285:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1286:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1287:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1288:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1289:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1290:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1291:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1292:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1293:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
ARM GAS  /tmp/ccH7Wnit.s 			page 113


1294:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1295:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1296:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1297:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1298:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1299:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1300:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1301:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1302:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1303:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1304:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1305:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1306:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1307:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1308:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1309:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         *numobs = MTP_Handle->ptp.resp_container.param1;
1310:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1311:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1312:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1313:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1314:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 4878              		.loc 1 1314 7
 4879 0030 58E0     		b	.L154
 4880              	.L151:
1275:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4881              		.loc 1 1275 29
 4882 0032 BA6B     		ldr	r2, [r7, #56]
 4883 0034 42F2AC13 		movw	r3, #8620
 4884 0038 1344     		add	r3, r3, r2
 4885 003a 0022     		movs	r2, #0
 4886 003c 1A60     		str	r2, [r3]
1278:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 4887              		.loc 1 1278 26
 4888 003e 41F20603 		movw	r3, #4102
 4889 0042 BB82     		strh	r3, [r7, #20]	@ movhi
1279:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 4890              		.loc 1 1279 48
 4891 0044 BA6B     		ldr	r2, [r7, #56]
 4892 0046 42F2A813 		movw	r3, #8616
 4893 004a 1344     		add	r3, r3, r2
 4894 004c 1B68     		ldr	r3, [r3]
1279:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 4895              		.loc 1 1279 31
 4896 004e BB61     		str	r3, [r7, #24]
1280:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
 4897              		.loc 1 1280 53
 4898 0050 BA6B     		ldr	r2, [r7, #56]
 4899 0052 42F2A413 		movw	r3, #8612
 4900 0056 1344     		add	r3, r3, r2
 4901 0058 1A68     		ldr	r2, [r3]
1280:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
 4902              		.loc 1 1280 68
 4903 005a 511C     		adds	r1, r2, #1
 4904 005c B86B     		ldr	r0, [r7, #56]
 4905 005e 42F2A413 		movw	r3, #8612
 4906 0062 0344     		add	r3, r3, r0
 4907 0064 1960     		str	r1, [r3]
ARM GAS  /tmp/ccH7Wnit.s 			page 114


1280:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
 4908              		.loc 1 1280 36
 4909 0066 FA61     		str	r2, [r7, #28]
1281:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = objectformatcode;
 4910              		.loc 1 1281 28
 4911 0068 BB68     		ldr	r3, [r7, #8]
 4912 006a 3B62     		str	r3, [r7, #32]
1282:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param3 = associationOH;
 4913              		.loc 1 1282 28
 4914 006c 7B68     		ldr	r3, [r7, #4]
 4915 006e 7B62     		str	r3, [r7, #36]
1283:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 3U;
 4916              		.loc 1 1283 28
 4917 0070 3B68     		ldr	r3, [r7]
 4918 0072 BB62     		str	r3, [r7, #40]
1284:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4919              		.loc 1 1284 28
 4920 0074 0323     		movs	r3, #3
 4921 0076 87F83430 		strb	r3, [r7, #52]
1287:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4922              		.loc 1 1287 7
 4923 007a 07F11403 		add	r3, r7, #20
 4924 007e 1946     		mov	r1, r3
 4925 0080 F868     		ldr	r0, [r7, #12]
 4926 0082 FFF7FEFF 		bl	USBH_PTP_SendRequest
1290:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 4927              		.loc 1 1290 29
 4928 0086 BB6B     		ldr	r3, [r7, #56]
 4929 0088 03F5EB53 		add	r3, r3, #7520
 4930 008c 0122     		movs	r2, #1
 4931 008e 1A70     		strb	r2, [r3]
1291:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 4932              		.loc 1 1291 33
 4933 0090 BA6B     		ldr	r2, [r7, #56]
 4934 0092 41F66153 		movw	r3, #7521
 4935 0096 1344     		add	r3, r3, r2
 4936 0098 0222     		movs	r2, #2
 4937 009a 1A70     		strb	r2, [r3]
1292:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4938              		.loc 1 1292 14
 4939 009c 0123     		movs	r3, #1
 4940 009e 87F83F30 		strb	r3, [r7, #63]
1295:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 4941              		.loc 1 1295 21
 4942 00a2 FB68     		ldr	r3, [r7, #12]
 4943 00a4 0522     		movs	r2, #5
 4944 00a6 C3F8E024 		str	r2, [r3, #1248]
1299:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4945              		.loc 1 1299 13
 4946 00aa FB68     		ldr	r3, [r7, #12]
 4947 00ac D3F8D804 		ldr	r0, [r3, #1240]
1299:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4948              		.loc 1 1299 48
 4949 00b0 FB68     		ldr	r3, [r7, #12]
 4950 00b2 03F59C61 		add	r1, r3, #1248
1299:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 4951              		.loc 1 1299 13
ARM GAS  /tmp/ccH7Wnit.s 			page 115


 4952 00b6 0023     		movs	r3, #0
 4953 00b8 0022     		movs	r2, #0
 4954 00ba FFF7FEFF 		bl	osMessageQueuePut
1302:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4955              		.loc 1 1302 7
 4956 00be 11E0     		b	.L154
 4957              	.L152:
1305:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4958              		.loc 1 1305 16
 4959 00c0 F868     		ldr	r0, [r7, #12]
 4960 00c2 FFF7FEFF 		bl	USBH_PTP_Process
 4961 00c6 0346     		mov	r3, r0
 4962 00c8 87F83F30 		strb	r3, [r7, #63]
1307:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 4963              		.loc 1 1307 10
 4964 00cc 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 4965 00d0 002B     		cmp	r3, #0
 4966 00d2 06D1     		bne	.L157
1309:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 4967              		.loc 1 1309 49
 4968 00d4 BA6B     		ldr	r2, [r7, #56]
 4969 00d6 42F29013 		movw	r3, #8592
 4970 00da 1344     		add	r3, r3, r2
 4971 00dc 1A68     		ldr	r2, [r3]
1309:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 4972              		.loc 1 1309 17
 4973 00de BB6C     		ldr	r3, [r7, #72]
 4974 00e0 1A60     		str	r2, [r3]
 4975              	.L157:
1311:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 4976              		.loc 1 1311 7
 4977 00e2 00BF     		nop
 4978              	.L154:
1315:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1316:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 4979              		.loc 1 1316 10
 4980 00e4 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1317:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 4981              		.loc 1 1317 1
 4982 00e8 1846     		mov	r0, r3
 4983 00ea 4037     		adds	r7, r7, #64
 4984              	.LCFI108:
 4985              		.cfi_def_cfa_offset 8
 4986 00ec BD46     		mov	sp, r7
 4987              	.LCFI109:
 4988              		.cfi_def_cfa_register 13
 4989              		@ sp needed
 4990 00ee 80BD     		pop	{r7, pc}
 4991              		.cfi_endproc
 4992              	.LFE358:
 4994              		.section	.text.USBH_PTP_GetObjectHandles,"ax",%progbits
 4995              		.align	1
 4996              		.global	USBH_PTP_GetObjectHandles
 4997              		.syntax unified
 4998              		.thumb
 4999              		.thumb_func
 5000              		.fpu fpv5-d16
ARM GAS  /tmp/ccH7Wnit.s 			page 116


 5002              	USBH_PTP_GetObjectHandles:
 5003              	.LFB359:
1318:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1319:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1320:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetObjectHandles
1321:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets device info dataset and fills deviceinfo structure.
1322:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1323:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1324:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1325:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1326:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetObjectHandles(USBH_HandleTypeDef *phost,
1327:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                              uint32_t storage_id,
1328:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                              uint32_t objectformatcode,
1329:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                              uint32_t associationOH,
1330:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                              PTP_ObjectHandlesTypedef *objecthandles)
1331:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 5004              		.loc 1 1331 1
 5005              		.cfi_startproc
 5006              		@ args = 4, pretend = 0, frame = 64
 5007              		@ frame_needed = 1, uses_anonymous_args = 0
 5008 0000 80B5     		push	{r7, lr}
 5009              	.LCFI110:
 5010              		.cfi_def_cfa_offset 8
 5011              		.cfi_offset 7, -8
 5012              		.cfi_offset 14, -4
 5013 0002 90B0     		sub	sp, sp, #64
 5014              	.LCFI111:
 5015              		.cfi_def_cfa_offset 72
 5016 0004 00AF     		add	r7, sp, #0
 5017              	.LCFI112:
 5018              		.cfi_def_cfa_register 7
 5019 0006 F860     		str	r0, [r7, #12]
 5020 0008 B960     		str	r1, [r7, #8]
 5021 000a 7A60     		str	r2, [r7, #4]
 5022 000c 3B60     		str	r3, [r7]
1332:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef   status = USBH_BUSY;
 5023              		.loc 1 1332 24
 5024 000e 0123     		movs	r3, #1
 5025 0010 87F83F30 		strb	r3, [r7, #63]
1333:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 5026              		.loc 1 1333 64
 5027 0014 FB68     		ldr	r3, [r7, #12]
 5028 0016 D3F87C34 		ldr	r3, [r3, #1148]
 5029              		.loc 1 1333 25
 5030 001a DB69     		ldr	r3, [r3, #28]
 5031 001c BB63     		str	r3, [r7, #56]
1334:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef  ptp_container;
1335:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1336:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 5032              		.loc 1 1336 26
 5033 001e BA6B     		ldr	r2, [r7, #56]
 5034 0020 41F66153 		movw	r3, #7521
 5035 0024 1344     		add	r3, r3, r2
 5036 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5037              		.loc 1 1336 3
 5038 0028 012B     		cmp	r3, #1
 5039 002a 02D0     		beq	.L159
ARM GAS  /tmp/ccH7Wnit.s 			page 117


 5040 002c 022B     		cmp	r3, #2
 5041 002e 61D0     		beq	.L160
1337:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1338:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1339:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1340:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1341:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1342:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1343:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1344:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1345:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1346:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1347:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetObjectHandles;
1348:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1349:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1350:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
1351:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = objectformatcode;
1352:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param3 = associationOH;
1353:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 3U;
1354:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1355:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1356:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1357:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1358:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1359:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1360:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1361:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1362:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1363:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1364:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1365:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1366:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1367:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1368:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1369:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1370:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1371:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1372:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1373:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1374:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1375:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1376:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1377:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1378:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         objecthandles->n = PTP_GetArray32(objecthandles->Handler,
1379:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           MTP_Handle->ptp.data_container.payload.data,
1380:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           0U);
1381:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1382:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1383:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1384:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1385:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 5042              		.loc 1 1385 7
 5043 0030 78E0     		b	.L162
 5044              	.L159:
1340:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
 5045              		.loc 1 1340 29
 5046 0032 BA6B     		ldr	r2, [r7, #56]
ARM GAS  /tmp/ccH7Wnit.s 			page 118


 5047 0034 42F2AC13 		movw	r3, #8620
 5048 0038 1344     		add	r3, r3, r2
 5049 003a 0222     		movs	r2, #2
 5050 003c 1A60     		str	r2, [r3]
1341:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 5051              		.loc 1 1341 54
 5052 003e BB6B     		ldr	r3, [r7, #56]
 5053 0040 41F68452 		movw	r2, #7556
 5054 0044 1A44     		add	r2, r2, r3
1341:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 5055              		.loc 1 1341 32
 5056 0046 B96B     		ldr	r1, [r7, #56]
 5057 0048 42F2B013 		movw	r3, #8624
 5058 004c 0B44     		add	r3, r3, r1
 5059 004e 1A60     		str	r2, [r3]
1342:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 5060              		.loc 1 1342 35
 5061 0050 BA6B     		ldr	r2, [r7, #56]
 5062 0052 42F2B413 		movw	r3, #8628
 5063 0056 1344     		add	r3, r3, r2
 5064 0058 0022     		movs	r2, #0
 5065 005a 1A60     		str	r2, [r3]
1343:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 5066              		.loc 1 1343 43
 5067 005c BB6B     		ldr	r3, [r7, #56]
 5068 005e 03F50753 		add	r3, r3, #8640
 5069 0062 0022     		movs	r2, #0
 5070 0064 1A60     		str	r2, [r3]
1344:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5071              		.loc 1 1344 35
 5072 0066 BA6B     		ldr	r2, [r7, #56]
 5073 0068 42F2B813 		movw	r3, #8632
 5074 006c 1344     		add	r3, r3, r2
 5075 006e 0022     		movs	r2, #0
 5076 0070 1A60     		str	r2, [r3]
1347:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 5077              		.loc 1 1347 26
 5078 0072 41F20703 		movw	r3, #4103
 5079 0076 BB82     		strh	r3, [r7, #20]	@ movhi
1348:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 5080              		.loc 1 1348 48
 5081 0078 BA6B     		ldr	r2, [r7, #56]
 5082 007a 42F2A813 		movw	r3, #8616
 5083 007e 1344     		add	r3, r3, r2
 5084 0080 1B68     		ldr	r3, [r3]
1348:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 5085              		.loc 1 1348 31
 5086 0082 BB61     		str	r3, [r7, #24]
1349:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
 5087              		.loc 1 1349 53
 5088 0084 BA6B     		ldr	r2, [r7, #56]
 5089 0086 42F2A413 		movw	r3, #8612
 5090 008a 1344     		add	r3, r3, r2
 5091 008c 1A68     		ldr	r2, [r3]
1349:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
 5092              		.loc 1 1349 68
 5093 008e 511C     		adds	r1, r2, #1
ARM GAS  /tmp/ccH7Wnit.s 			page 119


 5094 0090 B86B     		ldr	r0, [r7, #56]
 5095 0092 42F2A413 		movw	r3, #8612
 5096 0096 0344     		add	r3, r3, r0
 5097 0098 1960     		str	r1, [r3]
1349:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = storage_id;
 5098              		.loc 1 1349 36
 5099 009a FA61     		str	r2, [r7, #28]
1350:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = objectformatcode;
 5100              		.loc 1 1350 28
 5101 009c BB68     		ldr	r3, [r7, #8]
 5102 009e 3B62     		str	r3, [r7, #32]
1351:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param3 = associationOH;
 5103              		.loc 1 1351 28
 5104 00a0 7B68     		ldr	r3, [r7, #4]
 5105 00a2 7B62     		str	r3, [r7, #36]
1352:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 3U;
 5106              		.loc 1 1352 28
 5107 00a4 3B68     		ldr	r3, [r7]
 5108 00a6 BB62     		str	r3, [r7, #40]
1353:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5109              		.loc 1 1353 28
 5110 00a8 0323     		movs	r3, #3
 5111 00aa 87F83430 		strb	r3, [r7, #52]
1356:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5112              		.loc 1 1356 7
 5113 00ae 07F11403 		add	r3, r7, #20
 5114 00b2 1946     		mov	r1, r3
 5115 00b4 F868     		ldr	r0, [r7, #12]
 5116 00b6 FFF7FEFF 		bl	USBH_PTP_SendRequest
1359:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 5117              		.loc 1 1359 29
 5118 00ba BB6B     		ldr	r3, [r7, #56]
 5119 00bc 03F5EB53 		add	r3, r3, #7520
 5120 00c0 0122     		movs	r2, #1
 5121 00c2 1A70     		strb	r2, [r3]
1360:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 5122              		.loc 1 1360 33
 5123 00c4 BA6B     		ldr	r2, [r7, #56]
 5124 00c6 41F66153 		movw	r3, #7521
 5125 00ca 1344     		add	r3, r3, r2
 5126 00cc 0222     		movs	r2, #2
 5127 00ce 1A70     		strb	r2, [r3]
1361:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5128              		.loc 1 1361 14
 5129 00d0 0123     		movs	r3, #1
 5130 00d2 87F83F30 		strb	r3, [r7, #63]
1364:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 5131              		.loc 1 1364 21
 5132 00d6 FB68     		ldr	r3, [r7, #12]
 5133 00d8 0522     		movs	r2, #5
 5134 00da C3F8E024 		str	r2, [r3, #1248]
1368:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5135              		.loc 1 1368 13
 5136 00de FB68     		ldr	r3, [r7, #12]
 5137 00e0 D3F8D804 		ldr	r0, [r3, #1240]
1368:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5138              		.loc 1 1368 48
ARM GAS  /tmp/ccH7Wnit.s 			page 120


 5139 00e4 FB68     		ldr	r3, [r7, #12]
 5140 00e6 03F59C61 		add	r1, r3, #1248
1368:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5141              		.loc 1 1368 13
 5142 00ea 0023     		movs	r3, #0
 5143 00ec 0022     		movs	r2, #0
 5144 00ee FFF7FEFF 		bl	osMessageQueuePut
1371:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5145              		.loc 1 1371 7
 5146 00f2 17E0     		b	.L162
 5147              	.L160:
1374:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5148              		.loc 1 1374 16
 5149 00f4 F868     		ldr	r0, [r7, #12]
 5150 00f6 FFF7FEFF 		bl	USBH_PTP_Process
 5151 00fa 0346     		mov	r3, r0
 5152 00fc 87F83F30 		strb	r3, [r7, #63]
1376:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 5153              		.loc 1 1376 10
 5154 0100 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 5155 0104 002B     		cmp	r3, #0
 5156 0106 0CD1     		bne	.L165
1378:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           MTP_Handle->ptp.data_container.payload.data,
 5157              		.loc 1 1378 56
 5158 0108 BB6C     		ldr	r3, [r7, #72]
 5159 010a 181D     		adds	r0, r3, #4
1379:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           0U);
 5160              		.loc 1 1379 81
 5161 010c BA6B     		ldr	r2, [r7, #56]
 5162 010e 41F69053 		movw	r3, #7568
 5163 0112 1344     		add	r3, r3, r2
1378:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           MTP_Handle->ptp.data_container.payload.data,
 5164              		.loc 1 1378 28
 5165 0114 0022     		movs	r2, #0
 5166 0116 1946     		mov	r1, r3
 5167 0118 FFF7FEFF 		bl	PTP_GetArray32
 5168 011c 0246     		mov	r2, r0
1378:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           MTP_Handle->ptp.data_container.payload.data,
 5169              		.loc 1 1378 26
 5170 011e BB6C     		ldr	r3, [r7, #72]
 5171 0120 1A60     		str	r2, [r3]
 5172              	.L165:
1382:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5173              		.loc 1 1382 7
 5174 0122 00BF     		nop
 5175              	.L162:
1386:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1387:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 5176              		.loc 1 1387 10
 5177 0124 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1388:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 5178              		.loc 1 1388 1
 5179 0128 1846     		mov	r0, r3
 5180 012a 4037     		adds	r7, r7, #64
 5181              	.LCFI113:
 5182              		.cfi_def_cfa_offset 8
 5183 012c BD46     		mov	sp, r7
ARM GAS  /tmp/ccH7Wnit.s 			page 121


 5184              	.LCFI114:
 5185              		.cfi_def_cfa_register 13
 5186              		@ sp needed
 5187 012e 80BD     		pop	{r7, pc}
 5188              		.cfi_endproc
 5189              	.LFE359:
 5191              		.section	.text.USBH_PTP_GetObjectInfo,"ax",%progbits
 5192              		.align	1
 5193              		.global	USBH_PTP_GetObjectInfo
 5194              		.syntax unified
 5195              		.thumb
 5196              		.thumb_func
 5197              		.fpu fpv5-d16
 5199              	USBH_PTP_GetObjectInfo:
 5200              	.LFB360:
1389:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1390:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1391:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetObjectInfo
1392:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets objert info
1393:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1394:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1395:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1396:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1397:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetObjectInfo(USBH_HandleTypeDef *phost,
1398:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           uint32_t handle,
1399:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                           PTP_ObjectInfoTypedef *object_info)
1400:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 5201              		.loc 1 1400 1
 5202              		.cfi_startproc
 5203              		@ args = 0, pretend = 0, frame = 64
 5204              		@ frame_needed = 1, uses_anonymous_args = 0
 5205 0000 80B5     		push	{r7, lr}
 5206              	.LCFI115:
 5207              		.cfi_def_cfa_offset 8
 5208              		.cfi_offset 7, -8
 5209              		.cfi_offset 14, -4
 5210 0002 90B0     		sub	sp, sp, #64
 5211              	.LCFI116:
 5212              		.cfi_def_cfa_offset 72
 5213 0004 00AF     		add	r7, sp, #0
 5214              	.LCFI117:
 5215              		.cfi_def_cfa_register 7
 5216 0006 F860     		str	r0, [r7, #12]
 5217 0008 B960     		str	r1, [r7, #8]
 5218 000a 7A60     		str	r2, [r7, #4]
1401:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef   status = USBH_BUSY;
 5219              		.loc 1 1401 24
 5220 000c 0123     		movs	r3, #1
 5221 000e 87F83F30 		strb	r3, [r7, #63]
1402:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 5222              		.loc 1 1402 64
 5223 0012 FB68     		ldr	r3, [r7, #12]
 5224 0014 D3F87C34 		ldr	r3, [r3, #1148]
 5225              		.loc 1 1402 25
 5226 0018 DB69     		ldr	r3, [r3, #28]
 5227 001a BB63     		str	r3, [r7, #56]
1403:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef  ptp_container;
ARM GAS  /tmp/ccH7Wnit.s 			page 122


1404:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1405:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 5228              		.loc 1 1405 26
 5229 001c BA6B     		ldr	r2, [r7, #56]
 5230 001e 41F66153 		movw	r3, #7521
 5231 0022 1344     		add	r3, r3, r2
 5232 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5233              		.loc 1 1405 3
 5234 0026 012B     		cmp	r3, #1
 5235 0028 02D0     		beq	.L167
 5236 002a 022B     		cmp	r3, #2
 5237 002c 5DD0     		beq	.L168
1406:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1407:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1408:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1409:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1410:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1411:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1412:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1413:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1414:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1415:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1416:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetObjectInfo;
1417:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1418:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1419:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
1420:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
1421:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1422:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1423:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1424:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1425:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1426:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1427:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1428:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1429:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1430:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1431:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1432:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1433:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1434:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1435:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1436:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1437:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1438:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1439:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1440:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1441:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1442:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1443:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1444:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1445:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         PTP_GetObjectInfo(phost, object_info);
1446:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1447:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1448:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1449:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1450:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
ARM GAS  /tmp/ccH7Wnit.s 			page 123


 5238              		.loc 1 1450 7
 5239 002e 6BE0     		b	.L170
 5240              	.L167:
1409:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
 5241              		.loc 1 1409 29
 5242 0030 BA6B     		ldr	r2, [r7, #56]
 5243 0032 42F2AC13 		movw	r3, #8620
 5244 0036 1344     		add	r3, r3, r2
 5245 0038 0222     		movs	r2, #2
 5246 003a 1A60     		str	r2, [r3]
1410:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 5247              		.loc 1 1410 54
 5248 003c BB6B     		ldr	r3, [r7, #56]
 5249 003e 41F68452 		movw	r2, #7556
 5250 0042 1A44     		add	r2, r2, r3
1410:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 5251              		.loc 1 1410 32
 5252 0044 B96B     		ldr	r1, [r7, #56]
 5253 0046 42F2B013 		movw	r3, #8624
 5254 004a 0B44     		add	r3, r3, r1
 5255 004c 1A60     		str	r2, [r3]
1411:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 5256              		.loc 1 1411 35
 5257 004e BA6B     		ldr	r2, [r7, #56]
 5258 0050 42F2B413 		movw	r3, #8628
 5259 0054 1344     		add	r3, r3, r2
 5260 0056 0022     		movs	r2, #0
 5261 0058 1A60     		str	r2, [r3]
1412:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 5262              		.loc 1 1412 43
 5263 005a BB6B     		ldr	r3, [r7, #56]
 5264 005c 03F50753 		add	r3, r3, #8640
 5265 0060 0022     		movs	r2, #0
 5266 0062 1A60     		str	r2, [r3]
1413:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5267              		.loc 1 1413 35
 5268 0064 BA6B     		ldr	r2, [r7, #56]
 5269 0066 42F2B813 		movw	r3, #8632
 5270 006a 1344     		add	r3, r3, r2
 5271 006c 0022     		movs	r2, #0
 5272 006e 1A60     		str	r2, [r3]
1416:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 5273              		.loc 1 1416 26
 5274 0070 41F20803 		movw	r3, #4104
 5275 0074 BB82     		strh	r3, [r7, #20]	@ movhi
1417:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 5276              		.loc 1 1417 48
 5277 0076 BA6B     		ldr	r2, [r7, #56]
 5278 0078 42F2A813 		movw	r3, #8616
 5279 007c 1344     		add	r3, r3, r2
 5280 007e 1B68     		ldr	r3, [r3]
1417:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 5281              		.loc 1 1417 31
 5282 0080 BB61     		str	r3, [r7, #24]
1418:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5283              		.loc 1 1418 53
 5284 0082 BA6B     		ldr	r2, [r7, #56]
ARM GAS  /tmp/ccH7Wnit.s 			page 124


 5285 0084 42F2A413 		movw	r3, #8612
 5286 0088 1344     		add	r3, r3, r2
 5287 008a 1A68     		ldr	r2, [r3]
1418:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5288              		.loc 1 1418 68
 5289 008c 511C     		adds	r1, r2, #1
 5290 008e B86B     		ldr	r0, [r7, #56]
 5291 0090 42F2A413 		movw	r3, #8612
 5292 0094 0344     		add	r3, r3, r0
 5293 0096 1960     		str	r1, [r3]
1418:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5294              		.loc 1 1418 36
 5295 0098 FA61     		str	r2, [r7, #28]
1419:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
 5296              		.loc 1 1419 28
 5297 009a BB68     		ldr	r3, [r7, #8]
 5298 009c 3B62     		str	r3, [r7, #32]
1420:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5299              		.loc 1 1420 28
 5300 009e 0123     		movs	r3, #1
 5301 00a0 87F83430 		strb	r3, [r7, #52]
1423:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5302              		.loc 1 1423 7
 5303 00a4 07F11403 		add	r3, r7, #20
 5304 00a8 1946     		mov	r1, r3
 5305 00aa F868     		ldr	r0, [r7, #12]
 5306 00ac FFF7FEFF 		bl	USBH_PTP_SendRequest
1426:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 5307              		.loc 1 1426 29
 5308 00b0 BB6B     		ldr	r3, [r7, #56]
 5309 00b2 03F5EB53 		add	r3, r3, #7520
 5310 00b6 0122     		movs	r2, #1
 5311 00b8 1A70     		strb	r2, [r3]
1427:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 5312              		.loc 1 1427 33
 5313 00ba BA6B     		ldr	r2, [r7, #56]
 5314 00bc 41F66153 		movw	r3, #7521
 5315 00c0 1344     		add	r3, r3, r2
 5316 00c2 0222     		movs	r2, #2
 5317 00c4 1A70     		strb	r2, [r3]
1428:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5318              		.loc 1 1428 14
 5319 00c6 0123     		movs	r3, #1
 5320 00c8 87F83F30 		strb	r3, [r7, #63]
1431:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 5321              		.loc 1 1431 21
 5322 00cc FB68     		ldr	r3, [r7, #12]
 5323 00ce 0522     		movs	r2, #5
 5324 00d0 C3F8E024 		str	r2, [r3, #1248]
1435:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5325              		.loc 1 1435 13
 5326 00d4 FB68     		ldr	r3, [r7, #12]
 5327 00d6 D3F8D804 		ldr	r0, [r3, #1240]
1435:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5328              		.loc 1 1435 48
 5329 00da FB68     		ldr	r3, [r7, #12]
 5330 00dc 03F59C61 		add	r1, r3, #1248
ARM GAS  /tmp/ccH7Wnit.s 			page 125


1435:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5331              		.loc 1 1435 13
 5332 00e0 0023     		movs	r3, #0
 5333 00e2 0022     		movs	r2, #0
 5334 00e4 FFF7FEFF 		bl	osMessageQueuePut
1438:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5335              		.loc 1 1438 7
 5336 00e8 0EE0     		b	.L170
 5337              	.L168:
1441:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5338              		.loc 1 1441 16
 5339 00ea F868     		ldr	r0, [r7, #12]
 5340 00ec FFF7FEFF 		bl	USBH_PTP_Process
 5341 00f0 0346     		mov	r3, r0
 5342 00f2 87F83F30 		strb	r3, [r7, #63]
1443:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 5343              		.loc 1 1443 10
 5344 00f6 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 5345 00fa 002B     		cmp	r3, #0
 5346 00fc 03D1     		bne	.L173
1445:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 5347              		.loc 1 1445 9
 5348 00fe 7968     		ldr	r1, [r7, #4]
 5349 0100 F868     		ldr	r0, [r7, #12]
 5350 0102 FFF7FEFF 		bl	PTP_GetObjectInfo
 5351              	.L173:
1447:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5352              		.loc 1 1447 7
 5353 0106 00BF     		nop
 5354              	.L170:
1451:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1452:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 5355              		.loc 1 1452 10
 5356 0108 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1453:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 5357              		.loc 1 1453 1
 5358 010c 1846     		mov	r0, r3
 5359 010e 4037     		adds	r7, r7, #64
 5360              	.LCFI118:
 5361              		.cfi_def_cfa_offset 8
 5362 0110 BD46     		mov	sp, r7
 5363              	.LCFI119:
 5364              		.cfi_def_cfa_register 13
 5365              		@ sp needed
 5366 0112 80BD     		pop	{r7, pc}
 5367              		.cfi_endproc
 5368              	.LFE360:
 5370              		.section	.text.USBH_PTP_DeleteObject,"ax",%progbits
 5371              		.align	1
 5372              		.global	USBH_PTP_DeleteObject
 5373              		.syntax unified
 5374              		.thumb
 5375              		.thumb_func
 5376              		.fpu fpv5-d16
 5378              	USBH_PTP_DeleteObject:
 5379              	.LFB361:
1454:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
ARM GAS  /tmp/ccH7Wnit.s 			page 126


1455:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1456:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_DeleteObject
1457:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Delete an object.
1458:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1459:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  handle : Object Handle
1460:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1461:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1462:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_DeleteObject(USBH_HandleTypeDef *phost,
1463:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                          uint32_t handle,
1464:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                          uint32_t objectformatcode)
1465:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 5380              		.loc 1 1465 1
 5381              		.cfi_startproc
 5382              		@ args = 0, pretend = 0, frame = 64
 5383              		@ frame_needed = 1, uses_anonymous_args = 0
 5384 0000 80B5     		push	{r7, lr}
 5385              	.LCFI120:
 5386              		.cfi_def_cfa_offset 8
 5387              		.cfi_offset 7, -8
 5388              		.cfi_offset 14, -4
 5389 0002 90B0     		sub	sp, sp, #64
 5390              	.LCFI121:
 5391              		.cfi_def_cfa_offset 72
 5392 0004 00AF     		add	r7, sp, #0
 5393              	.LCFI122:
 5394              		.cfi_def_cfa_register 7
 5395 0006 F860     		str	r0, [r7, #12]
 5396 0008 B960     		str	r1, [r7, #8]
 5397 000a 7A60     		str	r2, [r7, #4]
1466:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef   status = USBH_BUSY;
 5398              		.loc 1 1466 24
 5399 000c 0123     		movs	r3, #1
 5400 000e 87F83F30 		strb	r3, [r7, #63]
1467:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef    *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 5401              		.loc 1 1467 64
 5402 0012 FB68     		ldr	r3, [r7, #12]
 5403 0014 D3F87C34 		ldr	r3, [r3, #1148]
 5404              		.loc 1 1467 25
 5405 0018 DB69     		ldr	r3, [r3, #28]
 5406 001a BB63     		str	r3, [r7, #56]
1468:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef  ptp_container;
1469:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1470:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 5407              		.loc 1 1470 26
 5408 001c BA6B     		ldr	r2, [r7, #56]
 5409 001e 41F66153 		movw	r3, #7521
 5410 0022 1344     		add	r3, r3, r2
 5411 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5412              		.loc 1 1470 3
 5413 0026 012B     		cmp	r3, #1
 5414 0028 02D0     		beq	.L175
 5415 002a 022B     		cmp	r3, #2
 5416 002c 45D0     		beq	.L176
1471:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1472:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1473:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1474:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_NODATA;
ARM GAS  /tmp/ccH7Wnit.s 			page 127


1475:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1476:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1477:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_DeleteObject;
1478:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1479:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1480:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
1481:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = objectformatcode;
1482:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 2U;
1483:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1484:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1485:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1486:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1487:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1488:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1489:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1490:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1491:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1492:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1493:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1494:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1495:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1496:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1497:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1498:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1499:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1500:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1501:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1502:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1503:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1504:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1505:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1506:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1507:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 5417              		.loc 1 1507 7
 5418 002e 4BE0     		b	.L178
 5419              	.L175:
1474:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5420              		.loc 1 1474 29
 5421 0030 BA6B     		ldr	r2, [r7, #56]
 5422 0032 42F2AC13 		movw	r3, #8620
 5423 0036 1344     		add	r3, r3, r2
 5424 0038 0022     		movs	r2, #0
 5425 003a 1A60     		str	r2, [r3]
1477:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 5426              		.loc 1 1477 26
 5427 003c 41F20B03 		movw	r3, #4107
 5428 0040 BB82     		strh	r3, [r7, #20]	@ movhi
1478:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 5429              		.loc 1 1478 48
 5430 0042 BA6B     		ldr	r2, [r7, #56]
 5431 0044 42F2A813 		movw	r3, #8616
 5432 0048 1344     		add	r3, r3, r2
 5433 004a 1B68     		ldr	r3, [r3]
1478:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 5434              		.loc 1 1478 31
 5435 004c BB61     		str	r3, [r7, #24]
1479:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
ARM GAS  /tmp/ccH7Wnit.s 			page 128


 5436              		.loc 1 1479 53
 5437 004e BA6B     		ldr	r2, [r7, #56]
 5438 0050 42F2A413 		movw	r3, #8612
 5439 0054 1344     		add	r3, r3, r2
 5440 0056 1A68     		ldr	r2, [r3]
1479:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5441              		.loc 1 1479 68
 5442 0058 511C     		adds	r1, r2, #1
 5443 005a B86B     		ldr	r0, [r7, #56]
 5444 005c 42F2A413 		movw	r3, #8612
 5445 0060 0344     		add	r3, r3, r0
 5446 0062 1960     		str	r1, [r3]
1479:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5447              		.loc 1 1479 36
 5448 0064 FA61     		str	r2, [r7, #28]
1480:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = objectformatcode;
 5449              		.loc 1 1480 28
 5450 0066 BB68     		ldr	r3, [r7, #8]
 5451 0068 3B62     		str	r3, [r7, #32]
1481:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 2U;
 5452              		.loc 1 1481 28
 5453 006a 7B68     		ldr	r3, [r7, #4]
 5454 006c 7B62     		str	r3, [r7, #36]
1482:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5455              		.loc 1 1482 28
 5456 006e 0223     		movs	r3, #2
 5457 0070 87F83430 		strb	r3, [r7, #52]
1485:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5458              		.loc 1 1485 7
 5459 0074 07F11403 		add	r3, r7, #20
 5460 0078 1946     		mov	r1, r3
 5461 007a F868     		ldr	r0, [r7, #12]
 5462 007c FFF7FEFF 		bl	USBH_PTP_SendRequest
1488:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 5463              		.loc 1 1488 29
 5464 0080 BB6B     		ldr	r3, [r7, #56]
 5465 0082 03F5EB53 		add	r3, r3, #7520
 5466 0086 0122     		movs	r2, #1
 5467 0088 1A70     		strb	r2, [r3]
1489:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 5468              		.loc 1 1489 33
 5469 008a BA6B     		ldr	r2, [r7, #56]
 5470 008c 41F66153 		movw	r3, #7521
 5471 0090 1344     		add	r3, r3, r2
 5472 0092 0222     		movs	r2, #2
 5473 0094 1A70     		strb	r2, [r3]
1490:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5474              		.loc 1 1490 14
 5475 0096 0123     		movs	r3, #1
 5476 0098 87F83F30 		strb	r3, [r7, #63]
1493:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 5477              		.loc 1 1493 21
 5478 009c FB68     		ldr	r3, [r7, #12]
 5479 009e 0522     		movs	r2, #5
 5480 00a0 C3F8E024 		str	r2, [r3, #1248]
1497:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5481              		.loc 1 1497 13
ARM GAS  /tmp/ccH7Wnit.s 			page 129


 5482 00a4 FB68     		ldr	r3, [r7, #12]
 5483 00a6 D3F8D804 		ldr	r0, [r3, #1240]
1497:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5484              		.loc 1 1497 48
 5485 00aa FB68     		ldr	r3, [r7, #12]
 5486 00ac 03F59C61 		add	r1, r3, #1248
1497:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5487              		.loc 1 1497 13
 5488 00b0 0023     		movs	r3, #0
 5489 00b2 0022     		movs	r2, #0
 5490 00b4 FFF7FEFF 		bl	osMessageQueuePut
1500:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5491              		.loc 1 1500 7
 5492 00b8 06E0     		b	.L178
 5493              	.L176:
1503:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 5494              		.loc 1 1503 16
 5495 00ba F868     		ldr	r0, [r7, #12]
 5496 00bc FFF7FEFF 		bl	USBH_PTP_Process
 5497 00c0 0346     		mov	r3, r0
 5498 00c2 87F83F30 		strb	r3, [r7, #63]
1504:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5499              		.loc 1 1504 7
 5500 00c6 00BF     		nop
 5501              	.L178:
1508:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1509:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 5502              		.loc 1 1509 10
 5503 00c8 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1510:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 5504              		.loc 1 1510 1
 5505 00cc 1846     		mov	r0, r3
 5506 00ce 4037     		adds	r7, r7, #64
 5507              	.LCFI123:
 5508              		.cfi_def_cfa_offset 8
 5509 00d0 BD46     		mov	sp, r7
 5510              	.LCFI124:
 5511              		.cfi_def_cfa_register 13
 5512              		@ sp needed
 5513 00d2 80BD     		pop	{r7, pc}
 5514              		.cfi_endproc
 5515              	.LFE361:
 5517              		.section	.text.USBH_PTP_GetObject,"ax",%progbits
 5518              		.align	1
 5519              		.global	USBH_PTP_GetObject
 5520              		.syntax unified
 5521              		.thumb
 5522              		.thumb_func
 5523              		.fpu fpv5-d16
 5525              	USBH_PTP_GetObject:
 5526              	.LFB362:
1511:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1512:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1513:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetObject
1514:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets object
1515:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1516:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
ARM GAS  /tmp/ccH7Wnit.s 			page 130


1517:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1518:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1519:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetObject(USBH_HandleTypeDef *phost,
1520:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                       uint32_t handle,
1521:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                       uint8_t *object)
1522:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 5527              		.loc 1 1522 1
 5528              		.cfi_startproc
 5529              		@ args = 0, pretend = 0, frame = 64
 5530              		@ frame_needed = 1, uses_anonymous_args = 0
 5531 0000 80B5     		push	{r7, lr}
 5532              	.LCFI125:
 5533              		.cfi_def_cfa_offset 8
 5534              		.cfi_offset 7, -8
 5535              		.cfi_offset 14, -4
 5536 0002 90B0     		sub	sp, sp, #64
 5537              	.LCFI126:
 5538              		.cfi_def_cfa_offset 72
 5539 0004 00AF     		add	r7, sp, #0
 5540              	.LCFI127:
 5541              		.cfi_def_cfa_register 7
 5542 0006 F860     		str	r0, [r7, #12]
 5543 0008 B960     		str	r1, [r7, #8]
 5544 000a 7A60     		str	r2, [r7, #4]
1523:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 5545              		.loc 1 1523 22
 5546 000c 0123     		movs	r3, #1
 5547 000e 87F83F30 		strb	r3, [r7, #63]
1524:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 5548              		.loc 1 1524 61
 5549 0012 FB68     		ldr	r3, [r7, #12]
 5550 0014 D3F87C34 		ldr	r3, [r3, #1148]
 5551              		.loc 1 1524 22
 5552 0018 DB69     		ldr	r3, [r3, #28]
 5553 001a BB63     		str	r3, [r7, #56]
1525:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef ptp_container;
1526:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1527:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 5554              		.loc 1 1527 26
 5555 001c BA6B     		ldr	r2, [r7, #56]
 5556 001e 41F66153 		movw	r3, #7521
 5557 0022 1344     		add	r3, r3, r2
 5558 0024 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5559              		.loc 1 1527 3
 5560 0026 012B     		cmp	r3, #1
 5561 0028 02D0     		beq	.L181
 5562 002a 022B     		cmp	r3, #2
 5563 002c 63D0     		beq	.L182
1528:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1529:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1530:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1531:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1532:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1533:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1534:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1535:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1536:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
ARM GAS  /tmp/ccH7Wnit.s 			page 131


1537:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1538:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* set object control params */
1539:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.object_ptr = object;
1540:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1541:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1542:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetObject;
1543:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1544:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1545:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
1546:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
1547:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1548:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1549:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1550:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1551:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1552:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1553:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1554:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1555:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1556:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1557:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1558:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1559:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1560:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1561:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1562:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1563:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1564:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1565:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1566:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1567:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1568:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1569:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1570:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1571:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1572:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* first packet is in the PTP data payload buffer */
1573:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         if (MTP_Handle->ptp.iteration == 0U)
1574:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
1575:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           /* copy it to object */
1576:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           USBH_memcpy(MTP_Handle->ptp.object_ptr,
1577:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                       MTP_Handle->ptp.data_container.payload.data,
1578:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                       PTP_USB_BULK_PAYLOAD_LEN_READ);
1579:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
1580:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1581:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1582:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1583:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1584:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 5564              		.loc 1 1584 7
 5565 002e 82E0     		b	.L184
 5566              	.L181:
1532:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
 5567              		.loc 1 1532 29
 5568 0030 BA6B     		ldr	r2, [r7, #56]
 5569 0032 42F2AC13 		movw	r3, #8620
 5570 0036 1344     		add	r3, r3, r2
 5571 0038 0222     		movs	r2, #2
ARM GAS  /tmp/ccH7Wnit.s 			page 132


 5572 003a 1A60     		str	r2, [r3]
1533:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 5573              		.loc 1 1533 54
 5574 003c BB6B     		ldr	r3, [r7, #56]
 5575 003e 41F68452 		movw	r2, #7556
 5576 0042 1A44     		add	r2, r2, r3
1533:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 5577              		.loc 1 1533 32
 5578 0044 B96B     		ldr	r1, [r7, #56]
 5579 0046 42F2B013 		movw	r3, #8624
 5580 004a 0B44     		add	r3, r3, r1
 5581 004c 1A60     		str	r2, [r3]
1534:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 5582              		.loc 1 1534 35
 5583 004e BA6B     		ldr	r2, [r7, #56]
 5584 0050 42F2B413 		movw	r3, #8628
 5585 0054 1344     		add	r3, r3, r2
 5586 0056 0022     		movs	r2, #0
 5587 0058 1A60     		str	r2, [r3]
1535:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 5588              		.loc 1 1535 43
 5589 005a BB6B     		ldr	r3, [r7, #56]
 5590 005c 03F50753 		add	r3, r3, #8640
 5591 0060 0022     		movs	r2, #0
 5592 0062 1A60     		str	r2, [r3]
1536:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5593              		.loc 1 1536 35
 5594 0064 BA6B     		ldr	r2, [r7, #56]
 5595 0066 42F2B813 		movw	r3, #8632
 5596 006a 1344     		add	r3, r3, r2
 5597 006c 0022     		movs	r2, #0
 5598 006e 1A60     		str	r2, [r3]
1539:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5599              		.loc 1 1539 34
 5600 0070 BA6B     		ldr	r2, [r7, #56]
 5601 0072 42F2C413 		movw	r3, #8644
 5602 0076 1344     		add	r3, r3, r2
 5603 0078 7A68     		ldr	r2, [r7, #4]
 5604 007a 1A60     		str	r2, [r3]
1542:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 5605              		.loc 1 1542 26
 5606 007c 41F20903 		movw	r3, #4105
 5607 0080 BB82     		strh	r3, [r7, #20]	@ movhi
1543:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 5608              		.loc 1 1543 48
 5609 0082 BA6B     		ldr	r2, [r7, #56]
 5610 0084 42F2A813 		movw	r3, #8616
 5611 0088 1344     		add	r3, r3, r2
 5612 008a 1B68     		ldr	r3, [r3]
1543:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 5613              		.loc 1 1543 31
 5614 008c BB61     		str	r3, [r7, #24]
1544:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5615              		.loc 1 1544 53
 5616 008e BA6B     		ldr	r2, [r7, #56]
 5617 0090 42F2A413 		movw	r3, #8612
 5618 0094 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccH7Wnit.s 			page 133


 5619 0096 1A68     		ldr	r2, [r3]
1544:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5620              		.loc 1 1544 68
 5621 0098 511C     		adds	r1, r2, #1
 5622 009a B86B     		ldr	r0, [r7, #56]
 5623 009c 42F2A413 		movw	r3, #8612
 5624 00a0 0344     		add	r3, r3, r0
 5625 00a2 1960     		str	r1, [r3]
1544:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5626              		.loc 1 1544 36
 5627 00a4 FA61     		str	r2, [r7, #28]
1545:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
 5628              		.loc 1 1545 28
 5629 00a6 BB68     		ldr	r3, [r7, #8]
 5630 00a8 3B62     		str	r3, [r7, #32]
1546:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5631              		.loc 1 1546 28
 5632 00aa 0123     		movs	r3, #1
 5633 00ac 87F83430 		strb	r3, [r7, #52]
1550:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5634              		.loc 1 1550 7
 5635 00b0 07F11403 		add	r3, r7, #20
 5636 00b4 1946     		mov	r1, r3
 5637 00b6 F868     		ldr	r0, [r7, #12]
 5638 00b8 FFF7FEFF 		bl	USBH_PTP_SendRequest
1553:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 5639              		.loc 1 1553 29
 5640 00bc BB6B     		ldr	r3, [r7, #56]
 5641 00be 03F5EB53 		add	r3, r3, #7520
 5642 00c2 0122     		movs	r2, #1
 5643 00c4 1A70     		strb	r2, [r3]
1554:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 5644              		.loc 1 1554 33
 5645 00c6 BA6B     		ldr	r2, [r7, #56]
 5646 00c8 41F66153 		movw	r3, #7521
 5647 00cc 1344     		add	r3, r3, r2
 5648 00ce 0222     		movs	r2, #2
 5649 00d0 1A70     		strb	r2, [r3]
1555:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5650              		.loc 1 1555 14
 5651 00d2 0123     		movs	r3, #1
 5652 00d4 87F83F30 		strb	r3, [r7, #63]
1558:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 5653              		.loc 1 1558 21
 5654 00d8 FB68     		ldr	r3, [r7, #12]
 5655 00da 0522     		movs	r2, #5
 5656 00dc C3F8E024 		str	r2, [r3, #1248]
1562:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5657              		.loc 1 1562 13
 5658 00e0 FB68     		ldr	r3, [r7, #12]
 5659 00e2 D3F8D804 		ldr	r0, [r3, #1240]
1562:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5660              		.loc 1 1562 48
 5661 00e6 FB68     		ldr	r3, [r7, #12]
 5662 00e8 03F59C61 		add	r1, r3, #1248
1562:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5663              		.loc 1 1562 13
ARM GAS  /tmp/ccH7Wnit.s 			page 134


 5664 00ec 0023     		movs	r3, #0
 5665 00ee 0022     		movs	r2, #0
 5666 00f0 FFF7FEFF 		bl	osMessageQueuePut
1565:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5667              		.loc 1 1565 7
 5668 00f4 1FE0     		b	.L184
 5669              	.L182:
1568:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5670              		.loc 1 1568 16
 5671 00f6 F868     		ldr	r0, [r7, #12]
 5672 00f8 FFF7FEFF 		bl	USBH_PTP_Process
 5673 00fc 0346     		mov	r3, r0
 5674 00fe 87F83F30 		strb	r3, [r7, #63]
1570:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 5675              		.loc 1 1570 10
 5676 0102 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 5677 0106 002B     		cmp	r3, #0
 5678 0108 14D1     		bne	.L187
1573:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 5679              		.loc 1 1573 28
 5680 010a BA6B     		ldr	r2, [r7, #56]
 5681 010c 42F2BC13 		movw	r3, #8636
 5682 0110 1344     		add	r3, r3, r2
 5683 0112 1B68     		ldr	r3, [r3]
1573:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 5684              		.loc 1 1573 12
 5685 0114 002B     		cmp	r3, #0
 5686 0116 0DD1     		bne	.L187
1576:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                       MTP_Handle->ptp.data_container.payload.data,
 5687              		.loc 1 1576 38
 5688 0118 BA6B     		ldr	r2, [r7, #56]
 5689 011a 42F2C413 		movw	r3, #8644
 5690 011e 1344     		add	r3, r3, r2
 5691 0120 1868     		ldr	r0, [r3]
1577:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                       PTP_USB_BULK_PAYLOAD_LEN_READ);
 5692              		.loc 1 1577 61
 5693 0122 BA6B     		ldr	r2, [r7, #56]
 5694 0124 41F69053 		movw	r3, #7568
 5695 0128 1344     		add	r3, r3, r2
1576:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                       MTP_Handle->ptp.data_container.payload.data,
 5696              		.loc 1 1576 11
 5697 012a 4FF47D72 		mov	r2, #1012
 5698 012e 1946     		mov	r1, r3
 5699 0130 FFF7FEFF 		bl	memcpy
 5700              	.L187:
1581:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5701              		.loc 1 1581 7
 5702 0134 00BF     		nop
 5703              	.L184:
1585:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1586:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 5704              		.loc 1 1586 10
 5705 0136 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1587:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 5706              		.loc 1 1587 1
 5707 013a 1846     		mov	r0, r3
 5708 013c 4037     		adds	r7, r7, #64
ARM GAS  /tmp/ccH7Wnit.s 			page 135


 5709              	.LCFI128:
 5710              		.cfi_def_cfa_offset 8
 5711 013e BD46     		mov	sp, r7
 5712              	.LCFI129:
 5713              		.cfi_def_cfa_register 13
 5714              		@ sp needed
 5715 0140 80BD     		pop	{r7, pc}
 5716              		.cfi_endproc
 5717              	.LFE362:
 5719              		.section	.text.USBH_PTP_GetPartialObject,"ax",%progbits
 5720              		.align	1
 5721              		.global	USBH_PTP_GetPartialObject
 5722              		.syntax unified
 5723              		.thumb
 5724              		.thumb_func
 5725              		.fpu fpv5-d16
 5727              	USBH_PTP_GetPartialObject:
 5728              	.LFB363:
1588:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1589:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1590:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetPartialObject
1591:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets object partially
1592:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1593:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1594:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1595:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1596:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetPartialObject(USBH_HandleTypeDef *phost,
1597:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                              uint32_t handle,
1598:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                              uint32_t offset,
1599:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                              uint32_t maxbytes,
1600:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                              uint8_t *object,
1601:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                              uint32_t *len)
1602:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 5729              		.loc 1 1602 1
 5730              		.cfi_startproc
 5731              		@ args = 8, pretend = 0, frame = 64
 5732              		@ frame_needed = 1, uses_anonymous_args = 0
 5733 0000 80B5     		push	{r7, lr}
 5734              	.LCFI130:
 5735              		.cfi_def_cfa_offset 8
 5736              		.cfi_offset 7, -8
 5737              		.cfi_offset 14, -4
 5738 0002 90B0     		sub	sp, sp, #64
 5739              	.LCFI131:
 5740              		.cfi_def_cfa_offset 72
 5741 0004 00AF     		add	r7, sp, #0
 5742              	.LCFI132:
 5743              		.cfi_def_cfa_register 7
 5744 0006 F860     		str	r0, [r7, #12]
 5745 0008 B960     		str	r1, [r7, #8]
 5746 000a 7A60     		str	r2, [r7, #4]
 5747 000c 3B60     		str	r3, [r7]
1603:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 5748              		.loc 1 1603 22
 5749 000e 0123     		movs	r3, #1
 5750 0010 87F83F30 		strb	r3, [r7, #63]
1604:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
ARM GAS  /tmp/ccH7Wnit.s 			page 136


 5751              		.loc 1 1604 61
 5752 0014 FB68     		ldr	r3, [r7, #12]
 5753 0016 D3F87C34 		ldr	r3, [r3, #1148]
 5754              		.loc 1 1604 22
 5755 001a DB69     		ldr	r3, [r3, #28]
 5756 001c BB63     		str	r3, [r7, #56]
1605:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef ptp_container;
1606:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1607:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 5757              		.loc 1 1607 26
 5758 001e BA6B     		ldr	r2, [r7, #56]
 5759 0020 41F66153 		movw	r3, #7521
 5760 0024 1344     		add	r3, r3, r2
 5761 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5762              		.loc 1 1607 3
 5763 0028 012B     		cmp	r3, #1
 5764 002a 02D0     		beq	.L189
 5765 002c 022B     		cmp	r3, #2
 5766 002e 67D0     		beq	.L190
1608:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1609:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1610:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1611:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1612:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1613:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1614:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1615:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1616:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1617:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* set object control params */
1618:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.object_ptr = object;
1619:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1620:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1621:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetPartialObject;
1622:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1623:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1624:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
1625:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = offset;
1626:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param3 = maxbytes;
1627:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 3U;
1628:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1629:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1630:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1631:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1632:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1633:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1634:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1635:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1636:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1637:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1638:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1639:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1640:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1641:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1642:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1643:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1644:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1645:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
ARM GAS  /tmp/ccH7Wnit.s 			page 137


1646:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1647:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1648:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1649:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1650:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1651:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1652:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         *len = MTP_Handle->ptp.resp_container.param1;
1653:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* first packet is in the PTP data payload buffer */
1654:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         if (MTP_Handle->ptp.iteration == 0U)
1655:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
1656:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           /* copy it to object */
1657:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****           USBH_memcpy(MTP_Handle->ptp.object_ptr,
1658:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                       MTP_Handle->ptp.data_container.payload.data, *len);
1659:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
1660:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1661:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1662:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1663:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1664:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 5767              		.loc 1 1664 7
 5768 0030 8DE0     		b	.L192
 5769              	.L189:
1611:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
 5770              		.loc 1 1611 29
 5771 0032 BA6B     		ldr	r2, [r7, #56]
 5772 0034 42F2AC13 		movw	r3, #8620
 5773 0038 1344     		add	r3, r3, r2
 5774 003a 0222     		movs	r2, #2
 5775 003c 1A60     		str	r2, [r3]
1612:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 5776              		.loc 1 1612 54
 5777 003e BB6B     		ldr	r3, [r7, #56]
 5778 0040 41F68452 		movw	r2, #7556
 5779 0044 1A44     		add	r2, r2, r3
1612:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 5780              		.loc 1 1612 32
 5781 0046 B96B     		ldr	r1, [r7, #56]
 5782 0048 42F2B013 		movw	r3, #8624
 5783 004c 0B44     		add	r3, r3, r1
 5784 004e 1A60     		str	r2, [r3]
1613:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 5785              		.loc 1 1613 35
 5786 0050 BA6B     		ldr	r2, [r7, #56]
 5787 0052 42F2B413 		movw	r3, #8628
 5788 0056 1344     		add	r3, r3, r2
 5789 0058 0022     		movs	r2, #0
 5790 005a 1A60     		str	r2, [r3]
1614:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 5791              		.loc 1 1614 43
 5792 005c BB6B     		ldr	r3, [r7, #56]
 5793 005e 03F50753 		add	r3, r3, #8640
 5794 0062 0022     		movs	r2, #0
 5795 0064 1A60     		str	r2, [r3]
1615:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5796              		.loc 1 1615 35
 5797 0066 BA6B     		ldr	r2, [r7, #56]
 5798 0068 42F2B813 		movw	r3, #8632
ARM GAS  /tmp/ccH7Wnit.s 			page 138


 5799 006c 1344     		add	r3, r3, r2
 5800 006e 0022     		movs	r2, #0
 5801 0070 1A60     		str	r2, [r3]
1618:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5802              		.loc 1 1618 34
 5803 0072 BA6B     		ldr	r2, [r7, #56]
 5804 0074 42F2C413 		movw	r3, #8644
 5805 0078 1344     		add	r3, r3, r2
 5806 007a BA6C     		ldr	r2, [r7, #72]
 5807 007c 1A60     		str	r2, [r3]
1621:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 5808              		.loc 1 1621 26
 5809 007e 41F21B03 		movw	r3, #4123
 5810 0082 BB82     		strh	r3, [r7, #20]	@ movhi
1622:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 5811              		.loc 1 1622 48
 5812 0084 BA6B     		ldr	r2, [r7, #56]
 5813 0086 42F2A813 		movw	r3, #8616
 5814 008a 1344     		add	r3, r3, r2
 5815 008c 1B68     		ldr	r3, [r3]
1622:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 5816              		.loc 1 1622 31
 5817 008e BB61     		str	r3, [r7, #24]
1623:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5818              		.loc 1 1623 53
 5819 0090 BA6B     		ldr	r2, [r7, #56]
 5820 0092 42F2A413 		movw	r3, #8612
 5821 0096 1344     		add	r3, r3, r2
 5822 0098 1A68     		ldr	r2, [r3]
1623:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5823              		.loc 1 1623 68
 5824 009a 511C     		adds	r1, r2, #1
 5825 009c B86B     		ldr	r0, [r7, #56]
 5826 009e 42F2A413 		movw	r3, #8612
 5827 00a2 0344     		add	r3, r3, r0
 5828 00a4 1960     		str	r1, [r3]
1623:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 5829              		.loc 1 1623 36
 5830 00a6 FA61     		str	r2, [r7, #28]
1624:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = offset;
 5831              		.loc 1 1624 28
 5832 00a8 BB68     		ldr	r3, [r7, #8]
 5833 00aa 3B62     		str	r3, [r7, #32]
1625:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param3 = maxbytes;
 5834              		.loc 1 1625 28
 5835 00ac 7B68     		ldr	r3, [r7, #4]
 5836 00ae 7B62     		str	r3, [r7, #36]
1626:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 3U;
 5837              		.loc 1 1626 28
 5838 00b0 3B68     		ldr	r3, [r7]
 5839 00b2 BB62     		str	r3, [r7, #40]
1627:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5840              		.loc 1 1627 28
 5841 00b4 0323     		movs	r3, #3
 5842 00b6 87F83430 		strb	r3, [r7, #52]
1630:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5843              		.loc 1 1630 7
ARM GAS  /tmp/ccH7Wnit.s 			page 139


 5844 00ba 07F11403 		add	r3, r7, #20
 5845 00be 1946     		mov	r1, r3
 5846 00c0 F868     		ldr	r0, [r7, #12]
 5847 00c2 FFF7FEFF 		bl	USBH_PTP_SendRequest
1633:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 5848              		.loc 1 1633 29
 5849 00c6 BB6B     		ldr	r3, [r7, #56]
 5850 00c8 03F5EB53 		add	r3, r3, #7520
 5851 00cc 0122     		movs	r2, #1
 5852 00ce 1A70     		strb	r2, [r3]
1634:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 5853              		.loc 1 1634 33
 5854 00d0 BA6B     		ldr	r2, [r7, #56]
 5855 00d2 41F66153 		movw	r3, #7521
 5856 00d6 1344     		add	r3, r3, r2
 5857 00d8 0222     		movs	r2, #2
 5858 00da 1A70     		strb	r2, [r3]
1635:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5859              		.loc 1 1635 14
 5860 00dc 0123     		movs	r3, #1
 5861 00de 87F83F30 		strb	r3, [r7, #63]
1638:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 5862              		.loc 1 1638 21
 5863 00e2 FB68     		ldr	r3, [r7, #12]
 5864 00e4 0522     		movs	r2, #5
 5865 00e6 C3F8E024 		str	r2, [r3, #1248]
1642:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5866              		.loc 1 1642 13
 5867 00ea FB68     		ldr	r3, [r7, #12]
 5868 00ec D3F8D804 		ldr	r0, [r3, #1240]
1642:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5869              		.loc 1 1642 48
 5870 00f0 FB68     		ldr	r3, [r7, #12]
 5871 00f2 03F59C61 		add	r1, r3, #1248
1642:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 5872              		.loc 1 1642 13
 5873 00f6 0023     		movs	r3, #0
 5874 00f8 0022     		movs	r2, #0
 5875 00fa FFF7FEFF 		bl	osMessageQueuePut
1645:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5876              		.loc 1 1645 7
 5877 00fe 26E0     		b	.L192
 5878              	.L190:
1648:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5879              		.loc 1 1648 16
 5880 0100 F868     		ldr	r0, [r7, #12]
 5881 0102 FFF7FEFF 		bl	USBH_PTP_Process
 5882 0106 0346     		mov	r3, r0
 5883 0108 87F83F30 		strb	r3, [r7, #63]
1650:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 5884              		.loc 1 1650 10
 5885 010c 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 5886 0110 002B     		cmp	r3, #0
 5887 0112 1BD1     		bne	.L195
1652:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* first packet is in the PTP data payload buffer */
 5888              		.loc 1 1652 46
 5889 0114 BA6B     		ldr	r2, [r7, #56]
ARM GAS  /tmp/ccH7Wnit.s 			page 140


 5890 0116 42F29013 		movw	r3, #8592
 5891 011a 1344     		add	r3, r3, r2
 5892 011c 1A68     		ldr	r2, [r3]
1652:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         /* first packet is in the PTP data payload buffer */
 5893              		.loc 1 1652 14
 5894 011e FB6C     		ldr	r3, [r7, #76]
 5895 0120 1A60     		str	r2, [r3]
1654:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 5896              		.loc 1 1654 28
 5897 0122 BA6B     		ldr	r2, [r7, #56]
 5898 0124 42F2BC13 		movw	r3, #8636
 5899 0128 1344     		add	r3, r3, r2
 5900 012a 1B68     		ldr	r3, [r3]
1654:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         {
 5901              		.loc 1 1654 12
 5902 012c 002B     		cmp	r3, #0
 5903 012e 0DD1     		bne	.L195
1657:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                       MTP_Handle->ptp.data_container.payload.data, *len);
 5904              		.loc 1 1657 38
 5905 0130 BA6B     		ldr	r2, [r7, #56]
 5906 0132 42F2C413 		movw	r3, #8644
 5907 0136 1344     		add	r3, r3, r2
 5908 0138 1868     		ldr	r0, [r3]
1658:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         }
 5909              		.loc 1 1658 61
 5910 013a BA6B     		ldr	r2, [r7, #56]
 5911 013c 41F69053 		movw	r3, #7568
 5912 0140 1344     		add	r3, r3, r2
1657:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                       MTP_Handle->ptp.data_container.payload.data, *len);
 5913              		.loc 1 1657 11
 5914 0142 FA6C     		ldr	r2, [r7, #76]
 5915 0144 1268     		ldr	r2, [r2]
 5916 0146 1946     		mov	r1, r3
 5917 0148 FFF7FEFF 		bl	memcpy
 5918              	.L195:
1661:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 5919              		.loc 1 1661 7
 5920 014c 00BF     		nop
 5921              	.L192:
1665:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1666:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 5922              		.loc 1 1666 10
 5923 014e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1667:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 5924              		.loc 1 1667 1
 5925 0152 1846     		mov	r0, r3
 5926 0154 4037     		adds	r7, r7, #64
 5927              	.LCFI133:
 5928              		.cfi_def_cfa_offset 8
 5929 0156 BD46     		mov	sp, r7
 5930              	.LCFI134:
 5931              		.cfi_def_cfa_register 13
 5932              		@ sp needed
 5933 0158 80BD     		pop	{r7, pc}
 5934              		.cfi_endproc
 5935              	.LFE363:
 5937              		.section	.text.USBH_PTP_GetObjectPropsSupported,"ax",%progbits
ARM GAS  /tmp/ccH7Wnit.s 			page 141


 5938              		.align	1
 5939              		.global	USBH_PTP_GetObjectPropsSupported
 5940              		.syntax unified
 5941              		.thumb
 5942              		.thumb_func
 5943              		.fpu fpv5-d16
 5945              	USBH_PTP_GetObjectPropsSupported:
 5946              	.LFB364:
1668:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1669:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1670:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetObjectPropsSupported
1671:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets object partially
1672:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1673:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1674:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1675:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1676:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetObjectPropsSupported(USBH_HandleTypeDef *phost,
1677:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                                     uint16_t ofc,
1678:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                                     uint32_t *propnum,
1679:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                                     uint16_t *props)
1680:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 5947              		.loc 1 1680 1
 5948              		.cfi_startproc
 5949              		@ args = 0, pretend = 0, frame = 64
 5950              		@ frame_needed = 1, uses_anonymous_args = 0
 5951 0000 80B5     		push	{r7, lr}
 5952              	.LCFI135:
 5953              		.cfi_def_cfa_offset 8
 5954              		.cfi_offset 7, -8
 5955              		.cfi_offset 14, -4
 5956 0002 90B0     		sub	sp, sp, #64
 5957              	.LCFI136:
 5958              		.cfi_def_cfa_offset 72
 5959 0004 00AF     		add	r7, sp, #0
 5960              	.LCFI137:
 5961              		.cfi_def_cfa_register 7
 5962 0006 F860     		str	r0, [r7, #12]
 5963 0008 7A60     		str	r2, [r7, #4]
 5964 000a 3B60     		str	r3, [r7]
 5965 000c 0B46     		mov	r3, r1	@ movhi
 5966 000e 7B81     		strh	r3, [r7, #10]	@ movhi
1681:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 5967              		.loc 1 1681 22
 5968 0010 0123     		movs	r3, #1
 5969 0012 87F83F30 		strb	r3, [r7, #63]
1682:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 5970              		.loc 1 1682 61
 5971 0016 FB68     		ldr	r3, [r7, #12]
 5972 0018 D3F87C34 		ldr	r3, [r3, #1148]
 5973              		.loc 1 1682 22
 5974 001c DB69     		ldr	r3, [r3, #28]
 5975 001e BB63     		str	r3, [r7, #56]
1683:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef ptp_container;
1684:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1685:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 5976              		.loc 1 1685 26
 5977 0020 BA6B     		ldr	r2, [r7, #56]
ARM GAS  /tmp/ccH7Wnit.s 			page 142


 5978 0022 41F66153 		movw	r3, #7521
 5979 0026 1344     		add	r3, r3, r2
 5980 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5981              		.loc 1 1685 3
 5982 002a 012B     		cmp	r3, #1
 5983 002c 02D0     		beq	.L197
 5984 002e 022B     		cmp	r3, #2
 5985 0030 5DD0     		beq	.L198
1686:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1687:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1688:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1689:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1690:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1691:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1692:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1693:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1694:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1695:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1696:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetObjectPropsSupported;
1697:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1698:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1699:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = ofc;
1700:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
1701:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1702:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1703:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1704:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1705:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1706:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1707:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1708:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1709:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1710:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1711:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1712:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1713:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1714:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1715:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1716:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1717:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1718:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1719:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1720:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1721:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1722:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1723:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1724:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1725:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         *propnum = PTP_GetArray16(props, MTP_Handle->ptp.data_container.payload.data, 0U);
1726:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1727:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1728:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1729:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1730:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 5986              		.loc 1 1730 7
 5987 0032 73E0     		b	.L200
 5988              	.L197:
1689:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
ARM GAS  /tmp/ccH7Wnit.s 			page 143


 5989              		.loc 1 1689 29
 5990 0034 BA6B     		ldr	r2, [r7, #56]
 5991 0036 42F2AC13 		movw	r3, #8620
 5992 003a 1344     		add	r3, r3, r2
 5993 003c 0222     		movs	r2, #2
 5994 003e 1A60     		str	r2, [r3]
1690:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 5995              		.loc 1 1690 54
 5996 0040 BB6B     		ldr	r3, [r7, #56]
 5997 0042 41F68452 		movw	r2, #7556
 5998 0046 1A44     		add	r2, r2, r3
1690:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 5999              		.loc 1 1690 32
 6000 0048 B96B     		ldr	r1, [r7, #56]
 6001 004a 42F2B013 		movw	r3, #8624
 6002 004e 0B44     		add	r3, r3, r1
 6003 0050 1A60     		str	r2, [r3]
1691:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 6004              		.loc 1 1691 35
 6005 0052 BA6B     		ldr	r2, [r7, #56]
 6006 0054 42F2B413 		movw	r3, #8628
 6007 0058 1344     		add	r3, r3, r2
 6008 005a 0022     		movs	r2, #0
 6009 005c 1A60     		str	r2, [r3]
1692:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 6010              		.loc 1 1692 43
 6011 005e BB6B     		ldr	r3, [r7, #56]
 6012 0060 03F50753 		add	r3, r3, #8640
 6013 0064 0022     		movs	r2, #0
 6014 0066 1A60     		str	r2, [r3]
1693:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6015              		.loc 1 1693 35
 6016 0068 BA6B     		ldr	r2, [r7, #56]
 6017 006a 42F2B813 		movw	r3, #8632
 6018 006e 1344     		add	r3, r3, r2
 6019 0070 0022     		movs	r2, #0
 6020 0072 1A60     		str	r2, [r3]
1696:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 6021              		.loc 1 1696 26
 6022 0074 49F60103 		movw	r3, #38913
 6023 0078 BB82     		strh	r3, [r7, #20]	@ movhi
1697:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 6024              		.loc 1 1697 48
 6025 007a BA6B     		ldr	r2, [r7, #56]
 6026 007c 42F2A813 		movw	r3, #8616
 6027 0080 1344     		add	r3, r3, r2
 6028 0082 1B68     		ldr	r3, [r3]
1697:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 6029              		.loc 1 1697 31
 6030 0084 BB61     		str	r3, [r7, #24]
1698:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = ofc;
 6031              		.loc 1 1698 53
 6032 0086 BA6B     		ldr	r2, [r7, #56]
 6033 0088 42F2A413 		movw	r3, #8612
 6034 008c 1344     		add	r3, r3, r2
 6035 008e 1A68     		ldr	r2, [r3]
1698:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = ofc;
ARM GAS  /tmp/ccH7Wnit.s 			page 144


 6036              		.loc 1 1698 68
 6037 0090 511C     		adds	r1, r2, #1
 6038 0092 B86B     		ldr	r0, [r7, #56]
 6039 0094 42F2A413 		movw	r3, #8612
 6040 0098 0344     		add	r3, r3, r0
 6041 009a 1960     		str	r1, [r3]
1698:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = ofc;
 6042              		.loc 1 1698 36
 6043 009c FA61     		str	r2, [r7, #28]
1699:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 1U;
 6044              		.loc 1 1699 28
 6045 009e 7B89     		ldrh	r3, [r7, #10]
 6046 00a0 3B62     		str	r3, [r7, #32]
1700:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6047              		.loc 1 1700 28
 6048 00a2 0123     		movs	r3, #1
 6049 00a4 87F83430 		strb	r3, [r7, #52]
1703:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6050              		.loc 1 1703 7
 6051 00a8 07F11403 		add	r3, r7, #20
 6052 00ac 1946     		mov	r1, r3
 6053 00ae F868     		ldr	r0, [r7, #12]
 6054 00b0 FFF7FEFF 		bl	USBH_PTP_SendRequest
1706:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 6055              		.loc 1 1706 29
 6056 00b4 BB6B     		ldr	r3, [r7, #56]
 6057 00b6 03F5EB53 		add	r3, r3, #7520
 6058 00ba 0122     		movs	r2, #1
 6059 00bc 1A70     		strb	r2, [r3]
1707:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 6060              		.loc 1 1707 33
 6061 00be BA6B     		ldr	r2, [r7, #56]
 6062 00c0 41F66153 		movw	r3, #7521
 6063 00c4 1344     		add	r3, r3, r2
 6064 00c6 0222     		movs	r2, #2
 6065 00c8 1A70     		strb	r2, [r3]
1708:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6066              		.loc 1 1708 14
 6067 00ca 0123     		movs	r3, #1
 6068 00cc 87F83F30 		strb	r3, [r7, #63]
1711:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 6069              		.loc 1 1711 21
 6070 00d0 FB68     		ldr	r3, [r7, #12]
 6071 00d2 0522     		movs	r2, #5
 6072 00d4 C3F8E024 		str	r2, [r3, #1248]
1715:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6073              		.loc 1 1715 13
 6074 00d8 FB68     		ldr	r3, [r7, #12]
 6075 00da D3F8D804 		ldr	r0, [r3, #1240]
1715:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6076              		.loc 1 1715 48
 6077 00de FB68     		ldr	r3, [r7, #12]
 6078 00e0 03F59C61 		add	r1, r3, #1248
1715:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6079              		.loc 1 1715 13
 6080 00e4 0023     		movs	r3, #0
 6081 00e6 0022     		movs	r2, #0
ARM GAS  /tmp/ccH7Wnit.s 			page 145


 6082 00e8 FFF7FEFF 		bl	osMessageQueuePut
1718:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6083              		.loc 1 1718 7
 6084 00ec 16E0     		b	.L200
 6085              	.L198:
1721:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6086              		.loc 1 1721 16
 6087 00ee F868     		ldr	r0, [r7, #12]
 6088 00f0 FFF7FEFF 		bl	USBH_PTP_Process
 6089 00f4 0346     		mov	r3, r0
 6090 00f6 87F83F30 		strb	r3, [r7, #63]
1723:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 6091              		.loc 1 1723 10
 6092 00fa 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 6093 00fe 002B     		cmp	r3, #0
 6094 0100 0BD1     		bne	.L203
1725:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 6095              		.loc 1 1725 80
 6096 0102 BA6B     		ldr	r2, [r7, #56]
 6097 0104 41F69053 		movw	r3, #7568
 6098 0108 1344     		add	r3, r3, r2
1725:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 6099              		.loc 1 1725 20
 6100 010a 0022     		movs	r2, #0
 6101 010c 1946     		mov	r1, r3
 6102 010e 3868     		ldr	r0, [r7]
 6103 0110 FFF7FEFF 		bl	PTP_GetArray16
 6104 0114 0246     		mov	r2, r0
1725:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 6105              		.loc 1 1725 18
 6106 0116 7B68     		ldr	r3, [r7, #4]
 6107 0118 1A60     		str	r2, [r3]
 6108              	.L203:
1727:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6109              		.loc 1 1727 7
 6110 011a 00BF     		nop
 6111              	.L200:
1731:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1732:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 6112              		.loc 1 1732 10
 6113 011c 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1733:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 6114              		.loc 1 1733 1
 6115 0120 1846     		mov	r0, r3
 6116 0122 4037     		adds	r7, r7, #64
 6117              	.LCFI138:
 6118              		.cfi_def_cfa_offset 8
 6119 0124 BD46     		mov	sp, r7
 6120              	.LCFI139:
 6121              		.cfi_def_cfa_register 13
 6122              		@ sp needed
 6123 0126 80BD     		pop	{r7, pc}
 6124              		.cfi_endproc
 6125              	.LFE364:
 6127              		.section	.text.USBH_PTP_GetObjectPropDesc,"ax",%progbits
 6128              		.align	1
 6129              		.global	USBH_PTP_GetObjectPropDesc
ARM GAS  /tmp/ccH7Wnit.s 			page 146


 6130              		.syntax unified
 6131              		.thumb
 6132              		.thumb_func
 6133              		.fpu fpv5-d16
 6135              	USBH_PTP_GetObjectPropDesc:
 6136              	.LFB365:
1734:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1735:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1736:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetObjectPropDesc
1737:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets object partially
1738:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1739:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1740:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1741:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1742:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetObjectPropDesc(USBH_HandleTypeDef *phost,
1743:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                               uint16_t opc,
1744:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                               uint16_t ofc,
1745:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                               PTP_ObjectPropDescTypeDef *opd)
1746:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 6137              		.loc 1 1746 1
 6138              		.cfi_startproc
 6139              		@ args = 0, pretend = 0, frame = 64
 6140              		@ frame_needed = 1, uses_anonymous_args = 0
 6141 0000 80B5     		push	{r7, lr}
 6142              	.LCFI140:
 6143              		.cfi_def_cfa_offset 8
 6144              		.cfi_offset 7, -8
 6145              		.cfi_offset 14, -4
 6146 0002 90B0     		sub	sp, sp, #64
 6147              	.LCFI141:
 6148              		.cfi_def_cfa_offset 72
 6149 0004 00AF     		add	r7, sp, #0
 6150              	.LCFI142:
 6151              		.cfi_def_cfa_register 7
 6152 0006 F860     		str	r0, [r7, #12]
 6153 0008 7B60     		str	r3, [r7, #4]
 6154 000a 0B46     		mov	r3, r1	@ movhi
 6155 000c 7B81     		strh	r3, [r7, #10]	@ movhi
 6156 000e 1346     		mov	r3, r2	@ movhi
 6157 0010 3B81     		strh	r3, [r7, #8]	@ movhi
1747:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 6158              		.loc 1 1747 22
 6159 0012 0123     		movs	r3, #1
 6160 0014 87F83F30 		strb	r3, [r7, #63]
1748:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 6161              		.loc 1 1748 61
 6162 0018 FB68     		ldr	r3, [r7, #12]
 6163 001a D3F87C34 		ldr	r3, [r3, #1148]
 6164              		.loc 1 1748 22
 6165 001e DB69     		ldr	r3, [r3, #28]
 6166 0020 BB63     		str	r3, [r7, #56]
1749:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef ptp_container;
1750:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1751:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 6167              		.loc 1 1751 26
 6168 0022 BA6B     		ldr	r2, [r7, #56]
 6169 0024 41F66153 		movw	r3, #7521
ARM GAS  /tmp/ccH7Wnit.s 			page 147


 6170 0028 1344     		add	r3, r3, r2
 6171 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 6172              		.loc 1 1751 3
 6173 002c 012B     		cmp	r3, #1
 6174 002e 02D0     		beq	.L205
 6175 0030 022B     		cmp	r3, #2
 6176 0032 5FD0     		beq	.L206
1752:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1753:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1754:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1755:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1756:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1757:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1758:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1759:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1760:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1761:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1762:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1763:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetObjectPropDesc;
1764:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1765:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1766:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = opc;
1767:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = ofc;
1768:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 2U;
1769:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1770:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1771:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1772:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1773:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1774:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1775:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1776:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1777:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1778:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1779:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1780:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1781:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1782:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1783:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1784:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1785:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1786:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1787:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1788:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1789:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1790:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1791:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1792:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1793:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         PTP_GetObjectPropDesc(phost, opd, MTP_Handle->ptp.data_length);
1794:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
1795:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1796:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1797:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1798:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 6177              		.loc 1 1798 7
 6178 0034 73E0     		b	.L208
 6179              	.L205:
ARM GAS  /tmp/ccH7Wnit.s 			page 148


1756:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
 6180              		.loc 1 1756 29
 6181 0036 BA6B     		ldr	r2, [r7, #56]
 6182 0038 42F2AC13 		movw	r3, #8620
 6183 003c 1344     		add	r3, r3, r2
 6184 003e 0222     		movs	r2, #2
 6185 0040 1A60     		str	r2, [r3]
1757:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 6186              		.loc 1 1757 54
 6187 0042 BB6B     		ldr	r3, [r7, #56]
 6188 0044 41F68452 		movw	r2, #7556
 6189 0048 1A44     		add	r2, r2, r3
1757:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 6190              		.loc 1 1757 32
 6191 004a B96B     		ldr	r1, [r7, #56]
 6192 004c 42F2B013 		movw	r3, #8624
 6193 0050 0B44     		add	r3, r3, r1
 6194 0052 1A60     		str	r2, [r3]
1758:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 6195              		.loc 1 1758 35
 6196 0054 BA6B     		ldr	r2, [r7, #56]
 6197 0056 42F2B413 		movw	r3, #8628
 6198 005a 1344     		add	r3, r3, r2
 6199 005c 0022     		movs	r2, #0
 6200 005e 1A60     		str	r2, [r3]
1759:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 6201              		.loc 1 1759 43
 6202 0060 BB6B     		ldr	r3, [r7, #56]
 6203 0062 03F50753 		add	r3, r3, #8640
 6204 0066 0022     		movs	r2, #0
 6205 0068 1A60     		str	r2, [r3]
1760:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6206              		.loc 1 1760 35
 6207 006a BA6B     		ldr	r2, [r7, #56]
 6208 006c 42F2B813 		movw	r3, #8632
 6209 0070 1344     		add	r3, r3, r2
 6210 0072 0022     		movs	r2, #0
 6211 0074 1A60     		str	r2, [r3]
1763:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 6212              		.loc 1 1763 26
 6213 0076 49F60203 		movw	r3, #38914
 6214 007a BB82     		strh	r3, [r7, #20]	@ movhi
1764:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 6215              		.loc 1 1764 48
 6216 007c BA6B     		ldr	r2, [r7, #56]
 6217 007e 42F2A813 		movw	r3, #8616
 6218 0082 1344     		add	r3, r3, r2
 6219 0084 1B68     		ldr	r3, [r3]
1764:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 6220              		.loc 1 1764 31
 6221 0086 BB61     		str	r3, [r7, #24]
1765:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = opc;
 6222              		.loc 1 1765 53
 6223 0088 BA6B     		ldr	r2, [r7, #56]
 6224 008a 42F2A413 		movw	r3, #8612
 6225 008e 1344     		add	r3, r3, r2
 6226 0090 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccH7Wnit.s 			page 149


1765:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = opc;
 6227              		.loc 1 1765 68
 6228 0092 511C     		adds	r1, r2, #1
 6229 0094 B86B     		ldr	r0, [r7, #56]
 6230 0096 42F2A413 		movw	r3, #8612
 6231 009a 0344     		add	r3, r3, r0
 6232 009c 1960     		str	r1, [r3]
1765:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = opc;
 6233              		.loc 1 1765 36
 6234 009e FA61     		str	r2, [r7, #28]
1766:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = ofc;
 6235              		.loc 1 1766 28
 6236 00a0 7B89     		ldrh	r3, [r7, #10]
 6237 00a2 3B62     		str	r3, [r7, #32]
1767:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 2U;
 6238              		.loc 1 1767 28
 6239 00a4 3B89     		ldrh	r3, [r7, #8]
 6240 00a6 7B62     		str	r3, [r7, #36]
1768:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6241              		.loc 1 1768 28
 6242 00a8 0223     		movs	r3, #2
 6243 00aa 87F83430 		strb	r3, [r7, #52]
1771:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6244              		.loc 1 1771 7
 6245 00ae 07F11403 		add	r3, r7, #20
 6246 00b2 1946     		mov	r1, r3
 6247 00b4 F868     		ldr	r0, [r7, #12]
 6248 00b6 FFF7FEFF 		bl	USBH_PTP_SendRequest
1774:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 6249              		.loc 1 1774 29
 6250 00ba BB6B     		ldr	r3, [r7, #56]
 6251 00bc 03F5EB53 		add	r3, r3, #7520
 6252 00c0 0122     		movs	r2, #1
 6253 00c2 1A70     		strb	r2, [r3]
1775:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 6254              		.loc 1 1775 33
 6255 00c4 BA6B     		ldr	r2, [r7, #56]
 6256 00c6 41F66153 		movw	r3, #7521
 6257 00ca 1344     		add	r3, r3, r2
 6258 00cc 0222     		movs	r2, #2
 6259 00ce 1A70     		strb	r2, [r3]
1776:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6260              		.loc 1 1776 14
 6261 00d0 0123     		movs	r3, #1
 6262 00d2 87F83F30 		strb	r3, [r7, #63]
1779:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 6263              		.loc 1 1779 21
 6264 00d6 FB68     		ldr	r3, [r7, #12]
 6265 00d8 0522     		movs	r2, #5
 6266 00da C3F8E024 		str	r2, [r3, #1248]
1783:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6267              		.loc 1 1783 13
 6268 00de FB68     		ldr	r3, [r7, #12]
 6269 00e0 D3F8D804 		ldr	r0, [r3, #1240]
1783:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6270              		.loc 1 1783 48
 6271 00e4 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccH7Wnit.s 			page 150


 6272 00e6 03F59C61 		add	r1, r3, #1248
1783:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6273              		.loc 1 1783 13
 6274 00ea 0023     		movs	r3, #0
 6275 00ec 0022     		movs	r2, #0
 6276 00ee FFF7FEFF 		bl	osMessageQueuePut
1786:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6277              		.loc 1 1786 7
 6278 00f2 14E0     		b	.L208
 6279              	.L206:
1789:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6280              		.loc 1 1789 16
 6281 00f4 F868     		ldr	r0, [r7, #12]
 6282 00f6 FFF7FEFF 		bl	USBH_PTP_Process
 6283 00fa 0346     		mov	r3, r0
 6284 00fc 87F83F30 		strb	r3, [r7, #63]
1791:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 6285              		.loc 1 1791 10
 6286 0100 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 6287 0104 002B     		cmp	r3, #0
 6288 0106 09D1     		bne	.L211
1793:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
 6289              		.loc 1 1793 9
 6290 0108 BA6B     		ldr	r2, [r7, #56]
 6291 010a 42F2B413 		movw	r3, #8628
 6292 010e 1344     		add	r3, r3, r2
 6293 0110 1B68     		ldr	r3, [r3]
 6294 0112 1A46     		mov	r2, r3
 6295 0114 7968     		ldr	r1, [r7, #4]
 6296 0116 F868     		ldr	r0, [r7, #12]
 6297 0118 FFF7FEFF 		bl	PTP_GetObjectPropDesc
 6298              	.L211:
1795:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6299              		.loc 1 1795 7
 6300 011c 00BF     		nop
 6301              	.L208:
1799:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1800:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 6302              		.loc 1 1800 10
 6303 011e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1801:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 6304              		.loc 1 1801 1
 6305 0122 1846     		mov	r0, r3
 6306 0124 4037     		adds	r7, r7, #64
 6307              	.LCFI143:
 6308              		.cfi_def_cfa_offset 8
 6309 0126 BD46     		mov	sp, r7
 6310              	.LCFI144:
 6311              		.cfi_def_cfa_register 13
 6312              		@ sp needed
 6313 0128 80BD     		pop	{r7, pc}
 6314              		.cfi_endproc
 6315              	.LFE365:
 6317              		.section	.text.USBH_PTP_GetObjectPropList,"ax",%progbits
 6318              		.align	1
 6319              		.global	USBH_PTP_GetObjectPropList
 6320              		.syntax unified
ARM GAS  /tmp/ccH7Wnit.s 			page 151


 6321              		.thumb
 6322              		.thumb_func
 6323              		.fpu fpv5-d16
 6325              	USBH_PTP_GetObjectPropList:
 6326              	.LFB366:
1802:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1803:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1804:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_GetObjectPropList
1805:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Gets object partially
1806:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1807:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1808:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1809:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1810:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_GetObjectPropList(USBH_HandleTypeDef *phost,
1811:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                               uint32_t handle,
1812:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                               MTP_PropertiesTypedef *pprops,
1813:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                               uint32_t *nrofprops)
1814:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 6327              		.loc 1 1814 1
 6328              		.cfi_startproc
 6329              		@ args = 0, pretend = 0, frame = 64
 6330              		@ frame_needed = 1, uses_anonymous_args = 0
 6331 0000 80B5     		push	{r7, lr}
 6332              	.LCFI145:
 6333              		.cfi_def_cfa_offset 8
 6334              		.cfi_offset 7, -8
 6335              		.cfi_offset 14, -4
 6336 0002 90B0     		sub	sp, sp, #64
 6337              	.LCFI146:
 6338              		.cfi_def_cfa_offset 72
 6339 0004 00AF     		add	r7, sp, #0
 6340              	.LCFI147:
 6341              		.cfi_def_cfa_register 7
 6342 0006 F860     		str	r0, [r7, #12]
 6343 0008 B960     		str	r1, [r7, #8]
 6344 000a 7A60     		str	r2, [r7, #4]
 6345 000c 3B60     		str	r3, [r7]
1815:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   /* Prevent unused argument(s) compilation warning */
1816:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   UNUSED(nrofprops);
1817:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1818:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 6346              		.loc 1 1818 22
 6347 000e 0123     		movs	r3, #1
 6348 0010 87F83F30 		strb	r3, [r7, #63]
1819:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 6349              		.loc 1 1819 61
 6350 0014 FB68     		ldr	r3, [r7, #12]
 6351 0016 D3F87C34 		ldr	r3, [r3, #1148]
 6352              		.loc 1 1819 22
 6353 001a DB69     		ldr	r3, [r3, #28]
 6354 001c BB63     		str	r3, [r7, #56]
1820:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef ptp_container;
1821:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1822:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 6355              		.loc 1 1822 26
 6356 001e BA6B     		ldr	r2, [r7, #56]
 6357 0020 41F66153 		movw	r3, #7521
ARM GAS  /tmp/ccH7Wnit.s 			page 152


 6358 0024 1344     		add	r3, r3, r2
 6359 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 6360              		.loc 1 1822 3
 6361 0028 012B     		cmp	r3, #1
 6362 002a 02D0     		beq	.L213
 6363 002c 022B     		cmp	r3, #2
 6364 002e 75D0     		beq	.L214
1823:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1824:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1825:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1826:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1827:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_GETDATA;
1828:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1829:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
1830:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1831:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1832:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1833:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* copy first packet of the object into data container */
1834:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_memcpy(MTP_Handle->ptp.data_container.payload.data,
1835:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                   MTP_Handle->ptp.object_ptr, PTP_USB_BULK_PAYLOAD_LEN_READ);
1836:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1837:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1838:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_GetObjPropList;
1839:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1840:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
1841:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
1842:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = 0x00000000U;  /* 0x00000000U should be "all formats" */
1843:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param3 = 0xFFFFFFFFU;  /* 0xFFFFFFFFU should be "all properties" */
1844:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param4 = 0x00000000U;
1845:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param5 = 0xFFFFFFFFU;  /* Return full tree below the Param1 handle */
1846:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 5U;
1847:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1848:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1849:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1850:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1851:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1852:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1853:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1854:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1855:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1856:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1857:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1858:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1859:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1860:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1861:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1862:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1863:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1864:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1865:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1866:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1867:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1868:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1869:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       if (status == USBH_OK)
1870:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
1871:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****         PTP_GetObjectPropList(phost, pprops,  MTP_Handle->ptp.data_length);
1872:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
ARM GAS  /tmp/ccH7Wnit.s 			page 153


1873:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1874:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1875:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1876:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 6365              		.loc 1 1876 7
 6366 0030 89E0     		b	.L216
 6367              	.L213:
1827:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
 6368              		.loc 1 1827 29
 6369 0032 BA6B     		ldr	r2, [r7, #56]
 6370 0034 42F2AC13 		movw	r3, #8620
 6371 0038 1344     		add	r3, r3, r2
 6372 003a 0222     		movs	r2, #2
 6373 003c 1A60     		str	r2, [r3]
1828:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 6374              		.loc 1 1828 54
 6375 003e BB6B     		ldr	r3, [r7, #56]
 6376 0040 41F68452 		movw	r2, #7556
 6377 0044 1A44     		add	r2, r2, r3
1828:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = 0U;
 6378              		.loc 1 1828 32
 6379 0046 B96B     		ldr	r1, [r7, #56]
 6380 0048 42F2B013 		movw	r3, #8624
 6381 004c 0B44     		add	r3, r3, r1
 6382 004e 1A60     		str	r2, [r3]
1829:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 6383              		.loc 1 1829 35
 6384 0050 BA6B     		ldr	r2, [r7, #56]
 6385 0052 42F2B413 		movw	r3, #8628
 6386 0056 1344     		add	r3, r3, r2
 6387 0058 0022     		movs	r2, #0
 6388 005a 1A60     		str	r2, [r3]
1830:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 6389              		.loc 1 1830 43
 6390 005c BB6B     		ldr	r3, [r7, #56]
 6391 005e 03F50753 		add	r3, r3, #8640
 6392 0062 0022     		movs	r2, #0
 6393 0064 1A60     		str	r2, [r3]
1831:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6394              		.loc 1 1831 35
 6395 0066 BA6B     		ldr	r2, [r7, #56]
 6396 0068 42F2B813 		movw	r3, #8632
 6397 006c 1344     		add	r3, r3, r2
 6398 006e 0022     		movs	r2, #0
 6399 0070 1A60     		str	r2, [r3]
1834:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                   MTP_Handle->ptp.object_ptr, PTP_USB_BULK_PAYLOAD_LEN_READ);
 6400              		.loc 1 1834 57
 6401 0072 BB6B     		ldr	r3, [r7, #56]
 6402 0074 41F69050 		movw	r0, #7568
 6403 0078 1844     		add	r0, r0, r3
1835:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6404              		.loc 1 1835 34
 6405 007a BA6B     		ldr	r2, [r7, #56]
 6406 007c 42F2C413 		movw	r3, #8644
 6407 0080 1344     		add	r3, r3, r2
 6408 0082 1B68     		ldr	r3, [r3]
1834:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                   MTP_Handle->ptp.object_ptr, PTP_USB_BULK_PAYLOAD_LEN_READ);
ARM GAS  /tmp/ccH7Wnit.s 			page 154


 6409              		.loc 1 1834 7
 6410 0084 4FF47D72 		mov	r2, #1012
 6411 0088 1946     		mov	r1, r3
 6412 008a FFF7FEFF 		bl	memcpy
1838:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 6413              		.loc 1 1838 26
 6414 008e 49F60503 		movw	r3, #38917
 6415 0092 BB82     		strh	r3, [r7, #20]	@ movhi
1839:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 6416              		.loc 1 1839 48
 6417 0094 BA6B     		ldr	r2, [r7, #56]
 6418 0096 42F2A813 		movw	r3, #8616
 6419 009a 1344     		add	r3, r3, r2
 6420 009c 1B68     		ldr	r3, [r3]
1839:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id++;
 6421              		.loc 1 1839 31
 6422 009e BB61     		str	r3, [r7, #24]
1840:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 6423              		.loc 1 1840 53
 6424 00a0 BA6B     		ldr	r2, [r7, #56]
 6425 00a2 42F2A413 		movw	r3, #8612
 6426 00a6 1344     		add	r3, r3, r2
 6427 00a8 1A68     		ldr	r2, [r3]
1840:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 6428              		.loc 1 1840 68
 6429 00aa 511C     		adds	r1, r2, #1
 6430 00ac B86B     		ldr	r0, [r7, #56]
 6431 00ae 42F2A413 		movw	r3, #8612
 6432 00b2 0344     		add	r3, r3, r0
 6433 00b4 1960     		str	r1, [r3]
1840:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param1 = handle;
 6434              		.loc 1 1840 36
 6435 00b6 FA61     		str	r2, [r7, #28]
1841:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param2 = 0x00000000U;  /* 0x00000000U should be "all formats" */
 6436              		.loc 1 1841 28
 6437 00b8 BB68     		ldr	r3, [r7, #8]
 6438 00ba 3B62     		str	r3, [r7, #32]
1842:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param3 = 0xFFFFFFFFU;  /* 0xFFFFFFFFU should be "all properties" */
 6439              		.loc 1 1842 28
 6440 00bc 0023     		movs	r3, #0
 6441 00be 7B62     		str	r3, [r7, #36]
1843:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param4 = 0x00000000U;
 6442              		.loc 1 1843 28
 6443 00c0 4FF0FF33 		mov	r3, #-1
 6444 00c4 BB62     		str	r3, [r7, #40]
1844:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Param5 = 0xFFFFFFFFU;  /* Return full tree below the Param1 handle */
 6445              		.loc 1 1844 28
 6446 00c6 0023     		movs	r3, #0
 6447 00c8 FB62     		str	r3, [r7, #44]
1845:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 5U;
 6448              		.loc 1 1845 28
 6449 00ca 4FF0FF33 		mov	r3, #-1
 6450 00ce 3B63     		str	r3, [r7, #48]
1846:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6451              		.loc 1 1846 28
 6452 00d0 0523     		movs	r3, #5
 6453 00d2 87F83430 		strb	r3, [r7, #52]
ARM GAS  /tmp/ccH7Wnit.s 			page 155


1849:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6454              		.loc 1 1849 7
 6455 00d6 07F11403 		add	r3, r7, #20
 6456 00da 1946     		mov	r1, r3
 6457 00dc F868     		ldr	r0, [r7, #12]
 6458 00de FFF7FEFF 		bl	USBH_PTP_SendRequest
1852:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 6459              		.loc 1 1852 29
 6460 00e2 BB6B     		ldr	r3, [r7, #56]
 6461 00e4 03F5EB53 		add	r3, r3, #7520
 6462 00e8 0122     		movs	r2, #1
 6463 00ea 1A70     		strb	r2, [r3]
1853:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 6464              		.loc 1 1853 33
 6465 00ec BA6B     		ldr	r2, [r7, #56]
 6466 00ee 41F66153 		movw	r3, #7521
 6467 00f2 1344     		add	r3, r3, r2
 6468 00f4 0222     		movs	r2, #2
 6469 00f6 1A70     		strb	r2, [r3]
1854:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6470              		.loc 1 1854 14
 6471 00f8 0123     		movs	r3, #1
 6472 00fa 87F83F30 		strb	r3, [r7, #63]
1857:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 6473              		.loc 1 1857 21
 6474 00fe FB68     		ldr	r3, [r7, #12]
 6475 0100 0522     		movs	r2, #5
 6476 0102 C3F8E024 		str	r2, [r3, #1248]
1861:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6477              		.loc 1 1861 13
 6478 0106 FB68     		ldr	r3, [r7, #12]
 6479 0108 D3F8D804 		ldr	r0, [r3, #1240]
1861:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6480              		.loc 1 1861 48
 6481 010c FB68     		ldr	r3, [r7, #12]
 6482 010e 03F59C61 		add	r1, r3, #1248
1861:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6483              		.loc 1 1861 13
 6484 0112 0023     		movs	r3, #0
 6485 0114 0022     		movs	r2, #0
 6486 0116 FFF7FEFF 		bl	osMessageQueuePut
1864:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6487              		.loc 1 1864 7
 6488 011a 14E0     		b	.L216
 6489              	.L214:
1867:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6490              		.loc 1 1867 16
 6491 011c F868     		ldr	r0, [r7, #12]
 6492 011e FFF7FEFF 		bl	USBH_PTP_Process
 6493 0122 0346     		mov	r3, r0
 6494 0124 87F83F30 		strb	r3, [r7, #63]
1869:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       {
 6495              		.loc 1 1869 10
 6496 0128 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 6497 012c 002B     		cmp	r3, #0
 6498 012e 09D1     		bne	.L219
1871:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       }
ARM GAS  /tmp/ccH7Wnit.s 			page 156


 6499              		.loc 1 1871 9
 6500 0130 BA6B     		ldr	r2, [r7, #56]
 6501 0132 42F2B413 		movw	r3, #8628
 6502 0136 1344     		add	r3, r3, r2
 6503 0138 1B68     		ldr	r3, [r3]
 6504 013a 1A46     		mov	r2, r3
 6505 013c 7968     		ldr	r1, [r7, #4]
 6506 013e F868     		ldr	r0, [r7, #12]
 6507 0140 FFF7FEFF 		bl	PTP_GetObjectPropList
 6508              	.L219:
1873:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6509              		.loc 1 1873 7
 6510 0144 00BF     		nop
 6511              	.L216:
1877:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1878:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 6512              		.loc 1 1878 10
 6513 0146 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1879:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 6514              		.loc 1 1879 1
 6515 014a 1846     		mov	r0, r3
 6516 014c 4037     		adds	r7, r7, #64
 6517              	.LCFI148:
 6518              		.cfi_def_cfa_offset 8
 6519 014e BD46     		mov	sp, r7
 6520              	.LCFI149:
 6521              		.cfi_def_cfa_register 13
 6522              		@ sp needed
 6523 0150 80BD     		pop	{r7, pc}
 6524              		.cfi_endproc
 6525              	.LFE366:
 6527              		.section	.text.USBH_PTP_SendObject,"ax",%progbits
 6528              		.align	1
 6529              		.global	USBH_PTP_SendObject
 6530              		.syntax unified
 6531              		.thumb
 6532              		.thumb_func
 6533              		.fpu fpv5-d16
 6535              	USBH_PTP_SendObject:
 6536              	.LFB367:
1880:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1881:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** /**
1882:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @brief  USBH_PTP_SendObject
1883:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   *         Send an object
1884:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  phost: Host handle
1885:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @param  dev_info: Device info structure
1886:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   * @retval USBH Status
1887:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   */
1888:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** USBH_StatusTypeDef USBH_PTP_SendObject(USBH_HandleTypeDef *phost,
1889:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                        uint32_t handle,
1890:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                        uint8_t *object,
1891:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****                                        uint32_t size)
1892:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** {
 6537              		.loc 1 1892 1
 6538              		.cfi_startproc
 6539              		@ args = 0, pretend = 0, frame = 64
 6540              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccH7Wnit.s 			page 157


 6541 0000 80B5     		push	{r7, lr}
 6542              	.LCFI150:
 6543              		.cfi_def_cfa_offset 8
 6544              		.cfi_offset 7, -8
 6545              		.cfi_offset 14, -4
 6546 0002 90B0     		sub	sp, sp, #64
 6547              	.LCFI151:
 6548              		.cfi_def_cfa_offset 72
 6549 0004 00AF     		add	r7, sp, #0
 6550              	.LCFI152:
 6551              		.cfi_def_cfa_register 7
 6552 0006 F860     		str	r0, [r7, #12]
 6553 0008 B960     		str	r1, [r7, #8]
 6554 000a 7A60     		str	r2, [r7, #4]
 6555 000c 3B60     		str	r3, [r7]
1893:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   /* Prevent unused argument(s) compilation warning */
1894:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   UNUSED(handle);
1895:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1896:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 6556              		.loc 1 1896 22
 6557 000e 0123     		movs	r3, #1
 6558 0010 87F83F30 		strb	r3, [r7, #63]
1897:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   MTP_HandleTypeDef *MTP_Handle = (MTP_HandleTypeDef *)phost->pActiveClass->pData;
 6559              		.loc 1 1897 61
 6560 0014 FB68     		ldr	r3, [r7, #12]
 6561 0016 D3F87C34 		ldr	r3, [r3, #1148]
 6562              		.loc 1 1897 22
 6563 001a DB69     		ldr	r3, [r3, #28]
 6564 001c BB63     		str	r3, [r7, #56]
1898:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   PTP_ContainerTypedef ptp_container;
1899:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1900:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   switch (MTP_Handle->ptp.req_state)
 6565              		.loc 1 1900 26
 6566 001e BA6B     		ldr	r2, [r7, #56]
 6567 0020 41F66153 		movw	r3, #7521
 6568 0024 1344     		add	r3, r3, r2
 6569 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 6570              		.loc 1 1900 3
 6571 0028 012B     		cmp	r3, #1
 6572 002a 02D0     		beq	.L221
 6573 002c 022B     		cmp	r3, #2
 6574 002e 67D0     		beq	.L222
1901:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   {
1902:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_SEND:
1903:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Set operation request type */
1904:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.flags = PTP_DP_SENDDATA;
1905:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
1906:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
1907:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
1908:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.iteration = 0U;
1909:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1910:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* set object control params */
1911:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.object_ptr = object;
1912:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = size;
1913:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1914:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Fill operation request params */
1915:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Code = PTP_OC_SendObject;
ARM GAS  /tmp/ccH7Wnit.s 			page 158


1916:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
1917:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id ++;
1918:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
1919:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1920:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* convert request packet into USB raw packet*/
1921:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       USBH_PTP_SendRequest(phost, &ptp_container);
1922:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1923:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       /* Setup State machine and start transfer */
1924:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.state = PTP_OP_REQUEST_STATE;
1925:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
1926:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
1927:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1928:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (USBH_USE_OS == 1U)
1929:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       phost->os_msg = (uint32_t)USBH_STATE_CHANGED_EVENT;
1930:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
1931:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
1932:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #else
1933:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
1934:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1935:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
1936:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1937:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1938:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     case PTP_REQ_WAIT:
1939:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_PTP_Process(phost);
1940:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
1941:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
1942:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****     default:
1943:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 6575              		.loc 1 1943 7
 6576 0030 6DE0     		b	.L224
 6577              	.L221:
1904:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_ptr = (uint8_t *)(void *) &(MTP_Handle->ptp.data_container);
 6578              		.loc 1 1904 29
 6579 0032 BA6B     		ldr	r2, [r7, #56]
 6580 0034 42F2AC13 		movw	r3, #8620
 6581 0038 1344     		add	r3, r3, r2
 6582 003a 0122     		movs	r2, #1
 6583 003c 1A60     		str	r2, [r3]
1905:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 6584              		.loc 1 1905 54
 6585 003e BB6B     		ldr	r3, [r7, #56]
 6586 0040 41F68452 		movw	r2, #7556
 6587 0044 1A44     		add	r2, r2, r3
1905:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet_counter = 0U;
 6588              		.loc 1 1905 32
 6589 0046 B96B     		ldr	r1, [r7, #56]
 6590 0048 42F2B013 		movw	r3, #8624
 6591 004c 0B44     		add	r3, r3, r1
 6592 004e 1A60     		str	r2, [r3]
1906:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_packet = 0U;
 6593              		.loc 1 1906 43
 6594 0050 BB6B     		ldr	r3, [r7, #56]
 6595 0052 03F50753 		add	r3, r3, #8640
 6596 0056 0022     		movs	r2, #0
 6597 0058 1A60     		str	r2, [r3]
1907:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.iteration = 0U;
 6598              		.loc 1 1907 35
ARM GAS  /tmp/ccH7Wnit.s 			page 159


 6599 005a BA6B     		ldr	r2, [r7, #56]
 6600 005c 42F2B813 		movw	r3, #8632
 6601 0060 1344     		add	r3, r3, r2
 6602 0062 0022     		movs	r2, #0
 6603 0064 1A60     		str	r2, [r3]
1908:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6604              		.loc 1 1908 33
 6605 0066 BA6B     		ldr	r2, [r7, #56]
 6606 0068 42F2BC13 		movw	r3, #8636
 6607 006c 1344     		add	r3, r3, r2
 6608 006e 0022     		movs	r2, #0
 6609 0070 1A60     		str	r2, [r3]
1911:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.data_length = size;
 6610              		.loc 1 1911 34
 6611 0072 BA6B     		ldr	r2, [r7, #56]
 6612 0074 42F2C413 		movw	r3, #8644
 6613 0078 1344     		add	r3, r3, r2
 6614 007a 7A68     		ldr	r2, [r7, #4]
 6615 007c 1A60     		str	r2, [r3]
1912:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6616              		.loc 1 1912 35
 6617 007e BA6B     		ldr	r2, [r7, #56]
 6618 0080 42F2B413 		movw	r3, #8628
 6619 0084 1344     		add	r3, r3, r2
 6620 0086 3A68     		ldr	r2, [r7]
 6621 0088 1A60     		str	r2, [r3]
1915:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.SessionID = MTP_Handle->ptp.session_id;
 6622              		.loc 1 1915 26
 6623 008a 41F20D03 		movw	r3, #4109
 6624 008e BB82     		strh	r3, [r7, #20]	@ movhi
1916:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id ++;
 6625              		.loc 1 1916 48
 6626 0090 BA6B     		ldr	r2, [r7, #56]
 6627 0092 42F2A813 		movw	r3, #8616
 6628 0096 1344     		add	r3, r3, r2
 6629 0098 1B68     		ldr	r3, [r3]
1916:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Transaction_ID = MTP_Handle->ptp.transaction_id ++;
 6630              		.loc 1 1916 31
 6631 009a BB61     		str	r3, [r7, #24]
1917:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
 6632              		.loc 1 1917 53
 6633 009c BA6B     		ldr	r2, [r7, #56]
 6634 009e 42F2A413 		movw	r3, #8612
 6635 00a2 1344     		add	r3, r3, r2
 6636 00a4 1A68     		ldr	r2, [r3]
1917:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
 6637              		.loc 1 1917 69
 6638 00a6 511C     		adds	r1, r2, #1
 6639 00a8 B86B     		ldr	r0, [r7, #56]
 6640 00aa 42F2A413 		movw	r3, #8612
 6641 00ae 0344     		add	r3, r3, r0
 6642 00b0 1960     		str	r1, [r3]
1917:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       ptp_container.Nparam = 0U;
 6643              		.loc 1 1917 36
 6644 00b2 FA61     		str	r2, [r7, #28]
1918:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6645              		.loc 1 1918 28
ARM GAS  /tmp/ccH7Wnit.s 			page 160


 6646 00b4 0023     		movs	r3, #0
 6647 00b6 87F83430 		strb	r3, [r7, #52]
1921:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6648              		.loc 1 1921 7
 6649 00ba 07F11403 		add	r3, r7, #20
 6650 00be 1946     		mov	r1, r3
 6651 00c0 F868     		ldr	r0, [r7, #12]
 6652 00c2 FFF7FEFF 		bl	USBH_PTP_SendRequest
1924:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       MTP_Handle->ptp.req_state = PTP_REQ_WAIT;
 6653              		.loc 1 1924 29
 6654 00c6 BB6B     		ldr	r3, [r7, #56]
 6655 00c8 03F5EB53 		add	r3, r3, #7520
 6656 00cc 0122     		movs	r2, #1
 6657 00ce 1A70     		strb	r2, [r3]
1925:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       status = USBH_BUSY;
 6658              		.loc 1 1925 33
 6659 00d0 BA6B     		ldr	r2, [r7, #56]
 6660 00d2 41F66153 		movw	r3, #7521
 6661 00d6 1344     		add	r3, r3, r2
 6662 00d8 0222     		movs	r2, #2
 6663 00da 1A70     		strb	r2, [r3]
1926:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6664              		.loc 1 1926 14
 6665 00dc 0123     		movs	r3, #1
 6666 00de 87F83F30 		strb	r3, [r7, #63]
1929:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #if (osCMSIS < 0x20000U)
 6667              		.loc 1 1929 21
 6668 00e2 FB68     		ldr	r3, [r7, #12]
 6669 00e4 0522     		movs	r2, #5
 6670 00e6 C3F8E024 		str	r2, [r3, #1248]
1933:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6671              		.loc 1 1933 13
 6672 00ea FB68     		ldr	r3, [r7, #12]
 6673 00ec D3F8D804 		ldr	r0, [r3, #1240]
1933:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6674              		.loc 1 1933 48
 6675 00f0 FB68     		ldr	r3, [r7, #12]
 6676 00f2 03F59C61 		add	r1, r3, #1248
1933:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** #endif
 6677              		.loc 1 1933 13
 6678 00f6 0023     		movs	r3, #0
 6679 00f8 0022     		movs	r2, #0
 6680 00fa FFF7FEFF 		bl	osMessageQueuePut
1936:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6681              		.loc 1 1936 7
 6682 00fe 06E0     		b	.L224
 6683              	.L222:
1939:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****       break;
 6684              		.loc 1 1939 16
 6685 0100 F868     		ldr	r0, [r7, #12]
 6686 0102 FFF7FEFF 		bl	USBH_PTP_Process
 6687 0106 0346     		mov	r3, r0
 6688 0108 87F83F30 		strb	r3, [r7, #63]
1940:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** 
 6689              		.loc 1 1940 7
 6690 010c 00BF     		nop
 6691              	.L224:
ARM GAS  /tmp/ccH7Wnit.s 			page 161


1944:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   }
1945:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c ****   return status;
 6692              		.loc 1 1945 10
 6693 010e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1946:./Libraries/STM32_USB_Host_Library/Class/MTP/Src/usbh_mtp_ptp.c **** }
 6694              		.loc 1 1946 1
 6695 0112 1846     		mov	r0, r3
 6696 0114 4037     		adds	r7, r7, #64
 6697              	.LCFI153:
 6698              		.cfi_def_cfa_offset 8
 6699 0116 BD46     		mov	sp, r7
 6700              	.LCFI154:
 6701              		.cfi_def_cfa_register 13
 6702              		@ sp needed
 6703 0118 80BD     		pop	{r7, pc}
 6704              		.cfi_endproc
 6705              	.LFE367:
 6707              		.text
 6708              	.Letext0:
 6709              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 6710              		.file 3 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 6711              		.file 4 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 6712              		.file 5 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 6713              		.file 6 "/usr/include/newlib/sys/_types.h"
 6714              		.file 7 "/usr/include/newlib/sys/reent.h"
 6715              		.file 8 "/usr/include/newlib/sys/lock.h"
 6716              		.file 9 "/usr/include/newlib/math.h"
 6717              		.file 10 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 6718              		.file 11 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 6719              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 6720              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 6721              		.file 14 "/usr/include/newlib/stdlib.h"
 6722              		.file 15 "./Libraries/FreeRTOS/Source/CMSIS_RTOS/cmsis_os2.h"
 6723              		.file 16 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 6724              		.file 17 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_ctlreq.h"
 6725              		.file 18 "./Libraries/STM32_USB_Host_Library/Class/MTP/Inc/usbh_mtp_ptp.h"
 6726              		.file 19 "./Libraries/STM32_USB_Host_Library/Class/MTP/Inc/usbh_mtp.h"
ARM GAS  /tmp/ccH7Wnit.s 			page 162


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbh_mtp_ptp.c
     /tmp/ccH7Wnit.s:17     .text.USBH_PTP_Init:0000000000000000 $t
     /tmp/ccH7Wnit.s:25     .text.USBH_PTP_Init:0000000000000000 USBH_PTP_Init
     /tmp/ccH7Wnit.s:81     .text.USBH_PTP_Process:0000000000000000 $t
     /tmp/ccH7Wnit.s:88     .text.USBH_PTP_Process:0000000000000000 USBH_PTP_Process
     /tmp/ccH7Wnit.s:128    .text.USBH_PTP_Process:0000000000000034 $d
     /tmp/ccH7Wnit.s:138    .text.USBH_PTP_Process:000000000000005c $t
     /tmp/ccH7Wnit.s:1163   .text.PTP_BufferFullCallback:0000000000000000 PTP_BufferFullCallback
     /tmp/ccH7Wnit.s:1045   .text.USBH_PTP_GetResponse:0000000000000000 USBH_PTP_GetResponse
     /tmp/ccH7Wnit.s:905    .text.USBH_PTP_SendRequest:0000000000000000 $t
     /tmp/ccH7Wnit.s:912    .text.USBH_PTP_SendRequest:0000000000000000 USBH_PTP_SendRequest
     /tmp/ccH7Wnit.s:1038   .text.USBH_PTP_GetResponse:0000000000000000 $t
     /tmp/ccH7Wnit.s:1157   .text.PTP_BufferFullCallback:0000000000000000 $t
     /tmp/ccH7Wnit.s:1201   .text.PTP_BufferFullCallback:0000000000000030 $d
     /tmp/ccH7Wnit.s:1228   .text.PTP_BufferFullCallback:000000000000009c $t
     /tmp/ccH7Wnit.s:1329   .text.PTP_DecodeDeviceInfo:0000000000000000 PTP_DecodeDeviceInfo
     /tmp/ccH7Wnit.s:1323   .text.PTP_DecodeDeviceInfo:0000000000000000 $t
     /tmp/ccH7Wnit.s:3587   .text.PTP_GetString:0000000000000000 PTP_GetString
     /tmp/ccH7Wnit.s:3681   .text.PTP_GetArray16:0000000000000000 PTP_GetArray16
     /tmp/ccH7Wnit.s:1666   .text.PTP_GetStorageIDs:0000000000000000 $t
     /tmp/ccH7Wnit.s:1672   .text.PTP_GetStorageIDs:0000000000000000 PTP_GetStorageIDs
     /tmp/ccH7Wnit.s:3793   .text.PTP_GetArray32:0000000000000000 PTP_GetArray32
     /tmp/ccH7Wnit.s:1728   .text.PTP_GetStorageInfo:0000000000000000 $t
     /tmp/ccH7Wnit.s:1734   .text.PTP_GetStorageInfo:0000000000000000 PTP_GetStorageInfo
     /tmp/ccH7Wnit.s:2117   .text.PTP_GetObjectInfo:0000000000000000 $t
     /tmp/ccH7Wnit.s:2123   .text.PTP_GetObjectInfo:0000000000000000 PTP_GetObjectInfo
     /tmp/ccH7Wnit.s:2608   .text.PTP_GetObjectPropDesc:0000000000000000 $t
     /tmp/ccH7Wnit.s:2614   .text.PTP_GetObjectPropDesc:0000000000000000 PTP_GetObjectPropDesc
     /tmp/ccH7Wnit.s:2871   .text.PTP_GetDevicePropValue:0000000000000000 PTP_GetDevicePropValue
     /tmp/ccH7Wnit.s:2865   .text.PTP_GetDevicePropValue:0000000000000000 $t
     /tmp/ccH7Wnit.s:2922   .text.PTP_GetDevicePropValue:0000000000000040 $d
     /tmp/ccH7Wnit.s:2932   .text.PTP_GetDevicePropValue:0000000000000068 $t
     /tmp/ccH7Wnit.s:3319   .text.PTP_GetObjectPropList:0000000000000000 $t
     /tmp/ccH7Wnit.s:3325   .text.PTP_GetObjectPropList:0000000000000000 PTP_GetObjectPropList
     /tmp/ccH7Wnit.s:3581   .text.PTP_GetString:0000000000000000 $t
     /tmp/ccH7Wnit.s:3675   .text.PTP_GetArray16:0000000000000000 $t
     /tmp/ccH7Wnit.s:3787   .text.PTP_GetArray32:0000000000000000 $t
     /tmp/ccH7Wnit.s:3929   .text.USBH_PTP_OpenSession:0000000000000000 $t
     /tmp/ccH7Wnit.s:3936   .text.USBH_PTP_OpenSession:0000000000000000 USBH_PTP_OpenSession
     /tmp/ccH7Wnit.s:4080   .text.USBH_PTP_GetDevicePropDesc:0000000000000000 $t
     /tmp/ccH7Wnit.s:4087   .text.USBH_PTP_GetDevicePropDesc:0000000000000000 USBH_PTP_GetDevicePropDesc
     /tmp/ccH7Wnit.s:4301   .text.USBH_PTP_GetDeviceInfo:0000000000000000 $t
     /tmp/ccH7Wnit.s:4308   .text.USBH_PTP_GetDeviceInfo:0000000000000000 USBH_PTP_GetDeviceInfo
     /tmp/ccH7Wnit.s:4476   .text.USBH_PTP_GetStorageIds:0000000000000000 $t
     /tmp/ccH7Wnit.s:4483   .text.USBH_PTP_GetStorageIds:0000000000000000 USBH_PTP_GetStorageIds
     /tmp/ccH7Wnit.s:4651   .text.USBH_PTP_GetStorageInfo:0000000000000000 $t
     /tmp/ccH7Wnit.s:4658   .text.USBH_PTP_GetStorageInfo:0000000000000000 USBH_PTP_GetStorageInfo
     /tmp/ccH7Wnit.s:4831   .text.USBH_PTP_GetNumObjects:0000000000000000 $t
     /tmp/ccH7Wnit.s:4838   .text.USBH_PTP_GetNumObjects:0000000000000000 USBH_PTP_GetNumObjects
     /tmp/ccH7Wnit.s:4995   .text.USBH_PTP_GetObjectHandles:0000000000000000 $t
     /tmp/ccH7Wnit.s:5002   .text.USBH_PTP_GetObjectHandles:0000000000000000 USBH_PTP_GetObjectHandles
     /tmp/ccH7Wnit.s:5192   .text.USBH_PTP_GetObjectInfo:0000000000000000 $t
     /tmp/ccH7Wnit.s:5199   .text.USBH_PTP_GetObjectInfo:0000000000000000 USBH_PTP_GetObjectInfo
     /tmp/ccH7Wnit.s:5371   .text.USBH_PTP_DeleteObject:0000000000000000 $t
     /tmp/ccH7Wnit.s:5378   .text.USBH_PTP_DeleteObject:0000000000000000 USBH_PTP_DeleteObject
     /tmp/ccH7Wnit.s:5518   .text.USBH_PTP_GetObject:0000000000000000 $t
ARM GAS  /tmp/ccH7Wnit.s 			page 163


     /tmp/ccH7Wnit.s:5525   .text.USBH_PTP_GetObject:0000000000000000 USBH_PTP_GetObject
     /tmp/ccH7Wnit.s:5720   .text.USBH_PTP_GetPartialObject:0000000000000000 $t
     /tmp/ccH7Wnit.s:5727   .text.USBH_PTP_GetPartialObject:0000000000000000 USBH_PTP_GetPartialObject
     /tmp/ccH7Wnit.s:5938   .text.USBH_PTP_GetObjectPropsSupported:0000000000000000 $t
     /tmp/ccH7Wnit.s:5945   .text.USBH_PTP_GetObjectPropsSupported:0000000000000000 USBH_PTP_GetObjectPropsSupported
     /tmp/ccH7Wnit.s:6128   .text.USBH_PTP_GetObjectPropDesc:0000000000000000 $t
     /tmp/ccH7Wnit.s:6135   .text.USBH_PTP_GetObjectPropDesc:0000000000000000 USBH_PTP_GetObjectPropDesc
     /tmp/ccH7Wnit.s:6318   .text.USBH_PTP_GetObjectPropList:0000000000000000 $t
     /tmp/ccH7Wnit.s:6325   .text.USBH_PTP_GetObjectPropList:0000000000000000 USBH_PTP_GetObjectPropList
     /tmp/ccH7Wnit.s:6528   .text.USBH_PTP_SendObject:0000000000000000 $t
     /tmp/ccH7Wnit.s:6535   .text.USBH_PTP_SendObject:0000000000000000 USBH_PTP_SendObject

UNDEFINED SYMBOLS
USBH_BulkSendData
USBH_LL_GetURBState
osMessageQueuePut
USBH_BulkReceiveData
USBH_LL_GetLastXferSize
memset
memcpy
