ARM GAS  /tmp/ccXyyHp5.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"usbh_ctlreq.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.USBH_Get_DevDesc,"ax",%progbits
  17              		.align	1
  18              		.global	USBH_Get_DevDesc
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	USBH_Get_DevDesc:
  26              	.LFB338:
  27              		.file 1 "./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c"
   1:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
   2:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   ******************************************************************************
   3:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @file    usbh_ctlreq.c
   4:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @author  MCD Application Team
   5:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief   This file implements the control requests for device enumeration
   6:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   ******************************************************************************
   7:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @attention
   8:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *
   9:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * <h2><center>&copy; Copyright (c) 2015 STMicroelectronics.
  10:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * All rights reserved.</center></h2>
  11:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *
  12:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * This software component is licensed by ST under Ultimate Liberty license
  13:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  14:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * the License. You may obtain a copy of the License at:
  15:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *                      www.st.com/SLA0044
  16:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *
  17:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   ******************************************************************************
  18:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
  19:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  20:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /* Includes ------------------------------------------------------------------*/
  21:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #include "usbh_ctlreq.h"
  22:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  23:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /** @addtogroup USBH_LIB
  24:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @{
  25:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  26:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  27:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /** @addtogroup USBH_LIB_CORE
  28:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @{
  29:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  30:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  31:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /** @defgroup USBH_CTLREQ
ARM GAS  /tmp/ccXyyHp5.s 			page 2


  32:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @brief This file implements the standard requests for device enumeration
  33:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @{
  34:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  35:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  36:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  37:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /** @defgroup USBH_CTLREQ_Private_Defines
  38:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @{
  39:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  40:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
  41:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @}
  42:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  43:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  44:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  45:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /** @defgroup USBH_CTLREQ_Private_TypesDefinitions
  46:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @{
  47:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  48:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
  49:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @}
  50:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  51:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  52:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  53:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  54:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /** @defgroup USBH_CTLREQ_Private_Macros
  55:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @{
  56:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  57:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
  58:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @}
  59:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  60:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  61:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  62:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /** @defgroup USBH_CTLREQ_Private_Variables
  63:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @{
  64:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  65:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
  66:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @}
  67:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  68:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  69:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /** @defgroup USBH_CTLREQ_Private_FunctionPrototypes
  70:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @{
  71:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  72:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static USBH_StatusTypeDef USBH_HandleControl(USBH_HandleTypeDef *phost);
  73:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  74:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static void USBH_ParseDevDesc(USBH_DevDescTypeDef *dev_desc,
  75:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                               uint8_t *buf, uint16_t length);
  76:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  77:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static void USBH_ParseCfgDesc(USBH_CfgDescTypeDef *cfg_desc,
  78:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                               uint8_t *buf, uint16_t length);
  79:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  80:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static void USBH_ParseEPDesc(USBH_EpDescTypeDef  *ep_descriptor, uint8_t *buf);
  81:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static void USBH_ParseStringDesc(uint8_t *psrc, uint8_t *pdest, uint16_t length);
  82:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static void USBH_ParseInterfaceDesc(USBH_InterfaceDescTypeDef  *if_descriptor, uint8_t *buf);
  83:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  84:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  85:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
  86:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @}
  87:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  88:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
ARM GAS  /tmp/ccXyyHp5.s 			page 3


  89:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  90:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /** @defgroup USBH_CTLREQ_Private_Functions
  91:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** * @{
  92:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
  93:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  94:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
  95:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
  96:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_Get_DevDesc
  97:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         Issue Get Device Descriptor command to the device. Once the response
  98:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         received, it parses the device descriptor and updates the status.
  99:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  phost: Host Handle
 100:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  length: Length of the descriptor
 101:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval USBH Status
 102:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 103:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_StatusTypeDef USBH_Get_DevDesc(USBH_HandleTypeDef *phost, uint8_t length)
 104:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
  28              		.loc 1 104 1
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 16
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 80B5     		push	{r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 86B0     		sub	sp, sp, #24
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 32
  40 0004 02AF     		add	r7, sp, #8
  41              	.LCFI2:
  42              		.cfi_def_cfa 7, 24
  43 0006 7860     		str	r0, [r7, #4]
  44 0008 0B46     		mov	r3, r1
  45 000a FB70     		strb	r3, [r7, #3]
 105:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   USBH_StatusTypeDef status;
 106:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 107:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if ((status = USBH_GetDescriptor(phost,
 108:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    USB_REQ_RECIPIENT_DEVICE | USB_REQ_TYPE_STANDARD,
 109:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    USB_DESC_DEVICE, phost->device.Data,
  46              		.loc 1 109 66
  47 000c 7B68     		ldr	r3, [r7, #4]
  48 000e 03F50772 		add	r2, r3, #540
 107:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    USB_REQ_RECIPIENT_DEVICE | USB_REQ_TYPE_STANDARD,
  49              		.loc 1 107 17
  50 0012 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
  51 0014 9BB2     		uxth	r3, r3
  52 0016 0093     		str	r3, [sp]
  53 0018 1346     		mov	r3, r2
  54 001a 4FF48072 		mov	r2, #256
  55 001e 0021     		movs	r1, #0
  56 0020 7868     		ldr	r0, [r7, #4]
  57 0022 FFF7FEFF 		bl	USBH_GetDescriptor
  58 0026 0346     		mov	r3, r0
  59 0028 FB73     		strb	r3, [r7, #15]
 107:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    USB_REQ_RECIPIENT_DEVICE | USB_REQ_TYPE_STANDARD,
  60              		.loc 1 107 6
  61 002a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
ARM GAS  /tmp/ccXyyHp5.s 			page 4


  62 002c 002B     		cmp	r3, #0
  63 002e 0AD1     		bne	.L2
 110:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    (uint16_t)length)) == USBH_OK)
 111:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 112:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     /* Commands successfully sent and Response Received */
 113:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     USBH_ParseDevDesc(&phost->device.DevDesc, phost->device.Data,
  64              		.loc 1 113 5
  65 0030 7B68     		ldr	r3, [r7, #4]
  66 0032 03F22640 		addw	r0, r3, #1062
  67              		.loc 1 113 60
  68 0036 7B68     		ldr	r3, [r7, #4]
  69 0038 03F50773 		add	r3, r3, #540
  70              		.loc 1 113 5
  71 003c FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
  72 003e 92B2     		uxth	r2, r2
  73 0040 1946     		mov	r1, r3
  74 0042 FFF7FEFF 		bl	USBH_ParseDevDesc
  75              	.L2:
 114:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                       (uint16_t)length);
 115:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 116:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 117:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return status;
  76              		.loc 1 117 10
  77 0046 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 118:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
  78              		.loc 1 118 1
  79 0048 1846     		mov	r0, r3
  80 004a 1037     		adds	r7, r7, #16
  81              	.LCFI3:
  82              		.cfi_def_cfa_offset 8
  83 004c BD46     		mov	sp, r7
  84              	.LCFI4:
  85              		.cfi_def_cfa_register 13
  86              		@ sp needed
  87 004e 80BD     		pop	{r7, pc}
  88              		.cfi_endproc
  89              	.LFE338:
  91              		.section	.text.USBH_Get_CfgDesc,"ax",%progbits
  92              		.align	1
  93              		.global	USBH_Get_CfgDesc
  94              		.syntax unified
  95              		.thumb
  96              		.thumb_func
  97              		.fpu fpv5-d16
  99              	USBH_Get_CfgDesc:
 100              	.LFB339:
 119:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 120:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 121:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 122:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_Get_CfgDesc
 123:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         Issues Configuration Descriptor to the device. Once the response
 124:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         received, it parses the configuration descriptor and updates the
 125:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         status.
 126:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  phost: Host Handle
 127:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  length: Length of the descriptor
 128:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval USBH Status
 129:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
ARM GAS  /tmp/ccXyyHp5.s 			page 5


 130:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_StatusTypeDef USBH_Get_CfgDesc(USBH_HandleTypeDef *phost,
 131:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                     uint16_t length)
 132:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 133:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 101              		.loc 1 133 1
 102              		.cfi_startproc
 103              		@ args = 0, pretend = 0, frame = 16
 104              		@ frame_needed = 1, uses_anonymous_args = 0
 105 0000 80B5     		push	{r7, lr}
 106              	.LCFI5:
 107              		.cfi_def_cfa_offset 8
 108              		.cfi_offset 7, -8
 109              		.cfi_offset 14, -4
 110 0002 86B0     		sub	sp, sp, #24
 111              	.LCFI6:
 112              		.cfi_def_cfa_offset 32
 113 0004 02AF     		add	r7, sp, #8
 114              	.LCFI7:
 115              		.cfi_def_cfa 7, 24
 116 0006 7860     		str	r0, [r7, #4]
 117 0008 0B46     		mov	r3, r1
 118 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 134:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   USBH_StatusTypeDef status;
 135:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   uint8_t *pData = phost->device.CfgDesc_Raw;;
 119              		.loc 1 135 12
 120 000c 7B68     		ldr	r3, [r7, #4]
 121 000e 1C33     		adds	r3, r3, #28
 122 0010 FB60     		str	r3, [r7, #12]
 136:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 137:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if ((status = USBH_GetDescriptor(phost, (USB_REQ_RECIPIENT_DEVICE | USB_REQ_TYPE_STANDARD),
 123              		.loc 1 137 17
 124 0012 7B88     		ldrh	r3, [r7, #2]
 125 0014 0093     		str	r3, [sp]
 126 0016 FB68     		ldr	r3, [r7, #12]
 127 0018 4FF40072 		mov	r2, #512
 128 001c 0021     		movs	r1, #0
 129 001e 7868     		ldr	r0, [r7, #4]
 130 0020 FFF7FEFF 		bl	USBH_GetDescriptor
 131 0024 0346     		mov	r3, r0
 132 0026 FB72     		strb	r3, [r7, #11]
 133              		.loc 1 137 6
 134 0028 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 135 002a 002B     		cmp	r3, #0
 136 002c 07D1     		bne	.L5
 138:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    USB_DESC_CONFIGURATION, pData, length)) == USBH_OK)
 139:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 140:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     /* Commands successfully sent and Response Received  */
 141:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     USBH_ParseCfgDesc(&phost->device.CfgDesc, pData, length);
 137              		.loc 1 141 5
 138 002e 7B68     		ldr	r3, [r7, #4]
 139 0030 03F58763 		add	r3, r3, #1080
 140 0034 7A88     		ldrh	r2, [r7, #2]
 141 0036 F968     		ldr	r1, [r7, #12]
 142 0038 1846     		mov	r0, r3
 143 003a FFF7FEFF 		bl	USBH_ParseCfgDesc
 144              	.L5:
 142:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
ARM GAS  /tmp/ccXyyHp5.s 			page 6


 143:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 144:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return status;
 145              		.loc 1 144 10
 146 003e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 145:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 147              		.loc 1 145 1
 148 0040 1846     		mov	r0, r3
 149 0042 1037     		adds	r7, r7, #16
 150              	.LCFI8:
 151              		.cfi_def_cfa_offset 8
 152 0044 BD46     		mov	sp, r7
 153              	.LCFI9:
 154              		.cfi_def_cfa_register 13
 155              		@ sp needed
 156 0046 80BD     		pop	{r7, pc}
 157              		.cfi_endproc
 158              	.LFE339:
 160              		.section	.text.USBH_Get_StringDesc,"ax",%progbits
 161              		.align	1
 162              		.global	USBH_Get_StringDesc
 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 166              		.fpu fpv5-d16
 168              	USBH_Get_StringDesc:
 169              	.LFB340:
 146:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 147:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 148:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 149:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_Get_StringDesc
 150:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         Issues string Descriptor command to the device. Once the response
 151:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         received, it parses the string descriptor and updates the status.
 152:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  phost: Host Handle
 153:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  string_index: String index for the descriptor
 154:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  buff: Buffer address for the descriptor
 155:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  length: Length of the descriptor
 156:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval USBH Status
 157:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 158:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_StatusTypeDef USBH_Get_StringDesc(USBH_HandleTypeDef *phost,
 159:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                        uint8_t string_index, uint8_t *buff,
 160:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                        uint16_t length)
 161:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 170              		.loc 1 161 1
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 24
 173              		@ frame_needed = 1, uses_anonymous_args = 0
 174 0000 80B5     		push	{r7, lr}
 175              	.LCFI10:
 176              		.cfi_def_cfa_offset 8
 177              		.cfi_offset 7, -8
 178              		.cfi_offset 14, -4
 179 0002 88B0     		sub	sp, sp, #32
 180              	.LCFI11:
 181              		.cfi_def_cfa_offset 40
 182 0004 02AF     		add	r7, sp, #8
 183              	.LCFI12:
 184              		.cfi_def_cfa 7, 32
ARM GAS  /tmp/ccXyyHp5.s 			page 7


 185 0006 F860     		str	r0, [r7, #12]
 186 0008 7A60     		str	r2, [r7, #4]
 187 000a 1A46     		mov	r2, r3
 188 000c 0B46     		mov	r3, r1
 189 000e FB72     		strb	r3, [r7, #11]
 190 0010 1346     		mov	r3, r2	@ movhi
 191 0012 3B81     		strh	r3, [r7, #8]	@ movhi
 162:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   USBH_StatusTypeDef status;
 163:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 164:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if ((status = USBH_GetDescriptor(phost,
 192              		.loc 1 164 17
 193 0014 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 194 0016 9BB2     		uxth	r3, r3
 195 0018 43F44073 		orr	r3, r3, #768
 196 001c 9AB2     		uxth	r2, r3
 165:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    USB_REQ_RECIPIENT_DEVICE | USB_REQ_TYPE_STANDARD,
 166:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    USB_DESC_STRING | string_index,
 167:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    phost->device.Data, length)) == USBH_OK)
 197              		.loc 1 167 49
 198 001e FB68     		ldr	r3, [r7, #12]
 199 0020 03F50771 		add	r1, r3, #540
 164:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    USB_REQ_RECIPIENT_DEVICE | USB_REQ_TYPE_STANDARD,
 200              		.loc 1 164 17
 201 0024 3B89     		ldrh	r3, [r7, #8]
 202 0026 0093     		str	r3, [sp]
 203 0028 0B46     		mov	r3, r1
 204 002a 0021     		movs	r1, #0
 205 002c F868     		ldr	r0, [r7, #12]
 206 002e FFF7FEFF 		bl	USBH_GetDescriptor
 207 0032 0346     		mov	r3, r0
 208 0034 FB75     		strb	r3, [r7, #23]
 164:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    USB_REQ_RECIPIENT_DEVICE | USB_REQ_TYPE_STANDARD,
 209              		.loc 1 164 6
 210 0036 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 211 0038 002B     		cmp	r3, #0
 212 003a 07D1     		bne	.L8
 168:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 169:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     /* Commands successfully sent and Response Received  */
 170:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     USBH_ParseStringDesc(phost->device.Data, buff, length);
 213              		.loc 1 170 39
 214 003c FB68     		ldr	r3, [r7, #12]
 215 003e 03F50773 		add	r3, r3, #540
 216              		.loc 1 170 5
 217 0042 3A89     		ldrh	r2, [r7, #8]
 218 0044 7968     		ldr	r1, [r7, #4]
 219 0046 1846     		mov	r0, r3
 220 0048 FFF7FEFF 		bl	USBH_ParseStringDesc
 221              	.L8:
 171:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 172:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 173:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return status;
 222              		.loc 1 173 10
 223 004c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 174:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 224              		.loc 1 174 1
 225 004e 1846     		mov	r0, r3
 226 0050 1837     		adds	r7, r7, #24
ARM GAS  /tmp/ccXyyHp5.s 			page 8


 227              	.LCFI13:
 228              		.cfi_def_cfa_offset 8
 229 0052 BD46     		mov	sp, r7
 230              	.LCFI14:
 231              		.cfi_def_cfa_register 13
 232              		@ sp needed
 233 0054 80BD     		pop	{r7, pc}
 234              		.cfi_endproc
 235              	.LFE340:
 237              		.section	.text.USBH_GetDescriptor,"ax",%progbits
 238              		.align	1
 239              		.global	USBH_GetDescriptor
 240              		.syntax unified
 241              		.thumb
 242              		.thumb_func
 243              		.fpu fpv5-d16
 245              	USBH_GetDescriptor:
 246              	.LFB341:
 175:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 176:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 177:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 178:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_GetDescriptor
 179:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         Issues Descriptor command to the device. Once the response received,
 180:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         it parses the descriptor and updates the status.
 181:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  phost: Host Handle
 182:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  req_type: Descriptor type
 183:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  value_idx: Value for the GetDescriptr request
 184:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  buff: Buffer to store the descriptor
 185:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  length: Length of the descriptor
 186:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval USBH Status
 187:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 188:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_StatusTypeDef USBH_GetDescriptor(USBH_HandleTypeDef *phost,
 189:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                       uint8_t  req_type,
 190:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                       uint16_t value_idx,
 191:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                       uint8_t *buff,
 192:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                       uint16_t length)
 193:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 247              		.loc 1 193 1
 248              		.cfi_startproc
 249              		@ args = 4, pretend = 0, frame = 16
 250              		@ frame_needed = 1, uses_anonymous_args = 0
 251 0000 80B5     		push	{r7, lr}
 252              	.LCFI15:
 253              		.cfi_def_cfa_offset 8
 254              		.cfi_offset 7, -8
 255              		.cfi_offset 14, -4
 256 0002 84B0     		sub	sp, sp, #16
 257              	.LCFI16:
 258              		.cfi_def_cfa_offset 24
 259 0004 00AF     		add	r7, sp, #0
 260              	.LCFI17:
 261              		.cfi_def_cfa_register 7
 262 0006 F860     		str	r0, [r7, #12]
 263 0008 7B60     		str	r3, [r7, #4]
 264 000a 0B46     		mov	r3, r1
 265 000c FB72     		strb	r3, [r7, #11]
 266 000e 1346     		mov	r3, r2	@ movhi
ARM GAS  /tmp/ccXyyHp5.s 			page 9


 267 0010 3B81     		strh	r3, [r7, #8]	@ movhi
 194:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if (phost->RequestState == CMD_SEND)
 268              		.loc 1 194 12
 269 0012 FB68     		ldr	r3, [r7, #12]
 270 0014 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 271              		.loc 1 194 6
 272 0016 012B     		cmp	r3, #1
 273 0018 1CD1     		bne	.L11
 195:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 196:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bmRequestType = USB_D2H | req_type;
 274              		.loc 1 196 42
 275 001a FB7A     		ldrb	r3, [r7, #11]
 276 001c 63F07F03 		orn	r3, r3, #127
 277 0020 DAB2     		uxtb	r2, r3
 278 0022 FB68     		ldr	r3, [r7, #12]
 279 0024 1A74     		strb	r2, [r3, #16]
 197:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bRequest = USB_REQ_GET_DESCRIPTOR;
 280              		.loc 1 197 37
 281 0026 FB68     		ldr	r3, [r7, #12]
 282 0028 0622     		movs	r2, #6
 283 002a 5A74     		strb	r2, [r3, #17]
 198:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wValue.w = value_idx;
 284              		.loc 1 198 37
 285 002c FB68     		ldr	r3, [r7, #12]
 286 002e 3A89     		ldrh	r2, [r7, #8]	@ movhi
 287 0030 5A82     		strh	r2, [r3, #18]	@ movhi
 199:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 200:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     if ((value_idx & 0xff00U) == USB_DESC_STRING)
 288              		.loc 1 200 20
 289 0032 3B89     		ldrh	r3, [r7, #8]
 290 0034 03F47F43 		and	r3, r3, #65280
 291              		.loc 1 200 8
 292 0038 B3F5407F 		cmp	r3, #768
 293 003c 04D1     		bne	.L12
 201:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     {
 202:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.setup.b.wIndex.w = 0x0409U;
 294              		.loc 1 202 39
 295 003e FB68     		ldr	r3, [r7, #12]
 296 0040 40F20942 		movw	r2, #1033
 297 0044 9A82     		strh	r2, [r3, #20]	@ movhi
 298 0046 02E0     		b	.L13
 299              	.L12:
 203:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     }
 204:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     else
 205:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     {
 206:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.setup.b.wIndex.w = 0U;
 300              		.loc 1 206 39
 301 0048 FB68     		ldr	r3, [r7, #12]
 302 004a 0022     		movs	r2, #0
 303 004c 9A82     		strh	r2, [r3, #20]	@ movhi
 304              	.L13:
 207:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     }
 208:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wLength.w = length;
 305              		.loc 1 208 38
 306 004e FB68     		ldr	r3, [r7, #12]
 307 0050 3A8B     		ldrh	r2, [r7, #24]	@ movhi
 308 0052 DA82     		strh	r2, [r3, #22]	@ movhi
ARM GAS  /tmp/ccXyyHp5.s 			page 10


 309              	.L11:
 209:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 210:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 211:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return USBH_CtlReq(phost, buff, length);
 310              		.loc 1 211 10
 311 0054 3B8B     		ldrh	r3, [r7, #24]
 312 0056 1A46     		mov	r2, r3
 313 0058 7968     		ldr	r1, [r7, #4]
 314 005a F868     		ldr	r0, [r7, #12]
 315 005c FFF7FEFF 		bl	USBH_CtlReq
 316 0060 0346     		mov	r3, r0
 212:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 317              		.loc 1 212 1
 318 0062 1846     		mov	r0, r3
 319 0064 1037     		adds	r7, r7, #16
 320              	.LCFI18:
 321              		.cfi_def_cfa_offset 8
 322 0066 BD46     		mov	sp, r7
 323              	.LCFI19:
 324              		.cfi_def_cfa_register 13
 325              		@ sp needed
 326 0068 80BD     		pop	{r7, pc}
 327              		.cfi_endproc
 328              	.LFE341:
 330              		.section	.text.USBH_SetAddress,"ax",%progbits
 331              		.align	1
 332              		.global	USBH_SetAddress
 333              		.syntax unified
 334              		.thumb
 335              		.thumb_func
 336              		.fpu fpv5-d16
 338              	USBH_SetAddress:
 339              	.LFB342:
 213:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 214:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 215:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 216:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_SetAddress
 217:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         This command sets the address to the connected device
 218:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  phost: Host Handle
 219:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  DeviceAddress: Device address to assign
 220:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval USBH Status
 221:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 222:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_StatusTypeDef USBH_SetAddress(USBH_HandleTypeDef *phost,
 223:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                    uint8_t DeviceAddress)
 224:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 340              		.loc 1 224 1
 341              		.cfi_startproc
 342              		@ args = 0, pretend = 0, frame = 8
 343              		@ frame_needed = 1, uses_anonymous_args = 0
 344 0000 80B5     		push	{r7, lr}
 345              	.LCFI20:
 346              		.cfi_def_cfa_offset 8
 347              		.cfi_offset 7, -8
 348              		.cfi_offset 14, -4
 349 0002 82B0     		sub	sp, sp, #8
 350              	.LCFI21:
 351              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccXyyHp5.s 			page 11


 352 0004 00AF     		add	r7, sp, #0
 353              	.LCFI22:
 354              		.cfi_def_cfa_register 7
 355 0006 7860     		str	r0, [r7, #4]
 356 0008 0B46     		mov	r3, r1
 357 000a FB70     		strb	r3, [r7, #3]
 225:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if (phost->RequestState == CMD_SEND)
 358              		.loc 1 225 12
 359 000c 7B68     		ldr	r3, [r7, #4]
 360 000e 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 361              		.loc 1 225 6
 362 0010 012B     		cmp	r3, #1
 363 0012 0FD1     		bne	.L16
 226:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 227:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bmRequestType = USB_H2D | USB_REQ_RECIPIENT_DEVICE | \
 364              		.loc 1 227 42
 365 0014 7B68     		ldr	r3, [r7, #4]
 366 0016 0022     		movs	r2, #0
 367 0018 1A74     		strb	r2, [r3, #16]
 228:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                            USB_REQ_TYPE_STANDARD;
 229:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 230:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bRequest = USB_REQ_SET_ADDRESS;
 368              		.loc 1 230 37
 369 001a 7B68     		ldr	r3, [r7, #4]
 370 001c 0522     		movs	r2, #5
 371 001e 5A74     		strb	r2, [r3, #17]
 231:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 232:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wValue.w = (uint16_t)DeviceAddress;
 372              		.loc 1 232 39
 373 0020 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 374 0022 9AB2     		uxth	r2, r3
 375              		.loc 1 232 37
 376 0024 7B68     		ldr	r3, [r7, #4]
 377 0026 5A82     		strh	r2, [r3, #18]	@ movhi
 233:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wIndex.w = 0U;
 378              		.loc 1 233 37
 379 0028 7B68     		ldr	r3, [r7, #4]
 380 002a 0022     		movs	r2, #0
 381 002c 9A82     		strh	r2, [r3, #20]	@ movhi
 234:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wLength.w = 0U;
 382              		.loc 1 234 38
 383 002e 7B68     		ldr	r3, [r7, #4]
 384 0030 0022     		movs	r2, #0
 385 0032 DA82     		strh	r2, [r3, #22]	@ movhi
 386              	.L16:
 235:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 236:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 237:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return USBH_CtlReq(phost, 0U, 0U);
 387              		.loc 1 237 10
 388 0034 0022     		movs	r2, #0
 389 0036 0021     		movs	r1, #0
 390 0038 7868     		ldr	r0, [r7, #4]
 391 003a FFF7FEFF 		bl	USBH_CtlReq
 392 003e 0346     		mov	r3, r0
 238:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 393              		.loc 1 238 1
 394 0040 1846     		mov	r0, r3
ARM GAS  /tmp/ccXyyHp5.s 			page 12


 395 0042 0837     		adds	r7, r7, #8
 396              	.LCFI23:
 397              		.cfi_def_cfa_offset 8
 398 0044 BD46     		mov	sp, r7
 399              	.LCFI24:
 400              		.cfi_def_cfa_register 13
 401              		@ sp needed
 402 0046 80BD     		pop	{r7, pc}
 403              		.cfi_endproc
 404              	.LFE342:
 406              		.section	.text.USBH_SetCfg,"ax",%progbits
 407              		.align	1
 408              		.global	USBH_SetCfg
 409              		.syntax unified
 410              		.thumb
 411              		.thumb_func
 412              		.fpu fpv5-d16
 414              	USBH_SetCfg:
 415              	.LFB343:
 239:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 240:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 241:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 242:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_SetCfg
 243:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         The command sets the configuration value to the connected device
 244:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  phost: Host Handle
 245:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  cfg_idx: Configuration value
 246:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval USBH Status
 247:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 248:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_StatusTypeDef USBH_SetCfg(USBH_HandleTypeDef *phost, uint16_t cfg_idx)
 249:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 416              		.loc 1 249 1
 417              		.cfi_startproc
 418              		@ args = 0, pretend = 0, frame = 8
 419              		@ frame_needed = 1, uses_anonymous_args = 0
 420 0000 80B5     		push	{r7, lr}
 421              	.LCFI25:
 422              		.cfi_def_cfa_offset 8
 423              		.cfi_offset 7, -8
 424              		.cfi_offset 14, -4
 425 0002 82B0     		sub	sp, sp, #8
 426              	.LCFI26:
 427              		.cfi_def_cfa_offset 16
 428 0004 00AF     		add	r7, sp, #0
 429              	.LCFI27:
 430              		.cfi_def_cfa_register 7
 431 0006 7860     		str	r0, [r7, #4]
 432 0008 0B46     		mov	r3, r1
 433 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 250:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if (phost->RequestState == CMD_SEND)
 434              		.loc 1 250 12
 435 000c 7B68     		ldr	r3, [r7, #4]
 436 000e 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 437              		.loc 1 250 6
 438 0010 012B     		cmp	r3, #1
 439 0012 0ED1     		bne	.L19
 251:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 252:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bmRequestType = USB_H2D | USB_REQ_RECIPIENT_DEVICE
ARM GAS  /tmp/ccXyyHp5.s 			page 13


 440              		.loc 1 252 42
 441 0014 7B68     		ldr	r3, [r7, #4]
 442 0016 0022     		movs	r2, #0
 443 0018 1A74     		strb	r2, [r3, #16]
 253:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                            | USB_REQ_TYPE_STANDARD;
 254:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 255:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bRequest = USB_REQ_SET_CONFIGURATION;
 444              		.loc 1 255 37
 445 001a 7B68     		ldr	r3, [r7, #4]
 446 001c 0922     		movs	r2, #9
 447 001e 5A74     		strb	r2, [r3, #17]
 256:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wValue.w = cfg_idx;
 448              		.loc 1 256 37
 449 0020 7B68     		ldr	r3, [r7, #4]
 450 0022 7A88     		ldrh	r2, [r7, #2]	@ movhi
 451 0024 5A82     		strh	r2, [r3, #18]	@ movhi
 257:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wIndex.w = 0U;
 452              		.loc 1 257 37
 453 0026 7B68     		ldr	r3, [r7, #4]
 454 0028 0022     		movs	r2, #0
 455 002a 9A82     		strh	r2, [r3, #20]	@ movhi
 258:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wLength.w = 0U;
 456              		.loc 1 258 38
 457 002c 7B68     		ldr	r3, [r7, #4]
 458 002e 0022     		movs	r2, #0
 459 0030 DA82     		strh	r2, [r3, #22]	@ movhi
 460              	.L19:
 259:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 260:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 261:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return USBH_CtlReq(phost, 0U, 0U);
 461              		.loc 1 261 10
 462 0032 0022     		movs	r2, #0
 463 0034 0021     		movs	r1, #0
 464 0036 7868     		ldr	r0, [r7, #4]
 465 0038 FFF7FEFF 		bl	USBH_CtlReq
 466 003c 0346     		mov	r3, r0
 262:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 467              		.loc 1 262 1
 468 003e 1846     		mov	r0, r3
 469 0040 0837     		adds	r7, r7, #8
 470              	.LCFI28:
 471              		.cfi_def_cfa_offset 8
 472 0042 BD46     		mov	sp, r7
 473              	.LCFI29:
 474              		.cfi_def_cfa_register 13
 475              		@ sp needed
 476 0044 80BD     		pop	{r7, pc}
 477              		.cfi_endproc
 478              	.LFE343:
 480              		.section	.text.USBH_SetInterface,"ax",%progbits
 481              		.align	1
 482              		.global	USBH_SetInterface
 483              		.syntax unified
 484              		.thumb
 485              		.thumb_func
 486              		.fpu fpv5-d16
 488              	USBH_SetInterface:
ARM GAS  /tmp/ccXyyHp5.s 			page 14


 489              	.LFB344:
 263:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 264:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 265:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 266:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_SetInterface
 267:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         The command sets the Interface value to the connected device
 268:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  phost: Host Handle
 269:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  altSetting: Interface value
 270:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval USBH Status
 271:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 272:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_StatusTypeDef USBH_SetInterface(USBH_HandleTypeDef *phost, uint8_t ep_num,
 273:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                      uint8_t altSetting)
 274:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 490              		.loc 1 274 1
 491              		.cfi_startproc
 492              		@ args = 0, pretend = 0, frame = 8
 493              		@ frame_needed = 1, uses_anonymous_args = 0
 494 0000 80B5     		push	{r7, lr}
 495              	.LCFI30:
 496              		.cfi_def_cfa_offset 8
 497              		.cfi_offset 7, -8
 498              		.cfi_offset 14, -4
 499 0002 82B0     		sub	sp, sp, #8
 500              	.LCFI31:
 501              		.cfi_def_cfa_offset 16
 502 0004 00AF     		add	r7, sp, #0
 503              	.LCFI32:
 504              		.cfi_def_cfa_register 7
 505 0006 7860     		str	r0, [r7, #4]
 506 0008 0B46     		mov	r3, r1
 507 000a FB70     		strb	r3, [r7, #3]
 508 000c 1346     		mov	r3, r2
 509 000e BB70     		strb	r3, [r7, #2]
 275:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if (phost->RequestState == CMD_SEND)
 510              		.loc 1 275 12
 511 0010 7B68     		ldr	r3, [r7, #4]
 512 0012 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 513              		.loc 1 275 6
 514 0014 012B     		cmp	r3, #1
 515 0016 10D1     		bne	.L22
 276:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 277:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bmRequestType = USB_H2D | USB_REQ_RECIPIENT_INTERFACE
 516              		.loc 1 277 42
 517 0018 7B68     		ldr	r3, [r7, #4]
 518 001a 0122     		movs	r2, #1
 519 001c 1A74     		strb	r2, [r3, #16]
 278:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                            | USB_REQ_TYPE_STANDARD;
 279:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 280:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bRequest = USB_REQ_SET_INTERFACE;
 520              		.loc 1 280 37
 521 001e 7B68     		ldr	r3, [r7, #4]
 522 0020 0B22     		movs	r2, #11
 523 0022 5A74     		strb	r2, [r3, #17]
 281:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wValue.w = altSetting;
 524              		.loc 1 281 37
 525 0024 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 526 0026 9AB2     		uxth	r2, r3
ARM GAS  /tmp/ccXyyHp5.s 			page 15


 527 0028 7B68     		ldr	r3, [r7, #4]
 528 002a 5A82     		strh	r2, [r3, #18]	@ movhi
 282:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wIndex.w = ep_num;
 529              		.loc 1 282 37
 530 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 531 002e 9AB2     		uxth	r2, r3
 532 0030 7B68     		ldr	r3, [r7, #4]
 533 0032 9A82     		strh	r2, [r3, #20]	@ movhi
 283:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wLength.w = 0U;
 534              		.loc 1 283 38
 535 0034 7B68     		ldr	r3, [r7, #4]
 536 0036 0022     		movs	r2, #0
 537 0038 DA82     		strh	r2, [r3, #22]	@ movhi
 538              	.L22:
 284:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 285:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 286:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return USBH_CtlReq(phost, 0U, 0U);
 539              		.loc 1 286 10
 540 003a 0022     		movs	r2, #0
 541 003c 0021     		movs	r1, #0
 542 003e 7868     		ldr	r0, [r7, #4]
 543 0040 FFF7FEFF 		bl	USBH_CtlReq
 544 0044 0346     		mov	r3, r0
 287:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 545              		.loc 1 287 1
 546 0046 1846     		mov	r0, r3
 547 0048 0837     		adds	r7, r7, #8
 548              	.LCFI33:
 549              		.cfi_def_cfa_offset 8
 550 004a BD46     		mov	sp, r7
 551              	.LCFI34:
 552              		.cfi_def_cfa_register 13
 553              		@ sp needed
 554 004c 80BD     		pop	{r7, pc}
 555              		.cfi_endproc
 556              	.LFE344:
 558              		.section	.text.USBH_SetFeature,"ax",%progbits
 559              		.align	1
 560              		.global	USBH_SetFeature
 561              		.syntax unified
 562              		.thumb
 563              		.thumb_func
 564              		.fpu fpv5-d16
 566              	USBH_SetFeature:
 567              	.LFB345:
 288:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 289:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 290:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 291:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_SetFeature
 292:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         The command sets the device features (remote wakeup feature,..)
 293:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  pdev: Selected device
 294:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  itf_idx
 295:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval Status
 296:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** */
 297:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_StatusTypeDef USBH_SetFeature(USBH_HandleTypeDef *phost, uint8_t wValue)
 298:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 568              		.loc 1 298 1
ARM GAS  /tmp/ccXyyHp5.s 			page 16


 569              		.cfi_startproc
 570              		@ args = 0, pretend = 0, frame = 8
 571              		@ frame_needed = 1, uses_anonymous_args = 0
 572 0000 80B5     		push	{r7, lr}
 573              	.LCFI35:
 574              		.cfi_def_cfa_offset 8
 575              		.cfi_offset 7, -8
 576              		.cfi_offset 14, -4
 577 0002 82B0     		sub	sp, sp, #8
 578              	.LCFI36:
 579              		.cfi_def_cfa_offset 16
 580 0004 00AF     		add	r7, sp, #0
 581              	.LCFI37:
 582              		.cfi_def_cfa_register 7
 583 0006 7860     		str	r0, [r7, #4]
 584 0008 0B46     		mov	r3, r1
 585 000a FB70     		strb	r3, [r7, #3]
 299:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if (phost->RequestState == CMD_SEND)
 586              		.loc 1 299 12
 587 000c 7B68     		ldr	r3, [r7, #4]
 588 000e 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 589              		.loc 1 299 6
 590 0010 012B     		cmp	r3, #1
 591 0012 0FD1     		bne	.L25
 300:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 301:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bmRequestType = USB_H2D | USB_REQ_RECIPIENT_DEVICE
 592              		.loc 1 301 42
 593 0014 7B68     		ldr	r3, [r7, #4]
 594 0016 0022     		movs	r2, #0
 595 0018 1A74     		strb	r2, [r3, #16]
 302:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                            | USB_REQ_TYPE_STANDARD;
 303:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 304:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bRequest = USB_REQ_SET_FEATURE;
 596              		.loc 1 304 37
 597 001a 7B68     		ldr	r3, [r7, #4]
 598 001c 0322     		movs	r2, #3
 599 001e 5A74     		strb	r2, [r3, #17]
 305:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wValue.w = wValue;
 600              		.loc 1 305 37
 601 0020 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 602 0022 9AB2     		uxth	r2, r3
 603 0024 7B68     		ldr	r3, [r7, #4]
 604 0026 5A82     		strh	r2, [r3, #18]	@ movhi
 306:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wIndex.w = 0U;
 605              		.loc 1 306 37
 606 0028 7B68     		ldr	r3, [r7, #4]
 607 002a 0022     		movs	r2, #0
 608 002c 9A82     		strh	r2, [r3, #20]	@ movhi
 307:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wLength.w = 0U;
 609              		.loc 1 307 38
 610 002e 7B68     		ldr	r3, [r7, #4]
 611 0030 0022     		movs	r2, #0
 612 0032 DA82     		strh	r2, [r3, #22]	@ movhi
 613              	.L25:
 308:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 309:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 310:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return USBH_CtlReq(phost, 0U, 0U);
ARM GAS  /tmp/ccXyyHp5.s 			page 17


 614              		.loc 1 310 10
 615 0034 0022     		movs	r2, #0
 616 0036 0021     		movs	r1, #0
 617 0038 7868     		ldr	r0, [r7, #4]
 618 003a FFF7FEFF 		bl	USBH_CtlReq
 619 003e 0346     		mov	r3, r0
 311:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 620              		.loc 1 311 1
 621 0040 1846     		mov	r0, r3
 622 0042 0837     		adds	r7, r7, #8
 623              	.LCFI38:
 624              		.cfi_def_cfa_offset 8
 625 0044 BD46     		mov	sp, r7
 626              	.LCFI39:
 627              		.cfi_def_cfa_register 13
 628              		@ sp needed
 629 0046 80BD     		pop	{r7, pc}
 630              		.cfi_endproc
 631              	.LFE345:
 633              		.section	.text.USBH_ClrFeature,"ax",%progbits
 634              		.align	1
 635              		.global	USBH_ClrFeature
 636              		.syntax unified
 637              		.thumb
 638              		.thumb_func
 639              		.fpu fpv5-d16
 641              	USBH_ClrFeature:
 642              	.LFB346:
 312:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 313:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 314:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 315:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_ClrFeature
 316:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         This request is used to clear or disable a specific feature.
 317:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  phost: Host Handle
 318:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  ep_num: endpoint number
 319:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  hc_num: Host channel number
 320:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval USBH Status
 321:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 322:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_StatusTypeDef USBH_ClrFeature(USBH_HandleTypeDef *phost, uint8_t ep_num)
 323:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 643              		.loc 1 323 1
 644              		.cfi_startproc
 645              		@ args = 0, pretend = 0, frame = 8
 646              		@ frame_needed = 1, uses_anonymous_args = 0
 647 0000 80B5     		push	{r7, lr}
 648              	.LCFI40:
 649              		.cfi_def_cfa_offset 8
 650              		.cfi_offset 7, -8
 651              		.cfi_offset 14, -4
 652 0002 82B0     		sub	sp, sp, #8
 653              	.LCFI41:
 654              		.cfi_def_cfa_offset 16
 655 0004 00AF     		add	r7, sp, #0
 656              	.LCFI42:
 657              		.cfi_def_cfa_register 7
 658 0006 7860     		str	r0, [r7, #4]
 659 0008 0B46     		mov	r3, r1
ARM GAS  /tmp/ccXyyHp5.s 			page 18


 660 000a FB70     		strb	r3, [r7, #3]
 324:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if (phost->RequestState == CMD_SEND)
 661              		.loc 1 324 12
 662 000c 7B68     		ldr	r3, [r7, #4]
 663 000e 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 664              		.loc 1 324 6
 665 0010 012B     		cmp	r3, #1
 666 0012 0FD1     		bne	.L28
 325:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 326:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bmRequestType = USB_H2D | USB_REQ_RECIPIENT_ENDPOINT
 667              		.loc 1 326 42
 668 0014 7B68     		ldr	r3, [r7, #4]
 669 0016 0222     		movs	r2, #2
 670 0018 1A74     		strb	r2, [r3, #16]
 327:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                            | USB_REQ_TYPE_STANDARD;
 328:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 329:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.bRequest = USB_REQ_CLEAR_FEATURE;
 671              		.loc 1 329 37
 672 001a 7B68     		ldr	r3, [r7, #4]
 673 001c 0122     		movs	r2, #1
 674 001e 5A74     		strb	r2, [r3, #17]
 330:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wValue.w = FEATURE_SELECTOR_ENDPOINT;
 675              		.loc 1 330 37
 676 0020 7B68     		ldr	r3, [r7, #4]
 677 0022 0022     		movs	r2, #0
 678 0024 5A82     		strh	r2, [r3, #18]	@ movhi
 331:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wIndex.w = ep_num;
 679              		.loc 1 331 37
 680 0026 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 681 0028 9AB2     		uxth	r2, r3
 682 002a 7B68     		ldr	r3, [r7, #4]
 683 002c 9A82     		strh	r2, [r3, #20]	@ movhi
 332:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     phost->Control.setup.b.wLength.w = 0U;
 684              		.loc 1 332 38
 685 002e 7B68     		ldr	r3, [r7, #4]
 686 0030 0022     		movs	r2, #0
 687 0032 DA82     		strh	r2, [r3, #22]	@ movhi
 688              	.L28:
 333:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 334:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return USBH_CtlReq(phost, 0U, 0U);
 689              		.loc 1 334 10
 690 0034 0022     		movs	r2, #0
 691 0036 0021     		movs	r1, #0
 692 0038 7868     		ldr	r0, [r7, #4]
 693 003a FFF7FEFF 		bl	USBH_CtlReq
 694 003e 0346     		mov	r3, r0
 335:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 695              		.loc 1 335 1
 696 0040 1846     		mov	r0, r3
 697 0042 0837     		adds	r7, r7, #8
 698              	.LCFI43:
 699              		.cfi_def_cfa_offset 8
 700 0044 BD46     		mov	sp, r7
 701              	.LCFI44:
 702              		.cfi_def_cfa_register 13
 703              		@ sp needed
 704 0046 80BD     		pop	{r7, pc}
ARM GAS  /tmp/ccXyyHp5.s 			page 19


 705              		.cfi_endproc
 706              	.LFE346:
 708              		.section	.text.USBH_ParseDevDesc,"ax",%progbits
 709              		.align	1
 710              		.syntax unified
 711              		.thumb
 712              		.thumb_func
 713              		.fpu fpv5-d16
 715              	USBH_ParseDevDesc:
 716              	.LFB347:
 336:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 337:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 338:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 339:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_ParseDevDesc
 340:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         This function Parses the device descriptor
 341:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  dev_desc: device_descriptor destination address
 342:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  buf: Buffer where the source descriptor is available
 343:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  length: Length of the descriptor
 344:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval None
 345:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 346:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static void  USBH_ParseDevDesc(USBH_DevDescTypeDef *dev_desc, uint8_t *buf,
 347:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                uint16_t length)
 348:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 717              		.loc 1 348 1
 718              		.cfi_startproc
 719              		@ args = 0, pretend = 0, frame = 16
 720              		@ frame_needed = 1, uses_anonymous_args = 0
 721              		@ link register save eliminated.
 722 0000 80B4     		push	{r7}
 723              	.LCFI45:
 724              		.cfi_def_cfa_offset 4
 725              		.cfi_offset 7, -4
 726 0002 85B0     		sub	sp, sp, #20
 727              	.LCFI46:
 728              		.cfi_def_cfa_offset 24
 729 0004 00AF     		add	r7, sp, #0
 730              	.LCFI47:
 731              		.cfi_def_cfa_register 7
 732 0006 F860     		str	r0, [r7, #12]
 733 0008 B960     		str	r1, [r7, #8]
 734 000a 1346     		mov	r3, r2
 735 000c FB80     		strh	r3, [r7, #6]	@ movhi
 349:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   dev_desc->bLength            = *(uint8_t *)(buf +  0);
 736              		.loc 1 349 34
 737 000e BB68     		ldr	r3, [r7, #8]
 738 0010 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 739              		.loc 1 349 32
 740 0012 FB68     		ldr	r3, [r7, #12]
 741 0014 1A70     		strb	r2, [r3]
 350:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   dev_desc->bDescriptorType    = *(uint8_t *)(buf +  1);
 742              		.loc 1 350 32
 743 0016 BB68     		ldr	r3, [r7, #8]
 744 0018 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 745 001a FB68     		ldr	r3, [r7, #12]
 746 001c 5A70     		strb	r2, [r3, #1]
 351:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   dev_desc->bcdUSB             = LE16(buf +  2);
 747              		.loc 1 351 34
ARM GAS  /tmp/ccXyyHp5.s 			page 20


 748 001e BB68     		ldr	r3, [r7, #8]
 749 0020 0233     		adds	r3, r3, #2
 750 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 751 0024 9AB2     		uxth	r2, r3
 752 0026 BB68     		ldr	r3, [r7, #8]
 753 0028 0333     		adds	r3, r3, #3
 754 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 755 002c 9BB2     		uxth	r3, r3
 756 002e 1B02     		lsls	r3, r3, #8
 757 0030 9BB2     		uxth	r3, r3
 758 0032 1343     		orrs	r3, r3, r2
 759 0034 9AB2     		uxth	r2, r3
 760              		.loc 1 351 32
 761 0036 FB68     		ldr	r3, [r7, #12]
 762 0038 5A80     		strh	r2, [r3, #2]	@ movhi
 352:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   dev_desc->bDeviceClass       = *(uint8_t *)(buf +  4);
 763              		.loc 1 352 32
 764 003a BB68     		ldr	r3, [r7, #8]
 765 003c 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 766 003e FB68     		ldr	r3, [r7, #12]
 767 0040 1A71     		strb	r2, [r3, #4]
 353:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   dev_desc->bDeviceSubClass    = *(uint8_t *)(buf +  5);
 768              		.loc 1 353 32
 769 0042 BB68     		ldr	r3, [r7, #8]
 770 0044 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 771 0046 FB68     		ldr	r3, [r7, #12]
 772 0048 5A71     		strb	r2, [r3, #5]
 354:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   dev_desc->bDeviceProtocol    = *(uint8_t *)(buf +  6);
 773              		.loc 1 354 32
 774 004a BB68     		ldr	r3, [r7, #8]
 775 004c 9A79     		ldrb	r2, [r3, #6]	@ zero_extendqisi2
 776 004e FB68     		ldr	r3, [r7, #12]
 777 0050 9A71     		strb	r2, [r3, #6]
 355:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   dev_desc->bMaxPacketSize     = *(uint8_t *)(buf +  7);
 778              		.loc 1 355 32
 779 0052 BB68     		ldr	r3, [r7, #8]
 780 0054 DA79     		ldrb	r2, [r3, #7]	@ zero_extendqisi2
 781 0056 FB68     		ldr	r3, [r7, #12]
 782 0058 DA71     		strb	r2, [r3, #7]
 356:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 357:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if (length > 8U)
 783              		.loc 1 357 6
 784 005a FB88     		ldrh	r3, [r7, #6]
 785 005c 082B     		cmp	r3, #8
 786 005e 39D9     		bls	.L32
 358:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 359:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     /* For 1st time after device connection, Host may issue only 8 bytes for
 360:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     Device Descriptor Length  */
 361:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     dev_desc->idVendor           = LE16(buf +  8);
 787              		.loc 1 361 36
 788 0060 BB68     		ldr	r3, [r7, #8]
 789 0062 0833     		adds	r3, r3, #8
 790 0064 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 791 0066 9AB2     		uxth	r2, r3
 792 0068 BB68     		ldr	r3, [r7, #8]
 793 006a 0933     		adds	r3, r3, #9
 794 006c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccXyyHp5.s 			page 21


 795 006e 9BB2     		uxth	r3, r3
 796 0070 1B02     		lsls	r3, r3, #8
 797 0072 9BB2     		uxth	r3, r3
 798 0074 1343     		orrs	r3, r3, r2
 799 0076 9AB2     		uxth	r2, r3
 800              		.loc 1 361 34
 801 0078 FB68     		ldr	r3, [r7, #12]
 802 007a 1A81     		strh	r2, [r3, #8]	@ movhi
 362:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     dev_desc->idProduct          = LE16(buf + 10);
 803              		.loc 1 362 36
 804 007c BB68     		ldr	r3, [r7, #8]
 805 007e 0A33     		adds	r3, r3, #10
 806 0080 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 807 0082 9AB2     		uxth	r2, r3
 808 0084 BB68     		ldr	r3, [r7, #8]
 809 0086 0B33     		adds	r3, r3, #11
 810 0088 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 811 008a 9BB2     		uxth	r3, r3
 812 008c 1B02     		lsls	r3, r3, #8
 813 008e 9BB2     		uxth	r3, r3
 814 0090 1343     		orrs	r3, r3, r2
 815 0092 9AB2     		uxth	r2, r3
 816              		.loc 1 362 34
 817 0094 FB68     		ldr	r3, [r7, #12]
 818 0096 5A81     		strh	r2, [r3, #10]	@ movhi
 363:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     dev_desc->bcdDevice          = LE16(buf + 12);
 819              		.loc 1 363 36
 820 0098 BB68     		ldr	r3, [r7, #8]
 821 009a 0C33     		adds	r3, r3, #12
 822 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 823 009e 9AB2     		uxth	r2, r3
 824 00a0 BB68     		ldr	r3, [r7, #8]
 825 00a2 0D33     		adds	r3, r3, #13
 826 00a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 827 00a6 9BB2     		uxth	r3, r3
 828 00a8 1B02     		lsls	r3, r3, #8
 829 00aa 9BB2     		uxth	r3, r3
 830 00ac 1343     		orrs	r3, r3, r2
 831 00ae 9AB2     		uxth	r2, r3
 832              		.loc 1 363 34
 833 00b0 FB68     		ldr	r3, [r7, #12]
 834 00b2 9A81     		strh	r2, [r3, #12]	@ movhi
 364:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     dev_desc->iManufacturer      = *(uint8_t *)(buf + 14);
 835              		.loc 1 364 34
 836 00b4 BB68     		ldr	r3, [r7, #8]
 837 00b6 9A7B     		ldrb	r2, [r3, #14]	@ zero_extendqisi2
 838 00b8 FB68     		ldr	r3, [r7, #12]
 839 00ba 9A73     		strb	r2, [r3, #14]
 365:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     dev_desc->iProduct           = *(uint8_t *)(buf + 15);
 840              		.loc 1 365 34
 841 00bc BB68     		ldr	r3, [r7, #8]
 842 00be DA7B     		ldrb	r2, [r3, #15]	@ zero_extendqisi2
 843 00c0 FB68     		ldr	r3, [r7, #12]
 844 00c2 DA73     		strb	r2, [r3, #15]
 366:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     dev_desc->iSerialNumber      = *(uint8_t *)(buf + 16);
 845              		.loc 1 366 34
 846 00c4 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccXyyHp5.s 			page 22


 847 00c6 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 848 00c8 FB68     		ldr	r3, [r7, #12]
 849 00ca 1A74     		strb	r2, [r3, #16]
 367:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     dev_desc->bNumConfigurations = *(uint8_t *)(buf + 17);
 850              		.loc 1 367 34
 851 00cc BB68     		ldr	r3, [r7, #8]
 852 00ce 5A7C     		ldrb	r2, [r3, #17]	@ zero_extendqisi2
 853 00d0 FB68     		ldr	r3, [r7, #12]
 854 00d2 5A74     		strb	r2, [r3, #17]
 855              	.L32:
 368:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 369:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 856              		.loc 1 369 1
 857 00d4 00BF     		nop
 858 00d6 1437     		adds	r7, r7, #20
 859              	.LCFI48:
 860              		.cfi_def_cfa_offset 4
 861 00d8 BD46     		mov	sp, r7
 862              	.LCFI49:
 863              		.cfi_def_cfa_register 13
 864              		@ sp needed
 865 00da 5DF8047B 		ldr	r7, [sp], #4
 866              	.LCFI50:
 867              		.cfi_restore 7
 868              		.cfi_def_cfa_offset 0
 869 00de 7047     		bx	lr
 870              		.cfi_endproc
 871              	.LFE347:
 873              		.section	.text.USBH_ParseCfgDesc,"ax",%progbits
 874              		.align	1
 875              		.syntax unified
 876              		.thumb
 877              		.thumb_func
 878              		.fpu fpv5-d16
 880              	USBH_ParseCfgDesc:
 881              	.LFB348:
 370:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 371:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 372:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 373:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_ParseCfgDesc
 374:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         This function Parses the configuration descriptor
 375:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  cfg_desc: Configuration Descriptor address
 376:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  buf: Buffer where the source descriptor is available
 377:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  length: Length of the descriptor
 378:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval None
 379:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 380:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static void USBH_ParseCfgDesc(USBH_CfgDescTypeDef *cfg_desc, uint8_t *buf,
 381:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                               uint16_t length)
 382:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 882              		.loc 1 382 1
 883              		.cfi_startproc
 884              		@ args = 0, pretend = 0, frame = 40
 885              		@ frame_needed = 1, uses_anonymous_args = 0
 886 0000 80B5     		push	{r7, lr}
 887              	.LCFI51:
 888              		.cfi_def_cfa_offset 8
 889              		.cfi_offset 7, -8
ARM GAS  /tmp/ccXyyHp5.s 			page 23


 890              		.cfi_offset 14, -4
 891 0002 8AB0     		sub	sp, sp, #40
 892              	.LCFI52:
 893              		.cfi_def_cfa_offset 48
 894 0004 00AF     		add	r7, sp, #0
 895              	.LCFI53:
 896              		.cfi_def_cfa_register 7
 897 0006 F860     		str	r0, [r7, #12]
 898 0008 B960     		str	r1, [r7, #8]
 899 000a 1346     		mov	r3, r2
 900 000c FB80     		strh	r3, [r7, #6]	@ movhi
 383:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   USBH_InterfaceDescTypeDef    *pif ;
 384:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   USBH_EpDescTypeDef           *pep;
 385:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   USBH_DescHeader_t            *pdesc = (USBH_DescHeader_t *)(void *)buf;
 901              		.loc 1 385 33
 902 000e BB68     		ldr	r3, [r7, #8]
 903 0010 7B62     		str	r3, [r7, #36]
 386:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   uint16_t                     ptr;
 387:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   uint8_t                      if_ix = 0U;
 904              		.loc 1 387 32
 905 0012 0023     		movs	r3, #0
 906 0014 87F82330 		strb	r3, [r7, #35]
 388:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   uint8_t                      ep_ix = 0U;
 907              		.loc 1 388 32
 908 0018 0023     		movs	r3, #0
 909 001a 87F82230 		strb	r3, [r7, #34]
 389:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 390:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   pdesc   = (USBH_DescHeader_t *)(void *)buf;
 910              		.loc 1 390 11
 911 001e BB68     		ldr	r3, [r7, #8]
 912 0020 7B62     		str	r3, [r7, #36]
 391:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 392:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   /* Parse configuration descriptor */
 393:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   cfg_desc->bLength             = *(uint8_t *)(buf + 0);
 913              		.loc 1 393 35
 914 0022 BB68     		ldr	r3, [r7, #8]
 915 0024 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 916              		.loc 1 393 33
 917 0026 FB68     		ldr	r3, [r7, #12]
 918 0028 1A70     		strb	r2, [r3]
 394:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   cfg_desc->bDescriptorType     = *(uint8_t *)(buf + 1);
 919              		.loc 1 394 33
 920 002a BB68     		ldr	r3, [r7, #8]
 921 002c 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 922 002e FB68     		ldr	r3, [r7, #12]
 923 0030 5A70     		strb	r2, [r3, #1]
 395:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   cfg_desc->wTotalLength        = LE16(buf + 2);
 924              		.loc 1 395 35
 925 0032 BB68     		ldr	r3, [r7, #8]
 926 0034 0233     		adds	r3, r3, #2
 927 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 928 0038 9AB2     		uxth	r2, r3
 929 003a BB68     		ldr	r3, [r7, #8]
 930 003c 0333     		adds	r3, r3, #3
 931 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 932 0040 9BB2     		uxth	r3, r3
 933 0042 1B02     		lsls	r3, r3, #8
ARM GAS  /tmp/ccXyyHp5.s 			page 24


 934 0044 9BB2     		uxth	r3, r3
 935 0046 1343     		orrs	r3, r3, r2
 936 0048 9AB2     		uxth	r2, r3
 937              		.loc 1 395 33
 938 004a FB68     		ldr	r3, [r7, #12]
 939 004c 5A80     		strh	r2, [r3, #2]	@ movhi
 396:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   cfg_desc->bNumInterfaces      = *(uint8_t *)(buf + 4);
 940              		.loc 1 396 33
 941 004e BB68     		ldr	r3, [r7, #8]
 942 0050 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 943 0052 FB68     		ldr	r3, [r7, #12]
 944 0054 1A71     		strb	r2, [r3, #4]
 397:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   cfg_desc->bConfigurationValue = *(uint8_t *)(buf + 5);
 945              		.loc 1 397 33
 946 0056 BB68     		ldr	r3, [r7, #8]
 947 0058 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 948 005a FB68     		ldr	r3, [r7, #12]
 949 005c 5A71     		strb	r2, [r3, #5]
 398:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   cfg_desc->iConfiguration      = *(uint8_t *)(buf + 6);
 950              		.loc 1 398 33
 951 005e BB68     		ldr	r3, [r7, #8]
 952 0060 9A79     		ldrb	r2, [r3, #6]	@ zero_extendqisi2
 953 0062 FB68     		ldr	r3, [r7, #12]
 954 0064 9A71     		strb	r2, [r3, #6]
 399:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   cfg_desc->bmAttributes        = *(uint8_t *)(buf + 7);
 955              		.loc 1 399 33
 956 0066 BB68     		ldr	r3, [r7, #8]
 957 0068 DA79     		ldrb	r2, [r3, #7]	@ zero_extendqisi2
 958 006a FB68     		ldr	r3, [r7, #12]
 959 006c DA71     		strb	r2, [r3, #7]
 400:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   cfg_desc->bMaxPower           = *(uint8_t *)(buf + 8);
 960              		.loc 1 400 33
 961 006e BB68     		ldr	r3, [r7, #8]
 962 0070 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 963 0072 FB68     		ldr	r3, [r7, #12]
 964 0074 1A72     		strb	r2, [r3, #8]
 401:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 402:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if (length > USB_CONFIGURATION_DESC_SIZE)
 965              		.loc 1 402 6
 966 0076 FB88     		ldrh	r3, [r7, #6]
 967 0078 092B     		cmp	r3, #9
 968 007a 5FD9     		bls	.L40
 403:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 404:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     ptr = USB_LEN_CFG_DESC;
 969              		.loc 1 404 9
 970 007c 0923     		movs	r3, #9
 971 007e FB82     		strh	r3, [r7, #22]	@ movhi
 405:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     pif = (USBH_InterfaceDescTypeDef *)0;
 972              		.loc 1 405 9
 973 0080 0023     		movs	r3, #0
 974 0082 FB61     		str	r3, [r7, #28]
 406:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 407:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     while ((if_ix < USBH_MAX_NUM_INTERFACES) && (ptr < cfg_desc->wTotalLength))
 975              		.loc 1 407 11
 976 0084 51E0     		b	.L35
 977              	.L39:
 408:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     {
ARM GAS  /tmp/ccXyyHp5.s 			page 25


 409:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       pdesc = USBH_GetNextDesc((uint8_t *)(void *)pdesc, &ptr);
 978              		.loc 1 409 15
 979 0086 07F11603 		add	r3, r7, #22
 980 008a 1946     		mov	r1, r3
 981 008c 786A     		ldr	r0, [r7, #36]
 982 008e FFF7FEFF 		bl	USBH_GetNextDesc
 983 0092 7862     		str	r0, [r7, #36]
 410:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       if (pdesc->bDescriptorType   == USB_DESC_TYPE_INTERFACE)
 984              		.loc 1 410 16
 985 0094 7B6A     		ldr	r3, [r7, #36]
 986 0096 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 987              		.loc 1 410 10
 988 0098 042B     		cmp	r3, #4
 989 009a 46D1     		bne	.L35
 411:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 412:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         pif = &cfg_desc->Itf_Desc[if_ix];
 990              		.loc 1 412 34
 991 009c 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 992              		.loc 1 412 13
 993 00a0 1A22     		movs	r2, #26
 994 00a2 02FB03F3 		mul	r3, r2, r3
 995 00a6 0833     		adds	r3, r3, #8
 996 00a8 FA68     		ldr	r2, [r7, #12]
 997 00aa 1344     		add	r3, r3, r2
 998 00ac 0233     		adds	r3, r3, #2
 999 00ae FB61     		str	r3, [r7, #28]
 413:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         USBH_ParseInterfaceDesc(pif, (uint8_t *)(void *)pdesc);
 1000              		.loc 1 413 9
 1001 00b0 796A     		ldr	r1, [r7, #36]
 1002 00b2 F869     		ldr	r0, [r7, #28]
 1003 00b4 FFF7FEFF 		bl	USBH_ParseInterfaceDesc
 414:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 415:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         ep_ix = 0U;
 1004              		.loc 1 415 15
 1005 00b8 0023     		movs	r3, #0
 1006 00ba 87F82230 		strb	r3, [r7, #34]
 416:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         pep = (USBH_EpDescTypeDef *)0;
 1007              		.loc 1 416 13
 1008 00be 0023     		movs	r3, #0
 1009 00c0 BB61     		str	r3, [r7, #24]
 417:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         while ((ep_ix < pif->bNumEndpoints) && (ptr < cfg_desc->wTotalLength))
 1010              		.loc 1 417 15
 1011 00c2 22E0     		b	.L36
 1012              	.L38:
 418:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 419:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           pdesc = USBH_GetNextDesc((uint8_t *)(void *)pdesc, &ptr);
 1013              		.loc 1 419 19
 1014 00c4 07F11603 		add	r3, r7, #22
 1015 00c8 1946     		mov	r1, r3
 1016 00ca 786A     		ldr	r0, [r7, #36]
 1017 00cc FFF7FEFF 		bl	USBH_GetNextDesc
 1018 00d0 7862     		str	r0, [r7, #36]
 420:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           if (pdesc->bDescriptorType   == USB_DESC_TYPE_ENDPOINT)
 1019              		.loc 1 420 20
 1020 00d2 7B6A     		ldr	r3, [r7, #36]
 1021 00d4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1022              		.loc 1 420 14
ARM GAS  /tmp/ccXyyHp5.s 			page 26


 1023 00d6 052B     		cmp	r3, #5
 1024 00d8 17D1     		bne	.L36
 421:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           {
 422:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             pep = &cfg_desc->Itf_Desc[if_ix].Ep_Desc[ep_ix];
 1025              		.loc 1 422 53
 1026 00da 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 1027 00de 97F82220 		ldrb	r2, [r7, #34]	@ zero_extendqisi2
 1028              		.loc 1 422 17
 1029 00e2 0132     		adds	r2, r2, #1
 1030 00e4 D200     		lsls	r2, r2, #3
 1031 00e6 1A21     		movs	r1, #26
 1032 00e8 01FB03F3 		mul	r3, r1, r3
 1033 00ec 1344     		add	r3, r3, r2
 1034 00ee 0833     		adds	r3, r3, #8
 1035 00f0 FA68     		ldr	r2, [r7, #12]
 1036 00f2 1344     		add	r3, r3, r2
 1037 00f4 0433     		adds	r3, r3, #4
 1038 00f6 BB61     		str	r3, [r7, #24]
 423:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             USBH_ParseEPDesc(pep, (uint8_t *)(void *)pdesc);
 1039              		.loc 1 423 13
 1040 00f8 796A     		ldr	r1, [r7, #36]
 1041 00fa B869     		ldr	r0, [r7, #24]
 1042 00fc FFF7FEFF 		bl	USBH_ParseEPDesc
 424:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             ep_ix++;
 1043              		.loc 1 424 18
 1044 0100 97F82230 		ldrb	r3, [r7, #34]	@ zero_extendqisi2
 1045 0104 0133     		adds	r3, r3, #1
 1046 0106 87F82230 		strb	r3, [r7, #34]
 1047              	.L36:
 417:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 1048              		.loc 1 417 28
 1049 010a FB69     		ldr	r3, [r7, #28]
 1050 010c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 417:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 1051              		.loc 1 417 15
 1052 010e 97F82220 		ldrb	r2, [r7, #34]	@ zero_extendqisi2
 1053 0112 9A42     		cmp	r2, r3
 1054 0114 04D2     		bcs	.L37
 417:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 1055              		.loc 1 417 63 discriminator 1
 1056 0116 FB68     		ldr	r3, [r7, #12]
 1057 0118 5A88     		ldrh	r2, [r3, #2]
 417:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 1058              		.loc 1 417 53 discriminator 1
 1059 011a FB8A     		ldrh	r3, [r7, #22]
 417:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 1060              		.loc 1 417 45 discriminator 1
 1061 011c 9A42     		cmp	r2, r3
 1062 011e D1D8     		bhi	.L38
 1063              	.L37:
 425:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           }
 426:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         }
 427:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         if_ix++;
 1064              		.loc 1 427 14
 1065 0120 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 1066 0124 0133     		adds	r3, r3, #1
 1067 0126 87F82330 		strb	r3, [r7, #35]
ARM GAS  /tmp/ccXyyHp5.s 			page 27


 1068              	.L35:
 407:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     {
 1069              		.loc 1 407 11
 1070 012a 97F82330 		ldrb	r3, [r7, #35]	@ zero_extendqisi2
 1071 012e 012B     		cmp	r3, #1
 1072 0130 04D8     		bhi	.L40
 407:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     {
 1073              		.loc 1 407 64 discriminator 1
 1074 0132 FB68     		ldr	r3, [r7, #12]
 1075 0134 5A88     		ldrh	r2, [r3, #2]
 407:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     {
 1076              		.loc 1 407 54 discriminator 1
 1077 0136 FB8A     		ldrh	r3, [r7, #22]
 407:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     {
 1078              		.loc 1 407 46 discriminator 1
 1079 0138 9A42     		cmp	r2, r3
 1080 013a A4D8     		bhi	.L39
 1081              	.L40:
 428:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 429:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     }
 430:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 431:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 1082              		.loc 1 431 1
 1083 013c 00BF     		nop
 1084 013e 2837     		adds	r7, r7, #40
 1085              	.LCFI54:
 1086              		.cfi_def_cfa_offset 8
 1087 0140 BD46     		mov	sp, r7
 1088              	.LCFI55:
 1089              		.cfi_def_cfa_register 13
 1090              		@ sp needed
 1091 0142 80BD     		pop	{r7, pc}
 1092              		.cfi_endproc
 1093              	.LFE348:
 1095              		.section	.text.USBH_ParseInterfaceDesc,"ax",%progbits
 1096              		.align	1
 1097              		.syntax unified
 1098              		.thumb
 1099              		.thumb_func
 1100              		.fpu fpv5-d16
 1102              	USBH_ParseInterfaceDesc:
 1103              	.LFB349:
 432:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 433:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 434:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 435:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_ParseInterfaceDesc
 436:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         This function Parses the interface descriptor
 437:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  if_descriptor : Interface descriptor destination
 438:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  buf: Buffer where the descriptor data is available
 439:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval None
 440:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 441:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static void  USBH_ParseInterfaceDesc(USBH_InterfaceDescTypeDef *if_descriptor,
 442:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                      uint8_t *buf)
 443:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 1104              		.loc 1 443 1
 1105              		.cfi_startproc
 1106              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccXyyHp5.s 			page 28


 1107              		@ frame_needed = 1, uses_anonymous_args = 0
 1108              		@ link register save eliminated.
 1109 0000 80B4     		push	{r7}
 1110              	.LCFI56:
 1111              		.cfi_def_cfa_offset 4
 1112              		.cfi_offset 7, -4
 1113 0002 83B0     		sub	sp, sp, #12
 1114              	.LCFI57:
 1115              		.cfi_def_cfa_offset 16
 1116 0004 00AF     		add	r7, sp, #0
 1117              	.LCFI58:
 1118              		.cfi_def_cfa_register 7
 1119 0006 7860     		str	r0, [r7, #4]
 1120 0008 3960     		str	r1, [r7]
 444:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if_descriptor->bLength            = *(uint8_t *)(buf + 0);
 1121              		.loc 1 444 39
 1122 000a 3B68     		ldr	r3, [r7]
 1123 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1124              		.loc 1 444 37
 1125 000e 7B68     		ldr	r3, [r7, #4]
 1126 0010 1A70     		strb	r2, [r3]
 445:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if_descriptor->bDescriptorType    = *(uint8_t *)(buf + 1);
 1127              		.loc 1 445 37
 1128 0012 3B68     		ldr	r3, [r7]
 1129 0014 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 1130 0016 7B68     		ldr	r3, [r7, #4]
 1131 0018 5A70     		strb	r2, [r3, #1]
 446:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if_descriptor->bInterfaceNumber   = *(uint8_t *)(buf + 2);
 1132              		.loc 1 446 37
 1133 001a 3B68     		ldr	r3, [r7]
 1134 001c 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 1135 001e 7B68     		ldr	r3, [r7, #4]
 1136 0020 9A70     		strb	r2, [r3, #2]
 447:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if_descriptor->bAlternateSetting  = *(uint8_t *)(buf + 3);
 1137              		.loc 1 447 37
 1138 0022 3B68     		ldr	r3, [r7]
 1139 0024 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 1140 0026 7B68     		ldr	r3, [r7, #4]
 1141 0028 DA70     		strb	r2, [r3, #3]
 448:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if_descriptor->bNumEndpoints      = *(uint8_t *)(buf + 4);
 1142              		.loc 1 448 37
 1143 002a 3B68     		ldr	r3, [r7]
 1144 002c 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 1145 002e 7B68     		ldr	r3, [r7, #4]
 1146 0030 1A71     		strb	r2, [r3, #4]
 449:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if_descriptor->bInterfaceClass    = *(uint8_t *)(buf + 5);
 1147              		.loc 1 449 37
 1148 0032 3B68     		ldr	r3, [r7]
 1149 0034 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 1150 0036 7B68     		ldr	r3, [r7, #4]
 1151 0038 5A71     		strb	r2, [r3, #5]
 450:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if_descriptor->bInterfaceSubClass = *(uint8_t *)(buf + 6);
 1152              		.loc 1 450 37
 1153 003a 3B68     		ldr	r3, [r7]
 1154 003c 9A79     		ldrb	r2, [r3, #6]	@ zero_extendqisi2
 1155 003e 7B68     		ldr	r3, [r7, #4]
 1156 0040 9A71     		strb	r2, [r3, #6]
ARM GAS  /tmp/ccXyyHp5.s 			page 29


 451:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if_descriptor->bInterfaceProtocol = *(uint8_t *)(buf + 7);
 1157              		.loc 1 451 37
 1158 0042 3B68     		ldr	r3, [r7]
 1159 0044 DA79     		ldrb	r2, [r3, #7]	@ zero_extendqisi2
 1160 0046 7B68     		ldr	r3, [r7, #4]
 1161 0048 DA71     		strb	r2, [r3, #7]
 452:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if_descriptor->iInterface         = *(uint8_t *)(buf + 8);
 1162              		.loc 1 452 37
 1163 004a 3B68     		ldr	r3, [r7]
 1164 004c 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 1165 004e 7B68     		ldr	r3, [r7, #4]
 1166 0050 1A72     		strb	r2, [r3, #8]
 453:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 1167              		.loc 1 453 1
 1168 0052 00BF     		nop
 1169 0054 0C37     		adds	r7, r7, #12
 1170              	.LCFI59:
 1171              		.cfi_def_cfa_offset 4
 1172 0056 BD46     		mov	sp, r7
 1173              	.LCFI60:
 1174              		.cfi_def_cfa_register 13
 1175              		@ sp needed
 1176 0058 5DF8047B 		ldr	r7, [sp], #4
 1177              	.LCFI61:
 1178              		.cfi_restore 7
 1179              		.cfi_def_cfa_offset 0
 1180 005c 7047     		bx	lr
 1181              		.cfi_endproc
 1182              	.LFE349:
 1184              		.section	.text.USBH_ParseEPDesc,"ax",%progbits
 1185              		.align	1
 1186              		.syntax unified
 1187              		.thumb
 1188              		.thumb_func
 1189              		.fpu fpv5-d16
 1191              	USBH_ParseEPDesc:
 1192              	.LFB350:
 454:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 455:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 456:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 457:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_ParseEPDesc
 458:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         This function Parses the endpoint descriptor
 459:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  ep_descriptor: Endpoint descriptor destination address
 460:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  buf: Buffer where the parsed descriptor stored
 461:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval None
 462:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 463:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static void  USBH_ParseEPDesc(USBH_EpDescTypeDef  *ep_descriptor,
 464:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                               uint8_t *buf)
 465:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 1193              		.loc 1 465 1
 1194              		.cfi_startproc
 1195              		@ args = 0, pretend = 0, frame = 8
 1196              		@ frame_needed = 1, uses_anonymous_args = 0
 1197              		@ link register save eliminated.
 1198 0000 80B4     		push	{r7}
 1199              	.LCFI62:
 1200              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccXyyHp5.s 			page 30


 1201              		.cfi_offset 7, -4
 1202 0002 83B0     		sub	sp, sp, #12
 1203              	.LCFI63:
 1204              		.cfi_def_cfa_offset 16
 1205 0004 00AF     		add	r7, sp, #0
 1206              	.LCFI64:
 1207              		.cfi_def_cfa_register 7
 1208 0006 7860     		str	r0, [r7, #4]
 1209 0008 3960     		str	r1, [r7]
 466:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   ep_descriptor->bLength          = *(uint8_t *)(buf + 0);
 1210              		.loc 1 466 37
 1211 000a 3B68     		ldr	r3, [r7]
 1212 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1213              		.loc 1 466 35
 1214 000e 7B68     		ldr	r3, [r7, #4]
 1215 0010 1A70     		strb	r2, [r3]
 467:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   ep_descriptor->bDescriptorType  = *(uint8_t *)(buf + 1);
 1216              		.loc 1 467 35
 1217 0012 3B68     		ldr	r3, [r7]
 1218 0014 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 1219 0016 7B68     		ldr	r3, [r7, #4]
 1220 0018 5A70     		strb	r2, [r3, #1]
 468:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   ep_descriptor->bEndpointAddress = *(uint8_t *)(buf + 2);
 1221              		.loc 1 468 35
 1222 001a 3B68     		ldr	r3, [r7]
 1223 001c 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 1224 001e 7B68     		ldr	r3, [r7, #4]
 1225 0020 9A70     		strb	r2, [r3, #2]
 469:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   ep_descriptor->bmAttributes     = *(uint8_t *)(buf + 3);
 1226              		.loc 1 469 35
 1227 0022 3B68     		ldr	r3, [r7]
 1228 0024 DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 1229 0026 7B68     		ldr	r3, [r7, #4]
 1230 0028 DA70     		strb	r2, [r3, #3]
 470:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   ep_descriptor->wMaxPacketSize   = LE16(buf + 4);
 1231              		.loc 1 470 37
 1232 002a 3B68     		ldr	r3, [r7]
 1233 002c 0433     		adds	r3, r3, #4
 1234 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1235 0030 9AB2     		uxth	r2, r3
 1236 0032 3B68     		ldr	r3, [r7]
 1237 0034 0533     		adds	r3, r3, #5
 1238 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1239 0038 9BB2     		uxth	r3, r3
 1240 003a 1B02     		lsls	r3, r3, #8
 1241 003c 9BB2     		uxth	r3, r3
 1242 003e 1343     		orrs	r3, r3, r2
 1243 0040 9AB2     		uxth	r2, r3
 1244              		.loc 1 470 35
 1245 0042 7B68     		ldr	r3, [r7, #4]
 1246 0044 9A80     		strh	r2, [r3, #4]	@ movhi
 471:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   ep_descriptor->bInterval        = *(uint8_t *)(buf + 6);
 1247              		.loc 1 471 35
 1248 0046 3B68     		ldr	r3, [r7]
 1249 0048 9A79     		ldrb	r2, [r3, #6]	@ zero_extendqisi2
 1250 004a 7B68     		ldr	r3, [r7, #4]
 1251 004c 9A71     		strb	r2, [r3, #6]
ARM GAS  /tmp/ccXyyHp5.s 			page 31


 472:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 1252              		.loc 1 472 1
 1253 004e 00BF     		nop
 1254 0050 0C37     		adds	r7, r7, #12
 1255              	.LCFI65:
 1256              		.cfi_def_cfa_offset 4
 1257 0052 BD46     		mov	sp, r7
 1258              	.LCFI66:
 1259              		.cfi_def_cfa_register 13
 1260              		@ sp needed
 1261 0054 5DF8047B 		ldr	r7, [sp], #4
 1262              	.LCFI67:
 1263              		.cfi_restore 7
 1264              		.cfi_def_cfa_offset 0
 1265 0058 7047     		bx	lr
 1266              		.cfi_endproc
 1267              	.LFE350:
 1269              		.section	.text.USBH_ParseStringDesc,"ax",%progbits
 1270              		.align	1
 1271              		.syntax unified
 1272              		.thumb
 1273              		.thumb_func
 1274              		.fpu fpv5-d16
 1276              	USBH_ParseStringDesc:
 1277              	.LFB351:
 473:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 474:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 475:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 476:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_ParseStringDesc
 477:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         This function Parses the string descriptor
 478:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  psrc: Source pointer containing the descriptor data
 479:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  pdest: Destination address pointer
 480:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  length: Length of the descriptor
 481:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval None
 482:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 483:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static void USBH_ParseStringDesc(uint8_t *psrc, uint8_t *pdest, uint16_t length)
 484:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 1278              		.loc 1 484 1
 1279              		.cfi_startproc
 1280              		@ args = 0, pretend = 0, frame = 24
 1281              		@ frame_needed = 1, uses_anonymous_args = 0
 1282              		@ link register save eliminated.
 1283 0000 80B4     		push	{r7}
 1284              	.LCFI68:
 1285              		.cfi_def_cfa_offset 4
 1286              		.cfi_offset 7, -4
 1287 0002 87B0     		sub	sp, sp, #28
 1288              	.LCFI69:
 1289              		.cfi_def_cfa_offset 32
 1290 0004 00AF     		add	r7, sp, #0
 1291              	.LCFI70:
 1292              		.cfi_def_cfa_register 7
 1293 0006 F860     		str	r0, [r7, #12]
 1294 0008 B960     		str	r1, [r7, #8]
 1295 000a 1346     		mov	r3, r2
 1296 000c FB80     		strh	r3, [r7, #6]	@ movhi
 485:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   uint16_t strlength;
ARM GAS  /tmp/ccXyyHp5.s 			page 32


 486:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   uint16_t idx;
 487:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 488:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   /* The UNICODE string descriptor is not NULL-terminated. The string length is
 489:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   computed by substracting two from the value of the first byte of the descriptor.
 490:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 491:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 492:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   /* Check which is lower size, the Size of string or the length of bytes read
 493:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   from the device */
 494:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 495:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   if (psrc[1] == USB_DESC_TYPE_STRING)
 1297              		.loc 1 495 11
 1298 000e FB68     		ldr	r3, [r7, #12]
 1299 0010 0133     		adds	r3, r3, #1
 1300 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1301              		.loc 1 495 6
 1302 0014 032B     		cmp	r3, #3
 1303 0016 20D1     		bne	.L47
 496:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 497:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     /* Make sure the Descriptor is String Type */
 498:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 499:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     /* psrc[0] contains Size of Descriptor, subtract 2 to get the length of string */
 500:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     strlength = ((((uint16_t)psrc[0] - 2U) <= length) ? ((uint16_t)psrc[0] - 2U) : length);
 1304              		.loc 1 500 34
 1305 0018 FB68     		ldr	r3, [r7, #12]
 1306 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1307              		.loc 1 500 38
 1308 001c 9A1E     		subs	r2, r3, #2
 1309              		.loc 1 500 82
 1310 001e FB88     		ldrh	r3, [r7, #6]
 1311 0020 9342     		cmp	r3, r2
 1312 0022 28BF     		it	cs
 1313 0024 1346     		movcs	r3, r2
 1314              		.loc 1 500 15
 1315 0026 BB82     		strh	r3, [r7, #20]	@ movhi
 501:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 502:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     /* Adjust the offset ignoring the String Len and Descriptor type */
 503:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     psrc += 2U;
 1316              		.loc 1 503 10
 1317 0028 FB68     		ldr	r3, [r7, #12]
 1318 002a 0233     		adds	r3, r3, #2
 1319 002c FB60     		str	r3, [r7, #12]
 504:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 505:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     for (idx = 0U; idx < strlength; idx += 2U)
 1320              		.loc 1 505 14
 1321 002e 0023     		movs	r3, #0
 1322 0030 FB82     		strh	r3, [r7, #22]	@ movhi
 1323              		.loc 1 505 5
 1324 0032 0BE0     		b	.L45
 1325              	.L46:
 506:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     {
 507:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       /* Copy Only the string and ignore the UNICODE ID, hence add the src */
 508:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       *pdest =  psrc[idx];
 1326              		.loc 1 508 21 discriminator 3
 1327 0034 FB8A     		ldrh	r3, [r7, #22]
 1328 0036 FA68     		ldr	r2, [r7, #12]
 1329 0038 1344     		add	r3, r3, r2
 1330 003a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccXyyHp5.s 			page 33


 1331              		.loc 1 508 14 discriminator 3
 1332 003c BB68     		ldr	r3, [r7, #8]
 1333 003e 1A70     		strb	r2, [r3]
 509:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       pdest++;
 1334              		.loc 1 509 12 discriminator 3
 1335 0040 BB68     		ldr	r3, [r7, #8]
 1336 0042 0133     		adds	r3, r3, #1
 1337 0044 BB60     		str	r3, [r7, #8]
 505:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     {
 1338              		.loc 1 505 41 discriminator 3
 1339 0046 FB8A     		ldrh	r3, [r7, #22]	@ movhi
 1340 0048 0233     		adds	r3, r3, #2
 1341 004a FB82     		strh	r3, [r7, #22]	@ movhi
 1342              	.L45:
 505:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     {
 1343              		.loc 1 505 5 discriminator 1
 1344 004c FA8A     		ldrh	r2, [r7, #22]
 1345 004e BB8A     		ldrh	r3, [r7, #20]
 1346 0050 9A42     		cmp	r2, r3
 1347 0052 EFD3     		bcc	.L46
 510:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     }
 511:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     *pdest = 0U; /* mark end of string */
 1348              		.loc 1 511 12
 1349 0054 BB68     		ldr	r3, [r7, #8]
 1350 0056 0022     		movs	r2, #0
 1351 0058 1A70     		strb	r2, [r3]
 1352              	.L47:
 512:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 513:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 1353              		.loc 1 513 1
 1354 005a 00BF     		nop
 1355 005c 1C37     		adds	r7, r7, #28
 1356              	.LCFI71:
 1357              		.cfi_def_cfa_offset 4
 1358 005e BD46     		mov	sp, r7
 1359              	.LCFI72:
 1360              		.cfi_def_cfa_register 13
 1361              		@ sp needed
 1362 0060 5DF8047B 		ldr	r7, [sp], #4
 1363              	.LCFI73:
 1364              		.cfi_restore 7
 1365              		.cfi_def_cfa_offset 0
 1366 0064 7047     		bx	lr
 1367              		.cfi_endproc
 1368              	.LFE351:
 1370              		.section	.text.USBH_GetNextDesc,"ax",%progbits
 1371              		.align	1
 1372              		.global	USBH_GetNextDesc
 1373              		.syntax unified
 1374              		.thumb
 1375              		.thumb_func
 1376              		.fpu fpv5-d16
 1378              	USBH_GetNextDesc:
 1379              	.LFB352:
 514:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 515:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 516:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
ARM GAS  /tmp/ccXyyHp5.s 			page 34


 517:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_GetNextDesc
 518:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         This function return the next descriptor header
 519:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  buf: Buffer where the cfg descriptor is available
 520:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  ptr: data pointer inside the cfg descriptor
 521:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval next header
 522:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 523:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_DescHeader_t  *USBH_GetNextDesc(uint8_t   *pbuf, uint16_t  *ptr)
 524:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 1380              		.loc 1 524 1
 1381              		.cfi_startproc
 1382              		@ args = 0, pretend = 0, frame = 16
 1383              		@ frame_needed = 1, uses_anonymous_args = 0
 1384              		@ link register save eliminated.
 1385 0000 80B4     		push	{r7}
 1386              	.LCFI74:
 1387              		.cfi_def_cfa_offset 4
 1388              		.cfi_offset 7, -4
 1389 0002 85B0     		sub	sp, sp, #20
 1390              	.LCFI75:
 1391              		.cfi_def_cfa_offset 24
 1392 0004 00AF     		add	r7, sp, #0
 1393              	.LCFI76:
 1394              		.cfi_def_cfa_register 7
 1395 0006 7860     		str	r0, [r7, #4]
 1396 0008 3960     		str	r1, [r7]
 525:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   USBH_DescHeader_t  *pnext;
 526:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 527:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *ptr += ((USBH_DescHeader_t *)(void *)pbuf)->bLength;
 1397              		.loc 1 527 8
 1398 000a 3B68     		ldr	r3, [r7]
 1399 000c 1A88     		ldrh	r2, [r3]
 1400              		.loc 1 527 46
 1401 000e 7B68     		ldr	r3, [r7, #4]
 1402 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1403 0012 9BB2     		uxth	r3, r3
 1404              		.loc 1 527 8
 1405 0014 1344     		add	r3, r3, r2
 1406 0016 9AB2     		uxth	r2, r3
 1407 0018 3B68     		ldr	r3, [r7]
 1408 001a 1A80     		strh	r2, [r3]	@ movhi
 528:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   pnext = (USBH_DescHeader_t *)(void *)((uint8_t *)(void *)pbuf + \
 529:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                         ((USBH_DescHeader_t *)(void *)pbuf)->bLength);
 1409              		.loc 1 529 76
 1410 001c 7B68     		ldr	r3, [r7, #4]
 1411 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1412 0020 1A46     		mov	r2, r3
 528:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   pnext = (USBH_DescHeader_t *)(void *)((uint8_t *)(void *)pbuf + \
 1413              		.loc 1 528 9
 1414 0022 7B68     		ldr	r3, [r7, #4]
 1415 0024 1344     		add	r3, r3, r2
 1416 0026 FB60     		str	r3, [r7, #12]
 530:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 531:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return (pnext);
 1417              		.loc 1 531 10
 1418 0028 FB68     		ldr	r3, [r7, #12]
 532:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 1419              		.loc 1 532 1
ARM GAS  /tmp/ccXyyHp5.s 			page 35


 1420 002a 1846     		mov	r0, r3
 1421 002c 1437     		adds	r7, r7, #20
 1422              	.LCFI77:
 1423              		.cfi_def_cfa_offset 4
 1424 002e BD46     		mov	sp, r7
 1425              	.LCFI78:
 1426              		.cfi_def_cfa_register 13
 1427              		@ sp needed
 1428 0030 5DF8047B 		ldr	r7, [sp], #4
 1429              	.LCFI79:
 1430              		.cfi_restore 7
 1431              		.cfi_def_cfa_offset 0
 1432 0034 7047     		bx	lr
 1433              		.cfi_endproc
 1434              	.LFE352:
 1436              		.section	.text.USBH_CtlReq,"ax",%progbits
 1437              		.align	1
 1438              		.global	USBH_CtlReq
 1439              		.syntax unified
 1440              		.thumb
 1441              		.thumb_func
 1442              		.fpu fpv5-d16
 1444              	USBH_CtlReq:
 1445              	.LFB353:
 533:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 534:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 535:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 536:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_CtlReq
 537:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         USBH_CtlReq sends a control request and provide the status after
 538:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *            completion of the request
 539:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  phost: Host Handle
 540:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  req: Setup Request Structure
 541:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  buff: data buffer address to store the response
 542:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  length: length of the response
 543:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval USBH Status
 544:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 545:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** USBH_StatusTypeDef USBH_CtlReq(USBH_HandleTypeDef *phost, uint8_t *buff,
 546:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                                uint16_t length)
 547:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 1446              		.loc 1 547 1
 1447              		.cfi_startproc
 1448              		@ args = 0, pretend = 0, frame = 24
 1449              		@ frame_needed = 1, uses_anonymous_args = 0
 1450 0000 80B5     		push	{r7, lr}
 1451              	.LCFI80:
 1452              		.cfi_def_cfa_offset 8
 1453              		.cfi_offset 7, -8
 1454              		.cfi_offset 14, -4
 1455 0002 86B0     		sub	sp, sp, #24
 1456              	.LCFI81:
 1457              		.cfi_def_cfa_offset 32
 1458 0004 00AF     		add	r7, sp, #0
 1459              	.LCFI82:
 1460              		.cfi_def_cfa_register 7
 1461 0006 F860     		str	r0, [r7, #12]
 1462 0008 B960     		str	r1, [r7, #8]
 1463 000a 1346     		mov	r3, r2
ARM GAS  /tmp/ccXyyHp5.s 			page 36


 1464 000c FB80     		strh	r3, [r7, #6]	@ movhi
 548:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   USBH_StatusTypeDef status;
 549:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   status = USBH_BUSY;
 1465              		.loc 1 549 10
 1466 000e 0123     		movs	r3, #1
 1467 0010 FB75     		strb	r3, [r7, #23]
 550:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 551:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   switch (phost->RequestState)
 1468              		.loc 1 551 16
 1469 0012 FB68     		ldr	r3, [r7, #12]
 1470 0014 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 1471              		.loc 1 551 3
 1472 0016 012B     		cmp	r3, #1
 1473 0018 02D0     		beq	.L51
 1474 001a 022B     		cmp	r3, #2
 1475 001c 1DD0     		beq	.L52
 552:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 553:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CMD_SEND:
 554:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       /* Start a SETUP transfer */
 555:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.buff = buff;
 556:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.length = length;
 557:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.state = CTRL_SETUP;
 558:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->RequestState = CMD_WAIT;
 559:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       status = USBH_BUSY;
 560:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 561:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 562:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 563:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 564:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 565:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 566:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 567:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 568:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 569:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 570:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 571:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CMD_WAIT:
 572:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       status = USBH_HandleControl(phost);
 573:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       if ((status == USBH_OK) || (status == USBH_NOT_SUPPORTED))
 574:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 575:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* Transaction completed, move control state to idle */
 576:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->RequestState = CMD_SEND;
 577:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_IDLE;
 578:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 579:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else if (status == USBH_FAIL)
 580:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 581:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* Failure Mode */
 582:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->RequestState = CMD_SEND;
 583:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 584:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else
 585:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 586:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* .. */
 587:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 588:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 589:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 590:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 591:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 592:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
ARM GAS  /tmp/ccXyyHp5.s 			page 37


 593:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 594:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 595:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 596:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 597:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 598:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     default:
 599:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 1476              		.loc 1 599 7
 1477 001e 43E0     		b	.L54
 1478              	.L51:
 555:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.length = length;
 1479              		.loc 1 555 27
 1480 0020 FB68     		ldr	r3, [r7, #12]
 1481 0022 BA68     		ldr	r2, [r7, #8]
 1482 0024 9A60     		str	r2, [r3, #8]
 556:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.state = CTRL_SETUP;
 1483              		.loc 1 556 29
 1484 0026 FB68     		ldr	r3, [r7, #12]
 1485 0028 FA88     		ldrh	r2, [r7, #6]	@ movhi
 1486 002a 9A81     		strh	r2, [r3, #12]	@ movhi
 557:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->RequestState = CMD_WAIT;
 1487              		.loc 1 557 28
 1488 002c FB68     		ldr	r3, [r7, #12]
 1489 002e 0122     		movs	r2, #1
 1490 0030 1A76     		strb	r2, [r3, #24]
 558:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       status = USBH_BUSY;
 1491              		.loc 1 558 27
 1492 0032 FB68     		ldr	r3, [r7, #12]
 1493 0034 0222     		movs	r2, #2
 1494 0036 9A70     		strb	r2, [r3, #2]
 559:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 1495              		.loc 1 559 14
 1496 0038 0123     		movs	r3, #1
 1497 003a FB75     		strb	r3, [r7, #23]
 562:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 1498              		.loc 1 562 21
 1499 003c FB68     		ldr	r3, [r7, #12]
 1500 003e 0322     		movs	r2, #3
 1501 0040 C3F8E024 		str	r2, [r3, #1248]
 566:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1502              		.loc 1 566 13
 1503 0044 FB68     		ldr	r3, [r7, #12]
 1504 0046 D3F8D804 		ldr	r0, [r3, #1240]
 566:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1505              		.loc 1 566 48
 1506 004a FB68     		ldr	r3, [r7, #12]
 1507 004c 03F59C61 		add	r1, r3, #1248
 566:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1508              		.loc 1 566 13
 1509 0050 0023     		movs	r3, #0
 1510 0052 0022     		movs	r2, #0
 1511 0054 FFF7FEFF 		bl	osMessageQueuePut
 569:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 1512              		.loc 1 569 7
 1513 0058 26E0     		b	.L54
 1514              	.L52:
 572:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       if ((status == USBH_OK) || (status == USBH_NOT_SUPPORTED))
ARM GAS  /tmp/ccXyyHp5.s 			page 38


 1515              		.loc 1 572 16
 1516 005a F868     		ldr	r0, [r7, #12]
 1517 005c FFF7FEFF 		bl	USBH_HandleControl
 1518 0060 0346     		mov	r3, r0
 1519 0062 FB75     		strb	r3, [r7, #23]
 573:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 1520              		.loc 1 573 10
 1521 0064 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1522 0066 002B     		cmp	r3, #0
 1523 0068 02D0     		beq	.L55
 573:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 1524              		.loc 1 573 31 discriminator 1
 1525 006a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1526 006c 032B     		cmp	r3, #3
 1527 006e 06D1     		bne	.L56
 1528              	.L55:
 576:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_IDLE;
 1529              		.loc 1 576 29
 1530 0070 FB68     		ldr	r3, [r7, #12]
 1531 0072 0122     		movs	r2, #1
 1532 0074 9A70     		strb	r2, [r3, #2]
 577:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 1533              		.loc 1 577 30
 1534 0076 FB68     		ldr	r3, [r7, #12]
 1535 0078 0022     		movs	r2, #0
 1536 007a 1A76     		strb	r2, [r3, #24]
 1537 007c 05E0     		b	.L57
 1538              	.L56:
 579:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 1539              		.loc 1 579 15
 1540 007e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1541 0080 022B     		cmp	r3, #2
 1542 0082 02D1     		bne	.L57
 582:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 1543              		.loc 1 582 29
 1544 0084 FB68     		ldr	r3, [r7, #12]
 1545 0086 0122     		movs	r2, #1
 1546 0088 9A70     		strb	r2, [r3, #2]
 1547              	.L57:
 589:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 1548              		.loc 1 589 21
 1549 008a FB68     		ldr	r3, [r7, #12]
 1550 008c 0322     		movs	r2, #3
 1551 008e C3F8E024 		str	r2, [r3, #1248]
 593:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1552              		.loc 1 593 13
 1553 0092 FB68     		ldr	r3, [r7, #12]
 1554 0094 D3F8D804 		ldr	r0, [r3, #1240]
 593:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1555              		.loc 1 593 48
 1556 0098 FB68     		ldr	r3, [r7, #12]
 1557 009a 03F59C61 		add	r1, r3, #1248
 593:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1558              		.loc 1 593 13
 1559 009e 0023     		movs	r3, #0
 1560 00a0 0022     		movs	r2, #0
 1561 00a2 FFF7FEFF 		bl	osMessageQueuePut
ARM GAS  /tmp/ccXyyHp5.s 			page 39


 596:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 1562              		.loc 1 596 7
 1563 00a6 00BF     		nop
 1564              	.L54:
 600:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 601:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return status;
 1565              		.loc 1 601 10
 1566 00a8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 602:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 1567              		.loc 1 602 1
 1568 00aa 1846     		mov	r0, r3
 1569 00ac 1837     		adds	r7, r7, #24
 1570              	.LCFI83:
 1571              		.cfi_def_cfa_offset 8
 1572 00ae BD46     		mov	sp, r7
 1573              	.LCFI84:
 1574              		.cfi_def_cfa_register 13
 1575              		@ sp needed
 1576 00b0 80BD     		pop	{r7, pc}
 1577              		.cfi_endproc
 1578              	.LFE353:
 1580              		.section	.text.USBH_HandleControl,"ax",%progbits
 1581              		.align	1
 1582              		.syntax unified
 1583              		.thumb
 1584              		.thumb_func
 1585              		.fpu fpv5-d16
 1587              	USBH_HandleControl:
 1588              	.LFB354:
 603:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 604:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 605:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** /**
 606:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @brief  USBH_HandleControl
 607:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   *         Handles the USB control transfer state machine
 608:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @param  phost: Host Handle
 609:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   * @retval USBH Status
 610:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   */
 611:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** static USBH_StatusTypeDef USBH_HandleControl(USBH_HandleTypeDef *phost)
 612:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** {
 1589              		.loc 1 612 1
 1590              		.cfi_startproc
 1591              		@ args = 0, pretend = 0, frame = 16
 1592              		@ frame_needed = 1, uses_anonymous_args = 0
 1593 0000 80B5     		push	{r7, lr}
 1594              	.LCFI85:
 1595              		.cfi_def_cfa_offset 8
 1596              		.cfi_offset 7, -8
 1597              		.cfi_offset 14, -4
 1598 0002 86B0     		sub	sp, sp, #24
 1599              	.LCFI86:
 1600              		.cfi_def_cfa_offset 32
 1601 0004 02AF     		add	r7, sp, #8
 1602              	.LCFI87:
 1603              		.cfi_def_cfa 7, 24
 1604 0006 7860     		str	r0, [r7, #4]
 613:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   uint8_t direction;
 614:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   USBH_StatusTypeDef status = USBH_BUSY;
ARM GAS  /tmp/ccXyyHp5.s 			page 40


 1605              		.loc 1 614 22
 1606 0008 0123     		movs	r3, #1
 1607 000a FB73     		strb	r3, [r7, #15]
 615:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   USBH_URBStateTypeDef URB_Status = USBH_URB_IDLE;
 1608              		.loc 1 615 24
 1609 000c 0023     		movs	r3, #0
 1610 000e BB73     		strb	r3, [r7, #14]
 616:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 617:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   switch (phost->Control.state)
 1611              		.loc 1 617 25
 1612 0010 7B68     		ldr	r3, [r7, #4]
 1613 0012 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 1614 0014 013B     		subs	r3, r3, #1
 1615 0016 0A2B     		cmp	r3, #10
 1616 0018 00F22982 		bhi	.L97
 1617 001c 01A2     		adr	r2, .L62
 1618 001e 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1619 0022 00BF     		.p2align 2
 1620              	.L62:
 1621 0024 51000000 		.word	.L72+1
 1622 0028 6B000000 		.word	.L71+1
 1623 002c 0D010000 		.word	.L70+1
 1624 0030 33010000 		.word	.L69+1
 1625 0034 BF010000 		.word	.L68+1
 1626 0038 E9010000 		.word	.L67+1
 1627 003c AB020000 		.word	.L66+1
 1628 0040 CD020000 		.word	.L65+1
 1629 0044 5F030000 		.word	.L64+1
 1630 0048 85030000 		.word	.L63+1
 1631 004c 17040000 		.word	.L61+1
 1632              		.p2align 1
 1633              	.L72:
 618:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   {
 619:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_SETUP:
 620:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       /* send a SETUP packet */
 621:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       USBH_CtlSendSetup(phost, (uint8_t *)(void *)phost->Control.setup.d8,
 1634              		.loc 1 621 51
 1635 0050 7B68     		ldr	r3, [r7, #4]
 1636 0052 03F11001 		add	r1, r3, #16
 1637              		.loc 1 621 7
 1638 0056 7B68     		ldr	r3, [r7, #4]
 1639 0058 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 1640 005a 1A46     		mov	r2, r3
 1641 005c 7868     		ldr	r0, [r7, #4]
 1642 005e FFF7FEFF 		bl	USBH_CtlSendSetup
 622:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                         phost->Control.pipe_out);
 623:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 624:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.state = CTRL_SETUP_WAIT;
 1643              		.loc 1 624 28
 1644 0062 7B68     		ldr	r3, [r7, #4]
 1645 0064 0222     		movs	r2, #2
 1646 0066 1A76     		strb	r2, [r3, #24]
 625:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 1647              		.loc 1 625 7
 1648 0068 0CE2     		b	.L73
 1649              	.L71:
 626:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
ARM GAS  /tmp/ccXyyHp5.s 			page 41


 627:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_SETUP_WAIT:
 628:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 629:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       URB_Status = USBH_LL_GetURBState(phost, phost->Control.pipe_out);
 1650              		.loc 1 629 20
 1651 006a 7B68     		ldr	r3, [r7, #4]
 1652 006c 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 1653 006e 1946     		mov	r1, r3
 1654 0070 7868     		ldr	r0, [r7, #4]
 1655 0072 FFF7FEFF 		bl	USBH_LL_GetURBState
 1656 0076 0346     		mov	r3, r0
 1657 0078 BB73     		strb	r3, [r7, #14]
 630:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       /* case SETUP packet sent successfully */
 631:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       if (URB_Status == USBH_URB_DONE)
 1658              		.loc 1 631 10
 1659 007a BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1660 007c 012B     		cmp	r3, #1
 1661 007e 2CD1     		bne	.L74
 632:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 633:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         direction = (phost->Control.setup.b.bmRequestType & USB_REQ_DIR_MASK);
 1662              		.loc 1 633 44
 1663 0080 7B68     		ldr	r3, [r7, #4]
 1664 0082 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 1665              		.loc 1 633 19
 1666 0084 23F07F03 		bic	r3, r3, #127
 1667 0088 7B73     		strb	r3, [r7, #13]
 634:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 635:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* check if there is a data stage */
 636:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         if (phost->Control.setup.b.wLength.w != 0U)
 1668              		.loc 1 636 43
 1669 008a 7B68     		ldr	r3, [r7, #4]
 1670 008c DB8A     		ldrh	r3, [r3, #22]
 1671              		.loc 1 636 12
 1672 008e 002B     		cmp	r3, #0
 1673 0090 0AD0     		beq	.L75
 637:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 638:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           if (direction == USB_D2H)
 1674              		.loc 1 638 14
 1675 0092 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 1676 0094 802B     		cmp	r3, #128
 1677 0096 03D1     		bne	.L76
 639:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           {
 640:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             /* Data Direction is IN */
 641:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             phost->Control.state = CTRL_DATA_IN;
 1678              		.loc 1 641 34
 1679 0098 7B68     		ldr	r3, [r7, #4]
 1680 009a 0322     		movs	r2, #3
 1681 009c 1A76     		strb	r2, [r3, #24]
 1682 009e 0DE0     		b	.L77
 1683              	.L76:
 642:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           }
 643:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           else
 644:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           {
 645:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             /* Data Direction is OUT */
 646:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             phost->Control.state = CTRL_DATA_OUT;
 1684              		.loc 1 646 34
 1685 00a0 7B68     		ldr	r3, [r7, #4]
 1686 00a2 0522     		movs	r2, #5
ARM GAS  /tmp/ccXyyHp5.s 			page 42


 1687 00a4 1A76     		strb	r2, [r3, #24]
 1688 00a6 09E0     		b	.L77
 1689              	.L75:
 647:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           }
 648:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         }
 649:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* No DATA stage */
 650:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         else
 651:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 652:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           /* If there is No Data Transfer Stage */
 653:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           if (direction == USB_D2H)
 1690              		.loc 1 653 14
 1691 00a8 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 1692 00aa 802B     		cmp	r3, #128
 1693 00ac 03D1     		bne	.L78
 654:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           {
 655:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             /* Data Direction is IN */
 656:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             phost->Control.state = CTRL_STATUS_OUT;
 1694              		.loc 1 656 34
 1695 00ae 7B68     		ldr	r3, [r7, #4]
 1696 00b0 0922     		movs	r2, #9
 1697 00b2 1A76     		strb	r2, [r3, #24]
 1698 00b4 02E0     		b	.L77
 1699              	.L78:
 657:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           }
 658:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           else
 659:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           {
 660:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             /* Data Direction is OUT */
 661:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****             phost->Control.state = CTRL_STATUS_IN;
 1700              		.loc 1 661 34
 1701 00b6 7B68     		ldr	r3, [r7, #4]
 1702 00b8 0722     		movs	r2, #7
 1703 00ba 1A76     		strb	r2, [r3, #24]
 1704              	.L77:
 662:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           }
 663:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         }
 664:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 665:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 666:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 1705              		.loc 1 666 23
 1706 00bc 7B68     		ldr	r3, [r7, #4]
 1707 00be 0322     		movs	r2, #3
 1708 00c0 C3F8E024 		str	r2, [r3, #1248]
 667:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 668:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 669:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 670:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 1709              		.loc 1 670 15
 1710 00c4 7B68     		ldr	r3, [r7, #4]
 1711 00c6 D3F8D804 		ldr	r0, [r3, #1240]
 1712              		.loc 1 670 50
 1713 00ca 7B68     		ldr	r3, [r7, #4]
 1714 00cc 03F59C61 		add	r1, r3, #1248
 1715              		.loc 1 670 15
 1716 00d0 0023     		movs	r3, #0
 1717 00d2 0022     		movs	r2, #0
 1718 00d4 FFF7FEFF 		bl	osMessageQueuePut
 671:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
ARM GAS  /tmp/ccXyyHp5.s 			page 43


 672:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 673:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 674:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else
 675:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 676:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         if ((URB_Status == USBH_URB_ERROR) || (URB_Status == USBH_URB_NOTREADY))
 677:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 678:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           phost->Control.state = CTRL_ERROR;
 679:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 680:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 681:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 682:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 683:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 684:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 685:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 686:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 687:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 688:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         }
 689:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 690:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 1719              		.loc 1 690 7
 1720 00d8 CBE1     		b	.L98
 1721              	.L74:
 676:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 1722              		.loc 1 676 12
 1723 00da BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1724 00dc 042B     		cmp	r3, #4
 1725 00de 03D0     		beq	.L80
 676:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 1726              		.loc 1 676 44 discriminator 1
 1727 00e0 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1728 00e2 022B     		cmp	r3, #2
 1729 00e4 40F0C581 		bne	.L98
 1730              	.L80:
 678:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 1731              		.loc 1 678 32
 1732 00e8 7B68     		ldr	r3, [r7, #4]
 1733 00ea 0B22     		movs	r2, #11
 1734 00ec 1A76     		strb	r2, [r3, #24]
 681:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 1735              		.loc 1 681 25
 1736 00ee 7B68     		ldr	r3, [r7, #4]
 1737 00f0 0322     		movs	r2, #3
 1738 00f2 C3F8E024 		str	r2, [r3, #1248]
 685:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1739              		.loc 1 685 17
 1740 00f6 7B68     		ldr	r3, [r7, #4]
 1741 00f8 D3F8D804 		ldr	r0, [r3, #1240]
 685:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1742              		.loc 1 685 52
 1743 00fc 7B68     		ldr	r3, [r7, #4]
 1744 00fe 03F59C61 		add	r1, r3, #1248
 685:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1745              		.loc 1 685 17
 1746 0102 0023     		movs	r3, #0
 1747 0104 0022     		movs	r2, #0
 1748 0106 FFF7FEFF 		bl	osMessageQueuePut
 1749              		.loc 1 690 7
ARM GAS  /tmp/ccXyyHp5.s 			page 44


 1750 010a B2E1     		b	.L98
 1751              	.L70:
 691:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 692:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_DATA_IN:
 693:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       /* Issue an IN token */
 694:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.timer = (uint16_t)phost->Timer;
 1752              		.loc 1 694 45
 1753 010c 7B68     		ldr	r3, [r7, #4]
 1754 010e D3F8C434 		ldr	r3, [r3, #1220]
 1755              		.loc 1 694 30
 1756 0112 9AB2     		uxth	r2, r3
 1757              		.loc 1 694 28
 1758 0114 7B68     		ldr	r3, [r7, #4]
 1759 0116 DA81     		strh	r2, [r3, #14]	@ movhi
 695:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       USBH_CtlReceiveData(phost, phost->Control.buff, phost->Control.length,
 1760              		.loc 1 695 7
 1761 0118 7B68     		ldr	r3, [r7, #4]
 1762 011a 9968     		ldr	r1, [r3, #8]
 1763 011c 7B68     		ldr	r3, [r7, #4]
 1764 011e 9A89     		ldrh	r2, [r3, #12]
 1765 0120 7B68     		ldr	r3, [r7, #4]
 1766 0122 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1767 0124 7868     		ldr	r0, [r7, #4]
 1768 0126 FFF7FEFF 		bl	USBH_CtlReceiveData
 696:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                           phost->Control.pipe_in);
 697:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 698:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.state = CTRL_DATA_IN_WAIT;
 1769              		.loc 1 698 28
 1770 012a 7B68     		ldr	r3, [r7, #4]
 1771 012c 0422     		movs	r2, #4
 1772 012e 1A76     		strb	r2, [r3, #24]
 699:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 1773              		.loc 1 699 7
 1774 0130 A8E1     		b	.L73
 1775              	.L69:
 700:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 701:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_DATA_IN_WAIT:
 702:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 703:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       URB_Status = USBH_LL_GetURBState(phost, phost->Control.pipe_in);
 1776              		.loc 1 703 20
 1777 0132 7B68     		ldr	r3, [r7, #4]
 1778 0134 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1779 0136 1946     		mov	r1, r3
 1780 0138 7868     		ldr	r0, [r7, #4]
 1781 013a FFF7FEFF 		bl	USBH_LL_GetURBState
 1782 013e 0346     		mov	r3, r0
 1783 0140 BB73     		strb	r3, [r7, #14]
 704:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 705:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       /* check is DATA packet transferred successfully */
 706:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       if (URB_Status == USBH_URB_DONE)
 1784              		.loc 1 706 10
 1785 0142 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1786 0144 012B     		cmp	r3, #1
 1787 0146 10D1     		bne	.L81
 707:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 708:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_STATUS_OUT;
 1788              		.loc 1 708 30
ARM GAS  /tmp/ccXyyHp5.s 			page 45


 1789 0148 7B68     		ldr	r3, [r7, #4]
 1790 014a 0922     		movs	r2, #9
 1791 014c 1A76     		strb	r2, [r3, #24]
 709:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 710:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 711:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 1792              		.loc 1 711 23
 1793 014e 7B68     		ldr	r3, [r7, #4]
 1794 0150 0322     		movs	r2, #3
 1795 0152 C3F8E024 		str	r2, [r3, #1248]
 712:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 713:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 714:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 715:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 1796              		.loc 1 715 15
 1797 0156 7B68     		ldr	r3, [r7, #4]
 1798 0158 D3F8D804 		ldr	r0, [r3, #1240]
 1799              		.loc 1 715 50
 1800 015c 7B68     		ldr	r3, [r7, #4]
 1801 015e 03F59C61 		add	r1, r3, #1248
 1802              		.loc 1 715 15
 1803 0162 0023     		movs	r3, #0
 1804 0164 0022     		movs	r2, #0
 1805 0166 FFF7FEFF 		bl	osMessageQueuePut
 1806              	.L81:
 716:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 717:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 718:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 719:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 720:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       /* manage error cases*/
 721:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       if (URB_Status == USBH_URB_STALL)
 1807              		.loc 1 721 10
 1808 016a BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1809 016c 052B     		cmp	r3, #5
 1810 016e 10D1     		bne	.L82
 722:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 723:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* In stall case, return to previous machine state*/
 724:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         status = USBH_NOT_SUPPORTED;
 1811              		.loc 1 724 16
 1812 0170 0323     		movs	r3, #3
 1813 0172 FB73     		strb	r3, [r7, #15]
 725:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 726:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 727:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 1814              		.loc 1 727 23
 1815 0174 7B68     		ldr	r3, [r7, #4]
 1816 0176 0322     		movs	r2, #3
 1817 0178 C3F8E024 		str	r2, [r3, #1248]
 728:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 729:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 730:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 731:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 1818              		.loc 1 731 15
 1819 017c 7B68     		ldr	r3, [r7, #4]
 1820 017e D3F8D804 		ldr	r0, [r3, #1240]
 1821              		.loc 1 731 50
 1822 0182 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccXyyHp5.s 			page 46


 1823 0184 03F59C61 		add	r1, r3, #1248
 1824              		.loc 1 731 15
 1825 0188 0023     		movs	r3, #0
 1826 018a 0022     		movs	r2, #0
 1827 018c FFF7FEFF 		bl	osMessageQueuePut
 732:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 733:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 734:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 735:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else
 736:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 737:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         if (URB_Status == USBH_URB_ERROR)
 738:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 739:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           /* Device error */
 740:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           phost->Control.state = CTRL_ERROR;
 741:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 742:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 743:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 744:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 745:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 746:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 747:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 748:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 749:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 750:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         }
 751:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 752:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 1828              		.loc 1 752 7
 1829 0190 71E1     		b	.L99
 1830              	.L82:
 737:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 1831              		.loc 1 737 12
 1832 0192 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1833 0194 042B     		cmp	r3, #4
 1834 0196 40F06E81 		bne	.L99
 740:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 1835              		.loc 1 740 32
 1836 019a 7B68     		ldr	r3, [r7, #4]
 1837 019c 0B22     		movs	r2, #11
 1838 019e 1A76     		strb	r2, [r3, #24]
 743:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 1839              		.loc 1 743 25
 1840 01a0 7B68     		ldr	r3, [r7, #4]
 1841 01a2 0322     		movs	r2, #3
 1842 01a4 C3F8E024 		str	r2, [r3, #1248]
 747:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1843              		.loc 1 747 17
 1844 01a8 7B68     		ldr	r3, [r7, #4]
 1845 01aa D3F8D804 		ldr	r0, [r3, #1240]
 747:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1846              		.loc 1 747 52
 1847 01ae 7B68     		ldr	r3, [r7, #4]
 1848 01b0 03F59C61 		add	r1, r3, #1248
 747:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1849              		.loc 1 747 17
 1850 01b4 0023     		movs	r3, #0
 1851 01b6 0022     		movs	r2, #0
 1852 01b8 FFF7FEFF 		bl	osMessageQueuePut
ARM GAS  /tmp/ccXyyHp5.s 			page 47


 1853              		.loc 1 752 7
 1854 01bc 5BE1     		b	.L99
 1855              	.L68:
 753:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 754:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_DATA_OUT:
 755:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 756:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       USBH_CtlSendData(phost, phost->Control.buff, phost->Control.length,
 1856              		.loc 1 756 7
 1857 01be 7B68     		ldr	r3, [r7, #4]
 1858 01c0 9968     		ldr	r1, [r3, #8]
 1859 01c2 7B68     		ldr	r3, [r7, #4]
 1860 01c4 9A89     		ldrh	r2, [r3, #12]
 1861 01c6 7B68     		ldr	r3, [r7, #4]
 1862 01c8 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 1863 01ca 0120     		movs	r0, #1
 1864 01cc 0090     		str	r0, [sp]
 1865 01ce 7868     		ldr	r0, [r7, #4]
 1866 01d0 FFF7FEFF 		bl	USBH_CtlSendData
 757:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****                        phost->Control.pipe_out, 1U);
 758:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 759:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.timer = (uint16_t)phost->Timer;
 1867              		.loc 1 759 45
 1868 01d4 7B68     		ldr	r3, [r7, #4]
 1869 01d6 D3F8C434 		ldr	r3, [r3, #1220]
 1870              		.loc 1 759 30
 1871 01da 9AB2     		uxth	r2, r3
 1872              		.loc 1 759 28
 1873 01dc 7B68     		ldr	r3, [r7, #4]
 1874 01de DA81     		strh	r2, [r3, #14]	@ movhi
 760:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.state = CTRL_DATA_OUT_WAIT;
 1875              		.loc 1 760 28
 1876 01e0 7B68     		ldr	r3, [r7, #4]
 1877 01e2 0622     		movs	r2, #6
 1878 01e4 1A76     		strb	r2, [r3, #24]
 761:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 1879              		.loc 1 761 7
 1880 01e6 4DE1     		b	.L73
 1881              	.L67:
 762:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 763:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_DATA_OUT_WAIT:
 764:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 765:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       URB_Status = USBH_LL_GetURBState(phost, phost->Control.pipe_out);
 1882              		.loc 1 765 20
 1883 01e8 7B68     		ldr	r3, [r7, #4]
 1884 01ea 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 1885 01ec 1946     		mov	r1, r3
 1886 01ee 7868     		ldr	r0, [r7, #4]
 1887 01f0 FFF7FEFF 		bl	USBH_LL_GetURBState
 1888 01f4 0346     		mov	r3, r0
 1889 01f6 BB73     		strb	r3, [r7, #14]
 766:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 767:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       if (URB_Status == USBH_URB_DONE)
 1890              		.loc 1 767 10
 1891 01f8 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1892 01fa 012B     		cmp	r3, #1
 1893 01fc 11D1     		bne	.L84
 768:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
ARM GAS  /tmp/ccXyyHp5.s 			page 48


 769:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* If the Setup Pkt is sent successful, then change the state */
 770:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_STATUS_IN;
 1894              		.loc 1 770 30
 1895 01fe 7B68     		ldr	r3, [r7, #4]
 1896 0200 0722     		movs	r2, #7
 1897 0202 1A76     		strb	r2, [r3, #24]
 771:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 772:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 773:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 1898              		.loc 1 773 23
 1899 0204 7B68     		ldr	r3, [r7, #4]
 1900 0206 0322     		movs	r2, #3
 1901 0208 C3F8E024 		str	r2, [r3, #1248]
 774:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 775:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 776:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 777:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 1902              		.loc 1 777 15
 1903 020c 7B68     		ldr	r3, [r7, #4]
 1904 020e D3F8D804 		ldr	r0, [r3, #1240]
 1905              		.loc 1 777 50
 1906 0212 7B68     		ldr	r3, [r7, #4]
 1907 0214 03F59C61 		add	r1, r3, #1248
 1908              		.loc 1 777 15
 1909 0218 0023     		movs	r3, #0
 1910 021a 0022     		movs	r2, #0
 1911 021c FFF7FEFF 		bl	osMessageQueuePut
 778:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 779:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 780:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 781:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 782:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       /* handle error cases */
 783:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else if (URB_Status == USBH_URB_STALL)
 784:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 785:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* In stall case, return to previous machine state*/
 786:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_STALLED;
 787:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         status = USBH_NOT_SUPPORTED;
 788:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 789:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 790:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 791:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 792:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 793:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 794:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 795:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 796:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 797:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 798:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else if (URB_Status == USBH_URB_NOTREADY)
 799:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 800:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* Nack received from device */
 801:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_DATA_OUT;
 802:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 803:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 804:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 805:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 806:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 807:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
ARM GAS  /tmp/ccXyyHp5.s 			page 49


 808:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 809:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 810:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 811:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 812:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else
 813:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 814:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         if (URB_Status == USBH_URB_ERROR)
 815:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 816:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           /* device error */
 817:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           phost->Control.state = CTRL_ERROR;
 818:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           status = USBH_FAIL;
 819:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 820:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 821:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 822:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 823:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 824:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 825:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 826:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 827:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 828:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         }
 829:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 830:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 1912              		.loc 1 830 7
 1913 0220 2BE1     		b	.L100
 1914              	.L84:
 783:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 1915              		.loc 1 783 15
 1916 0222 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1917 0224 052B     		cmp	r3, #5
 1918 0226 13D1     		bne	.L86
 786:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         status = USBH_NOT_SUPPORTED;
 1919              		.loc 1 786 30
 1920 0228 7B68     		ldr	r3, [r7, #4]
 1921 022a 0C22     		movs	r2, #12
 1922 022c 1A76     		strb	r2, [r3, #24]
 787:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 1923              		.loc 1 787 16
 1924 022e 0323     		movs	r3, #3
 1925 0230 FB73     		strb	r3, [r7, #15]
 790:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 1926              		.loc 1 790 23
 1927 0232 7B68     		ldr	r3, [r7, #4]
 1928 0234 0322     		movs	r2, #3
 1929 0236 C3F8E024 		str	r2, [r3, #1248]
 794:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1930              		.loc 1 794 15
 1931 023a 7B68     		ldr	r3, [r7, #4]
 1932 023c D3F8D804 		ldr	r0, [r3, #1240]
 794:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1933              		.loc 1 794 50
 1934 0240 7B68     		ldr	r3, [r7, #4]
 1935 0242 03F59C61 		add	r1, r3, #1248
 794:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1936              		.loc 1 794 15
 1937 0246 0023     		movs	r3, #0
 1938 0248 0022     		movs	r2, #0
ARM GAS  /tmp/ccXyyHp5.s 			page 50


 1939 024a FFF7FEFF 		bl	osMessageQueuePut
 1940              		.loc 1 830 7
 1941 024e 14E1     		b	.L100
 1942              	.L86:
 798:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 1943              		.loc 1 798 15
 1944 0250 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1945 0252 022B     		cmp	r3, #2
 1946 0254 11D1     		bne	.L87
 801:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 1947              		.loc 1 801 30
 1948 0256 7B68     		ldr	r3, [r7, #4]
 1949 0258 0522     		movs	r2, #5
 1950 025a 1A76     		strb	r2, [r3, #24]
 804:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 1951              		.loc 1 804 23
 1952 025c 7B68     		ldr	r3, [r7, #4]
 1953 025e 0322     		movs	r2, #3
 1954 0260 C3F8E024 		str	r2, [r3, #1248]
 808:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1955              		.loc 1 808 15
 1956 0264 7B68     		ldr	r3, [r7, #4]
 1957 0266 D3F8D804 		ldr	r0, [r3, #1240]
 808:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1958              		.loc 1 808 50
 1959 026a 7B68     		ldr	r3, [r7, #4]
 1960 026c 03F59C61 		add	r1, r3, #1248
 808:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1961              		.loc 1 808 15
 1962 0270 0023     		movs	r3, #0
 1963 0272 0022     		movs	r2, #0
 1964 0274 FFF7FEFF 		bl	osMessageQueuePut
 1965              		.loc 1 830 7
 1966 0278 FFE0     		b	.L100
 1967              	.L87:
 814:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 1968              		.loc 1 814 12
 1969 027a BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1970 027c 042B     		cmp	r3, #4
 1971 027e 40F0FC80 		bne	.L100
 817:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           status = USBH_FAIL;
 1972              		.loc 1 817 32
 1973 0282 7B68     		ldr	r3, [r7, #4]
 1974 0284 0B22     		movs	r2, #11
 1975 0286 1A76     		strb	r2, [r3, #24]
 818:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 1976              		.loc 1 818 18
 1977 0288 0223     		movs	r3, #2
 1978 028a FB73     		strb	r3, [r7, #15]
 821:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 1979              		.loc 1 821 25
 1980 028c 7B68     		ldr	r3, [r7, #4]
 1981 028e 0322     		movs	r2, #3
 1982 0290 C3F8E024 		str	r2, [r3, #1248]
 825:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1983              		.loc 1 825 17
 1984 0294 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccXyyHp5.s 			page 51


 1985 0296 D3F8D804 		ldr	r0, [r3, #1240]
 825:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1986              		.loc 1 825 52
 1987 029a 7B68     		ldr	r3, [r7, #4]
 1988 029c 03F59C61 		add	r1, r3, #1248
 825:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 1989              		.loc 1 825 17
 1990 02a0 0023     		movs	r3, #0
 1991 02a2 0022     		movs	r2, #0
 1992 02a4 FFF7FEFF 		bl	osMessageQueuePut
 1993              		.loc 1 830 7
 1994 02a8 E7E0     		b	.L100
 1995              	.L66:
 831:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 832:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_STATUS_IN:
 833:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       /* Send 0 bytes out packet */
 834:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       USBH_CtlReceiveData(phost, 0U, 0U, phost->Control.pipe_in);
 1996              		.loc 1 834 7
 1997 02aa 7B68     		ldr	r3, [r7, #4]
 1998 02ac 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1999 02ae 0022     		movs	r2, #0
 2000 02b0 0021     		movs	r1, #0
 2001 02b2 7868     		ldr	r0, [r7, #4]
 2002 02b4 FFF7FEFF 		bl	USBH_CtlReceiveData
 835:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 836:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.timer = (uint16_t)phost->Timer;
 2003              		.loc 1 836 45
 2004 02b8 7B68     		ldr	r3, [r7, #4]
 2005 02ba D3F8C434 		ldr	r3, [r3, #1220]
 2006              		.loc 1 836 30
 2007 02be 9AB2     		uxth	r2, r3
 2008              		.loc 1 836 28
 2009 02c0 7B68     		ldr	r3, [r7, #4]
 2010 02c2 DA81     		strh	r2, [r3, #14]	@ movhi
 837:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.state = CTRL_STATUS_IN_WAIT;
 2011              		.loc 1 837 28
 2012 02c4 7B68     		ldr	r3, [r7, #4]
 2013 02c6 0822     		movs	r2, #8
 2014 02c8 1A76     		strb	r2, [r3, #24]
 838:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 839:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 2015              		.loc 1 839 7
 2016 02ca DBE0     		b	.L73
 2017              	.L65:
 840:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 841:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_STATUS_IN_WAIT:
 842:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 843:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       URB_Status = USBH_LL_GetURBState(phost, phost->Control.pipe_in);
 2018              		.loc 1 843 20
 2019 02cc 7B68     		ldr	r3, [r7, #4]
 2020 02ce 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2021 02d0 1946     		mov	r1, r3
 2022 02d2 7868     		ldr	r0, [r7, #4]
 2023 02d4 FFF7FEFF 		bl	USBH_LL_GetURBState
 2024 02d8 0346     		mov	r3, r0
 2025 02da BB73     		strb	r3, [r7, #14]
 844:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
ARM GAS  /tmp/ccXyyHp5.s 			page 52


 845:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       if (URB_Status == USBH_URB_DONE)
 2026              		.loc 1 845 10
 2027 02dc BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2028 02de 012B     		cmp	r3, #1
 2029 02e0 13D1     		bne	.L88
 846:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 847:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* Control transfers completed, Exit the State Machine */
 848:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_COMPLETE;
 2030              		.loc 1 848 30
 2031 02e2 7B68     		ldr	r3, [r7, #4]
 2032 02e4 0D22     		movs	r2, #13
 2033 02e6 1A76     		strb	r2, [r3, #24]
 849:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         status = USBH_OK;
 2034              		.loc 1 849 16
 2035 02e8 0023     		movs	r3, #0
 2036 02ea FB73     		strb	r3, [r7, #15]
 850:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 851:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 852:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 2037              		.loc 1 852 23
 2038 02ec 7B68     		ldr	r3, [r7, #4]
 2039 02ee 0322     		movs	r2, #3
 2040 02f0 C3F8E024 		str	r2, [r3, #1248]
 853:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 854:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 855:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 856:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 2041              		.loc 1 856 15
 2042 02f4 7B68     		ldr	r3, [r7, #4]
 2043 02f6 D3F8D804 		ldr	r0, [r3, #1240]
 2044              		.loc 1 856 50
 2045 02fa 7B68     		ldr	r3, [r7, #4]
 2046 02fc 03F59C61 		add	r1, r3, #1248
 2047              		.loc 1 856 15
 2048 0300 0023     		movs	r3, #0
 2049 0302 0022     		movs	r2, #0
 2050 0304 FFF7FEFF 		bl	osMessageQueuePut
 857:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 858:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 859:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 860:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else if (URB_Status == USBH_URB_ERROR)
 861:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 862:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_ERROR;
 863:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 864:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 865:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 866:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 867:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 868:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 869:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 870:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 871:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 872:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 873:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else
 874:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 875:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         if (URB_Status == USBH_URB_STALL)
 876:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
ARM GAS  /tmp/ccXyyHp5.s 			page 53


 877:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           /* Control transfers completed, Exit the State Machine */
 878:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           status = USBH_NOT_SUPPORTED;
 879:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 880:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 881:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 882:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 883:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 884:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 885:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 886:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 887:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 888:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         }
 889:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 890:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 2051              		.loc 1 890 7
 2052 0308 B9E0     		b	.L101
 2053              	.L88:
 860:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 2054              		.loc 1 860 15
 2055 030a BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2056 030c 042B     		cmp	r3, #4
 2057 030e 11D1     		bne	.L90
 862:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 2058              		.loc 1 862 30
 2059 0310 7B68     		ldr	r3, [r7, #4]
 2060 0312 0B22     		movs	r2, #11
 2061 0314 1A76     		strb	r2, [r3, #24]
 865:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 2062              		.loc 1 865 23
 2063 0316 7B68     		ldr	r3, [r7, #4]
 2064 0318 0322     		movs	r2, #3
 2065 031a C3F8E024 		str	r2, [r3, #1248]
 869:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2066              		.loc 1 869 15
 2067 031e 7B68     		ldr	r3, [r7, #4]
 2068 0320 D3F8D804 		ldr	r0, [r3, #1240]
 869:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2069              		.loc 1 869 50
 2070 0324 7B68     		ldr	r3, [r7, #4]
 2071 0326 03F59C61 		add	r1, r3, #1248
 869:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2072              		.loc 1 869 15
 2073 032a 0023     		movs	r3, #0
 2074 032c 0022     		movs	r2, #0
 2075 032e FFF7FEFF 		bl	osMessageQueuePut
 2076              		.loc 1 890 7
 2077 0332 A4E0     		b	.L101
 2078              	.L90:
 875:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 2079              		.loc 1 875 12
 2080 0334 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2081 0336 052B     		cmp	r3, #5
 2082 0338 40F0A180 		bne	.L101
 878:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 2083              		.loc 1 878 18
 2084 033c 0323     		movs	r3, #3
 2085 033e FB73     		strb	r3, [r7, #15]
ARM GAS  /tmp/ccXyyHp5.s 			page 54


 881:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 2086              		.loc 1 881 25
 2087 0340 7B68     		ldr	r3, [r7, #4]
 2088 0342 0322     		movs	r2, #3
 2089 0344 C3F8E024 		str	r2, [r3, #1248]
 885:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2090              		.loc 1 885 17
 2091 0348 7B68     		ldr	r3, [r7, #4]
 2092 034a D3F8D804 		ldr	r0, [r3, #1240]
 885:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2093              		.loc 1 885 52
 2094 034e 7B68     		ldr	r3, [r7, #4]
 2095 0350 03F59C61 		add	r1, r3, #1248
 885:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2096              		.loc 1 885 17
 2097 0354 0023     		movs	r3, #0
 2098 0356 0022     		movs	r2, #0
 2099 0358 FFF7FEFF 		bl	osMessageQueuePut
 2100              		.loc 1 890 7
 2101 035c 8FE0     		b	.L101
 2102              	.L64:
 891:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 892:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_STATUS_OUT:
 893:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       USBH_CtlSendData(phost, 0U, 0U, phost->Control.pipe_out, 1U);
 2103              		.loc 1 893 7
 2104 035e 7B68     		ldr	r3, [r7, #4]
 2105 0360 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 2106 0362 0122     		movs	r2, #1
 2107 0364 0092     		str	r2, [sp]
 2108 0366 0022     		movs	r2, #0
 2109 0368 0021     		movs	r1, #0
 2110 036a 7868     		ldr	r0, [r7, #4]
 2111 036c FFF7FEFF 		bl	USBH_CtlSendData
 894:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 895:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.timer = (uint16_t)phost->Timer;
 2112              		.loc 1 895 45
 2113 0370 7B68     		ldr	r3, [r7, #4]
 2114 0372 D3F8C434 		ldr	r3, [r3, #1220]
 2115              		.loc 1 895 30
 2116 0376 9AB2     		uxth	r2, r3
 2117              		.loc 1 895 28
 2118 0378 7B68     		ldr	r3, [r7, #4]
 2119 037a DA81     		strh	r2, [r3, #14]	@ movhi
 896:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       phost->Control.state = CTRL_STATUS_OUT_WAIT;
 2120              		.loc 1 896 28
 2121 037c 7B68     		ldr	r3, [r7, #4]
 2122 037e 0A22     		movs	r2, #10
 2123 0380 1A76     		strb	r2, [r3, #24]
 897:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 2124              		.loc 1 897 7
 2125 0382 7FE0     		b	.L73
 2126              	.L63:
 898:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 899:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_STATUS_OUT_WAIT:
 900:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       URB_Status = USBH_LL_GetURBState(phost, phost->Control.pipe_out);
 2127              		.loc 1 900 20
 2128 0384 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccXyyHp5.s 			page 55


 2129 0386 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 2130 0388 1946     		mov	r1, r3
 2131 038a 7868     		ldr	r0, [r7, #4]
 2132 038c FFF7FEFF 		bl	USBH_LL_GetURBState
 2133 0390 0346     		mov	r3, r0
 2134 0392 BB73     		strb	r3, [r7, #14]
 901:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       if (URB_Status == USBH_URB_DONE)
 2135              		.loc 1 901 10
 2136 0394 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2137 0396 012B     		cmp	r3, #1
 2138 0398 13D1     		bne	.L91
 902:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 903:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         status = USBH_OK;
 2139              		.loc 1 903 16
 2140 039a 0023     		movs	r3, #0
 2141 039c FB73     		strb	r3, [r7, #15]
 904:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_COMPLETE;
 2142              		.loc 1 904 30
 2143 039e 7B68     		ldr	r3, [r7, #4]
 2144 03a0 0D22     		movs	r2, #13
 2145 03a2 1A76     		strb	r2, [r3, #24]
 905:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 906:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 907:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 2146              		.loc 1 907 23
 2147 03a4 7B68     		ldr	r3, [r7, #4]
 2148 03a6 0322     		movs	r2, #3
 2149 03a8 C3F8E024 		str	r2, [r3, #1248]
 908:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 909:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 910:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 911:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 2150              		.loc 1 911 15
 2151 03ac 7B68     		ldr	r3, [r7, #4]
 2152 03ae D3F8D804 		ldr	r0, [r3, #1240]
 2153              		.loc 1 911 50
 2154 03b2 7B68     		ldr	r3, [r7, #4]
 2155 03b4 03F59C61 		add	r1, r3, #1248
 2156              		.loc 1 911 15
 2157 03b8 0023     		movs	r3, #0
 2158 03ba 0022     		movs	r2, #0
 2159 03bc FFF7FEFF 		bl	osMessageQueuePut
 912:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 913:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 914:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 915:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else if (URB_Status == USBH_URB_NOTREADY)
 916:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 917:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_STATUS_OUT;
 918:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 919:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 920:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 921:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 922:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 923:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 924:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 925:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 926:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
ARM GAS  /tmp/ccXyyHp5.s 			page 56


 927:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 928:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else
 929:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 930:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         if (URB_Status == USBH_URB_ERROR)
 931:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 932:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           phost->Control.state = CTRL_ERROR;
 933:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 934:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (USBH_USE_OS == 1U)
 935:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           phost->os_msg = (uint32_t)USBH_CONTROL_EVENT;
 936:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 937:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 938:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #else
 939:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****           (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 940:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 941:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 942:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         }
 943:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 944:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 2160              		.loc 1 944 7
 2161 03c0 5FE0     		b	.L102
 2162              	.L91:
 915:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 2163              		.loc 1 915 15
 2164 03c2 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2165 03c4 022B     		cmp	r3, #2
 2166 03c6 11D1     		bne	.L93
 917:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 2167              		.loc 1 917 30
 2168 03c8 7B68     		ldr	r3, [r7, #4]
 2169 03ca 0922     		movs	r2, #9
 2170 03cc 1A76     		strb	r2, [r3, #24]
 920:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 2171              		.loc 1 920 23
 2172 03ce 7B68     		ldr	r3, [r7, #4]
 2173 03d0 0322     		movs	r2, #3
 2174 03d2 C3F8E024 		str	r2, [r3, #1248]
 924:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2175              		.loc 1 924 15
 2176 03d6 7B68     		ldr	r3, [r7, #4]
 2177 03d8 D3F8D804 		ldr	r0, [r3, #1240]
 924:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2178              		.loc 1 924 50
 2179 03dc 7B68     		ldr	r3, [r7, #4]
 2180 03de 03F59C61 		add	r1, r3, #1248
 924:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2181              		.loc 1 924 15
 2182 03e2 0023     		movs	r3, #0
 2183 03e4 0022     		movs	r2, #0
 2184 03e6 FFF7FEFF 		bl	osMessageQueuePut
 2185              		.loc 1 944 7
 2186 03ea 4AE0     		b	.L102
 2187              	.L93:
 930:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         {
 2188              		.loc 1 930 12
 2189 03ec BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 2190 03ee 042B     		cmp	r3, #4
 2191 03f0 47D1     		bne	.L102
ARM GAS  /tmp/ccXyyHp5.s 			page 57


 932:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 2192              		.loc 1 932 32
 2193 03f2 7B68     		ldr	r3, [r7, #4]
 2194 03f4 0B22     		movs	r2, #11
 2195 03f6 1A76     		strb	r2, [r3, #24]
 935:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #if (osCMSIS < 0x20000U)
 2196              		.loc 1 935 25
 2197 03f8 7B68     		ldr	r3, [r7, #4]
 2198 03fa 0322     		movs	r2, #3
 2199 03fc C3F8E024 		str	r2, [r3, #1248]
 939:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2200              		.loc 1 939 17
 2201 0400 7B68     		ldr	r3, [r7, #4]
 2202 0402 D3F8D804 		ldr	r0, [r3, #1240]
 939:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2203              		.loc 1 939 52
 2204 0406 7B68     		ldr	r3, [r7, #4]
 2205 0408 03F59C61 		add	r1, r3, #1248
 939:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** #endif
 2206              		.loc 1 939 17
 2207 040c 0023     		movs	r3, #0
 2208 040e 0022     		movs	r2, #0
 2209 0410 FFF7FEFF 		bl	osMessageQueuePut
 2210              		.loc 1 944 7
 2211 0414 35E0     		b	.L102
 2212              	.L61:
 945:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 946:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     case CTRL_ERROR:
 947:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       /*
 948:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       After a halt condition is encountered or an error is detected by the
 949:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       host, a control endpoint is allowed to recover by accepting the next Setup
 950:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       PID; i.e., recovery actions via some other pipe are not required for control
 951:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       endpoints. For the Default Control Pipe, a device reset will ultimately be
 952:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       required to clear the halt or error condition if the next Setup PID is not
 953:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       accepted.
 954:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       */
 955:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       if (++phost->Control.errorcount <= USBH_MAX_ERROR_COUNT)
 2213              		.loc 1 955 27
 2214 0416 7B68     		ldr	r3, [r7, #4]
 2215 0418 5B7E     		ldrb	r3, [r3, #25]	@ zero_extendqisi2
 2216              		.loc 1 955 11
 2217 041a 0133     		adds	r3, r3, #1
 2218 041c DAB2     		uxtb	r2, r3
 2219              		.loc 1 955 10
 2220 041e 7B68     		ldr	r3, [r7, #4]
 2221 0420 5A76     		strb	r2, [r3, #25]
 2222              		.loc 1 955 27
 2223 0422 7B68     		ldr	r3, [r7, #4]
 2224 0424 5B7E     		ldrb	r3, [r3, #25]	@ zero_extendqisi2
 2225              		.loc 1 955 10
 2226 0426 022B     		cmp	r3, #2
 2227 0428 06D8     		bhi	.L94
 956:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 957:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* Do the transmission again, starting from SETUP Packet */
 958:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.state = CTRL_SETUP;
 2228              		.loc 1 958 30
 2229 042a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccXyyHp5.s 			page 58


 2230 042c 0122     		movs	r2, #1
 2231 042e 1A76     		strb	r2, [r3, #24]
 959:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->RequestState = CMD_SEND;
 2232              		.loc 1 959 29
 2233 0430 7B68     		ldr	r3, [r7, #4]
 2234 0432 0122     		movs	r2, #1
 2235 0434 9A70     		strb	r2, [r3, #2]
 960:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 961:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       else
 962:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       {
 963:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->pUser(phost, HOST_USER_UNRECOVERED_ERROR);
 964:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.errorcount = 0U;
 965:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         USBH_ErrLog("Control error: Device not responding");
 966:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 967:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         /* Free control pipes */
 968:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         USBH_FreePipe(phost, phost->Control.pipe_out);
 969:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         USBH_FreePipe(phost, phost->Control.pipe_in);
 970:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 971:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->gState = HOST_IDLE;
 972:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         status = USBH_FAIL;
 973:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 974:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 2236              		.loc 1 974 7
 2237 0436 25E0     		b	.L73
 2238              	.L94:
 963:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.errorcount = 0U;
 2239              		.loc 1 963 14
 2240 0438 7B68     		ldr	r3, [r7, #4]
 2241 043a D3F8D434 		ldr	r3, [r3, #1236]
 963:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         phost->Control.errorcount = 0U;
 2242              		.loc 1 963 9
 2243 043e 0621     		movs	r1, #6
 2244 0440 7868     		ldr	r0, [r7, #4]
 2245 0442 9847     		blx	r3
 2246              	.LVL0:
 964:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         USBH_ErrLog("Control error: Device not responding");
 2247              		.loc 1 964 35
 2248 0444 7B68     		ldr	r3, [r7, #4]
 2249 0446 0022     		movs	r2, #0
 2250 0448 5A76     		strb	r2, [r3, #25]
 968:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         USBH_FreePipe(phost, phost->Control.pipe_in);
 2251              		.loc 1 968 9
 2252 044a 7B68     		ldr	r3, [r7, #4]
 2253 044c 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 2254 044e 1946     		mov	r1, r3
 2255 0450 7868     		ldr	r0, [r7, #4]
 2256 0452 FFF7FEFF 		bl	USBH_FreePipe
 969:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 2257              		.loc 1 969 9
 2258 0456 7B68     		ldr	r3, [r7, #4]
 2259 0458 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2260 045a 1946     		mov	r1, r3
 2261 045c 7868     		ldr	r0, [r7, #4]
 2262 045e FFF7FEFF 		bl	USBH_FreePipe
 971:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****         status = USBH_FAIL;
 2263              		.loc 1 971 23
 2264 0462 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccXyyHp5.s 			page 59


 2265 0464 0022     		movs	r2, #0
 2266 0466 1A70     		strb	r2, [r3]
 972:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       }
 2267              		.loc 1 972 16
 2268 0468 0223     		movs	r3, #2
 2269 046a FB73     		strb	r3, [r7, #15]
 2270              		.loc 1 974 7
 2271 046c 0AE0     		b	.L73
 2272              	.L97:
 975:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 976:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****     default:
 977:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****       break;
 2273              		.loc 1 977 7
 2274 046e 00BF     		nop
 2275 0470 08E0     		b	.L73
 2276              	.L98:
 690:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 2277              		.loc 1 690 7
 2278 0472 00BF     		nop
 2279 0474 06E0     		b	.L73
 2280              	.L99:
 752:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 2281              		.loc 1 752 7
 2282 0476 00BF     		nop
 2283 0478 04E0     		b	.L73
 2284              	.L100:
 830:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 2285              		.loc 1 830 7
 2286 047a 00BF     		nop
 2287 047c 02E0     		b	.L73
 2288              	.L101:
 890:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 2289              		.loc 1 890 7
 2290 047e 00BF     		nop
 2291 0480 00E0     		b	.L73
 2292              	.L102:
 944:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 2293              		.loc 1 944 7
 2294 0482 00BF     		nop
 2295              	.L73:
 978:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   }
 979:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** 
 980:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c ****   return status;
 2296              		.loc 1 980 10
 2297 0484 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 981:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_ctlreq.c **** }
 2298              		.loc 1 981 1
 2299 0486 1846     		mov	r0, r3
 2300 0488 1037     		adds	r7, r7, #16
 2301              	.LCFI88:
 2302              		.cfi_def_cfa_offset 8
 2303 048a BD46     		mov	sp, r7
 2304              	.LCFI89:
 2305              		.cfi_def_cfa_register 13
 2306              		@ sp needed
 2307 048c 80BD     		pop	{r7, pc}
 2308              		.cfi_endproc
ARM GAS  /tmp/ccXyyHp5.s 			page 60


 2309              	.LFE354:
 2311 048e 00BF     		.text
 2312              	.Letext0:
 2313              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 2314              		.file 3 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 2315              		.file 4 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 2316              		.file 5 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 2317              		.file 6 "/usr/include/newlib/sys/_types.h"
 2318              		.file 7 "/usr/include/newlib/sys/reent.h"
 2319              		.file 8 "/usr/include/newlib/sys/lock.h"
 2320              		.file 9 "/usr/include/newlib/math.h"
 2321              		.file 10 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 2322              		.file 11 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 2323              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 2324              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 2325              		.file 14 "/usr/include/newlib/stdlib.h"
 2326              		.file 15 "./Libraries/FreeRTOS/Source/CMSIS_RTOS/cmsis_os2.h"
 2327              		.file 16 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 2328              		.file 17 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_ctlreq.h"
ARM GAS  /tmp/ccXyyHp5.s 			page 61


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbh_ctlreq.c
     /tmp/ccXyyHp5.s:17     .text.USBH_Get_DevDesc:0000000000000000 $t
     /tmp/ccXyyHp5.s:25     .text.USBH_Get_DevDesc:0000000000000000 USBH_Get_DevDesc
     /tmp/ccXyyHp5.s:245    .text.USBH_GetDescriptor:0000000000000000 USBH_GetDescriptor
     /tmp/ccXyyHp5.s:715    .text.USBH_ParseDevDesc:0000000000000000 USBH_ParseDevDesc
     /tmp/ccXyyHp5.s:92     .text.USBH_Get_CfgDesc:0000000000000000 $t
     /tmp/ccXyyHp5.s:99     .text.USBH_Get_CfgDesc:0000000000000000 USBH_Get_CfgDesc
     /tmp/ccXyyHp5.s:880    .text.USBH_ParseCfgDesc:0000000000000000 USBH_ParseCfgDesc
     /tmp/ccXyyHp5.s:161    .text.USBH_Get_StringDesc:0000000000000000 $t
     /tmp/ccXyyHp5.s:168    .text.USBH_Get_StringDesc:0000000000000000 USBH_Get_StringDesc
     /tmp/ccXyyHp5.s:1276   .text.USBH_ParseStringDesc:0000000000000000 USBH_ParseStringDesc
     /tmp/ccXyyHp5.s:238    .text.USBH_GetDescriptor:0000000000000000 $t
     /tmp/ccXyyHp5.s:1444   .text.USBH_CtlReq:0000000000000000 USBH_CtlReq
     /tmp/ccXyyHp5.s:331    .text.USBH_SetAddress:0000000000000000 $t
     /tmp/ccXyyHp5.s:338    .text.USBH_SetAddress:0000000000000000 USBH_SetAddress
     /tmp/ccXyyHp5.s:407    .text.USBH_SetCfg:0000000000000000 $t
     /tmp/ccXyyHp5.s:414    .text.USBH_SetCfg:0000000000000000 USBH_SetCfg
     /tmp/ccXyyHp5.s:481    .text.USBH_SetInterface:0000000000000000 $t
     /tmp/ccXyyHp5.s:488    .text.USBH_SetInterface:0000000000000000 USBH_SetInterface
     /tmp/ccXyyHp5.s:559    .text.USBH_SetFeature:0000000000000000 $t
     /tmp/ccXyyHp5.s:566    .text.USBH_SetFeature:0000000000000000 USBH_SetFeature
     /tmp/ccXyyHp5.s:634    .text.USBH_ClrFeature:0000000000000000 $t
     /tmp/ccXyyHp5.s:641    .text.USBH_ClrFeature:0000000000000000 USBH_ClrFeature
     /tmp/ccXyyHp5.s:709    .text.USBH_ParseDevDesc:0000000000000000 $t
     /tmp/ccXyyHp5.s:874    .text.USBH_ParseCfgDesc:0000000000000000 $t
     /tmp/ccXyyHp5.s:1378   .text.USBH_GetNextDesc:0000000000000000 USBH_GetNextDesc
     /tmp/ccXyyHp5.s:1102   .text.USBH_ParseInterfaceDesc:0000000000000000 USBH_ParseInterfaceDesc
     /tmp/ccXyyHp5.s:1191   .text.USBH_ParseEPDesc:0000000000000000 USBH_ParseEPDesc
     /tmp/ccXyyHp5.s:1096   .text.USBH_ParseInterfaceDesc:0000000000000000 $t
     /tmp/ccXyyHp5.s:1185   .text.USBH_ParseEPDesc:0000000000000000 $t
     /tmp/ccXyyHp5.s:1270   .text.USBH_ParseStringDesc:0000000000000000 $t
     /tmp/ccXyyHp5.s:1371   .text.USBH_GetNextDesc:0000000000000000 $t
     /tmp/ccXyyHp5.s:1437   .text.USBH_CtlReq:0000000000000000 $t
     /tmp/ccXyyHp5.s:1587   .text.USBH_HandleControl:0000000000000000 USBH_HandleControl
     /tmp/ccXyyHp5.s:1581   .text.USBH_HandleControl:0000000000000000 $t
     /tmp/ccXyyHp5.s:1621   .text.USBH_HandleControl:0000000000000024 $d
     /tmp/ccXyyHp5.s:1632   .text.USBH_HandleControl:0000000000000050 $t

UNDEFINED SYMBOLS
osMessageQueuePut
USBH_CtlSendSetup
USBH_LL_GetURBState
USBH_CtlReceiveData
USBH_CtlSendData
USBH_FreePipe
