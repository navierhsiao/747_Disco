ARM GAS  /tmp/ccfAFZnC.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"usbh_msc.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.USBH_MSC_SOFProcess,"ax",%progbits
  17              		.align	1
  18              		.p2align 2,,3
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	USBH_MSC_SOFProcess:
  26              	.LVL0:
  27              	.LFB342:
  28              		.file 1 "./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c"
   1:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
   2:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   ******************************************************************************
   3:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @file    usbh_msc.c
   4:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @author  MCD Application Team
   5:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief   This file implements the MSC class driver functions
   6:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *          ===================================================================
   7:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *                                MSC Class  Description
   8:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *          ===================================================================
   9:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           This module manages the MSC class V1.0 following the "Universal
  10:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           Serial Bus Mass Storage Class (MSC) Bulk-Only Transport (BOT) Version 1.0
  11:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           Sep. 31, 1999".
  12:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           This driver implements the following aspects of the specification:
  13:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *             - Bulk-Only Transport protocol
  14:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *             - Subclass : SCSI transparent command set (ref. SCSI Primary Commands - 3 (SPC-3))
  15:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  16:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *  @endverbatim
  17:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  18:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   ******************************************************************************
  19:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @attention
  20:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  21:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * <h2><center>&copy; Copyright (c) 2015 STMicroelectronics.
  22:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * All rights reserved.</center></h2>
  23:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  24:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * This software component is licensed by ST under Ultimate Liberty license
  25:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  26:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * the License. You may obtain a copy of the License at:
  27:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *                      www.st.com/SLA0044
  28:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  29:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   ******************************************************************************
  30:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
ARM GAS  /tmp/ccfAFZnC.s 			page 2


  31:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  32:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /* BSPDependencies
  33:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** - "stm32xxxxx_{eval}{discovery}{nucleo_144}.c"
  34:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** - "stm32xxxxx_{eval}{discovery}_io.c"
  35:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** - "stm32xxxxx_{eval}{discovery}{adafruit}_lcd.c"
  36:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** - "stm32xxxxx_{eval}{discovery}_sdram.c"
  37:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** EndBSPDependencies */
  38:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  39:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /* Includes ------------------------------------------------------------------*/
  40:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #include "usbh_msc.h"
  41:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #include "usbh_msc_bot.h"
  42:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #include "usbh_msc_scsi.h"
  43:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  44:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  45:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @addtogroup USBH_LIB
  46:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  47:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  48:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  49:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @addtogroup USBH_CLASS
  50:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  51:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  52:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  53:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @addtogroup USBH_MSC_CLASS
  54:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  55:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  56:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  57:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE
  58:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief    This file includes the mass storage related functions
  59:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  60:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  61:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  62:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  63:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_TypesDefinitions
  64:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  65:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  66:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
  67:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
  68:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  69:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  70:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Defines
  71:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  72:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  73:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
  74:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
  75:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  76:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  77:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Macros
  78:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  79:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  80:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
  81:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
  82:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  83:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  84:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  85:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Variables
  86:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  87:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
ARM GAS  /tmp/ccfAFZnC.s 			page 3


  88:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
  89:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
  90:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  91:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  92:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  93:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_FunctionPrototypes
  94:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  95:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  96:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  97:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceInit(USBH_HandleTypeDef *phost);
  98:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  99:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceDeInit(USBH_HandleTypeDef *phost);
 100:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 101:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_Process(USBH_HandleTypeDef *phost);
 102:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 103:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_ClassRequest(USBH_HandleTypeDef *phost);
 104:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 105:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_SOFProcess(USBH_HandleTypeDef *phost);
 106:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 107:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_RdWrProcess(USBH_HandleTypeDef *phost, uint8_t lun);
 108:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 109:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_ClassTypeDef  USBH_msc =
 110:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 111:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   "MSC",
 112:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USB_MSC_CLASS,
 113:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_InterfaceInit,
 114:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_InterfaceDeInit,
 115:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_ClassRequest,
 116:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_Process,
 117:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_SOFProcess,
 118:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   NULL,
 119:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** };
 120:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 121:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 122:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 123:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
 124:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 125:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 126:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 127:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Exported_Variables
 128:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
 129:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 130:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 131:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 132:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
 133:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 134:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 135:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 136:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Functions
 137:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
 138:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 139:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 140:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 141:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 142:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_InterfaceInit
 143:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function init the MSC class.
 144:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
ARM GAS  /tmp/ccfAFZnC.s 			page 4


 145:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 146:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 147:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceInit(USBH_HandleTypeDef *phost)
 148:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 149:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status;
 150:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t interface;
 151:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle;
 152:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 153:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   interface = USBH_FindInterface(phost, phost->pActiveClass->ClassCode, MSC_TRANSPARENT, MSC_BOT);
 154:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 155:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((interface == 0xFFU) || (interface >= USBH_MAX_NUM_INTERFACES)) /* Not Valid Interface */
 156:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 157:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_DbgLog("Cannot Find the interface for %s class.", phost->pActiveClass->Name);
 158:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_FAIL;
 159:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 160:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 161:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   status = USBH_SelectInterface(phost, interface);
 162:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 163:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (status != USBH_OK)
 164:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 165:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_FAIL;
 166:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 167:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 168:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   phost->pActiveClass->pData = (MSC_HandleTypeDef *)USBH_malloc(sizeof(MSC_HandleTypeDef));
 169:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 170:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 171:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (MSC_Handle == NULL)
 172:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 173:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_DbgLog("Cannot allocate memory for MSC Handle");
 174:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_FAIL;
 175:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 176:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 177:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Initialize msc handler */
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_memset(MSC_Handle, 0, sizeof(MSC_HandleTypeDef));
 179:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 180:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].bEndpointAddress & 0x80U)
 181:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEp = (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].bEndpointAddress);
 183:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 184:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 185:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 186:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 187:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEp = (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].bEndpointAddress);
 188:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 189:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 190:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 191:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].bEndpointAddress & 0x80U)
 192:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 193:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEp = (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].bEndpointAddress);
 194:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 195:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 196:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 197:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 198:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEp = (phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].bEndpointAddress);
 199:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 200:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 201:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
ARM GAS  /tmp/ccfAFZnC.s 			page 5


 202:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_INIT;
 203:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->error = MSC_OK;
 204:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->req_state = MSC_REQ_IDLE;
 205:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->OutPipe = USBH_AllocPipe(phost, MSC_Handle->OutEp);
 206:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 207:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 208:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_BOT_Init(phost);
 209:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 210:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Open the new channels */
 211:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_OpenPipe(phost, MSC_Handle->OutPipe, MSC_Handle->OutEp,
 212:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 phost->device.address, phost->device.speed,
 213:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USB_EP_TYPE_BULK, MSC_Handle->OutEpSize);
 214:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 215:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_OpenPipe(phost, MSC_Handle->InPipe, MSC_Handle->InEp,
 216:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 phost->device.address, phost->device.speed, USB_EP_TYPE_BULK,
 217:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->InEpSize);
 218:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 219:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_LL_SetToggle(phost, MSC_Handle->InPipe, 0U);
 220:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_LL_SetToggle(phost, MSC_Handle->OutPipe, 0U);
 221:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 222:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 223:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 224:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 225:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 226:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_InterfaceDeInit
 227:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function DeInit the Pipes used for the MSC class.
 228:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 229:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 230:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 231:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceDeInit(USBH_HandleTypeDef *phost)
 232:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 233:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 234:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 235:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (MSC_Handle->OutPipe)
 236:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 237:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_ClosePipe(phost, MSC_Handle->OutPipe);
 238:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe(phost, MSC_Handle->OutPipe);
 239:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutPipe = 0U;     /* Reset the Channel as Free */
 240:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 241:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (MSC_Handle->InPipe)
 243:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 244:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_ClosePipe(phost, MSC_Handle->InPipe);
 245:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe(phost, MSC_Handle->InPipe);
 246:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InPipe = 0U;     /* Reset the Channel as Free */
 247:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 248:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 249:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (phost->pActiveClass->pData)
 250:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 251:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_free(phost->pActiveClass->pData);
 252:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     phost->pActiveClass->pData = 0U;
 253:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 254:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 255:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 256:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 257:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 258:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
ARM GAS  /tmp/ccfAFZnC.s 			page 6


 259:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_ClassRequest
 260:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is responsible for handling Standard requests
 261:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         for MSC class.
 262:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 263:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 264:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 265:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_ClassRequest(USBH_HandleTypeDef *phost)
 266:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 267:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 268:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 269:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 270:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 271:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Switch MSC REQ state machine */
 272:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   switch (MSC_Handle->req_state)
 273:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 274:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_REQ_IDLE:
 275:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_REQ_GET_MAX_LUN:
 276:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       /* Issue GetMaxLUN request */
 277:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       status = USBH_MSC_BOT_REQ_GetMaxLUN(phost, &MSC_Handle->max_lun);
 278:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 279:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       /* When devices do not support the GetMaxLun request, this should
 280:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****          be considred as only one logical unit is supported */
 281:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (status == USBH_NOT_SUPPORTED)
 282:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 283:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->max_lun = 0U;
 284:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         status = USBH_OK;
 285:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 286:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 287:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (status == USBH_OK)
 288:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->max_lun = (MSC_Handle->max_lun > MAX_SUPPORTED_LUN) ? MAX_SUPPORTED_LUN : (MSC_
 290:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
 291:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         for (i = 0U; i < MSC_Handle->max_lun; i++)
 293:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].prev_ready_state = USBH_FAIL;
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 296:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 297:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 298:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 299:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 300:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_REQ_ERROR:
 301:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       /* a Clear Feature should be issued here */
 302:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (USBH_ClrFeature(phost, 0x00U) == USBH_OK)
 303:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 304:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->req_state = MSC_Handle->prev_req_state;
 305:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 306:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 307:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 308:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     default:
 309:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 310:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 311:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 312:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return status;
 313:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 314:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 315:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
ARM GAS  /tmp/ccfAFZnC.s 			page 7


 316:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_Process
 317:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is for managing state machine for MSC data transfers
 318:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 319:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 320:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 321:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_Process(USBH_HandleTypeDef *phost)
 322:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 323:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 324:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY;
 325:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 326:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef ready_status = USBH_BUSY;
 327:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 328:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   switch (MSC_Handle->state)
 329:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 330:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_INIT:
 331:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 332:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (MSC_Handle->current_lun < MSC_Handle->max_lun)
 333:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 334:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 335:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 336:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         /* Switch MSC REQ state machine */
 337:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         switch (MSC_Handle->unit[MSC_Handle->current_lun].state)
 338:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 339:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_INIT:
 340:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog("LUN #%d: ", MSC_Handle->current_lun);
 341:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
 342:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->timer = phost->Timer;
 343:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 344:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 345:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_READ_INQUIRY:
 346:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             scsi_status = USBH_MSC_SCSI_Inquiry(phost, (uint8_t)MSC_Handle->current_lun, &MSC_Handl
 347:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 348:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (scsi_status == USBH_OK)
 349:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 350:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Vendor  : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 351:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 352:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Version : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 353:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 354:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 355:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (scsi_status == USBH_FAIL)
 356:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 357:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_REQUEST_SENSE;
 358:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 359:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             else
 360:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 361:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (scsi_status == USBH_UNRECOVERED_ERROR)
 362:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 363:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 364:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 365:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 366:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 367:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 368:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 369:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_TEST_UNIT_READY:
 370:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             ready_status = USBH_MSC_SCSI_TestUnitReady(phost, (uint8_t)MSC_Handle->current_lun);
 371:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 372:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (ready_status == USBH_OK)
ARM GAS  /tmp/ccfAFZnC.s 			page 8


 373:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 374:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state != USBH_OK)
 375:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 376:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 1U;
 377:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device ready");
 378:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 379:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               else
 380:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 381:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 0U;
 382:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 383:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_CAPACITY10;
 384:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 385:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_OK;
 386:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 387:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (ready_status == USBH_FAIL)
 388:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 389:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               /* Media not ready, so try to check again during 10s */
 390:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state != USBH_FAIL)
 391:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 392:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 1U;
 393:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device NOT ready");
 394:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 395:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               else
 396:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 397:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 0U;
 398:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 399:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_REQUEST_SENSE;
 400:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 401:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_FAIL;
 402:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 403:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             else
 404:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 405:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (ready_status == USBH_UNRECOVERED_ERROR)
 406:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 407:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 408:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 409:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 410:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 411:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 412:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 413:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_READ_CAPACITY10:
 414:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             scsi_status = USBH_MSC_SCSI_ReadCapacity(phost, (uint8_t)MSC_Handle->current_lun, &MSC_
 415:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 416:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (scsi_status == USBH_OK)
 417:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 418:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (MSC_Handle->unit[MSC_Handle->current_lun].state_changed == 1U)
 419:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 420:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("MSC Device capacity : %lu Bytes", \
 421:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                             (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].capacity.block_nbr 
 422:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("Block number : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lu
 423:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("Block Size   : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lu
 424:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 425:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 426:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 427:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 428:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 429:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             else if (scsi_status == USBH_FAIL)
ARM GAS  /tmp/ccfAFZnC.s 			page 9


 430:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 431:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_REQUEST_SENSE;
 432:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 433:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             else
 434:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 435:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (scsi_status == USBH_UNRECOVERED_ERROR)
 436:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 437:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 438:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 439:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 440:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 441:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 442:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 443:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_REQUEST_SENSE:
 444:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             scsi_status = USBH_MSC_SCSI_RequestSense(phost, (uint8_t)MSC_Handle->current_lun, &MSC_
 445:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 446:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (scsi_status == USBH_OK)
 447:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 448:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if ((MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_UNIT_ATTEN
 449:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 450:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 451:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 452:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 if ((phost->Timer - MSC_Handle->timer) < 10000U)
 453:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 454:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 455:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   break;
 456:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 }
 457:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 458:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 459:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Sense Key  : %x", MSC_Handle->unit[MSC_Handle->current_lun].sense.key);
 460:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[MSC_Handle->current_lun].s
 461:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[MSC_Handle->curre
 462:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 463:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 464:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 465:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if (scsi_status == USBH_FAIL)
 466:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 467:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("MSC Device NOT ready");
 468:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_UNRECOVERED_ERROR;
 469:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 470:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             else
 471:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 472:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               if (scsi_status == USBH_UNRECOVERED_ERROR)
 473:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 474:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 475:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 476:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 477:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 478:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 479:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 480:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           case MSC_UNRECOVERED_ERROR:
 481:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->current_lun++;
 482:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 483:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 484:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           default:
 485:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 486:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
ARM GAS  /tmp/ccfAFZnC.s 			page 10


 487:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 488:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 489:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         phost->os_msg = (uint32_t)USBH_CLASS_EVENT;
 490:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 491:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 492:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #else
 493:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 494:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 495:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 496:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 497:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else
 498:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 499:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->current_lun = 0U;
 500:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->state = MSC_IDLE;
 501:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 502:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 503:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         phost->os_msg = (uint32_t)USBH_CLASS_EVENT;
 504:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 505:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 506:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #else
 507:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 508:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 509:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 510:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         phost->pUser(phost, HOST_USER_CLASS_ACTIVE);
 511:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 512:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 513:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 514:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_IDLE:
 515:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       error = USBH_OK;
 516:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 517:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 518:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     default:
 519:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 520:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 521:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return error;
 522:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 523:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 524:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 525:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 526:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_SOFProcess
 527:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is for SOF state
 528:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 529:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 530:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 531:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_SOFProcess(USBH_HandleTypeDef *phost)
 532:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
  29              		.loc 1 532 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 533:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Prevent unused argument(s) compilation warning */
 534:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   UNUSED(phost);
  34              		.loc 1 534 3 view .LVU1
 535:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 536:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
  35              		.loc 1 536 3 view .LVU2
ARM GAS  /tmp/ccfAFZnC.s 			page 11


 537:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
  36              		.loc 1 537 1 is_stmt 0 view .LVU3
  37 0000 0020     		movs	r0, #0
  38              	.LVL1:
  39              		.loc 1 537 1 view .LVU4
  40 0002 7047     		bx	lr
  41              		.cfi_endproc
  42              	.LFE342:
  44              		.section	.text.USBH_MSC_Process,"ax",%progbits
  45              		.align	1
  46              		.p2align 2,,3
  47              		.syntax unified
  48              		.thumb
  49              		.thumb_func
  50              		.fpu fpv5-d16
  52              	USBH_MSC_Process:
  53              	.LVL2:
  54              	.LFB341:
 322:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
  55              		.loc 1 322 1 is_stmt 1 view -0
  56              		.cfi_startproc
  57              		@ args = 0, pretend = 0, frame = 0
  58              		@ frame_needed = 0, uses_anonymous_args = 0
 323:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY;
  59              		.loc 1 323 3 view .LVU6
 322:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
  60              		.loc 1 322 1 is_stmt 0 view .LVU7
  61 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  62              	.LCFI0:
  63              		.cfi_def_cfa_offset 24
  64              		.cfi_offset 3, -24
  65              		.cfi_offset 4, -20
  66              		.cfi_offset 5, -16
  67              		.cfi_offset 6, -12
  68              		.cfi_offset 7, -8
  69              		.cfi_offset 14, -4
 323:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY;
  70              		.loc 1 323 22 view .LVU8
  71 0002 D0F87C34 		ldr	r3, [r0, #1148]
  72 0006 DD69     		ldr	r5, [r3, #28]
  73              	.LVL3:
 324:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
  74              		.loc 1 324 3 is_stmt 1 view .LVU9
 325:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef ready_status = USBH_BUSY;
  75              		.loc 1 325 3 view .LVU10
 326:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  76              		.loc 1 326 3 view .LVU11
 328:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
  77              		.loc 1 328 3 view .LVU12
 328:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
  78              		.loc 1 328 21 is_stmt 0 view .LVU13
  79 0008 2B7B     		ldrb	r3, [r5, #12]	@ zero_extendqisi2
 328:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
  80              		.loc 1 328 3 view .LVU14
  81 000a 1BB1     		cbz	r3, .L4
 324:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
  82              		.loc 1 324 22 view .LVU15
ARM GAS  /tmp/ccfAFZnC.s 			page 12


  83 000c 581E     		subs	r0, r3, #1
  84              	.LVL4:
 324:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
  85              		.loc 1 324 22 view .LVU16
  86 000e 18BF     		it	ne
  87 0010 0120     		movne	r0, #1
  88              	.LVL5:
 521:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
  89              		.loc 1 521 3 is_stmt 1 view .LVU17
 522:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  90              		.loc 1 522 1 is_stmt 0 view .LVU18
  91 0012 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
  92              	.LVL6:
  93              	.L4:
 332:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
  94              		.loc 1 332 7 is_stmt 1 view .LVU19
 332:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
  95              		.loc 1 332 21 is_stmt 0 view .LVU20
  96 0014 B5F8F820 		ldrh	r2, [r5, #248]
  97 0018 0446     		mov	r4, r0
 332:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
  98              		.loc 1 332 10 view .LVU21
  99 001a 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 100 001c 9142     		cmp	r1, r2
 101 001e 3FD9     		bls	.L6
 335:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         /* Switch MSC REQ state machine */
 102              		.loc 1 335 9 is_stmt 1 view .LVU22
 335:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         /* Switch MSC REQ state machine */
 103              		.loc 1 335 57 is_stmt 0 view .LVU23
 104 0020 3423     		movs	r3, #52
 105 0022 0120     		movs	r0, #1
 106              	.LVL7:
 335:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         /* Switch MSC REQ state machine */
 107              		.loc 1 335 57 view .LVU24
 108 0024 03FB0253 		mla	r3, r3, r2, r5
 109 0028 93F89010 		ldrb	r1, [r3, #144]	@ zero_extendqisi2
 110 002c 83F89100 		strb	r0, [r3, #145]
 337:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 111              		.loc 1 337 9 is_stmt 1 view .LVU25
 112 0030 0829     		cmp	r1, #8
 113 0032 28D8     		bhi	.L7
 114 0034 DFE801F0 		tbb	[pc, r1]
 115              	.L9:
 116 0038 4D       		.byte	(.L14-.L9)/2
 117 0039 27       		.byte	(.L7-.L9)/2
 118 003a 58       		.byte	(.L13-.L9)/2
 119 003b 6F       		.byte	(.L12-.L9)/2
 120 003c 83       		.byte	(.L11-.L9)/2
 121 003d 05       		.byte	(.L10-.L9)/2
 122 003e 27       		.byte	(.L7-.L9)/2
 123 003f 27       		.byte	(.L7-.L9)/2
 124 0040 49       		.byte	(.L8-.L9)/2
 125 0041 00       		.p2align 1
 126              	.L10:
 444:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 127              		.loc 1 444 13 view .LVU26
 444:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
ARM GAS  /tmp/ccfAFZnC.s 			page 13


 128              		.loc 1 444 27 is_stmt 0 view .LVU27
 129 0042 3426     		movs	r6, #52
 130 0044 D1B2     		uxtb	r1, r2
 131 0046 2046     		mov	r0, r4
 132 0048 06FB0252 		mla	r2, r6, r2, r5
 133 004c 9C32     		adds	r2, r2, #156
 134 004e FFF7FEFF 		bl	USBH_MSC_SCSI_RequestSense
 135              	.LVL8:
 446:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 136              		.loc 1 446 13 is_stmt 1 view .LVU28
 446:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 137              		.loc 1 446 16 is_stmt 0 view .LVU29
 138 0052 0028     		cmp	r0, #0
 139 0054 40F09980 		bne	.L23
 448:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 140              		.loc 1 448 15 is_stmt 1 view .LVU30
 448:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 141              		.loc 1 448 47 is_stmt 0 view .LVU31
 142 0058 B5F8F830 		ldrh	r3, [r5, #248]
 448:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 143              		.loc 1 448 67 view .LVU32
 144 005c 06FB0356 		mla	r6, r6, r3, r5
 448:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 145              		.loc 1 448 106 view .LVU33
 146 0060 96F89C20 		ldrb	r2, [r6, #156]	@ zero_extendqisi2
 448:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY)
 147              		.loc 1 448 18 view .LVU34
 148 0064 02F0FB02 		and	r2, r2, #251
 149 0068 022A     		cmp	r2, #2
 150 006a 40F0B380 		bne	.L24
 452:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 151              		.loc 1 452 17 is_stmt 1 view .LVU35
 452:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 152              		.loc 1 452 27 is_stmt 0 view .LVU36
 153 006e D4F8C414 		ldr	r1, [r4, #1220]
 452:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 154              		.loc 1 452 20 view .LVU37
 155 0072 42F20F70 		movw	r0, #9999
 156              	.LVL9:
 452:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 157              		.loc 1 452 35 view .LVU38
 158 0076 D5F8FC70 		ldr	r7, [r5, #252]
 159 007a C91B     		subs	r1, r1, r7
 452:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 {
 160              		.loc 1 452 20 view .LVU39
 161 007c 8142     		cmp	r1, r0
 162 007e 00F2A980 		bhi	.L24
 454:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   break;
 163              		.loc 1 454 19 is_stmt 1 view .LVU40
 454:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                   break;
 164              		.loc 1 454 67 is_stmt 0 view .LVU41
 165 0082 86F89020 		strb	r2, [r6, #144]
 455:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 }
 166              		.loc 1 455 19 is_stmt 1 view .LVU42
 167              	.LVL10:
 168              	.L7:
 489:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
ARM GAS  /tmp/ccfAFZnC.s 			page 14


 169              		.loc 1 489 9 view .LVU43
 493:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 170              		.loc 1 493 15 is_stmt 0 view .LVU44
 171 0086 0023     		movs	r3, #0
 489:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 172              		.loc 1 489 23 view .LVU45
 173 0088 0422     		movs	r2, #4
 493:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 174              		.loc 1 493 15 view .LVU46
 175 008a 04F59C61 		add	r1, r4, #1248
 176 008e D4F8D804 		ldr	r0, [r4, #1240]
 489:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 177              		.loc 1 489 23 view .LVU47
 178 0092 C4F8E024 		str	r2, [r4, #1248]
 493:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 179              		.loc 1 493 9 is_stmt 1 view .LVU48
 493:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 180              		.loc 1 493 15 is_stmt 0 view .LVU49
 181 0096 1A46     		mov	r2, r3
 182 0098 FFF7FEFF 		bl	osMessageQueuePut
 183              	.LVL11:
 324:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 184              		.loc 1 324 22 view .LVU50
 185 009c 0120     		movs	r0, #1
 186              	.LVL12:
 521:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 187              		.loc 1 521 3 is_stmt 1 view .LVU51
 522:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 188              		.loc 1 522 1 is_stmt 0 view .LVU52
 189 009e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 190              	.LVL13:
 191              	.L6:
 499:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->state = MSC_IDLE;
 192              		.loc 1 499 9 is_stmt 1 view .LVU53
 500:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 193              		.loc 1 500 27 is_stmt 0 view .LVU54
 194 00a0 0126     		movs	r6, #1
 503:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 195              		.loc 1 503 23 view .LVU55
 196 00a2 0427     		movs	r7, #4
 507:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 197              		.loc 1 507 15 view .LVU56
 198 00a4 1A46     		mov	r2, r3
 499:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->state = MSC_IDLE;
 199              		.loc 1 499 33 view .LVU57
 200 00a6 A5F8F830 		strh	r3, [r5, #248]	@ movhi
 500:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 201              		.loc 1 500 9 is_stmt 1 view .LVU58
 500:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 202              		.loc 1 500 27 is_stmt 0 view .LVU59
 203 00aa 2E73     		strb	r6, [r5, #12]
 503:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 204              		.loc 1 503 9 is_stmt 1 view .LVU60
 507:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 205              		.loc 1 507 15 is_stmt 0 view .LVU61
 206 00ac 04F59C61 		add	r1, r4, #1248
 207 00b0 D0F8D804 		ldr	r0, [r0, #1240]
ARM GAS  /tmp/ccfAFZnC.s 			page 15


 208              	.LVL14:
 503:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 209              		.loc 1 503 23 view .LVU62
 210 00b4 C4F8E074 		str	r7, [r4, #1248]
 507:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 211              		.loc 1 507 9 is_stmt 1 view .LVU63
 507:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 212              		.loc 1 507 15 is_stmt 0 view .LVU64
 213 00b8 FFF7FEFF 		bl	osMessageQueuePut
 214              	.LVL15:
 510:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 215              		.loc 1 510 9 is_stmt 1 view .LVU65
 216 00bc 2046     		mov	r0, r4
 217 00be D4F8D434 		ldr	r3, [r4, #1236]
 218 00c2 0221     		movs	r1, #2
 219 00c4 9847     		blx	r3
 220              	.LVL16:
 324:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY;
 221              		.loc 1 324 22 is_stmt 0 view .LVU66
 222 00c6 3046     		mov	r0, r6
 223              	.LVL17:
 521:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 224              		.loc 1 521 3 is_stmt 1 view .LVU67
 522:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 225              		.loc 1 522 1 is_stmt 0 view .LVU68
 226 00c8 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 227              	.LVL18:
 228              	.L8:
 481:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 229              		.loc 1 481 13 is_stmt 1 view .LVU69
 481:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 230              		.loc 1 481 36 is_stmt 0 view .LVU70
 231 00ca 0132     		adds	r2, r2, #1
 232 00cc A5F8F820 		strh	r2, [r5, #248]	@ movhi
 482:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 233              		.loc 1 482 13 is_stmt 1 view .LVU71
 234 00d0 D9E7     		b	.L7
 235              	.L14:
 340:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
 236              		.loc 1 340 62 view .LVU72
 341:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->timer = phost->Timer;
 237              		.loc 1 341 13 view .LVU73
 341:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->timer = phost->Timer;
 238              		.loc 1 341 61 is_stmt 0 view .LVU74
 239 00d2 3423     		movs	r3, #52
 240 00d4 0421     		movs	r1, #4
 241 00d6 03FB0252 		mla	r2, r3, r2, r5
 242 00da 82F89010 		strb	r1, [r2, #144]
 342:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 243              		.loc 1 342 13 is_stmt 1 view .LVU75
 342:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 244              		.loc 1 342 38 is_stmt 0 view .LVU76
 245 00de D4F8C434 		ldr	r3, [r4, #1220]
 342:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             break;
 246              		.loc 1 342 31 view .LVU77
 247 00e2 C5F8FC30 		str	r3, [r5, #252]
 343:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
ARM GAS  /tmp/ccfAFZnC.s 			page 16


 248              		.loc 1 343 13 is_stmt 1 view .LVU78
 249 00e6 CEE7     		b	.L7
 250              	.L13:
 370:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 251              		.loc 1 370 13 view .LVU79
 370:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 252              		.loc 1 370 28 is_stmt 0 view .LVU80
 253 00e8 D1B2     		uxtb	r1, r2
 254 00ea 2046     		mov	r0, r4
 255 00ec FFF7FEFF 		bl	USBH_MSC_SCSI_TestUnitReady
 256              	.LVL19:
 372:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 257              		.loc 1 372 13 is_stmt 1 view .LVU81
 372:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 258              		.loc 1 372 16 is_stmt 0 view .LVU82
 259 00f0 B0BB     		cbnz	r0, .L18
 374:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 260              		.loc 1 374 15 is_stmt 1 view .LVU83
 374:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 261              		.loc 1 374 46 is_stmt 0 view .LVU84
 262 00f2 B5F8F830 		ldrh	r3, [r5, #248]
 263 00f6 3421     		movs	r1, #52
 383:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 264              		.loc 1 383 63 view .LVU85
 265 00f8 0322     		movs	r2, #3
 266 00fa 01FB0355 		mla	r5, r1, r3, r5
 267              	.LVL20:
 374:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 268              		.loc 1 374 18 view .LVU86
 269 00fe 95F89230 		ldrb	r3, [r5, #146]	@ zero_extendqisi2
 383:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 270              		.loc 1 383 63 view .LVU87
 271 0102 A5F89020 		strh	r2, [r5, #144]	@ movhi
 374:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 272              		.loc 1 374 18 view .LVU88
 273 0106 003B     		subs	r3, r3, #0
 385:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 274              		.loc 1 385 74 view .LVU89
 275 0108 85F89200 		strb	r0, [r5, #146]
 374:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 276              		.loc 1 374 18 view .LVU90
 277 010c 18BF     		it	ne
 278 010e 0123     		movne	r3, #1
 279 0110 85F8C130 		strb	r3, [r5, #193]
 383:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 280              		.loc 1 383 15 is_stmt 1 view .LVU91
 384:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_OK;
 281              		.loc 1 384 15 view .LVU92
 385:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 282              		.loc 1 385 15 view .LVU93
 387:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 283              		.loc 1 387 13 view .LVU94
 405:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 284              		.loc 1 405 15 view .LVU95
 285 0114 B7E7     		b	.L7
 286              	.LVL21:
 287              	.L12:
ARM GAS  /tmp/ccfAFZnC.s 			page 17


 414:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 288              		.loc 1 414 13 view .LVU96
 414:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 289              		.loc 1 414 27 is_stmt 0 view .LVU97
 290 0116 3426     		movs	r6, #52
 291 0118 D1B2     		uxtb	r1, r2
 292 011a 2046     		mov	r0, r4
 293 011c 06FB0252 		mla	r2, r6, r2, r5
 294 0120 9432     		adds	r2, r2, #148
 295 0122 FFF7FEFF 		bl	USBH_MSC_SCSI_ReadCapacity
 296              	.LVL22:
 416:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 297              		.loc 1 416 13 is_stmt 1 view .LVU98
 416:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 298              		.loc 1 416 16 is_stmt 0 view .LVU99
 299 0126 D0BB     		cbnz	r0, .L21
 418:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 300              		.loc 1 418 15 is_stmt 1 view .LVU100
 418:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 301              		.loc 1 418 46 is_stmt 0 view .LVU101
 302 0128 B5F8F830 		ldrh	r3, [r5, #248]
 421:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("Block number : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lu
 303              		.loc 1 421 165 is_stmt 1 view .LVU102
 422:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 USBH_UsrLog("Block Size   : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lu
 304              		.loc 1 422 123 view .LVU103
 423:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 305              		.loc 1 423 124 view .LVU104
 425:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 306              		.loc 1 425 15 view .LVU105
 426:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 307              		.loc 1 426 15 view .LVU106
 425:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 308              		.loc 1 425 63 is_stmt 0 view .LVU107
 309 012c 0122     		movs	r2, #1
 310 012e 06FB0356 		mla	r6, r6, r3, r5
 427:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 311              		.loc 1 427 38 view .LVU108
 312 0132 1344     		add	r3, r3, r2
 425:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 313              		.loc 1 425 63 view .LVU109
 314 0134 A6F89020 		strh	r2, [r6, #144]	@ movhi
 427:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 315              		.loc 1 427 15 is_stmt 1 view .LVU110
 427:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 316              		.loc 1 427 38 is_stmt 0 view .LVU111
 317 0138 A5F8F830 		strh	r3, [r5, #248]	@ movhi
 318 013c A3E7     		b	.L7
 319              	.LVL23:
 320              	.L11:
 346:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 321              		.loc 1 346 13 is_stmt 1 view .LVU112
 346:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 322              		.loc 1 346 27 is_stmt 0 view .LVU113
 323 013e 3426     		movs	r6, #52
 324 0140 D1B2     		uxtb	r1, r2
 325 0142 2046     		mov	r0, r4
 326 0144 06FB0252 		mla	r2, r6, r2, r5
ARM GAS  /tmp/ccfAFZnC.s 			page 18


 327 0148 9F32     		adds	r2, r2, #159
 328 014a FFF7FEFF 		bl	USBH_MSC_SCSI_Inquiry
 329              	.LVL24:
 348:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 330              		.loc 1 348 13 is_stmt 1 view .LVU114
 348:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 331              		.loc 1 348 16 is_stmt 0 view .LVU115
 332 014e E0BB     		cbnz	r0, .L15
 350:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 333              		.loc 1 350 111 is_stmt 1 view .LVU116
 351:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Inquiry Version : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry
 334              		.loc 1 351 112 view .LVU117
 352:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 335              		.loc 1 352 113 view .LVU118
 353:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 336              		.loc 1 353 15 view .LVU119
 353:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 337              		.loc 1 353 42 is_stmt 0 view .LVU120
 338 0150 B5F8F830 		ldrh	r3, [r5, #248]
 353:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 339              		.loc 1 353 63 view .LVU121
 340 0154 0222     		movs	r2, #2
 341 0156 06FB0355 		mla	r5, r6, r3, r5
 342              	.LVL25:
 353:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 343              		.loc 1 353 63 view .LVU122
 344 015a 85F89020 		strb	r2, [r5, #144]
 355:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 345              		.loc 1 355 13 is_stmt 1 view .LVU123
 361:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 346              		.loc 1 361 15 view .LVU124
 347 015e 92E7     		b	.L7
 348              	.LVL26:
 349              	.L18:
 387:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 350              		.loc 1 387 13 view .LVU125
 387:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 351              		.loc 1 387 16 is_stmt 0 view .LVU126
 352 0160 0228     		cmp	r0, #2
 353 0162 41D1     		bne	.L19
 390:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 354              		.loc 1 390 15 is_stmt 1 view .LVU127
 390:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 355              		.loc 1 390 46 is_stmt 0 view .LVU128
 356 0164 B5F8F830 		ldrh	r3, [r5, #248]
 357 0168 3421     		movs	r1, #52
 399:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 358              		.loc 1 399 63 view .LVU129
 359 016a 40F20512 		movw	r2, #261
 360 016e 01FB0355 		mla	r5, r1, r3, r5
 361              	.LVL27:
 390:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 362              		.loc 1 390 18 view .LVU130
 363 0172 95F89230 		ldrb	r3, [r5, #146]	@ zero_extendqisi2
 399:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 364              		.loc 1 399 63 view .LVU131
 365 0176 A5F89020 		strh	r2, [r5, #144]	@ movhi
ARM GAS  /tmp/ccfAFZnC.s 			page 19


 390:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 366              		.loc 1 390 18 view .LVU132
 367 017a 023B     		subs	r3, r3, #2
 401:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 368              		.loc 1 401 74 view .LVU133
 369 017c 85F89200 		strb	r0, [r5, #146]
 390:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 370              		.loc 1 390 18 view .LVU134
 371 0180 18BF     		it	ne
 372 0182 0123     		movne	r3, #1
 373 0184 85F8C130 		strb	r3, [r5, #193]
 399:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 374              		.loc 1 399 15 is_stmt 1 view .LVU135
 400:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_FAIL;
 375              		.loc 1 400 15 view .LVU136
 401:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 376              		.loc 1 401 15 view .LVU137
 377 0188 7DE7     		b	.L7
 378              	.LVL28:
 379              	.L23:
 465:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 380              		.loc 1 465 13 view .LVU138
 465:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 381              		.loc 1 465 16 is_stmt 0 view .LVU139
 382 018a 0228     		cmp	r0, #2
 383 018c 1FD1     		bne	.L25
 467:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_UNRECOVERED_ERROR;
 384              		.loc 1 467 50 is_stmt 1 view .LVU140
 468:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 385              		.loc 1 468 15 view .LVU141
 468:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 386              		.loc 1 468 42 is_stmt 0 view .LVU142
 387 018e B5F8F830 		ldrh	r3, [r5, #248]
 468:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 388              		.loc 1 468 63 view .LVU143
 389 0192 0822     		movs	r2, #8
 390 0194 06FB0355 		mla	r5, r6, r3, r5
 391              	.LVL29:
 468:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 392              		.loc 1 468 63 view .LVU144
 393 0198 85F89020 		strb	r2, [r5, #144]
 394 019c 73E7     		b	.L7
 395              	.LVL30:
 396              	.L21:
 429:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 397              		.loc 1 429 18 is_stmt 1 view .LVU145
 429:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 398              		.loc 1 429 21 is_stmt 0 view .LVU146
 399 019e 0228     		cmp	r0, #2
 400 01a0 0BD0     		beq	.L28
 435:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 401              		.loc 1 435 15 is_stmt 1 view .LVU147
 435:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 402              		.loc 1 435 18 is_stmt 0 view .LVU148
 403 01a2 0428     		cmp	r0, #4
 404 01a4 7FF46FAF 		bne	.L7
 405              	.L27:
ARM GAS  /tmp/ccfAFZnC.s 			page 20


 474:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 406              		.loc 1 474 17 is_stmt 1 view .LVU149
 475:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 407              		.loc 1 475 17 view .LVU150
 474:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 408              		.loc 1 474 44 is_stmt 0 view .LVU151
 409 01a8 B5F8F830 		ldrh	r3, [r5, #248]
 474:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 410              		.loc 1 474 65 view .LVU152
 411 01ac 40F20122 		movw	r2, #513
 412 01b0 06FB0355 		mla	r5, r6, r3, r5
 413              	.LVL31:
 474:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 414              		.loc 1 474 65 view .LVU153
 415 01b4 A5F89020 		strh	r2, [r5, #144]	@ movhi
 416 01b8 65E7     		b	.L7
 417              	.LVL32:
 418              	.L28:
 431:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 419              		.loc 1 431 15 is_stmt 1 view .LVU154
 431:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 420              		.loc 1 431 42 is_stmt 0 view .LVU155
 421 01ba B5F8F830 		ldrh	r3, [r5, #248]
 431:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 422              		.loc 1 431 63 view .LVU156
 423 01be 0522     		movs	r2, #5
 424 01c0 06FB0355 		mla	r5, r6, r3, r5
 425              	.LVL33:
 431:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 426              		.loc 1 431 63 view .LVU157
 427 01c4 85F89020 		strb	r2, [r5, #144]
 428 01c8 5DE7     		b	.L7
 429              	.LVL34:
 430              	.L15:
 355:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 431              		.loc 1 355 13 is_stmt 1 view .LVU158
 355:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 432              		.loc 1 355 16 is_stmt 0 view .LVU159
 433 01ca 0228     		cmp	r0, #2
 434 01cc F5D0     		beq	.L28
 435              	.L25:
 472:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 436              		.loc 1 472 15 is_stmt 1 view .LVU160
 472:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 437              		.loc 1 472 18 is_stmt 0 view .LVU161
 438 01ce 0428     		cmp	r0, #4
 439 01d0 EAD0     		beq	.L27
 440 01d2 58E7     		b	.L7
 441              	.LVL35:
 442              	.L24:
 459:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[MSC_Handle->current_lun].s
 443              		.loc 1 459 98 is_stmt 1 view .LVU162
 460:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[MSC_Handle->curre
 444              		.loc 1 460 109 view .LVU163
 461:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 445              		.loc 1 461 119 view .LVU164
 462:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
ARM GAS  /tmp/ccfAFZnC.s 			page 21


 446              		.loc 1 462 15 view .LVU165
 462:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 447              		.loc 1 462 63 is_stmt 0 view .LVU166
 448 01d4 3420     		movs	r0, #52
 463:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 449              		.loc 1 463 38 view .LVU167
 450 01d6 5A1C     		adds	r2, r3, #1
 462:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->current_lun++;
 451              		.loc 1 462 63 view .LVU168
 452 01d8 0121     		movs	r1, #1
 453 01da 00FB0353 		mla	r3, r0, r3, r5
 454 01de 83F89010 		strb	r1, [r3, #144]
 463:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 455              		.loc 1 463 15 is_stmt 1 view .LVU169
 463:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 456              		.loc 1 463 38 is_stmt 0 view .LVU170
 457 01e2 A5F8F820 		strh	r2, [r5, #248]	@ movhi
 465:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 458              		.loc 1 465 13 is_stmt 1 view .LVU171
 472:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 459              		.loc 1 472 15 view .LVU172
 460 01e6 4EE7     		b	.L7
 461              	.LVL36:
 462              	.L19:
 405:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 463              		.loc 1 405 15 view .LVU173
 405:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               {
 464              		.loc 1 405 18 is_stmt 0 view .LVU174
 465 01e8 0428     		cmp	r0, #4
 466 01ea 7FF44CAF 		bne	.L7
 407:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 467              		.loc 1 407 17 is_stmt 1 view .LVU175
 408:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               }
 468              		.loc 1 408 17 view .LVU176
 407:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 469              		.loc 1 407 44 is_stmt 0 view .LVU177
 470 01ee B5F8F830 		ldrh	r3, [r5, #248]
 407:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 471              		.loc 1 407 65 view .LVU178
 472 01f2 3421     		movs	r1, #52
 473 01f4 40F20122 		movw	r2, #513
 474 01f8 01FB0355 		mla	r5, r1, r3, r5
 475              	.LVL37:
 407:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 476              		.loc 1 407 65 view .LVU179
 477 01fc A5F89020 		strh	r2, [r5, #144]	@ movhi
 478 0200 41E7     		b	.L7
 479              		.cfi_endproc
 480              	.LFE341:
 482 0202 00BF     		.section	.text.USBH_MSC_ClassRequest,"ax",%progbits
 483              		.align	1
 484              		.p2align 2,,3
 485              		.syntax unified
 486              		.thumb
 487              		.thumb_func
 488              		.fpu fpv5-d16
 490              	USBH_MSC_ClassRequest:
ARM GAS  /tmp/ccfAFZnC.s 			page 22


 491              	.LVL38:
 492              	.LFB340:
 266:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 493              		.loc 1 266 1 is_stmt 1 view -0
 494              		.cfi_startproc
 495              		@ args = 0, pretend = 0, frame = 0
 496              		@ frame_needed = 0, uses_anonymous_args = 0
 267:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 497              		.loc 1 267 3 view .LVU181
 267:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 498              		.loc 1 267 22 is_stmt 0 view .LVU182
 499 0000 D0F87C24 		ldr	r2, [r0, #1148]
 266:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 500              		.loc 1 266 1 view .LVU183
 501 0004 0346     		mov	r3, r0
 502 0006 10B5     		push	{r4, lr}
 503              	.LCFI1:
 504              		.cfi_def_cfa_offset 8
 505              		.cfi_offset 4, -8
 506              		.cfi_offset 14, -4
 267:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 507              		.loc 1 267 22 view .LVU184
 508 0008 D469     		ldr	r4, [r2, #28]
 509              	.LVL39:
 268:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 510              		.loc 1 268 3 is_stmt 1 view .LVU185
 269:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 511              		.loc 1 269 3 view .LVU186
 272:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 512              		.loc 1 272 3 view .LVU187
 272:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 513              		.loc 1 272 21 is_stmt 0 view .LVU188
 514 000a A27B     		ldrb	r2, [r4, #14]	@ zero_extendqisi2
 272:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 515              		.loc 1 272 3 view .LVU189
 516 000c 022A     		cmp	r2, #2
 517 000e 04D0     		beq	.L31
 518 0010 032A     		cmp	r2, #3
 519 0012 1AD0     		beq	.L32
 520 0014 0AB1     		cbz	r2, .L31
 521              	.LVL40:
 522              	.L40:
 268:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 523              		.loc 1 268 22 view .LVU190
 524 0016 0120     		movs	r0, #1
 525              	.LVL41:
 526              	.L44:
 313:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 527              		.loc 1 313 1 view .LVU191
 528 0018 10BD     		pop	{r4, pc}
 529              	.LVL42:
 530              	.L31:
 277:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 531              		.loc 1 277 7 is_stmt 1 view .LVU192
 277:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 532              		.loc 1 277 16 is_stmt 0 view .LVU193
 533 001a 1846     		mov	r0, r3
ARM GAS  /tmp/ccfAFZnC.s 			page 23


 534              	.LVL43:
 277:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 535              		.loc 1 277 16 view .LVU194
 536 001c 2146     		mov	r1, r4
 537 001e FFF7FEFF 		bl	USBH_MSC_BOT_REQ_GetMaxLUN
 538              	.LVL44:
 281:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 539              		.loc 1 281 7 is_stmt 1 view .LVU195
 281:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 540              		.loc 1 281 10 is_stmt 0 view .LVU196
 541 0022 0328     		cmp	r0, #3
 542 0024 1AD0     		beq	.L48
 287:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 543              		.loc 1 287 7 is_stmt 1 view .LVU197
 287:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 544              		.loc 1 287 10 is_stmt 0 view .LVU198
 545 0026 0028     		cmp	r0, #0
 546 0028 F6D1     		bne	.L44
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
 547              		.loc 1 289 9 is_stmt 1 view .LVU199
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
 548              		.loc 1 289 42 is_stmt 0 view .LVU200
 549 002a 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
 550              		.loc 1 289 29 view .LVU201
 551 002c 022B     		cmp	r3, #2
 552 002e 1FD9     		bls	.L49
 553 0030 0223     		movs	r3, #2
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 554              		.loc 1 295 45 view .LVU202
 555 0032 84F8C100 		strb	r0, [r4, #193]
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
 556              		.loc 1 289 29 view .LVU203
 557 0036 2370     		strb	r3, [r4]
 290:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 558              		.loc 1 290 72 is_stmt 1 view .LVU204
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 559              		.loc 1 292 9 view .LVU205
 560              	.LVL45:
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 561              		.loc 1 292 22 view .LVU206
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 562              		.loc 1 294 11 view .LVU207
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 563              		.loc 1 294 48 is_stmt 0 view .LVU208
 564 0038 84F89230 		strb	r3, [r4, #146]
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 565              		.loc 1 295 11 is_stmt 1 view .LVU209
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 566              		.loc 1 292 47 view .LVU210
 567              	.LVL46:
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 568              		.loc 1 292 22 view .LVU211
 569              	.L36:
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 570              		.loc 1 294 11 view .LVU212
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
ARM GAS  /tmp/ccfAFZnC.s 			page 24


 571              		.loc 1 294 48 is_stmt 0 view .LVU213
 572 003c 0222     		movs	r2, #2
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 573              		.loc 1 295 45 view .LVU214
 574 003e 0023     		movs	r3, #0
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 575              		.loc 1 294 48 view .LVU215
 576 0040 84F8C620 		strb	r2, [r4, #198]
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 577              		.loc 1 295 11 is_stmt 1 view .LVU216
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 578              		.loc 1 295 45 is_stmt 0 view .LVU217
 579 0044 84F8F530 		strb	r3, [r4, #245]
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 580              		.loc 1 292 47 is_stmt 1 view .LVU218
 581              	.LVL47:
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 582              		.loc 1 292 22 view .LVU219
 313:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 583              		.loc 1 313 1 is_stmt 0 view .LVU220
 584 0048 10BD     		pop	{r4, pc}
 585              	.LVL48:
 586              	.L32:
 302:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 587              		.loc 1 302 7 is_stmt 1 view .LVU221
 302:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 588              		.loc 1 302 11 is_stmt 0 view .LVU222
 589 004a 0021     		movs	r1, #0
 590 004c FFF7FEFF 		bl	USBH_ClrFeature
 591              	.LVL49:
 302:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 592              		.loc 1 302 10 view .LVU223
 593 0050 0028     		cmp	r0, #0
 594 0052 E0D1     		bne	.L40
 304:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 595              		.loc 1 304 9 is_stmt 1 view .LVU224
 304:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 596              		.loc 1 304 31 is_stmt 0 view .LVU225
 597 0054 E37B     		ldrb	r3, [r4, #15]	@ zero_extendqisi2
 268:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 598              		.loc 1 268 22 view .LVU226
 599 0056 0120     		movs	r0, #1
 304:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 600              		.loc 1 304 31 view .LVU227
 601 0058 A373     		strb	r3, [r4, #14]
 313:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 602              		.loc 1 313 1 view .LVU228
 603 005a 10BD     		pop	{r4, pc}
 604              	.LVL50:
 605              	.L48:
 283:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         status = USBH_OK;
 606              		.loc 1 283 9 is_stmt 1 view .LVU229
 284:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 607              		.loc 1 284 9 view .LVU230
 287:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 608              		.loc 1 287 7 view .LVU231
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
ARM GAS  /tmp/ccfAFZnC.s 			page 25


 609              		.loc 1 289 9 view .LVU232
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 610              		.loc 1 295 45 is_stmt 0 view .LVU233
 611 005c 0023     		movs	r3, #0
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
 612              		.loc 1 289 29 view .LVU234
 613 005e 0121     		movs	r1, #1
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 614              		.loc 1 294 48 view .LVU235
 615 0060 0222     		movs	r2, #2
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 616              		.loc 1 295 45 view .LVU236
 617 0062 1846     		mov	r0, r3
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
 618              		.loc 1 289 29 view .LVU237
 619 0064 2170     		strb	r1, [r4]
 290:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 620              		.loc 1 290 72 is_stmt 1 view .LVU238
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 621              		.loc 1 292 9 view .LVU239
 622              	.LVL51:
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 623              		.loc 1 292 22 view .LVU240
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 624              		.loc 1 294 11 view .LVU241
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 625              		.loc 1 294 48 is_stmt 0 view .LVU242
 626 0066 84F89220 		strb	r2, [r4, #146]
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 627              		.loc 1 295 11 is_stmt 1 view .LVU243
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 628              		.loc 1 295 45 is_stmt 0 view .LVU244
 629 006a 84F8C130 		strb	r3, [r4, #193]
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 630              		.loc 1 292 47 is_stmt 1 view .LVU245
 631              	.LVL52:
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 632              		.loc 1 292 22 view .LVU246
 313:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 633              		.loc 1 313 1 is_stmt 0 view .LVU247
 634 006e 10BD     		pop	{r4, pc}
 635              	.LVL53:
 636              	.L49:
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
 637              		.loc 1 289 29 view .LVU248
 638 0070 0133     		adds	r3, r3, #1
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 639              		.loc 1 294 48 view .LVU249
 640 0072 0222     		movs	r2, #2
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 641              		.loc 1 295 45 view .LVU250
 642 0074 84F8C100 		strb	r0, [r4, #193]
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
 643              		.loc 1 289 29 view .LVU251
 644 0078 DBB2     		uxtb	r3, r3
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 645              		.loc 1 294 48 view .LVU252
ARM GAS  /tmp/ccfAFZnC.s 			page 26


 646 007a 84F89220 		strb	r2, [r4, #146]
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 647              		.loc 1 292 9 view .LVU253
 648 007e 012B     		cmp	r3, #1
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Number of supported LUN: %d", MSC_Handle->max_lun);
 649              		.loc 1 289 29 view .LVU254
 650 0080 2370     		strb	r3, [r4]
 290:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 651              		.loc 1 290 72 is_stmt 1 view .LVU255
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 652              		.loc 1 292 9 view .LVU256
 653              	.LVL54:
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 654              		.loc 1 292 22 view .LVU257
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[i].state_changed = 0U;
 655              		.loc 1 294 11 view .LVU258
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 656              		.loc 1 295 11 view .LVU259
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 657              		.loc 1 292 47 view .LVU260
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 658              		.loc 1 292 22 view .LVU261
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 659              		.loc 1 292 9 is_stmt 0 view .LVU262
 660 0082 DBD1     		bne	.L36
 313:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 661              		.loc 1 313 1 view .LVU263
 662 0084 10BD     		pop	{r4, pc}
 313:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 663              		.loc 1 313 1 view .LVU264
 664              		.cfi_endproc
 665              	.LFE340:
 667 0086 00BF     		.section	.text.USBH_MSC_InterfaceDeInit,"ax",%progbits
 668              		.align	1
 669              		.p2align 2,,3
 670              		.syntax unified
 671              		.thumb
 672              		.thumb_func
 673              		.fpu fpv5-d16
 675              	USBH_MSC_InterfaceDeInit:
 676              	.LVL55:
 677              	.LFB339:
 232:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 678              		.loc 1 232 1 is_stmt 1 view -0
 679              		.cfi_startproc
 680              		@ args = 0, pretend = 0, frame = 0
 681              		@ frame_needed = 0, uses_anonymous_args = 0
 233:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 682              		.loc 1 233 3 view .LVU266
 232:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 683              		.loc 1 232 1 is_stmt 0 view .LVU267
 684 0000 38B5     		push	{r3, r4, r5, lr}
 685              	.LCFI2:
 686              		.cfi_def_cfa_offset 16
 687              		.cfi_offset 3, -16
 688              		.cfi_offset 4, -12
 689              		.cfi_offset 5, -8
ARM GAS  /tmp/ccfAFZnC.s 			page 27


 690              		.cfi_offset 14, -4
 233:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 691              		.loc 1 233 22 view .LVU268
 692 0002 D0F87C34 		ldr	r3, [r0, #1148]
 232:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 693              		.loc 1 232 1 view .LVU269
 694 0006 0446     		mov	r4, r0
 233:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 695              		.loc 1 233 22 view .LVU270
 696 0008 DD69     		ldr	r5, [r3, #28]
 697              	.LVL56:
 235:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 698              		.loc 1 235 3 is_stmt 1 view .LVU271
 235:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 699              		.loc 1 235 17 is_stmt 0 view .LVU272
 700 000a 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 235:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 701              		.loc 1 235 6 view .LVU273
 702 000c 51B9     		cbnz	r1, .L65
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 703              		.loc 1 242 3 is_stmt 1 view .LVU274
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 704              		.loc 1 242 17 is_stmt 0 view .LVU275
 705 000e 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 706              		.loc 1 242 6 view .LVU276
 707 0010 91B9     		cbnz	r1, .L54
 708              	.LVL57:
 709              	.L55:
 251:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     phost->pActiveClass->pData = 0U;
 710              		.loc 1 251 5 is_stmt 1 view .LVU277
 711 0012 2846     		mov	r0, r5
 712 0014 FFF7FEFF 		bl	vPortFree
 713              	.LVL58:
 252:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 714              		.loc 1 252 5 view .LVU278
 252:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 715              		.loc 1 252 32 is_stmt 0 view .LVU279
 716 0018 D4F87C34 		ldr	r3, [r4, #1148]
 717 001c 0022     		movs	r2, #0
 256:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 718              		.loc 1 256 1 view .LVU280
 719 001e 0020     		movs	r0, #0
 252:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 720              		.loc 1 252 32 view .LVU281
 721 0020 DA61     		str	r2, [r3, #28]
 255:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 722              		.loc 1 255 3 is_stmt 1 view .LVU282
 256:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 723              		.loc 1 256 1 is_stmt 0 view .LVU283
 724 0022 38BD     		pop	{r3, r4, r5, pc}
 725              	.LVL59:
 726              	.L65:
 237:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe(phost, MSC_Handle->OutPipe);
 727              		.loc 1 237 5 is_stmt 1 view .LVU284
 728 0024 FFF7FEFF 		bl	USBH_ClosePipe
 729              	.LVL60:
ARM GAS  /tmp/ccfAFZnC.s 			page 28


 238:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutPipe = 0U;     /* Reset the Channel as Free */
 730              		.loc 1 238 5 view .LVU285
 731 0028 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 732 002a 2046     		mov	r0, r4
 733 002c FFF7FEFF 		bl	USBH_FreePipe
 734              	.LVL61:
 239:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 735              		.loc 1 239 5 view .LVU286
 239:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 736              		.loc 1 239 25 is_stmt 0 view .LVU287
 737 0030 0023     		movs	r3, #0
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 738              		.loc 1 242 17 view .LVU288
 739 0032 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 239:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 740              		.loc 1 239 25 view .LVU289
 741 0034 6B71     		strb	r3, [r5, #5]
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 742              		.loc 1 242 3 is_stmt 1 view .LVU290
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 743              		.loc 1 242 6 is_stmt 0 view .LVU291
 744 0036 41B1     		cbz	r1, .L52
 745              	.L54:
 244:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe(phost, MSC_Handle->InPipe);
 746              		.loc 1 244 5 is_stmt 1 view .LVU292
 747 0038 2046     		mov	r0, r4
 748 003a FFF7FEFF 		bl	USBH_ClosePipe
 749              	.LVL62:
 245:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InPipe = 0U;     /* Reset the Channel as Free */
 750              		.loc 1 245 5 view .LVU293
 751 003e 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 752 0040 2046     		mov	r0, r4
 753 0042 FFF7FEFF 		bl	USBH_FreePipe
 754              	.LVL63:
 246:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 755              		.loc 1 246 5 view .LVU294
 246:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 756              		.loc 1 246 24 is_stmt 0 view .LVU295
 757 0046 0023     		movs	r3, #0
 758 0048 2B71     		strb	r3, [r5, #4]
 759              	.L52:
 249:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 760              		.loc 1 249 3 is_stmt 1 view .LVU296
 249:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 761              		.loc 1 249 26 is_stmt 0 view .LVU297
 762 004a D4F87C34 		ldr	r3, [r4, #1148]
 763 004e DD69     		ldr	r5, [r3, #28]
 764              	.LVL64:
 249:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 765              		.loc 1 249 6 view .LVU298
 766 0050 002D     		cmp	r5, #0
 767 0052 DED1     		bne	.L55
 256:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 768              		.loc 1 256 1 view .LVU299
 769 0054 0020     		movs	r0, #0
 770 0056 38BD     		pop	{r3, r4, r5, pc}
 256:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
ARM GAS  /tmp/ccfAFZnC.s 			page 29


 771              		.loc 1 256 1 view .LVU300
 772              		.cfi_endproc
 773              	.LFE339:
 775              		.section	.text.USBH_MSC_InterfaceInit,"ax",%progbits
 776              		.align	1
 777              		.p2align 2,,3
 778              		.syntax unified
 779              		.thumb
 780              		.thumb_func
 781              		.fpu fpv5-d16
 783              	USBH_MSC_InterfaceInit:
 784              	.LVL65:
 785              	.LFB338:
 148:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status;
 786              		.loc 1 148 1 is_stmt 1 view -0
 787              		.cfi_startproc
 788              		@ args = 0, pretend = 0, frame = 0
 789              		@ frame_needed = 0, uses_anonymous_args = 0
 149:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t interface;
 790              		.loc 1 149 3 view .LVU302
 150:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle;
 791              		.loc 1 150 3 view .LVU303
 151:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 792              		.loc 1 151 3 view .LVU304
 153:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 793              		.loc 1 153 3 view .LVU305
 153:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 794              		.loc 1 153 15 is_stmt 0 view .LVU306
 795 0000 D0F87C14 		ldr	r1, [r0, #1148]
 796 0004 5023     		movs	r3, #80
 797 0006 0622     		movs	r2, #6
 148:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status;
 798              		.loc 1 148 1 view .LVU307
 799 0008 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 800              	.LCFI3:
 801              		.cfi_def_cfa_offset 24
 802              		.cfi_offset 4, -24
 803              		.cfi_offset 5, -20
 804              		.cfi_offset 6, -16
 805              		.cfi_offset 7, -12
 806              		.cfi_offset 8, -8
 807              		.cfi_offset 14, -4
 808 000c 84B0     		sub	sp, sp, #16
 809              	.LCFI4:
 810              		.cfi_def_cfa_offset 40
 153:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 811              		.loc 1 153 15 view .LVU308
 812 000e 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 148:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status;
 813              		.loc 1 148 1 view .LVU309
 814 0010 0446     		mov	r4, r0
 153:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 815              		.loc 1 153 15 view .LVU310
 816 0012 FFF7FEFF 		bl	USBH_FindInterface
 817              	.LVL66:
 155:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 818              		.loc 1 155 3 is_stmt 1 view .LVU311
ARM GAS  /tmp/ccfAFZnC.s 			page 30


 155:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 819              		.loc 1 155 6 is_stmt 0 view .LVU312
 820 0016 0128     		cmp	r0, #1
 821 0018 70D8     		bhi	.L69
 161:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 822              		.loc 1 161 3 is_stmt 1 view .LVU313
 161:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 823              		.loc 1 161 12 is_stmt 0 view .LVU314
 824 001a 0146     		mov	r1, r0
 825 001c 0546     		mov	r5, r0
 826 001e 2046     		mov	r0, r4
 827              	.LVL67:
 161:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 828              		.loc 1 161 12 view .LVU315
 829 0020 FFF7FEFF 		bl	USBH_SelectInterface
 830              	.LVL68:
 163:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 831              		.loc 1 163 3 is_stmt 1 view .LVU316
 163:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 832              		.loc 1 163 6 is_stmt 0 view .LVU317
 833 0024 0746     		mov	r7, r0
 834 0026 0028     		cmp	r0, #0
 835 0028 68D1     		bne	.L69
 168:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 836              		.loc 1 168 3 is_stmt 1 view .LVU318
 168:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 837              		.loc 1 168 53 is_stmt 0 view .LVU319
 838 002a 4FF48070 		mov	r0, #256
 839              	.LVL69:
 168:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 840              		.loc 1 168 8 view .LVU320
 841 002e D4F87C64 		ldr	r6, [r4, #1148]
 168:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 842              		.loc 1 168 53 view .LVU321
 843 0032 FFF7FEFF 		bl	pvPortMalloc
 844              	.LVL70:
 169:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 845              		.loc 1 169 14 view .LVU322
 846 0036 D4F87C34 		ldr	r3, [r4, #1148]
 168:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 847              		.loc 1 168 30 view .LVU323
 848 003a F061     		str	r0, [r6, #28]
 169:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 849              		.loc 1 169 3 is_stmt 1 view .LVU324
 169:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 850              		.loc 1 169 14 is_stmt 0 view .LVU325
 851 003c DE69     		ldr	r6, [r3, #28]
 852              	.LVL71:
 171:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 853              		.loc 1 171 3 is_stmt 1 view .LVU326
 171:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 854              		.loc 1 171 6 is_stmt 0 view .LVU327
 855 003e 002E     		cmp	r6, #0
 856 0040 5CD0     		beq	.L69
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 857              		.loc 1 178 3 is_stmt 1 view .LVU328
 858 0042 4FF48072 		mov	r2, #256
ARM GAS  /tmp/ccfAFZnC.s 			page 31


 859 0046 3946     		mov	r1, r7
 860 0048 3046     		mov	r0, r6
 861 004a FFF7FEFF 		bl	memset
 862              	.LVL72:
 180:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 863              		.loc 1 180 3 view .LVU329
 180:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 864              		.loc 1 180 59 is_stmt 0 view .LVU330
 865 004e 1A23     		movs	r3, #26
 866 0050 03FB0543 		mla	r3, r3, r5, r4
 180:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 867              		.loc 1 180 6 view .LVU331
 868 0054 93F94E14 		ldrsb	r1, [r3, #1102]
 180:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 869              		.loc 1 180 59 view .LVU332
 870 0058 93F84E24 		ldrb	r2, [r3, #1102]	@ zero_extendqisi2
 180:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 871              		.loc 1 180 6 view .LVU333
 872 005c 0029     		cmp	r1, #0
 873 005e 52DB     		blt	.L78
 187:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 874              		.loc 1 187 5 is_stmt 1 view .LVU334
 187:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 875              		.loc 1 187 23 is_stmt 0 view .LVU335
 876 0060 B271     		strb	r2, [r6, #6]
 188:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 877              		.loc 1 188 5 is_stmt 1 view .LVU336
 188:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 878              		.loc 1 188 27 is_stmt 0 view .LVU337
 879 0062 B3F85034 		ldrh	r3, [r3, #1104]
 880 0066 3381     		strh	r3, [r6, #8]	@ movhi
 881              	.L71:
 191:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 882              		.loc 1 191 3 is_stmt 1 view .LVU338
 191:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 883              		.loc 1 191 59 is_stmt 0 view .LVU339
 884 0068 1A20     		movs	r0, #26
 885 006a 00FB0545 		mla	r5, r0, r5, r4
 191:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 886              		.loc 1 191 6 view .LVU340
 887 006e 95F95634 		ldrsb	r3, [r5, #1110]
 191:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 888              		.loc 1 191 59 view .LVU341
 889 0072 95F85614 		ldrb	r1, [r5, #1110]	@ zero_extendqisi2
 191:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 890              		.loc 1 191 6 view .LVU342
 891 0076 002B     		cmp	r3, #0
 892 0078 4ADB     		blt	.L79
 198:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 893              		.loc 1 198 5 is_stmt 1 view .LVU343
 198:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 894              		.loc 1 198 23 is_stmt 0 view .LVU344
 895 007a B171     		strb	r1, [r6, #6]
 199:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 896              		.loc 1 199 5 is_stmt 1 view .LVU345
 199:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 897              		.loc 1 199 27 is_stmt 0 view .LVU346
ARM GAS  /tmp/ccfAFZnC.s 			page 32


 898 007c B5F85834 		ldrh	r3, [r5, #1112]
 899 0080 3381     		strh	r3, [r6, #8]	@ movhi
 900              	.L73:
 202:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->error = MSC_OK;
 901              		.loc 1 202 3 is_stmt 1 view .LVU347
 203:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->req_state = MSC_REQ_IDLE;
 902              		.loc 1 203 3 view .LVU348
 204:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->OutPipe = USBH_AllocPipe(phost, MSC_Handle->OutEp);
 903              		.loc 1 204 3 view .LVU349
 202:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->error = MSC_OK;
 904              		.loc 1 202 21 is_stmt 0 view .LVU350
 905 0082 0025     		movs	r5, #0
 205:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 906              		.loc 1 205 25 view .LVU351
 907 0084 2046     		mov	r0, r4
 211:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 phost->device.address, phost->device.speed,
 908              		.loc 1 211 3 view .LVU352
 909 0086 4FF00208 		mov	r8, #2
 202:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->error = MSC_OK;
 910              		.loc 1 202 21 view .LVU353
 911 008a B581     		strh	r5, [r6, #12]	@ movhi
 204:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->OutPipe = USBH_AllocPipe(phost, MSC_Handle->OutEp);
 912              		.loc 1 204 25 view .LVU354
 913 008c B573     		strb	r5, [r6, #14]
 205:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 914              		.loc 1 205 3 is_stmt 1 view .LVU355
 205:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 915              		.loc 1 205 25 is_stmt 0 view .LVU356
 916 008e FFF7FEFF 		bl	USBH_AllocPipe
 917              	.LVL73:
 918 0092 0346     		mov	r3, r0
 206:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 919              		.loc 1 206 24 view .LVU357
 920 0094 F179     		ldrb	r1, [r6, #7]	@ zero_extendqisi2
 921 0096 2046     		mov	r0, r4
 205:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 922              		.loc 1 205 23 view .LVU358
 923 0098 7371     		strb	r3, [r6, #5]
 206:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 924              		.loc 1 206 3 is_stmt 1 view .LVU359
 206:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 925              		.loc 1 206 24 is_stmt 0 view .LVU360
 926 009a FFF7FEFF 		bl	USBH_AllocPipe
 927              	.LVL74:
 928 009e 0346     		mov	r3, r0
 208:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 929              		.loc 1 208 3 view .LVU361
 930 00a0 2046     		mov	r0, r4
 206:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 931              		.loc 1 206 22 view .LVU362
 932 00a2 3371     		strb	r3, [r6, #4]
 208:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 933              		.loc 1 208 3 is_stmt 1 view .LVU363
 934 00a4 FFF7FEFF 		bl	USBH_MSC_BOT_Init
 935              	.LVL75:
 211:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 phost->device.address, phost->device.speed,
 936              		.loc 1 211 3 view .LVU364
ARM GAS  /tmp/ccfAFZnC.s 			page 33


 937 00a8 B6F808C0 		ldrh	ip, [r6, #8]
 938 00ac 94F81D34 		ldrb	r3, [r4, #1053]	@ zero_extendqisi2
 939 00b0 2046     		mov	r0, r4
 940 00b2 B279     		ldrb	r2, [r6, #6]	@ zero_extendqisi2
 941 00b4 7179     		ldrb	r1, [r6, #5]	@ zero_extendqisi2
 942 00b6 0093     		str	r3, [sp]
 943 00b8 CDE9018C 		strd	r8, ip, [sp, #4]
 944 00bc 94F81C34 		ldrb	r3, [r4, #1052]	@ zero_extendqisi2
 945 00c0 FFF7FEFF 		bl	USBH_OpenPipe
 946              	.LVL76:
 215:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                 phost->device.address, phost->device.speed, USB_EP_TYPE_BULK,
 947              		.loc 1 215 3 view .LVU365
 948 00c4 B6F80AC0 		ldrh	ip, [r6, #10]
 949 00c8 94F81D34 		ldrb	r3, [r4, #1053]	@ zero_extendqisi2
 950 00cc 2046     		mov	r0, r4
 951 00ce F279     		ldrb	r2, [r6, #7]	@ zero_extendqisi2
 952 00d0 3179     		ldrb	r1, [r6, #4]	@ zero_extendqisi2
 953 00d2 0093     		str	r3, [sp]
 954 00d4 CDE9018C 		strd	r8, ip, [sp, #4]
 955 00d8 94F81C34 		ldrb	r3, [r4, #1052]	@ zero_extendqisi2
 956 00dc FFF7FEFF 		bl	USBH_OpenPipe
 957              	.LVL77:
 219:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_LL_SetToggle(phost, MSC_Handle->OutPipe, 0U);
 958              		.loc 1 219 3 view .LVU366
 959 00e0 2A46     		mov	r2, r5
 960 00e2 3179     		ldrb	r1, [r6, #4]	@ zero_extendqisi2
 961 00e4 2046     		mov	r0, r4
 962 00e6 FFF7FEFF 		bl	USBH_LL_SetToggle
 963              	.LVL78:
 220:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 964              		.loc 1 220 3 view .LVU367
 965 00ea 2A46     		mov	r2, r5
 966 00ec 7179     		ldrb	r1, [r6, #5]	@ zero_extendqisi2
 967 00ee 2046     		mov	r0, r4
 968 00f0 FFF7FEFF 		bl	USBH_LL_SetToggle
 969              	.LVL79:
 222:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 970              		.loc 1 222 3 view .LVU368
 223:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 971              		.loc 1 223 1 is_stmt 0 view .LVU369
 972 00f4 3846     		mov	r0, r7
 973 00f6 04B0     		add	sp, sp, #16
 974              	.LCFI5:
 975              		.cfi_remember_state
 976              		.cfi_def_cfa_offset 24
 977              		@ sp needed
 978 00f8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 979              	.LVL80:
 980              	.L69:
 981              	.LCFI6:
 982              		.cfi_restore_state
 158:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 983              		.loc 1 158 12 view .LVU370
 984 00fc 0227     		movs	r7, #2
 223:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 985              		.loc 1 223 1 view .LVU371
 986 00fe 3846     		mov	r0, r7
ARM GAS  /tmp/ccfAFZnC.s 			page 34


 987 0100 04B0     		add	sp, sp, #16
 988              	.LCFI7:
 989              		.cfi_remember_state
 990              		.cfi_def_cfa_offset 24
 991              		@ sp needed
 992 0102 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 993              	.LVL81:
 994              	.L78:
 995              	.LCFI8:
 996              		.cfi_restore_state
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 997              		.loc 1 182 5 is_stmt 1 view .LVU372
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[0].wMaxPacketSize;
 998              		.loc 1 182 22 is_stmt 0 view .LVU373
 999 0106 F271     		strb	r2, [r6, #7]
 183:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1000              		.loc 1 183 5 is_stmt 1 view .LVU374
 183:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1001              		.loc 1 183 26 is_stmt 0 view .LVU375
 1002 0108 B3F85034 		ldrh	r3, [r3, #1104]
 1003 010c 7381     		strh	r3, [r6, #10]	@ movhi
 1004 010e ABE7     		b	.L71
 1005              	.L79:
 193:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 1006              		.loc 1 193 5 is_stmt 1 view .LVU376
 193:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InEpSize = phost->device.CfgDesc.Itf_Desc[interface].Ep_Desc[1].wMaxPacketSize;
 1007              		.loc 1 193 22 is_stmt 0 view .LVU377
 1008 0110 F171     		strb	r1, [r6, #7]
 194:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1009              		.loc 1 194 5 is_stmt 1 view .LVU378
 194:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1010              		.loc 1 194 26 is_stmt 0 view .LVU379
 1011 0112 B5F85834 		ldrh	r3, [r5, #1112]
 1012 0116 B179     		ldrb	r1, [r6, #6]	@ zero_extendqisi2
 1013 0118 7381     		strh	r3, [r6, #10]	@ movhi
 1014 011a B2E7     		b	.L73
 1015              		.cfi_endproc
 1016              	.LFE338:
 1018              		.section	.text.USBH_MSC_RdWrProcess,"ax",%progbits
 1019              		.align	1
 1020              		.p2align 2,,3
 1021              		.syntax unified
 1022              		.thumb
 1023              		.thumb_func
 1024              		.fpu fpv5-d16
 1026              	USBH_MSC_RdWrProcess:
 1027              	.LVL82:
 1028              	.LFB343:
 538:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 539:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_RdWrProcess
 540:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is for managing state machine for MSC I/O Process
 541:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 542:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 543:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 544:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 545:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_RdWrProcess(USBH_HandleTypeDef *phost, uint8_t lun)
 546:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
ARM GAS  /tmp/ccfAFZnC.s 			page 35


 1029              		.loc 1 546 1 is_stmt 1 view -0
 1030              		.cfi_startproc
 1031              		@ args = 0, pretend = 0, frame = 0
 1032              		@ frame_needed = 0, uses_anonymous_args = 0
 547:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1033              		.loc 1 547 3 view .LVU381
 1034              		.loc 1 547 22 is_stmt 0 view .LVU382
 1035 0000 D0F87C34 		ldr	r3, [r0, #1148]
 546:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1036              		.loc 1 546 1 view .LVU383
 1037 0004 F0B5     		push	{r4, r5, r6, r7, lr}
 1038              	.LCFI9:
 1039              		.cfi_def_cfa_offset 20
 1040              		.cfi_offset 4, -20
 1041              		.cfi_offset 5, -16
 1042              		.cfi_offset 6, -12
 1043              		.cfi_offset 7, -8
 1044              		.cfi_offset 14, -4
 1045              		.loc 1 547 22 view .LVU384
 1046 0006 DD69     		ldr	r5, [r3, #28]
 1047              	.LVL83:
 548:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY ;
 1048              		.loc 1 548 3 is_stmt 1 view .LVU385
 549:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1049              		.loc 1 549 3 view .LVU386
 550:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 551:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Switch MSC REQ state machine */
 552:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   switch (MSC_Handle->unit[lun].state)
 1050              		.loc 1 552 3 view .LVU387
 1051              		.loc 1 552 32 is_stmt 0 view .LVU388
 1052 0008 3427     		movs	r7, #52
 546:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1053              		.loc 1 546 1 view .LVU389
 1054 000a 83B0     		sub	sp, sp, #12
 1055              	.LCFI10:
 1056              		.cfi_def_cfa_offset 32
 546:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1057              		.loc 1 546 1 view .LVU390
 1058 000c 0446     		mov	r4, r0
 1059              		.loc 1 552 32 view .LVU391
 1060 000e 07FB0156 		mla	r6, r7, r1, r5
 1061 0012 96F89030 		ldrb	r3, [r6, #144]	@ zero_extendqisi2
 1062              		.loc 1 552 3 view .LVU392
 1063 0016 062B     		cmp	r3, #6
 1064 0018 07D0     		beq	.L81
 1065 001a 072B     		cmp	r3, #7
 1066 001c 1DD0     		beq	.L82
 1067 001e 052B     		cmp	r3, #5
 1068 0020 29D0     		beq	.L83
 1069 0022 0125     		movs	r5, #1
 1070              	.LVL84:
 553:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 554:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 555:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_READ:
 556:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       scsi_status = USBH_MSC_SCSI_Read(phost, lun, 0U, NULL, 0U);
 557:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 558:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (scsi_status == USBH_OK)
ARM GAS  /tmp/ccfAFZnC.s 			page 36


 559:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 560:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 561:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 562:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 563:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else if (scsi_status == USBH_FAIL)
 564:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 565:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_REQUEST_SENSE;
 566:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 567:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else
 568:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 569:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if (scsi_status == USBH_UNRECOVERED_ERROR)
 570:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 571:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[lun].state = MSC_UNRECOVERED_ERROR;
 572:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 573:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 574:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 575:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 576:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 577:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       phost->os_msg = (uint32_t)USBH_CLASS_EVENT;
 578:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 579:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 580:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #else
 581:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 582:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 583:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 584:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 585:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 586:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_WRITE:
 587:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       scsi_status = USBH_MSC_SCSI_Write(phost, lun, 0U, NULL, 0U);
 588:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 589:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (scsi_status == USBH_OK)
 590:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 591:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 592:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 593:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 594:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else if (scsi_status == USBH_FAIL)
 595:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 596:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_REQUEST_SENSE;
 597:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 598:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else
 599:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 600:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if (scsi_status == USBH_UNRECOVERED_ERROR)
 601:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 602:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[lun].state = MSC_UNRECOVERED_ERROR;
 603:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 604:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 605:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 606:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 607:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 608:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       phost->os_msg = (uint32_t)USBH_CLASS_EVENT;
 609:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 610:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 611:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #else
 612:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 613:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 614:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 615:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
ARM GAS  /tmp/ccfAFZnC.s 			page 37


 616:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 617:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     case MSC_REQUEST_SENSE:
 618:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       scsi_status = USBH_MSC_SCSI_RequestSense(phost, lun, &MSC_Handle->unit[lun].sense);
 619:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 620:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (scsi_status == USBH_OK)
 621:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 622:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Sense Key  : %x", MSC_Handle->unit[lun].sense.key);
 623:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 624:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[lun].sense.ascq);
 625:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 626:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].error = MSC_ERROR;
 627:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 628:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 629:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 630:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if (scsi_status == USBH_FAIL)
 631:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 632:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("MSC Device NOT ready");
 633:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 634:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       else
 635:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 636:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if (scsi_status == USBH_UNRECOVERED_ERROR)
 637:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 638:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[lun].state = MSC_UNRECOVERED_ERROR;
 639:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 640:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 641:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 642:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 643:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 644:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       phost->os_msg = (uint32_t)USBH_CLASS_EVENT;
 645:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 646:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessagePut(phost->os_event, phost->os_msg, 0U);
 647:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #else
 648:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (void)osMessageQueuePut(phost->os_event, &phost->os_msg, 0U, NULL);
 649:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 650:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 651:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 652:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 653:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     default:
 654:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       break;
 655:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 656:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 657:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return error;
 1071              		.loc 1 657 3 is_stmt 1 view .LVU393
 658:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1072              		.loc 1 658 1 is_stmt 0 view .LVU394
 1073 0024 2846     		mov	r0, r5
 1074              	.LVL85:
 1075              		.loc 1 658 1 view .LVU395
 1076 0026 03B0     		add	sp, sp, #12
 1077              	.LCFI11:
 1078              		.cfi_remember_state
 1079              		.cfi_def_cfa_offset 20
 1080              		@ sp needed
 1081 0028 F0BD     		pop	{r4, r5, r6, r7, pc}
 1082              	.LVL86:
 1083              	.L81:
 1084              	.LCFI12:
ARM GAS  /tmp/ccfAFZnC.s 			page 38


 1085              		.cfi_restore_state
 556:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1086              		.loc 1 556 7 is_stmt 1 view .LVU396
 556:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1087              		.loc 1 556 21 is_stmt 0 view .LVU397
 1088 002a 0023     		movs	r3, #0
 1089 002c 1A46     		mov	r2, r3
 1090 002e 0093     		str	r3, [sp]
 1091 0030 FFF7FEFF 		bl	USBH_MSC_SCSI_Read
 1092              	.LVL87:
 558:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1093              		.loc 1 558 7 is_stmt 1 view .LVU398
 558:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1094              		.loc 1 558 10 is_stmt 0 view .LVU399
 1095 0034 0546     		mov	r5, r0
 1096              	.LVL88:
 558:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1097              		.loc 1 558 10 view .LVU400
 1098 0036 C0B9     		cbnz	r0, .L88
 1099              	.L98:
 591:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 1100              		.loc 1 591 9 is_stmt 1 view .LVU401
 591:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 1101              		.loc 1 591 37 is_stmt 0 view .LVU402
 1102 0038 0123     		movs	r3, #1
 1103 003a 86F89030 		strb	r3, [r6, #144]
 592:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1104              		.loc 1 592 9 is_stmt 1 view .LVU403
 1105              	.LVL89:
 1106              	.L92:
 644:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 1107              		.loc 1 644 7 view .LVU404
 648:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 1108              		.loc 1 648 13 is_stmt 0 view .LVU405
 1109 003e 0023     		movs	r3, #0
 644:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 1110              		.loc 1 644 21 view .LVU406
 1111 0040 0422     		movs	r2, #4
 648:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 1112              		.loc 1 648 13 view .LVU407
 1113 0042 04F59C61 		add	r1, r4, #1248
 1114 0046 D4F8D804 		ldr	r0, [r4, #1240]
 1115              	.LVL90:
 644:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (osCMSIS < 0x20000U)
 1116              		.loc 1 644 21 view .LVU408
 1117 004a C4F8E024 		str	r2, [r4, #1248]
 648:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 1118              		.loc 1 648 7 is_stmt 1 view .LVU409
 648:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 1119              		.loc 1 648 13 is_stmt 0 view .LVU410
 1120 004e 1A46     		mov	r2, r3
 1121 0050 FFF7FEFF 		bl	osMessageQueuePut
 1122              	.LVL91:
 651:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1123              		.loc 1 651 7 is_stmt 1 view .LVU411
 657:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1124              		.loc 1 657 3 view .LVU412
ARM GAS  /tmp/ccfAFZnC.s 			page 39


 1125              		.loc 1 658 1 is_stmt 0 view .LVU413
 1126 0054 2846     		mov	r0, r5
 1127 0056 03B0     		add	sp, sp, #12
 1128              	.LCFI13:
 1129              		.cfi_remember_state
 1130              		.cfi_def_cfa_offset 20
 1131              		@ sp needed
 1132 0058 F0BD     		pop	{r4, r5, r6, r7, pc}
 1133              	.LVL92:
 1134              	.L82:
 1135              	.LCFI14:
 1136              		.cfi_restore_state
 587:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1137              		.loc 1 587 7 is_stmt 1 view .LVU414
 587:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1138              		.loc 1 587 21 is_stmt 0 view .LVU415
 1139 005a 0023     		movs	r3, #0
 1140 005c 1A46     		mov	r2, r3
 1141 005e 0093     		str	r3, [sp]
 1142 0060 FFF7FEFF 		bl	USBH_MSC_SCSI_Write
 1143              	.LVL93:
 589:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1144              		.loc 1 589 7 is_stmt 1 view .LVU416
 589:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1145              		.loc 1 589 10 is_stmt 0 view .LVU417
 1146 0064 0546     		mov	r5, r0
 1147              	.LVL94:
 589:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1148              		.loc 1 589 10 view .LVU418
 1149 0066 0028     		cmp	r0, #0
 1150 0068 E6D0     		beq	.L98
 1151              	.L88:
 594:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1152              		.loc 1 594 12 is_stmt 1 view .LVU419
 594:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1153              		.loc 1 594 15 is_stmt 0 view .LVU420
 1154 006a 022D     		cmp	r5, #2
 1155 006c 16D0     		beq	.L102
 600:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 1156              		.loc 1 600 9 is_stmt 1 view .LVU421
 600:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 1157              		.loc 1 600 12 is_stmt 0 view .LVU422
 1158 006e 042D     		cmp	r5, #4
 1159 0070 0FD0     		beq	.L97
 1160              	.L95:
 548:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1161              		.loc 1 548 22 view .LVU423
 1162 0072 0125     		movs	r5, #1
 1163 0074 E3E7     		b	.L92
 1164              	.LVL95:
 1165              	.L83:
 618:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1166              		.loc 1 618 7 is_stmt 1 view .LVU424
 618:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1167              		.loc 1 618 21 is_stmt 0 view .LVU425
 1168 0076 07FB0152 		mla	r2, r7, r1, r5
 1169 007a 9C32     		adds	r2, r2, #156
ARM GAS  /tmp/ccfAFZnC.s 			page 40


 1170 007c FFF7FEFF 		bl	USBH_MSC_SCSI_RequestSense
 1171              	.LVL96:
 620:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1172              		.loc 1 620 7 is_stmt 1 view .LVU426
 620:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1173              		.loc 1 620 10 is_stmt 0 view .LVU427
 1174 0080 28B9     		cbnz	r0, .L91
 622:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 1175              		.loc 1 622 72 is_stmt 1 view .LVU428
 623:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog("Additional Sense Code Qualifier: %x", MSC_Handle->unit[lun].sense.ascq);
 1176              		.loc 1 623 83 view .LVU429
 624:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 1177              		.loc 1 624 93 view .LVU430
 625:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].error = MSC_ERROR;
 1178              		.loc 1 625 9 view .LVU431
 626:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1179              		.loc 1 626 9 view .LVU432
 625:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].error = MSC_ERROR;
 1180              		.loc 1 625 37 is_stmt 0 view .LVU433
 1181 0082 40F20123 		movw	r3, #513
 628:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1182              		.loc 1 628 15 view .LVU434
 1183 0086 0225     		movs	r5, #2
 1184              	.LVL97:
 625:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].error = MSC_ERROR;
 1185              		.loc 1 625 37 view .LVU435
 1186 0088 A6F89030 		strh	r3, [r6, #144]	@ movhi
 628:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1187              		.loc 1 628 9 is_stmt 1 view .LVU436
 1188              	.LVL98:
 630:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1189              		.loc 1 630 7 view .LVU437
 636:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 1190              		.loc 1 636 9 view .LVU438
 1191 008c D7E7     		b	.L92
 1192              	.LVL99:
 1193              	.L91:
 630:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1194              		.loc 1 630 7 view .LVU439
 630:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1195              		.loc 1 630 10 is_stmt 0 view .LVU440
 1196 008e 0428     		cmp	r0, #4
 1197 0090 EFD1     		bne	.L95
 1198              	.LVL100:
 1199              	.L97:
 636:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 1200              		.loc 1 636 9 is_stmt 1 view .LVU441
 638:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 1201              		.loc 1 638 11 view .LVU442
 638:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 1202              		.loc 1 638 39 is_stmt 0 view .LVU443
 1203 0092 0823     		movs	r3, #8
 639:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1204              		.loc 1 639 17 view .LVU444
 1205 0094 0225     		movs	r5, #2
 638:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           error = USBH_FAIL;
 1206              		.loc 1 638 39 view .LVU445
ARM GAS  /tmp/ccfAFZnC.s 			page 41


 1207 0096 86F89030 		strb	r3, [r6, #144]
 639:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1208              		.loc 1 639 11 is_stmt 1 view .LVU446
 1209              	.LVL101:
 639:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 1210              		.loc 1 639 11 is_stmt 0 view .LVU447
 1211 009a D0E7     		b	.L92
 1212              	.LVL102:
 1213              	.L102:
 596:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1214              		.loc 1 596 9 is_stmt 1 view .LVU448
 596:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1215              		.loc 1 596 37 is_stmt 0 view .LVU449
 1216 009c 0523     		movs	r3, #5
 548:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1217              		.loc 1 548 22 view .LVU450
 1218 009e 0125     		movs	r5, #1
 596:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1219              		.loc 1 596 37 view .LVU451
 1220 00a0 86F89030 		strb	r3, [r6, #144]
 1221 00a4 CBE7     		b	.L92
 1222              		.cfi_endproc
 1223              	.LFE343:
 1225 00a6 00BF     		.section	.text.USBH_MSC_IsReady,"ax",%progbits
 1226              		.align	1
 1227              		.p2align 2,,3
 1228              		.global	USBH_MSC_IsReady
 1229              		.syntax unified
 1230              		.thumb
 1231              		.thumb_func
 1232              		.fpu fpv5-d16
 1234              	USBH_MSC_IsReady:
 1235              	.LVL103:
 1236              	.LFB344:
 659:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 660:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 661:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_IsReady
 662:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function check if the MSC function is ready
 663:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 664:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 665:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 666:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** uint8_t  USBH_MSC_IsReady(USBH_HandleTypeDef *phost)
 667:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1237              		.loc 1 667 1 is_stmt 1 view -0
 1238              		.cfi_startproc
 1239              		@ args = 0, pretend = 0, frame = 0
 1240              		@ frame_needed = 0, uses_anonymous_args = 0
 1241              		@ link register save eliminated.
 668:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1242              		.loc 1 668 3 view .LVU453
 669:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t res;
 1243              		.loc 1 669 3 view .LVU454
 670:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 671:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->gState == HOST_CLASS) && (MSC_Handle->state == MSC_IDLE))
 1244              		.loc 1 671 3 view .LVU455
 1245              		.loc 1 671 13 is_stmt 0 view .LVU456
 1246 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
ARM GAS  /tmp/ccfAFZnC.s 			page 42


 1247              		.loc 1 671 6 view .LVU457
 1248 0002 0B2B     		cmp	r3, #11
 1249 0004 01D0     		beq	.L106
 672:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 673:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 1U;
 674:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 675:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 676:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 677:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 0U;
 1250              		.loc 1 677 9 view .LVU458
 1251 0006 0020     		movs	r0, #0
 1252              	.LVL104:
 678:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 679:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 680:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return res;
 1253              		.loc 1 680 3 is_stmt 1 view .LVU459
 681:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1254              		.loc 1 681 1 is_stmt 0 view .LVU460
 1255 0008 7047     		bx	lr
 1256              	.LVL105:
 1257              	.L106:
 668:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t res;
 1258              		.loc 1 668 22 discriminator 1 view .LVU461
 1259 000a D0F87C34 		ldr	r3, [r0, #1148]
 671:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1260              		.loc 1 671 51 discriminator 1 view .LVU462
 1261 000e DB69     		ldr	r3, [r3, #28]
 671:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1262              		.loc 1 671 37 discriminator 1 view .LVU463
 1263 0010 187B     		ldrb	r0, [r3, #12]	@ zero_extendqisi2
 1264              	.LVL106:
 677:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1265              		.loc 1 677 9 discriminator 1 view .LVU464
 1266 0012 A0F10100 		sub	r0, #1
 1267 0016 B0FA80F0 		clz	r0, r0
 1268 001a 4009     		lsrs	r0, r0, #5
 1269 001c 7047     		bx	lr
 1270              		.cfi_endproc
 1271              	.LFE344:
 1273 001e 00BF     		.section	.text.USBH_MSC_GetMaxLUN,"ax",%progbits
 1274              		.align	1
 1275              		.p2align 2,,3
 1276              		.global	USBH_MSC_GetMaxLUN
 1277              		.syntax unified
 1278              		.thumb
 1279              		.thumb_func
 1280              		.fpu fpv5-d16
 1282              	USBH_MSC_GetMaxLUN:
 1283              	.LVL107:
 1284              	.LFB345:
 682:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 683:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 684:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_GetMaxLUN
 685:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function return the Max LUN supported
 686:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 687:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval logical Unit Number supported
 688:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
ARM GAS  /tmp/ccfAFZnC.s 			page 43


 689:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** uint8_t  USBH_MSC_GetMaxLUN(USBH_HandleTypeDef *phost)
 690:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1285              		.loc 1 690 1 is_stmt 1 view -0
 1286              		.cfi_startproc
 1287              		@ args = 0, pretend = 0, frame = 0
 1288              		@ frame_needed = 0, uses_anonymous_args = 0
 1289              		@ link register save eliminated.
 691:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1290              		.loc 1 691 3 view .LVU466
 692:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 693:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->gState == HOST_CLASS) && (MSC_Handle->state == MSC_IDLE))
 1291              		.loc 1 693 3 view .LVU467
 1292              		.loc 1 693 13 is_stmt 0 view .LVU468
 1293 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1294              		.loc 1 693 6 view .LVU469
 1295 0002 0B2B     		cmp	r3, #11
 1296 0004 01D0     		beq	.L111
 1297              	.L110:
 694:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 695:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return (uint8_t)MSC_Handle->max_lun;
 696:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 697:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 698:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return 0xFFU;
 1298              		.loc 1 698 10 view .LVU470
 1299 0006 FF20     		movs	r0, #255
 1300              	.LVL108:
 699:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1301              		.loc 1 699 1 view .LVU471
 1302 0008 7047     		bx	lr
 1303              	.LVL109:
 1304              	.L111:
 691:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1305              		.loc 1 691 22 discriminator 1 view .LVU472
 1306 000a D0F87C34 		ldr	r3, [r0, #1148]
 1307 000e DB69     		ldr	r3, [r3, #28]
 693:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1308              		.loc 1 693 37 discriminator 1 view .LVU473
 1309 0010 1A7B     		ldrb	r2, [r3, #12]	@ zero_extendqisi2
 1310 0012 012A     		cmp	r2, #1
 1311 0014 F7D1     		bne	.L110
 695:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1312              		.loc 1 695 5 is_stmt 1 view .LVU474
 695:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1313              		.loc 1 695 12 is_stmt 0 view .LVU475
 1314 0016 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 1315              	.LVL110:
 695:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1316              		.loc 1 695 12 view .LVU476
 1317 0018 7047     		bx	lr
 1318              		.cfi_endproc
 1319              	.LFE345:
 1321 001a 00BF     		.section	.text.USBH_MSC_UnitIsReady,"ax",%progbits
 1322              		.align	1
 1323              		.p2align 2,,3
 1324              		.global	USBH_MSC_UnitIsReady
 1325              		.syntax unified
 1326              		.thumb
ARM GAS  /tmp/ccfAFZnC.s 			page 44


 1327              		.thumb_func
 1328              		.fpu fpv5-d16
 1330              	USBH_MSC_UnitIsReady:
 1331              	.LVL111:
 1332              	.LFB346:
 700:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 701:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 702:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_UnitIsReady
 703:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function check whether a LUN is ready
 704:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 705:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 706:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval Lun status (0: not ready / 1: ready)
 707:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 708:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** uint8_t  USBH_MSC_UnitIsReady(USBH_HandleTypeDef *phost, uint8_t lun)
 709:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1333              		.loc 1 709 1 is_stmt 1 view -0
 1334              		.cfi_startproc
 1335              		@ args = 0, pretend = 0, frame = 0
 1336              		@ frame_needed = 0, uses_anonymous_args = 0
 1337              		@ link register save eliminated.
 710:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1338              		.loc 1 710 3 view .LVU478
 711:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t res;
 1339              		.loc 1 711 3 view .LVU479
 712:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 713:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->gState == HOST_CLASS) && (MSC_Handle->unit[lun].error == MSC_OK))
 1340              		.loc 1 713 3 view .LVU480
 1341              		.loc 1 713 13 is_stmt 0 view .LVU481
 1342 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1343              		.loc 1 713 6 view .LVU482
 1344 0002 0B2B     		cmp	r3, #11
 1345 0004 01D0     		beq	.L115
 714:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 715:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 1U;
 716:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 717:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 718:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 719:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 0U;
 1346              		.loc 1 719 9 view .LVU483
 1347 0006 0020     		movs	r0, #0
 1348              	.LVL112:
 720:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 721:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 722:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return res;
 1349              		.loc 1 722 3 is_stmt 1 view .LVU484
 723:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1350              		.loc 1 723 1 is_stmt 0 view .LVU485
 1351 0008 7047     		bx	lr
 1352              	.LVL113:
 1353              	.L115:
 710:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t res;
 1354              		.loc 1 710 22 discriminator 1 view .LVU486
 1355 000a D0F87C34 		ldr	r3, [r0, #1148]
 713:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1356              		.loc 1 713 62 discriminator 1 view .LVU487
 1357 000e 3422     		movs	r2, #52
 1358 0010 DB69     		ldr	r3, [r3, #28]
ARM GAS  /tmp/ccfAFZnC.s 			page 45


 1359 0012 02FB0131 		mla	r1, r2, r1, r3
 1360              	.LVL114:
 713:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1361              		.loc 1 713 37 discriminator 1 view .LVU488
 1362 0016 91F89100 		ldrb	r0, [r1, #145]	@ zero_extendqisi2
 1363              	.LVL115:
 719:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1364              		.loc 1 719 9 discriminator 1 view .LVU489
 1365 001a B0FA80F0 		clz	r0, r0
 1366 001e 4009     		lsrs	r0, r0, #5
 1367 0020 7047     		bx	lr
 1368              		.cfi_endproc
 1369              	.LFE346:
 1371 0022 00BF     		.section	.text.USBH_MSC_GetLUNInfo,"ax",%progbits
 1372              		.align	1
 1373              		.p2align 2,,3
 1374              		.global	USBH_MSC_GetLUNInfo
 1375              		.syntax unified
 1376              		.thumb
 1377              		.thumb_func
 1378              		.fpu fpv5-d16
 1380              	USBH_MSC_GetLUNInfo:
 1381              	.LVL116:
 1382              	.LFB347:
 724:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 725:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 726:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_GetLUNInfo
 727:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function return a LUN information
 728:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 729:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 730:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 731:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 732:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_StatusTypeDef USBH_MSC_GetLUNInfo(USBH_HandleTypeDef *phost, uint8_t lun, MSC_LUNTypeDef *info
 733:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1383              		.loc 1 733 1 is_stmt 1 view -0
 1384              		.cfi_startproc
 1385              		@ args = 0, pretend = 0, frame = 0
 1386              		@ frame_needed = 0, uses_anonymous_args = 0
 1387              		@ link register save eliminated.
 734:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1388              		.loc 1 734 3 view .LVU491
 735:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (phost->gState == HOST_CLASS)
 1389              		.loc 1 735 3 view .LVU492
 1390              		.loc 1 735 12 is_stmt 0 view .LVU493
 1391 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1392              		.loc 1 735 6 view .LVU494
 1393 0002 0B2B     		cmp	r3, #11
 1394 0004 01D0     		beq	.L125
 736:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 737:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_memcpy(info, &MSC_Handle->unit[lun], sizeof(MSC_LUNTypeDef));
 738:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 739:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 740:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 741:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 742:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_FAIL;
 1395              		.loc 1 742 12 view .LVU495
 1396 0006 0220     		movs	r0, #2
ARM GAS  /tmp/ccfAFZnC.s 			page 46


 1397              	.LVL117:
 743:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 744:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1398              		.loc 1 744 1 view .LVU496
 1399 0008 7047     		bx	lr
 1400              	.LVL118:
 1401              	.L125:
 737:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1402              		.loc 1 737 5 is_stmt 1 view .LVU497
 734:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if (phost->gState == HOST_CLASS)
 1403              		.loc 1 734 22 is_stmt 0 view .LVU498
 1404 000a D0F87C34 		ldr	r3, [r0, #1148]
 737:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1405              		.loc 1 737 23 view .LVU499
 1406 000e 3420     		movs	r0, #52
 1407              	.LVL119:
 733:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1408              		.loc 1 733 1 view .LVU500
 1409 0010 70B4     		push	{r4, r5, r6}
 1410              	.LCFI15:
 1411              		.cfi_def_cfa_offset 12
 1412              		.cfi_offset 4, -12
 1413              		.cfi_offset 5, -8
 1414              		.cfi_offset 6, -4
 737:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1415              		.loc 1 737 23 view .LVU501
 1416 0012 9024     		movs	r4, #144
 1417 0014 DB69     		ldr	r3, [r3, #28]
 1418 0016 10FB0141 		smlabb	r1, r0, r1, r4
 1419              	.LVL120:
 737:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1420              		.loc 1 737 23 view .LVU502
 1421 001a 1944     		add	r1, r1, r3
 737:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1422              		.loc 1 737 5 view .LVU503
 1423 001c 01F13006 		add	r6, r1, #48
 1424              	.LVL121:
 1425              	.L118:
 737:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1426              		.loc 1 737 5 view .LVU504
 1427 0020 0D68     		ldr	r5, [r1]	@ unaligned
 1428 0022 1031     		adds	r1, r1, #16
 1429 0024 51F80C4C 		ldr	r4, [r1, #-12]	@ unaligned
 1430 0028 1032     		adds	r2, r2, #16
 1431 002a 51F8080C 		ldr	r0, [r1, #-8]	@ unaligned
 1432 002e 51F8043C 		ldr	r3, [r1, #-4]	@ unaligned
 1433 0032 B142     		cmp	r1, r6
 1434 0034 42F8105C 		str	r5, [r2, #-16]	@ unaligned
 1435 0038 42F80C4C 		str	r4, [r2, #-12]	@ unaligned
 1436 003c 42F8080C 		str	r0, [r2, #-8]	@ unaligned
 1437 0040 42F8043C 		str	r3, [r2, #-4]	@ unaligned
 1438 0044 ECD1     		bne	.L118
 1439 0046 0B68     		ldr	r3, [r1]	@ unaligned
 738:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1440              		.loc 1 738 12 view .LVU505
 1441 0048 0020     		movs	r0, #0
 1442              		.loc 1 744 1 view .LVU506
ARM GAS  /tmp/ccfAFZnC.s 			page 47


 1443 004a 70BC     		pop	{r4, r5, r6}
 1444              	.LCFI16:
 1445              		.cfi_restore 6
 1446              		.cfi_restore 5
 1447              		.cfi_restore 4
 1448              		.cfi_def_cfa_offset 0
 737:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1449              		.loc 1 737 5 view .LVU507
 1450 004c 1360     		str	r3, [r2]	@ unaligned
 738:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1451              		.loc 1 738 5 is_stmt 1 view .LVU508
 1452              		.loc 1 744 1 is_stmt 0 view .LVU509
 1453 004e 7047     		bx	lr
 1454              		.cfi_endproc
 1455              	.LFE347:
 1457              		.section	.text.USBH_MSC_Read,"ax",%progbits
 1458              		.align	1
 1459              		.p2align 2,,3
 1460              		.global	USBH_MSC_Read
 1461              		.syntax unified
 1462              		.thumb
 1463              		.thumb_func
 1464              		.fpu fpv5-d16
 1466              	USBH_MSC_Read:
 1467              	.LVL122:
 1468              	.LFB348:
 745:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 746:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 747:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_Read
 748:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function performs a Read operation
 749:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 750:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 751:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  address: sector address
 752:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  pbuf: pointer to data
 753:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  length: number of sector to read
 754:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 755:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 756:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_StatusTypeDef USBH_MSC_Read(USBH_HandleTypeDef *phost,
 757:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                  uint8_t lun,
 758:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                  uint32_t address,
 759:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                  uint8_t *pbuf,
 760:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                  uint32_t length)
 761:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1469              		.loc 1 761 1 is_stmt 1 view -0
 1470              		.cfi_startproc
 1471              		@ args = 4, pretend = 0, frame = 0
 1472              		@ frame_needed = 0, uses_anonymous_args = 0
 762:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint32_t timeout;
 1473              		.loc 1 762 3 view .LVU511
 763:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1474              		.loc 1 763 3 view .LVU512
 764:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 765:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->device.is_connected == 0U) ||
 1475              		.loc 1 765 3 view .LVU513
 761:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint32_t timeout;
 1476              		.loc 1 761 1 is_stmt 0 view .LVU514
 1477 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  /tmp/ccfAFZnC.s 			page 48


 1478              	.LCFI17:
 1479              		.cfi_def_cfa_offset 24
 1480              		.cfi_offset 4, -24
 1481              		.cfi_offset 5, -20
 1482              		.cfi_offset 6, -16
 1483              		.cfi_offset 7, -12
 1484              		.cfi_offset 8, -8
 1485              		.cfi_offset 14, -4
 1486              		.loc 1 765 21 view .LVU515
 1487 0004 90F82064 		ldrb	r6, [r0, #1056]	@ zero_extendqisi2
 761:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint32_t timeout;
 1488              		.loc 1 761 1 view .LVU516
 1489 0008 82B0     		sub	sp, sp, #8
 1490              	.LCFI18:
 1491              		.cfi_def_cfa_offset 32
 1492              		.loc 1 765 6 view .LVU517
 1493 000a 7EB1     		cbz	r6, .L133
 766:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1494              		.loc 1 766 13 discriminator 1 view .LVU518
 1495 000c 0678     		ldrb	r6, [r0]	@ zero_extendqisi2
 1496 000e 0446     		mov	r4, r0
 765:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1497              		.loc 1 765 42 discriminator 1 view .LVU519
 1498 0010 0B2E     		cmp	r6, #11
 1499 0012 0BD1     		bne	.L133
 763:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1500              		.loc 1 763 22 view .LVU520
 1501 0014 D0F87C74 		ldr	r7, [r0, #1148]
 767:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (MSC_Handle->unit[lun].state != MSC_IDLE))
 1502              		.loc 1 767 29 view .LVU521
 1503 0018 3426     		movs	r6, #52
 1504 001a 0D46     		mov	r5, r1
 763:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1505              		.loc 1 763 22 view .LVU522
 1506 001c D7F81C80 		ldr	r8, [r7, #28]
 1507              		.loc 1 767 29 view .LVU523
 1508 0020 06FB0186 		mla	r6, r6, r1, r8
 766:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (MSC_Handle->unit[lun].state != MSC_IDLE))
 1509              		.loc 1 766 37 view .LVU524
 1510 0024 96F89070 		ldrb	r7, [r6, #144]	@ zero_extendqisi2
 1511 0028 012F     		cmp	r7, #1
 1512 002a 03D0     		beq	.L136
 1513              	.L133:
 768:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 769:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return  USBH_FAIL;
 1514              		.loc 1 769 13 view .LVU525
 1515 002c 0220     		movs	r0, #2
 1516              	.LVL123:
 1517              	.L127:
 770:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 771:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 772:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_READ;
 773:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->unit[lun].state = MSC_READ;
 774:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->rw_lun = lun;
 775:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 776:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_SCSI_Read(phost, lun, address, pbuf, length);
 777:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
ARM GAS  /tmp/ccfAFZnC.s 			page 49


 778:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   timeout = phost->Timer;
 779:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 780:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   while (USBH_MSC_RdWrProcess(phost, lun) == USBH_BUSY)
 781:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 782:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if (((phost->Timer - timeout) > (10000U * length)) || (phost->device.is_connected == 0U))
 783:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 784:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->state = MSC_IDLE;
 785:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 786:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 787:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 788:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_IDLE;
 789:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 790:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 791:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1518              		.loc 1 791 1 view .LVU526
 1519 002e 02B0     		add	sp, sp, #8
 1520              	.LCFI19:
 1521              		.cfi_remember_state
 1522              		.cfi_def_cfa_offset 24
 1523              		@ sp needed
 1524 0030 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1525              	.LVL124:
 1526              	.L136:
 1527              	.LCFI20:
 1528              		.cfi_restore_state
 772:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->unit[lun].state = MSC_READ;
 1529              		.loc 1 772 3 is_stmt 1 view .LVU527
 772:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->unit[lun].state = MSC_READ;
 1530              		.loc 1 772 21 is_stmt 0 view .LVU528
 1531 0034 0627     		movs	r7, #6
 1532 0036 88F80C70 		strb	r7, [r8, #12]
 1533              	.LVL125:
 773:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->rw_lun = lun;
 1534              		.loc 1 773 3 is_stmt 1 view .LVU529
 773:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->rw_lun = lun;
 1535              		.loc 1 773 31 is_stmt 0 view .LVU530
 1536 003a 86F89070 		strb	r7, [r6, #144]
 774:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1537              		.loc 1 774 3 is_stmt 1 view .LVU531
 776:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1538              		.loc 1 776 3 is_stmt 0 view .LVU532
 1539 003e 089E     		ldr	r6, [sp, #32]
 774:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1540              		.loc 1 774 22 view .LVU533
 1541 0040 A8F8FA10 		strh	r1, [r8, #250]	@ movhi
 776:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1542              		.loc 1 776 3 is_stmt 1 view .LVU534
 1543 0044 0096     		str	r6, [sp]
 782:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1544              		.loc 1 782 45 is_stmt 0 view .LVU535
 1545 0046 42F21076 		movw	r6, #10000
 776:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1546              		.loc 1 776 3 view .LVU536
 1547 004a FFF7FEFF 		bl	USBH_MSC_SCSI_Read
 1548              	.LVL126:
 778:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1549              		.loc 1 778 3 is_stmt 1 view .LVU537
ARM GAS  /tmp/ccfAFZnC.s 			page 50


 782:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1550              		.loc 1 782 45 is_stmt 0 view .LVU538
 1551 004e 089B     		ldr	r3, [sp, #32]
 778:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1552              		.loc 1 778 11 view .LVU539
 1553 0050 D4F8C474 		ldr	r7, [r4, #1220]
 1554              	.LVL127:
 780:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1555              		.loc 1 780 3 is_stmt 1 view .LVU540
 782:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1556              		.loc 1 782 45 is_stmt 0 view .LVU541
 1557 0054 06FB03F6 		mul	r6, r6, r3
 780:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1558              		.loc 1 780 9 view .LVU542
 1559 0058 07E0     		b	.L128
 1560              	.L130:
 782:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1561              		.loc 1 782 16 view .LVU543
 1562 005a D4F8C434 		ldr	r3, [r4, #1220]
 782:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1563              		.loc 1 782 24 view .LVU544
 1564 005e DB1B     		subs	r3, r3, r7
 782:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1565              		.loc 1 782 8 view .LVU545
 1566 0060 B342     		cmp	r3, r6
 1567 0062 0DD8     		bhi	.L129
 782:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1568              		.loc 1 782 73 discriminator 1 view .LVU546
 1569 0064 94F82034 		ldrb	r3, [r4, #1056]	@ zero_extendqisi2
 782:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1570              		.loc 1 782 56 discriminator 1 view .LVU547
 1571 0068 53B1     		cbz	r3, .L129
 1572              	.L128:
 780:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1573              		.loc 1 780 9 is_stmt 1 view .LVU548
 780:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1574              		.loc 1 780 10 is_stmt 0 view .LVU549
 1575 006a 2946     		mov	r1, r5
 1576 006c 2046     		mov	r0, r4
 1577 006e FFF7FEFF 		bl	USBH_MSC_RdWrProcess
 1578              	.LVL128:
 782:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1579              		.loc 1 782 5 is_stmt 1 view .LVU550
 780:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1580              		.loc 1 780 9 is_stmt 0 view .LVU551
 1581 0072 0128     		cmp	r0, #1
 1582 0074 F1D0     		beq	.L130
 788:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1583              		.loc 1 788 3 is_stmt 1 view .LVU552
 788:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1584              		.loc 1 788 21 is_stmt 0 view .LVU553
 1585 0076 0123     		movs	r3, #1
 790:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1586              		.loc 1 790 10 view .LVU554
 1587 0078 0020     		movs	r0, #0
 788:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1588              		.loc 1 788 21 view .LVU555
ARM GAS  /tmp/ccfAFZnC.s 			page 51


 1589 007a 88F80C30 		strb	r3, [r8, #12]
 790:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1590              		.loc 1 790 3 is_stmt 1 view .LVU556
 790:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1591              		.loc 1 790 10 is_stmt 0 view .LVU557
 1592 007e D6E7     		b	.L127
 1593              	.L129:
 784:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 1594              		.loc 1 784 7 is_stmt 1 view .LVU558
 784:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 1595              		.loc 1 784 25 is_stmt 0 view .LVU559
 1596 0080 0123     		movs	r3, #1
 785:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1597              		.loc 1 785 14 view .LVU560
 1598 0082 0220     		movs	r0, #2
 784:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 1599              		.loc 1 784 25 view .LVU561
 1600 0084 88F80C30 		strb	r3, [r8, #12]
 785:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1601              		.loc 1 785 7 is_stmt 1 view .LVU562
 1602              		.loc 1 791 1 is_stmt 0 view .LVU563
 1603 0088 02B0     		add	sp, sp, #8
 1604              	.LCFI21:
 1605              		.cfi_def_cfa_offset 24
 1606              		@ sp needed
 1607 008a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1608              		.loc 1 791 1 view .LVU564
 1609              		.cfi_endproc
 1610              	.LFE348:
 1612 008e 00BF     		.section	.text.USBH_MSC_Write,"ax",%progbits
 1613              		.align	1
 1614              		.p2align 2,,3
 1615              		.global	USBH_MSC_Write
 1616              		.syntax unified
 1617              		.thumb
 1618              		.thumb_func
 1619              		.fpu fpv5-d16
 1621              	USBH_MSC_Write:
 1622              	.LVL129:
 1623              	.LFB349:
 792:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 793:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 794:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_Write
 795:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function performs a Write operation
 796:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 797:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 798:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  address: sector address
 799:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  pbuf: pointer to data
 800:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  length: number of sector to write
 801:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 802:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 803:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_StatusTypeDef USBH_MSC_Write(USBH_HandleTypeDef *phost,
 804:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                   uint8_t lun,
 805:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                   uint32_t address,
 806:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                   uint8_t *pbuf,
 807:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                   uint32_t length)
 808:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
ARM GAS  /tmp/ccfAFZnC.s 			page 52


 1624              		.loc 1 808 1 is_stmt 1 view -0
 1625              		.cfi_startproc
 1626              		@ args = 4, pretend = 0, frame = 0
 1627              		@ frame_needed = 0, uses_anonymous_args = 0
 809:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint32_t timeout;
 1628              		.loc 1 809 3 view .LVU566
 810:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1629              		.loc 1 810 3 view .LVU567
 811:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 812:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->device.is_connected == 0U) ||
 1630              		.loc 1 812 3 view .LVU568
 808:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint32_t timeout;
 1631              		.loc 1 808 1 is_stmt 0 view .LVU569
 1632 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1633              	.LCFI22:
 1634              		.cfi_def_cfa_offset 24
 1635              		.cfi_offset 4, -24
 1636              		.cfi_offset 5, -20
 1637              		.cfi_offset 6, -16
 1638              		.cfi_offset 7, -12
 1639              		.cfi_offset 8, -8
 1640              		.cfi_offset 14, -4
 1641              		.loc 1 812 21 view .LVU570
 1642 0004 90F82064 		ldrb	r6, [r0, #1056]	@ zero_extendqisi2
 808:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint32_t timeout;
 1643              		.loc 1 808 1 view .LVU571
 1644 0008 82B0     		sub	sp, sp, #8
 1645              	.LCFI23:
 1646              		.cfi_def_cfa_offset 32
 1647              		.loc 1 812 6 view .LVU572
 1648 000a 7EB1     		cbz	r6, .L144
 813:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1649              		.loc 1 813 13 discriminator 1 view .LVU573
 1650 000c 0678     		ldrb	r6, [r0]	@ zero_extendqisi2
 1651 000e 0446     		mov	r4, r0
 812:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1652              		.loc 1 812 42 discriminator 1 view .LVU574
 1653 0010 0B2E     		cmp	r6, #11
 1654 0012 0BD1     		bne	.L144
 810:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1655              		.loc 1 810 22 view .LVU575
 1656 0014 D0F87C74 		ldr	r7, [r0, #1148]
 814:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (MSC_Handle->unit[lun].state != MSC_IDLE))
 1657              		.loc 1 814 29 view .LVU576
 1658 0018 3426     		movs	r6, #52
 1659 001a 0D46     		mov	r5, r1
 810:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1660              		.loc 1 810 22 view .LVU577
 1661 001c D7F81C80 		ldr	r8, [r7, #28]
 1662              		.loc 1 814 29 view .LVU578
 1663 0020 06FB0186 		mla	r6, r6, r1, r8
 813:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (MSC_Handle->unit[lun].state != MSC_IDLE))
 1664              		.loc 1 813 37 view .LVU579
 1665 0024 96F89070 		ldrb	r7, [r6, #144]	@ zero_extendqisi2
 1666 0028 012F     		cmp	r7, #1
 1667 002a 03D0     		beq	.L147
 1668              	.L144:
ARM GAS  /tmp/ccfAFZnC.s 			page 53


 815:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 816:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return  USBH_FAIL;
 1669              		.loc 1 816 13 view .LVU580
 1670 002c 0220     		movs	r0, #2
 1671              	.LVL130:
 1672              	.L138:
 817:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 818:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 819:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_WRITE;
 820:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->unit[lun].state = MSC_WRITE;
 821:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->rw_lun = lun;
 822:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 823:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_SCSI_Write(phost, lun, address, pbuf, length);
 824:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 825:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   timeout = phost->Timer;
 826:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   while (USBH_MSC_RdWrProcess(phost, lun) == USBH_BUSY)
 827:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 828:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if (((phost->Timer - timeout) > (10000U * length)) || (phost->device.is_connected == 0U))
 829:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 830:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->state = MSC_IDLE;
 831:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 832:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 833:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 834:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_IDLE;
 835:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 836:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1673              		.loc 1 836 1 view .LVU581
 1674 002e 02B0     		add	sp, sp, #8
 1675              	.LCFI24:
 1676              		.cfi_remember_state
 1677              		.cfi_def_cfa_offset 24
 1678              		@ sp needed
 1679 0030 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1680              	.LVL131:
 1681              	.L147:
 1682              	.LCFI25:
 1683              		.cfi_restore_state
 819:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->unit[lun].state = MSC_WRITE;
 1684              		.loc 1 819 3 is_stmt 1 view .LVU582
 819:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->unit[lun].state = MSC_WRITE;
 1685              		.loc 1 819 21 is_stmt 0 view .LVU583
 1686 0034 0727     		movs	r7, #7
 1687 0036 88F80C70 		strb	r7, [r8, #12]
 1688              	.LVL132:
 820:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->rw_lun = lun;
 1689              		.loc 1 820 3 is_stmt 1 view .LVU584
 820:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->rw_lun = lun;
 1690              		.loc 1 820 31 is_stmt 0 view .LVU585
 1691 003a 86F89070 		strb	r7, [r6, #144]
 821:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1692              		.loc 1 821 3 is_stmt 1 view .LVU586
 823:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1693              		.loc 1 823 3 is_stmt 0 view .LVU587
 1694 003e 089E     		ldr	r6, [sp, #32]
 821:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1695              		.loc 1 821 22 view .LVU588
 1696 0040 A8F8FA10 		strh	r1, [r8, #250]	@ movhi
ARM GAS  /tmp/ccfAFZnC.s 			page 54


 823:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1697              		.loc 1 823 3 is_stmt 1 view .LVU589
 1698 0044 0096     		str	r6, [sp]
 828:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1699              		.loc 1 828 45 is_stmt 0 view .LVU590
 1700 0046 42F21076 		movw	r6, #10000
 823:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1701              		.loc 1 823 3 view .LVU591
 1702 004a FFF7FEFF 		bl	USBH_MSC_SCSI_Write
 1703              	.LVL133:
 825:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   while (USBH_MSC_RdWrProcess(phost, lun) == USBH_BUSY)
 1704              		.loc 1 825 3 is_stmt 1 view .LVU592
 828:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1705              		.loc 1 828 45 is_stmt 0 view .LVU593
 1706 004e 089B     		ldr	r3, [sp, #32]
 825:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   while (USBH_MSC_RdWrProcess(phost, lun) == USBH_BUSY)
 1707              		.loc 1 825 11 view .LVU594
 1708 0050 D4F8C474 		ldr	r7, [r4, #1220]
 1709              	.LVL134:
 826:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1710              		.loc 1 826 3 is_stmt 1 view .LVU595
 828:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1711              		.loc 1 828 45 is_stmt 0 view .LVU596
 1712 0054 06FB03F6 		mul	r6, r6, r3
 826:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1713              		.loc 1 826 9 view .LVU597
 1714 0058 07E0     		b	.L139
 1715              	.L141:
 828:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1716              		.loc 1 828 16 view .LVU598
 1717 005a D4F8C434 		ldr	r3, [r4, #1220]
 828:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1718              		.loc 1 828 24 view .LVU599
 1719 005e DB1B     		subs	r3, r3, r7
 828:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1720              		.loc 1 828 8 view .LVU600
 1721 0060 B342     		cmp	r3, r6
 1722 0062 0DD8     		bhi	.L140
 828:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1723              		.loc 1 828 73 discriminator 1 view .LVU601
 1724 0064 94F82034 		ldrb	r3, [r4, #1056]	@ zero_extendqisi2
 828:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1725              		.loc 1 828 56 discriminator 1 view .LVU602
 1726 0068 53B1     		cbz	r3, .L140
 1727              	.L139:
 826:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1728              		.loc 1 826 9 is_stmt 1 view .LVU603
 826:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1729              		.loc 1 826 10 is_stmt 0 view .LVU604
 1730 006a 2946     		mov	r1, r5
 1731 006c 2046     		mov	r0, r4
 1732 006e FFF7FEFF 		bl	USBH_MSC_RdWrProcess
 1733              	.LVL135:
 828:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1734              		.loc 1 828 5 is_stmt 1 view .LVU605
 826:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1735              		.loc 1 826 9 is_stmt 0 view .LVU606
ARM GAS  /tmp/ccfAFZnC.s 			page 55


 1736 0072 0128     		cmp	r0, #1
 1737 0074 F1D0     		beq	.L141
 834:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 1738              		.loc 1 834 3 is_stmt 1 view .LVU607
 834:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 1739              		.loc 1 834 21 is_stmt 0 view .LVU608
 1740 0076 0123     		movs	r3, #1
 835:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1741              		.loc 1 835 10 view .LVU609
 1742 0078 0020     		movs	r0, #0
 834:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 1743              		.loc 1 834 21 view .LVU610
 1744 007a 88F80C30 		strb	r3, [r8, #12]
 835:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1745              		.loc 1 835 3 is_stmt 1 view .LVU611
 835:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1746              		.loc 1 835 10 is_stmt 0 view .LVU612
 1747 007e D6E7     		b	.L138
 1748              	.L140:
 830:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 1749              		.loc 1 830 7 is_stmt 1 view .LVU613
 830:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 1750              		.loc 1 830 25 is_stmt 0 view .LVU614
 1751 0080 0123     		movs	r3, #1
 831:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1752              		.loc 1 831 14 view .LVU615
 1753 0082 0220     		movs	r0, #2
 830:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 1754              		.loc 1 830 25 view .LVU616
 1755 0084 88F80C30 		strb	r3, [r8, #12]
 831:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1756              		.loc 1 831 7 is_stmt 1 view .LVU617
 1757              		.loc 1 836 1 is_stmt 0 view .LVU618
 1758 0088 02B0     		add	sp, sp, #8
 1759              	.LCFI26:
 1760              		.cfi_def_cfa_offset 24
 1761              		@ sp needed
 1762 008a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1763              		.loc 1 836 1 view .LVU619
 1764              		.cfi_endproc
 1765              	.LFE349:
 1767              		.global	USBH_msc
 1768 008e 00BF     		.section	.rodata.str1.4,"aMS",%progbits,1
 1769              		.align	2
 1770              	.LC0:
 1771 0000 4D534300 		.ascii	"MSC\000"
 1772              		.section	.data.USBH_msc,"aw"
 1773              		.align	2
 1776              	USBH_msc:
 1777 0000 00000000 		.word	.LC0
 1778 0004 08       		.byte	8
 1779 0005 000000   		.space	3
 1780 0008 00000000 		.word	USBH_MSC_InterfaceInit
 1781 000c 00000000 		.word	USBH_MSC_InterfaceDeInit
 1782 0010 00000000 		.word	USBH_MSC_ClassRequest
 1783 0014 00000000 		.word	USBH_MSC_Process
 1784 0018 00000000 		.word	USBH_MSC_SOFProcess
ARM GAS  /tmp/ccfAFZnC.s 			page 56


 1785 001c 00000000 		.word	0
 1786              		.text
 1787              	.Letext0:
 1788              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 1789              		.file 3 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 1790              		.file 4 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 1791              		.file 5 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 1792              		.file 6 "/usr/include/newlib/sys/_types.h"
 1793              		.file 7 "/usr/include/newlib/sys/reent.h"
 1794              		.file 8 "/usr/include/newlib/sys/lock.h"
 1795              		.file 9 "/usr/include/newlib/math.h"
 1796              		.file 10 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 1797              		.file 11 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 1798              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 1799              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 1800              		.file 14 "/usr/include/newlib/stdlib.h"
 1801              		.file 15 "./Libraries/FreeRTOS/Source/CMSIS_RTOS/cmsis_os2.h"
 1802              		.file 16 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 1803              		.file 17 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_ctlreq.h"
 1804              		.file 18 "./Libraries/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc_bot.h"
 1805              		.file 19 "./Libraries/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc_scsi.h"
 1806              		.file 20 "./Libraries/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc.h"
 1807              		.file 21 "./Libraries/FreeRTOS/Source/include/portable.h"
 1808              		.file 22 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_pipes.h"
 1809              		.file 23 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_core.h"
 1810              		.file 24 "<built-in>"
ARM GAS  /tmp/ccfAFZnC.s 			page 57


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbh_msc.c
     /tmp/ccfAFZnC.s:17     .text.USBH_MSC_SOFProcess:0000000000000000 $t
     /tmp/ccfAFZnC.s:25     .text.USBH_MSC_SOFProcess:0000000000000000 USBH_MSC_SOFProcess
     /tmp/ccfAFZnC.s:45     .text.USBH_MSC_Process:0000000000000000 $t
     /tmp/ccfAFZnC.s:52     .text.USBH_MSC_Process:0000000000000000 USBH_MSC_Process
     /tmp/ccfAFZnC.s:116    .text.USBH_MSC_Process:0000000000000038 $d
     /tmp/ccfAFZnC.s:483    .text.USBH_MSC_ClassRequest:0000000000000000 $t
     /tmp/ccfAFZnC.s:490    .text.USBH_MSC_ClassRequest:0000000000000000 USBH_MSC_ClassRequest
     /tmp/ccfAFZnC.s:668    .text.USBH_MSC_InterfaceDeInit:0000000000000000 $t
     /tmp/ccfAFZnC.s:675    .text.USBH_MSC_InterfaceDeInit:0000000000000000 USBH_MSC_InterfaceDeInit
     /tmp/ccfAFZnC.s:776    .text.USBH_MSC_InterfaceInit:0000000000000000 $t
     /tmp/ccfAFZnC.s:783    .text.USBH_MSC_InterfaceInit:0000000000000000 USBH_MSC_InterfaceInit
     /tmp/ccfAFZnC.s:1019   .text.USBH_MSC_RdWrProcess:0000000000000000 $t
     /tmp/ccfAFZnC.s:1026   .text.USBH_MSC_RdWrProcess:0000000000000000 USBH_MSC_RdWrProcess
     /tmp/ccfAFZnC.s:1226   .text.USBH_MSC_IsReady:0000000000000000 $t
     /tmp/ccfAFZnC.s:1234   .text.USBH_MSC_IsReady:0000000000000000 USBH_MSC_IsReady
     /tmp/ccfAFZnC.s:1274   .text.USBH_MSC_GetMaxLUN:0000000000000000 $t
     /tmp/ccfAFZnC.s:1282   .text.USBH_MSC_GetMaxLUN:0000000000000000 USBH_MSC_GetMaxLUN
     /tmp/ccfAFZnC.s:1322   .text.USBH_MSC_UnitIsReady:0000000000000000 $t
     /tmp/ccfAFZnC.s:1330   .text.USBH_MSC_UnitIsReady:0000000000000000 USBH_MSC_UnitIsReady
     /tmp/ccfAFZnC.s:1372   .text.USBH_MSC_GetLUNInfo:0000000000000000 $t
     /tmp/ccfAFZnC.s:1380   .text.USBH_MSC_GetLUNInfo:0000000000000000 USBH_MSC_GetLUNInfo
     /tmp/ccfAFZnC.s:1458   .text.USBH_MSC_Read:0000000000000000 $t
     /tmp/ccfAFZnC.s:1466   .text.USBH_MSC_Read:0000000000000000 USBH_MSC_Read
     /tmp/ccfAFZnC.s:1613   .text.USBH_MSC_Write:0000000000000000 $t
     /tmp/ccfAFZnC.s:1621   .text.USBH_MSC_Write:0000000000000000 USBH_MSC_Write
     /tmp/ccfAFZnC.s:1776   .data.USBH_msc:0000000000000000 USBH_msc
     /tmp/ccfAFZnC.s:1769   .rodata.str1.4:0000000000000000 $d
     /tmp/ccfAFZnC.s:1773   .data.USBH_msc:0000000000000000 $d
     /tmp/ccfAFZnC.s:125    .text.USBH_MSC_Process:0000000000000041 $d
     /tmp/ccfAFZnC.s:125    .text.USBH_MSC_Process:0000000000000042 $t

UNDEFINED SYMBOLS
USBH_MSC_SCSI_RequestSense
osMessageQueuePut
USBH_MSC_SCSI_TestUnitReady
USBH_MSC_SCSI_ReadCapacity
USBH_MSC_SCSI_Inquiry
USBH_MSC_BOT_REQ_GetMaxLUN
USBH_ClrFeature
vPortFree
USBH_ClosePipe
USBH_FreePipe
USBH_FindInterface
USBH_SelectInterface
pvPortMalloc
memset
USBH_AllocPipe
USBH_MSC_BOT_Init
USBH_OpenPipe
USBH_LL_SetToggle
USBH_MSC_SCSI_Read
USBH_MSC_SCSI_Write
