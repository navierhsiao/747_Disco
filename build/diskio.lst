ARM GAS  /tmp/ccnORU6H.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"diskio.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.disk_status,"ax",%progbits
  17              		.align	1
  18              		.global	disk_status
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	disk_status:
  26              	.LFB335:
  27              		.file 1 "./Libraries/FatFs/Src/diskio.c"
   1:./Libraries/FatFs/Src/diskio.c **** /*-----------------------------------------------------------------------*/
   2:./Libraries/FatFs/Src/diskio.c **** /* Low level disk I/O module skeleton for FatFs     (C)ChaN, 2017        */
   3:./Libraries/FatFs/Src/diskio.c **** /*                                                                       */
   4:./Libraries/FatFs/Src/diskio.c **** /*   Portions COPYRIGHT 2017 STMicroelectronics                          */
   5:./Libraries/FatFs/Src/diskio.c **** /*   Portions Copyright (C) 2017, ChaN, all right reserved               */
   6:./Libraries/FatFs/Src/diskio.c **** /*-----------------------------------------------------------------------*/
   7:./Libraries/FatFs/Src/diskio.c **** /* If a working storage control module is available, it should be        */
   8:./Libraries/FatFs/Src/diskio.c **** /* attached to the FatFs via a glue function rather than modifying it.   */
   9:./Libraries/FatFs/Src/diskio.c **** /* This is an example of glue functions to attach various existing      */
  10:./Libraries/FatFs/Src/diskio.c **** /* storage control modules to the FatFs module with a defined API.       */
  11:./Libraries/FatFs/Src/diskio.c **** /*-----------------------------------------------------------------------*/
  12:./Libraries/FatFs/Src/diskio.c **** 
  13:./Libraries/FatFs/Src/diskio.c **** /* Includes ------------------------------------------------------------------*/
  14:./Libraries/FatFs/Src/diskio.c **** #include "diskio.h"
  15:./Libraries/FatFs/Src/diskio.c **** #include "ff_gen_drv.h"
  16:./Libraries/FatFs/Src/diskio.c **** 
  17:./Libraries/FatFs/Src/diskio.c **** #if defined ( __GNUC__ )
  18:./Libraries/FatFs/Src/diskio.c **** #ifndef __weak
  19:./Libraries/FatFs/Src/diskio.c **** #define __weak __attribute__((weak))
  20:./Libraries/FatFs/Src/diskio.c **** #endif
  21:./Libraries/FatFs/Src/diskio.c **** #endif
  22:./Libraries/FatFs/Src/diskio.c **** 
  23:./Libraries/FatFs/Src/diskio.c **** /* Private typedef -----------------------------------------------------------*/
  24:./Libraries/FatFs/Src/diskio.c **** /* Private define ------------------------------------------------------------*/
  25:./Libraries/FatFs/Src/diskio.c **** /* Private variables ---------------------------------------------------------*/
  26:./Libraries/FatFs/Src/diskio.c **** extern Disk_drvTypeDef  disk;
  27:./Libraries/FatFs/Src/diskio.c **** 
  28:./Libraries/FatFs/Src/diskio.c **** /* Private function prototypes -----------------------------------------------*/
  29:./Libraries/FatFs/Src/diskio.c **** /* Private functions ---------------------------------------------------------*/
  30:./Libraries/FatFs/Src/diskio.c **** 
  31:./Libraries/FatFs/Src/diskio.c **** /**
ARM GAS  /tmp/ccnORU6H.s 			page 2


  32:./Libraries/FatFs/Src/diskio.c ****   * @brief  Gets Disk Status
  33:./Libraries/FatFs/Src/diskio.c ****   * @param  pdrv: Physical drive number (0..)
  34:./Libraries/FatFs/Src/diskio.c ****   * @retval DSTATUS: Operation status
  35:./Libraries/FatFs/Src/diskio.c ****   */
  36:./Libraries/FatFs/Src/diskio.c **** DSTATUS disk_status (
  37:./Libraries/FatFs/Src/diskio.c **** 	BYTE pdrv		/* Physical drive number to identify the drive */
  38:./Libraries/FatFs/Src/diskio.c **** )
  39:./Libraries/FatFs/Src/diskio.c **** {
  28              		.loc 1 39 1
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 16
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 80B5     		push	{r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 84B0     		sub	sp, sp, #16
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 24
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 0346     		mov	r3, r0
  44 0008 FB71     		strb	r3, [r7, #7]
  40:./Libraries/FatFs/Src/diskio.c ****   DSTATUS stat;
  41:./Libraries/FatFs/Src/diskio.c **** 
  42:./Libraries/FatFs/Src/diskio.c ****   stat = disk.drv[pdrv]->disk_status(disk.lun[pdrv]);
  45              		.loc 1 42 18
  46 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
  47 000c 084A     		ldr	r2, .L3
  48 000e 9B00     		lsls	r3, r3, #2
  49 0010 1344     		add	r3, r3, r2
  50 0012 5B68     		ldr	r3, [r3, #4]
  51              		.loc 1 42 24
  52 0014 5B68     		ldr	r3, [r3, #4]
  53              		.loc 1 42 10
  54 0016 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
  55 0018 0549     		ldr	r1, .L3
  56 001a 0A44     		add	r2, r2, r1
  57 001c 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
  58 001e 1046     		mov	r0, r2
  59 0020 9847     		blx	r3
  60              	.LVL0:
  61 0022 0346     		mov	r3, r0
  62 0024 FB73     		strb	r3, [r7, #15]
  43:./Libraries/FatFs/Src/diskio.c ****   return stat;
  63              		.loc 1 43 10
  64 0026 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
  44:./Libraries/FatFs/Src/diskio.c **** }
  65              		.loc 1 44 1
  66 0028 1846     		mov	r0, r3
  67 002a 1037     		adds	r7, r7, #16
  68              	.LCFI3:
  69              		.cfi_def_cfa_offset 8
  70 002c BD46     		mov	sp, r7
  71              	.LCFI4:
ARM GAS  /tmp/ccnORU6H.s 			page 3


  72              		.cfi_def_cfa_register 13
  73              		@ sp needed
  74 002e 80BD     		pop	{r7, pc}
  75              	.L4:
  76              		.align	2
  77              	.L3:
  78 0030 00000000 		.word	disk
  79              		.cfi_endproc
  80              	.LFE335:
  82              		.section	.text.disk_initialize,"ax",%progbits
  83              		.align	1
  84              		.global	disk_initialize
  85              		.syntax unified
  86              		.thumb
  87              		.thumb_func
  88              		.fpu fpv5-d16
  90              	disk_initialize:
  91              	.LFB336:
  45:./Libraries/FatFs/Src/diskio.c **** 
  46:./Libraries/FatFs/Src/diskio.c **** /**
  47:./Libraries/FatFs/Src/diskio.c ****   * @brief  Initializes a Drive
  48:./Libraries/FatFs/Src/diskio.c ****   * @param  pdrv: Physical drive number (0..)
  49:./Libraries/FatFs/Src/diskio.c ****   * @retval DSTATUS: Operation status
  50:./Libraries/FatFs/Src/diskio.c ****   */
  51:./Libraries/FatFs/Src/diskio.c **** DSTATUS disk_initialize (
  52:./Libraries/FatFs/Src/diskio.c **** 	BYTE pdrv				/* Physical drive nmuber to identify the drive */
  53:./Libraries/FatFs/Src/diskio.c **** )
  54:./Libraries/FatFs/Src/diskio.c **** {
  92              		.loc 1 54 1
  93              		.cfi_startproc
  94              		@ args = 0, pretend = 0, frame = 16
  95              		@ frame_needed = 1, uses_anonymous_args = 0
  96 0000 80B5     		push	{r7, lr}
  97              	.LCFI5:
  98              		.cfi_def_cfa_offset 8
  99              		.cfi_offset 7, -8
 100              		.cfi_offset 14, -4
 101 0002 84B0     		sub	sp, sp, #16
 102              	.LCFI6:
 103              		.cfi_def_cfa_offset 24
 104 0004 00AF     		add	r7, sp, #0
 105              	.LCFI7:
 106              		.cfi_def_cfa_register 7
 107 0006 0346     		mov	r3, r0
 108 0008 FB71     		strb	r3, [r7, #7]
  55:./Libraries/FatFs/Src/diskio.c ****   DSTATUS stat = RES_OK;
 109              		.loc 1 55 11
 110 000a 0023     		movs	r3, #0
 111 000c FB73     		strb	r3, [r7, #15]
  56:./Libraries/FatFs/Src/diskio.c **** 
  57:./Libraries/FatFs/Src/diskio.c ****   if(disk.is_initialized[pdrv] == 0)
 112              		.loc 1 57 25
 113 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 114 0010 0D4A     		ldr	r2, .L8
 115 0012 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 116              		.loc 1 57 5
 117 0014 002B     		cmp	r3, #0
ARM GAS  /tmp/ccnORU6H.s 			page 4


 118 0016 11D1     		bne	.L6
  58:./Libraries/FatFs/Src/diskio.c ****   {
  59:./Libraries/FatFs/Src/diskio.c ****     disk.is_initialized[pdrv] = 1;
 119              		.loc 1 59 24
 120 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 121              		.loc 1 59 31
 122 001a 0B4A     		ldr	r2, .L8
 123 001c 0121     		movs	r1, #1
 124 001e D154     		strb	r1, [r2, r3]
  60:./Libraries/FatFs/Src/diskio.c ****     stat = disk.drv[pdrv]->disk_initialize(disk.lun[pdrv]);
 125              		.loc 1 60 20
 126 0020 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 127 0022 094A     		ldr	r2, .L8
 128 0024 9B00     		lsls	r3, r3, #2
 129 0026 1344     		add	r3, r3, r2
 130 0028 5B68     		ldr	r3, [r3, #4]
 131              		.loc 1 60 26
 132 002a 1B68     		ldr	r3, [r3]
 133              		.loc 1 60 12
 134 002c FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 135 002e 0649     		ldr	r1, .L8
 136 0030 0A44     		add	r2, r2, r1
 137 0032 127A     		ldrb	r2, [r2, #8]	@ zero_extendqisi2
 138 0034 1046     		mov	r0, r2
 139 0036 9847     		blx	r3
 140              	.LVL1:
 141 0038 0346     		mov	r3, r0
 142 003a FB73     		strb	r3, [r7, #15]
 143              	.L6:
  61:./Libraries/FatFs/Src/diskio.c ****   }
  62:./Libraries/FatFs/Src/diskio.c ****   return stat;
 144              		.loc 1 62 10
 145 003c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
  63:./Libraries/FatFs/Src/diskio.c **** }
 146              		.loc 1 63 1
 147 003e 1846     		mov	r0, r3
 148 0040 1037     		adds	r7, r7, #16
 149              	.LCFI8:
 150              		.cfi_def_cfa_offset 8
 151 0042 BD46     		mov	sp, r7
 152              	.LCFI9:
 153              		.cfi_def_cfa_register 13
 154              		@ sp needed
 155 0044 80BD     		pop	{r7, pc}
 156              	.L9:
 157 0046 00BF     		.align	2
 158              	.L8:
 159 0048 00000000 		.word	disk
 160              		.cfi_endproc
 161              	.LFE336:
 163              		.section	.text.disk_read,"ax",%progbits
 164              		.align	1
 165              		.global	disk_read
 166              		.syntax unified
 167              		.thumb
 168              		.thumb_func
 169              		.fpu fpv5-d16
ARM GAS  /tmp/ccnORU6H.s 			page 5


 171              	disk_read:
 172              	.LFB337:
  64:./Libraries/FatFs/Src/diskio.c **** 
  65:./Libraries/FatFs/Src/diskio.c **** /**
  66:./Libraries/FatFs/Src/diskio.c ****   * @brief  Reads Sector(s)
  67:./Libraries/FatFs/Src/diskio.c ****   * @param  pdrv: Physical drive number (0..)
  68:./Libraries/FatFs/Src/diskio.c ****   * @param  *buff: Data buffer to store read data
  69:./Libraries/FatFs/Src/diskio.c ****   * @param  sector: Sector address (LBA)
  70:./Libraries/FatFs/Src/diskio.c ****   * @param  count: Number of sectors to read (1..128)
  71:./Libraries/FatFs/Src/diskio.c ****   * @retval DRESULT: Operation result
  72:./Libraries/FatFs/Src/diskio.c ****   */
  73:./Libraries/FatFs/Src/diskio.c **** DRESULT disk_read (
  74:./Libraries/FatFs/Src/diskio.c **** 	BYTE pdrv,		/* Physical drive nmuber to identify the drive */
  75:./Libraries/FatFs/Src/diskio.c **** 	BYTE *buff,		/* Data buffer to store read data */
  76:./Libraries/FatFs/Src/diskio.c **** 	DWORD sector,	        /* Sector address in LBA */
  77:./Libraries/FatFs/Src/diskio.c **** 	UINT count		/* Number of sectors to read */
  78:./Libraries/FatFs/Src/diskio.c **** )
  79:./Libraries/FatFs/Src/diskio.c **** {
 173              		.loc 1 79 1
 174              		.cfi_startproc
 175              		@ args = 0, pretend = 0, frame = 24
 176              		@ frame_needed = 1, uses_anonymous_args = 0
 177 0000 90B5     		push	{r4, r7, lr}
 178              	.LCFI10:
 179              		.cfi_def_cfa_offset 12
 180              		.cfi_offset 4, -12
 181              		.cfi_offset 7, -8
 182              		.cfi_offset 14, -4
 183 0002 87B0     		sub	sp, sp, #28
 184              	.LCFI11:
 185              		.cfi_def_cfa_offset 40
 186 0004 00AF     		add	r7, sp, #0
 187              	.LCFI12:
 188              		.cfi_def_cfa_register 7
 189 0006 B960     		str	r1, [r7, #8]
 190 0008 7A60     		str	r2, [r7, #4]
 191 000a 3B60     		str	r3, [r7]
 192 000c 0346     		mov	r3, r0
 193 000e FB73     		strb	r3, [r7, #15]
  80:./Libraries/FatFs/Src/diskio.c ****   DRESULT res;
  81:./Libraries/FatFs/Src/diskio.c **** 
  82:./Libraries/FatFs/Src/diskio.c ****   res = disk.drv[pdrv]->disk_read(disk.lun[pdrv], buff, sector, count);
 194              		.loc 1 82 17
 195 0010 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 196 0012 0A4A     		ldr	r2, .L12
 197 0014 9B00     		lsls	r3, r3, #2
 198 0016 1344     		add	r3, r3, r2
 199 0018 5B68     		ldr	r3, [r3, #4]
 200              		.loc 1 82 23
 201 001a 9C68     		ldr	r4, [r3, #8]
 202              		.loc 1 82 9
 203 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 204 001e 074A     		ldr	r2, .L12
 205 0020 1344     		add	r3, r3, r2
 206 0022 187A     		ldrb	r0, [r3, #8]	@ zero_extendqisi2
 207 0024 3B68     		ldr	r3, [r7]
 208 0026 7A68     		ldr	r2, [r7, #4]
ARM GAS  /tmp/ccnORU6H.s 			page 6


 209 0028 B968     		ldr	r1, [r7, #8]
 210 002a A047     		blx	r4
 211              	.LVL2:
 212 002c 0346     		mov	r3, r0
 213 002e FB75     		strb	r3, [r7, #23]
  83:./Libraries/FatFs/Src/diskio.c ****   return res;
 214              		.loc 1 83 10
 215 0030 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
  84:./Libraries/FatFs/Src/diskio.c **** }
 216              		.loc 1 84 1
 217 0032 1846     		mov	r0, r3
 218 0034 1C37     		adds	r7, r7, #28
 219              	.LCFI13:
 220              		.cfi_def_cfa_offset 12
 221 0036 BD46     		mov	sp, r7
 222              	.LCFI14:
 223              		.cfi_def_cfa_register 13
 224              		@ sp needed
 225 0038 90BD     		pop	{r4, r7, pc}
 226              	.L13:
 227 003a 00BF     		.align	2
 228              	.L12:
 229 003c 00000000 		.word	disk
 230              		.cfi_endproc
 231              	.LFE337:
 233              		.section	.text.disk_write,"ax",%progbits
 234              		.align	1
 235              		.global	disk_write
 236              		.syntax unified
 237              		.thumb
 238              		.thumb_func
 239              		.fpu fpv5-d16
 241              	disk_write:
 242              	.LFB338:
  85:./Libraries/FatFs/Src/diskio.c **** 
  86:./Libraries/FatFs/Src/diskio.c **** /**
  87:./Libraries/FatFs/Src/diskio.c ****   * @brief  Writes Sector(s)
  88:./Libraries/FatFs/Src/diskio.c ****   * @param  pdrv: Physical drive number (0..)
  89:./Libraries/FatFs/Src/diskio.c ****   * @param  *buff: Data to be written
  90:./Libraries/FatFs/Src/diskio.c ****   * @param  sector: Sector address (LBA)
  91:./Libraries/FatFs/Src/diskio.c ****   * @param  count: Number of sectors to write (1..128)
  92:./Libraries/FatFs/Src/diskio.c ****   * @retval DRESULT: Operation result
  93:./Libraries/FatFs/Src/diskio.c ****   */
  94:./Libraries/FatFs/Src/diskio.c **** #if _USE_WRITE == 1
  95:./Libraries/FatFs/Src/diskio.c **** DRESULT disk_write (
  96:./Libraries/FatFs/Src/diskio.c **** 	BYTE pdrv,		/* Physical drive nmuber to identify the drive */
  97:./Libraries/FatFs/Src/diskio.c **** 	const BYTE *buff,	/* Data to be written */
  98:./Libraries/FatFs/Src/diskio.c **** 	DWORD sector,		/* Sector address in LBA */
  99:./Libraries/FatFs/Src/diskio.c **** 	UINT count        	/* Number of sectors to write */
 100:./Libraries/FatFs/Src/diskio.c **** )
 101:./Libraries/FatFs/Src/diskio.c **** {
 243              		.loc 1 101 1
 244              		.cfi_startproc
 245              		@ args = 0, pretend = 0, frame = 24
 246              		@ frame_needed = 1, uses_anonymous_args = 0
 247 0000 90B5     		push	{r4, r7, lr}
 248              	.LCFI15:
ARM GAS  /tmp/ccnORU6H.s 			page 7


 249              		.cfi_def_cfa_offset 12
 250              		.cfi_offset 4, -12
 251              		.cfi_offset 7, -8
 252              		.cfi_offset 14, -4
 253 0002 87B0     		sub	sp, sp, #28
 254              	.LCFI16:
 255              		.cfi_def_cfa_offset 40
 256 0004 00AF     		add	r7, sp, #0
 257              	.LCFI17:
 258              		.cfi_def_cfa_register 7
 259 0006 B960     		str	r1, [r7, #8]
 260 0008 7A60     		str	r2, [r7, #4]
 261 000a 3B60     		str	r3, [r7]
 262 000c 0346     		mov	r3, r0
 263 000e FB73     		strb	r3, [r7, #15]
 102:./Libraries/FatFs/Src/diskio.c ****   DRESULT res;
 103:./Libraries/FatFs/Src/diskio.c **** 
 104:./Libraries/FatFs/Src/diskio.c ****   res = disk.drv[pdrv]->disk_write(disk.lun[pdrv], buff, sector, count);
 264              		.loc 1 104 17
 265 0010 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 266 0012 0A4A     		ldr	r2, .L16
 267 0014 9B00     		lsls	r3, r3, #2
 268 0016 1344     		add	r3, r3, r2
 269 0018 5B68     		ldr	r3, [r3, #4]
 270              		.loc 1 104 23
 271 001a DC68     		ldr	r4, [r3, #12]
 272              		.loc 1 104 9
 273 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 274 001e 074A     		ldr	r2, .L16
 275 0020 1344     		add	r3, r3, r2
 276 0022 187A     		ldrb	r0, [r3, #8]	@ zero_extendqisi2
 277 0024 3B68     		ldr	r3, [r7]
 278 0026 7A68     		ldr	r2, [r7, #4]
 279 0028 B968     		ldr	r1, [r7, #8]
 280 002a A047     		blx	r4
 281              	.LVL3:
 282 002c 0346     		mov	r3, r0
 283 002e FB75     		strb	r3, [r7, #23]
 105:./Libraries/FatFs/Src/diskio.c ****   return res;
 284              		.loc 1 105 10
 285 0030 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 106:./Libraries/FatFs/Src/diskio.c **** }
 286              		.loc 1 106 1
 287 0032 1846     		mov	r0, r3
 288 0034 1C37     		adds	r7, r7, #28
 289              	.LCFI18:
 290              		.cfi_def_cfa_offset 12
 291 0036 BD46     		mov	sp, r7
 292              	.LCFI19:
 293              		.cfi_def_cfa_register 13
 294              		@ sp needed
 295 0038 90BD     		pop	{r4, r7, pc}
 296              	.L17:
 297 003a 00BF     		.align	2
 298              	.L16:
 299 003c 00000000 		.word	disk
 300              		.cfi_endproc
ARM GAS  /tmp/ccnORU6H.s 			page 8


 301              	.LFE338:
 303              		.section	.text.disk_ioctl,"ax",%progbits
 304              		.align	1
 305              		.global	disk_ioctl
 306              		.syntax unified
 307              		.thumb
 308              		.thumb_func
 309              		.fpu fpv5-d16
 311              	disk_ioctl:
 312              	.LFB339:
 107:./Libraries/FatFs/Src/diskio.c **** #endif /* _USE_WRITE == 1 */
 108:./Libraries/FatFs/Src/diskio.c **** 
 109:./Libraries/FatFs/Src/diskio.c **** /**
 110:./Libraries/FatFs/Src/diskio.c ****   * @brief  I/O control operation
 111:./Libraries/FatFs/Src/diskio.c ****   * @param  pdrv: Physical drive number (0..)
 112:./Libraries/FatFs/Src/diskio.c ****   * @param  cmd: Control code
 113:./Libraries/FatFs/Src/diskio.c ****   * @param  *buff: Buffer to send/receive control data
 114:./Libraries/FatFs/Src/diskio.c ****   * @retval DRESULT: Operation result
 115:./Libraries/FatFs/Src/diskio.c ****   */
 116:./Libraries/FatFs/Src/diskio.c **** #if _USE_IOCTL == 1
 117:./Libraries/FatFs/Src/diskio.c **** DRESULT disk_ioctl (
 118:./Libraries/FatFs/Src/diskio.c **** 	BYTE pdrv,		/* Physical drive nmuber (0..) */
 119:./Libraries/FatFs/Src/diskio.c **** 	BYTE cmd,		/* Control code */
 120:./Libraries/FatFs/Src/diskio.c **** 	void *buff		/* Buffer to send/receive control data */
 121:./Libraries/FatFs/Src/diskio.c **** )
 122:./Libraries/FatFs/Src/diskio.c **** {
 313              		.loc 1 122 1
 314              		.cfi_startproc
 315              		@ args = 0, pretend = 0, frame = 16
 316              		@ frame_needed = 1, uses_anonymous_args = 0
 317 0000 80B5     		push	{r7, lr}
 318              	.LCFI20:
 319              		.cfi_def_cfa_offset 8
 320              		.cfi_offset 7, -8
 321              		.cfi_offset 14, -4
 322 0002 84B0     		sub	sp, sp, #16
 323              	.LCFI21:
 324              		.cfi_def_cfa_offset 24
 325 0004 00AF     		add	r7, sp, #0
 326              	.LCFI22:
 327              		.cfi_def_cfa_register 7
 328 0006 0346     		mov	r3, r0
 329 0008 3A60     		str	r2, [r7]
 330 000a FB71     		strb	r3, [r7, #7]
 331 000c 0B46     		mov	r3, r1
 332 000e BB71     		strb	r3, [r7, #6]
 123:./Libraries/FatFs/Src/diskio.c ****   DRESULT res;
 124:./Libraries/FatFs/Src/diskio.c **** 
 125:./Libraries/FatFs/Src/diskio.c ****   res = disk.drv[pdrv]->disk_ioctl(disk.lun[pdrv], cmd, buff);
 333              		.loc 1 125 17
 334 0010 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 335 0012 094A     		ldr	r2, .L20
 336 0014 9B00     		lsls	r3, r3, #2
 337 0016 1344     		add	r3, r3, r2
 338 0018 5B68     		ldr	r3, [r3, #4]
 339              		.loc 1 125 23
 340 001a 1B69     		ldr	r3, [r3, #16]
ARM GAS  /tmp/ccnORU6H.s 			page 9


 341              		.loc 1 125 9
 342 001c FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 343 001e 0649     		ldr	r1, .L20
 344 0020 0A44     		add	r2, r2, r1
 345 0022 107A     		ldrb	r0, [r2, #8]	@ zero_extendqisi2
 346 0024 B979     		ldrb	r1, [r7, #6]	@ zero_extendqisi2
 347 0026 3A68     		ldr	r2, [r7]
 348 0028 9847     		blx	r3
 349              	.LVL4:
 350 002a 0346     		mov	r3, r0
 351 002c FB73     		strb	r3, [r7, #15]
 126:./Libraries/FatFs/Src/diskio.c ****   return res;
 352              		.loc 1 126 10
 353 002e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 127:./Libraries/FatFs/Src/diskio.c **** }
 354              		.loc 1 127 1
 355 0030 1846     		mov	r0, r3
 356 0032 1037     		adds	r7, r7, #16
 357              	.LCFI23:
 358              		.cfi_def_cfa_offset 8
 359 0034 BD46     		mov	sp, r7
 360              	.LCFI24:
 361              		.cfi_def_cfa_register 13
 362              		@ sp needed
 363 0036 80BD     		pop	{r7, pc}
 364              	.L21:
 365              		.align	2
 366              	.L20:
 367 0038 00000000 		.word	disk
 368              		.cfi_endproc
 369              	.LFE339:
 371              		.section	.text.get_fattime,"ax",%progbits
 372              		.align	1
 373              		.weak	get_fattime
 374              		.syntax unified
 375              		.thumb
 376              		.thumb_func
 377              		.fpu fpv5-d16
 379              	get_fattime:
 380              	.LFB340:
 128:./Libraries/FatFs/Src/diskio.c **** #endif /* _USE_IOCTL == 1 */
 129:./Libraries/FatFs/Src/diskio.c **** 
 130:./Libraries/FatFs/Src/diskio.c **** /**
 131:./Libraries/FatFs/Src/diskio.c ****   * @brief  Gets Time from RTC
 132:./Libraries/FatFs/Src/diskio.c ****   * @param  None
 133:./Libraries/FatFs/Src/diskio.c ****   * @retval Time in DWORD
 134:./Libraries/FatFs/Src/diskio.c ****   */
 135:./Libraries/FatFs/Src/diskio.c **** __weak DWORD get_fattime (void)
 136:./Libraries/FatFs/Src/diskio.c **** {
 381              		.loc 1 136 1
 382              		.cfi_startproc
 383              		@ args = 0, pretend = 0, frame = 0
 384              		@ frame_needed = 1, uses_anonymous_args = 0
 385              		@ link register save eliminated.
 386 0000 80B4     		push	{r7}
 387              	.LCFI25:
 388              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccnORU6H.s 			page 10


 389              		.cfi_offset 7, -4
 390 0002 00AF     		add	r7, sp, #0
 391              	.LCFI26:
 392              		.cfi_def_cfa_register 7
 137:./Libraries/FatFs/Src/diskio.c ****   return 0;
 393              		.loc 1 137 10
 394 0004 0023     		movs	r3, #0
 138:./Libraries/FatFs/Src/diskio.c **** }
 395              		.loc 1 138 1
 396 0006 1846     		mov	r0, r3
 397 0008 BD46     		mov	sp, r7
 398              	.LCFI27:
 399              		.cfi_def_cfa_register 13
 400              		@ sp needed
 401 000a 5DF8047B 		ldr	r7, [sp], #4
 402              	.LCFI28:
 403              		.cfi_restore 7
 404              		.cfi_def_cfa_offset 0
 405 000e 7047     		bx	lr
 406              		.cfi_endproc
 407              	.LFE340:
 409              		.text
 410              	.Letext0:
 411              		.file 2 "./Libraries/FatFs/Inc/integer.h"
 412              		.file 3 "./Libraries/FatFs/Inc/diskio.h"
 413              		.file 4 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 414              		.file 5 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 415              		.file 6 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 416              		.file 7 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 417              		.file 8 "/usr/include/newlib/sys/_types.h"
 418              		.file 9 "/usr/include/newlib/sys/reent.h"
 419              		.file 10 "/usr/include/newlib/sys/lock.h"
 420              		.file 11 "/usr/include/newlib/math.h"
 421              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 422              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 423              		.file 14 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 424              		.file 15 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 425              		.file 16 "./Libraries/FatFs/Inc/ff_gen_drv.h"
ARM GAS  /tmp/ccnORU6H.s 			page 11


DEFINED SYMBOLS
                            *ABS*:0000000000000000 diskio.c
     /tmp/ccnORU6H.s:17     .text.disk_status:0000000000000000 $t
     /tmp/ccnORU6H.s:25     .text.disk_status:0000000000000000 disk_status
     /tmp/ccnORU6H.s:78     .text.disk_status:0000000000000030 $d
     /tmp/ccnORU6H.s:83     .text.disk_initialize:0000000000000000 $t
     /tmp/ccnORU6H.s:90     .text.disk_initialize:0000000000000000 disk_initialize
     /tmp/ccnORU6H.s:159    .text.disk_initialize:0000000000000048 $d
     /tmp/ccnORU6H.s:164    .text.disk_read:0000000000000000 $t
     /tmp/ccnORU6H.s:171    .text.disk_read:0000000000000000 disk_read
     /tmp/ccnORU6H.s:229    .text.disk_read:000000000000003c $d
     /tmp/ccnORU6H.s:234    .text.disk_write:0000000000000000 $t
     /tmp/ccnORU6H.s:241    .text.disk_write:0000000000000000 disk_write
     /tmp/ccnORU6H.s:299    .text.disk_write:000000000000003c $d
     /tmp/ccnORU6H.s:304    .text.disk_ioctl:0000000000000000 $t
     /tmp/ccnORU6H.s:311    .text.disk_ioctl:0000000000000000 disk_ioctl
     /tmp/ccnORU6H.s:367    .text.disk_ioctl:0000000000000038 $d
     /tmp/ccnORU6H.s:372    .text.get_fattime:0000000000000000 $t
     /tmp/ccnORU6H.s:379    .text.get_fattime:0000000000000000 get_fattime

UNDEFINED SYMBOLS
disk
