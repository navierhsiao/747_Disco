ARM GAS  /tmp/ccRis3lg.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"stm32h7xx_hal_sd.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.HAL_SD_Init,"ax",%progbits
  17              		.align	1
  18              		.global	HAL_SD_Init
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	HAL_SD_Init:
  26              	.LFB331:
  27              		.file 1 "./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c"
   1:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
   2:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
   3:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @file    stm32h7xx_hal_sd.c
   4:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @author  MCD Application Team
   5:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   6:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This file provides firmware functions to manage the following
   7:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
   8:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Initialization and de-initialization functions
   9:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + IO operation functions
  10:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Peripheral Control functions
  11:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *           + Peripheral State functions
  12:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
  13:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   @verbatim
  14:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
  15:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         ##### How to use this driver #####
  16:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
  17:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  18:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to
  19:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDMMC and GPIO) are performed by
  20:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).
  21:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the
  22:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     examples.
  23:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  24:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  25:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  26:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This driver is a generic layered driver for SDMMC memories which uses the HAL
  27:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SDMMC driver functions to interface with SD and uSD cards devices.
  28:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     It is used as follows:
  29:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  30:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#)Initialize the SDMMC low level resources by implementing the HAL_SD_MspInit() API:
  31:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) Enable the SDMMC interface clock using __HAL_RCC_SDMMC_CLK_ENABLE();
ARM GAS  /tmp/ccRis3lg.s 			page 2


  32:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) SDMMC pins configuration for SD card
  33:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Enable the clock for the SDMMC GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENAB
  34:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Configure these SDMMC pins as alternate function pull-up using HAL_GPIO_Init()
  35:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and according to your pin assignment;
  36:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process (HAL_SD_ReadBlocks_IT()
  37:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****              and HAL_SD_WriteBlocks_IT() APIs).
  38:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Configure the SDMMC interrupt priorities using function HAL_NVIC_SetPriority();
  39:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) Enable the NVIC SDMMC IRQs using function HAL_NVIC_EnableIRQ()
  40:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) SDMMC interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  41:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  42:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (+++) SDMMC interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  43:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  44:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         (##) No general propose DMA Configuration is needed, an Internal DMA for SDMMC Peripheral a
  45:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  46:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization
  47:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  48:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  49:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  50:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ================================================
  51:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
  52:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function. It Initializes
  53:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SDMMC Peripheral(STM32 side) and the SD Card, and put it into StandBy State (Ready for data tra
  54:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function provide the following operations:
  55:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  56:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card
  57:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this
  58:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  59:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         The SD Card frequency (SDMMC_CK) is computed as follows:
  60:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  61:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****            SDMMC_CK = SDMMCCLK / (2 * ClockDiv)
  62:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  63:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         In initialization mode and according to the SD Card standard,
  64:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         make sure that the SDMMC_CK frequency doesn't exceed 400KHz.
  65:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  66:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This phase of initialization is done through SDMMC_Init() and
  67:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         SDMMC_PowerState_ON() SDMMC low level APIs.
  68:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  69:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Initialize the SD card. The API used is HAL_SD_InitCard().
  70:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This phase allows the card initialization and identification
  71:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         and check the SD Card type (Standard Capacity or High Capacity)
  72:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         The initialization flow is compatible with SD standard.
  73:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  74:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This API (HAL_SD_InitCard()) could be used also to reinitialize the card in case
  75:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         of plug-off plug-in.
  76:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  77:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. You can change or adapt this
  78:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  79:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the
  80:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         SDMMC_CK frequency doesn't exceed 25MHz and 100MHz in High-speed mode switch.
  81:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  82:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
  83:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  84:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
  85:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  86:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Read operation ***
  87:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================
  88:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
ARM GAS  /tmp/ccRis3lg.s 			page 3


  89:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks().
  90:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
  91:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
  92:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
  93:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
  94:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
  95:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
  96:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
  97:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
  98:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
  99:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 100:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 101:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 102:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 103:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 104:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Rx interrupt event.
 105:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 106:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can read from SD card in Interrupt mode by using function HAL_SD_ReadBlocks_IT().
 107:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 108:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 109:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 110:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 111:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 112:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 113:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the IT transfer process through the SD Rx interrupt event.
 114:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 115:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD Card Write operation ***
 116:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ===============================
 117:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 118:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks().
 119:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 120:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 121:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 122:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 123:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 124:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 125:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 126:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 127:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 128:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 129:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 130:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 131:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 132:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 133:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Tx interrupt event.
 134:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 135:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) You can write to SD card in Interrupt mode by using function HAL_SD_WriteBlocks_IT().
 136:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 137:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         chosen as 512 bytes).
 138:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 139:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 140:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 141:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         You could also check the IT transfer process through the SD Tx interrupt event.
 143:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 144:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card status ***
 145:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ======================
ARM GAS  /tmp/ccRis3lg.s 			page 4


 146:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 147:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The SD Status contains status bits that are related to the SD Memory
 148:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Card proprietary features. To get SD card status use the HAL_SD_GetCardStatus().
 149:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 150:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card information ***
 151:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ===========================
 152:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 153:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) To get SD card information, you can use the function HAL_SD_GetCardInfo().
 154:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         It returns useful information about the SD card such as block size, card type,
 155:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         block number ...
 156:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 157:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card CSD register ***
 158:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ============================
 159:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The HAL_SD_GetCardCSD() API allows to get the parameters of the CSD register.
 160:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 161:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 162:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD card CID register ***
 163:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ============================
 164:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) The HAL_SD_GetCardCID() API allows to get the parameters of the CID register.
 165:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 166:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 167:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** SD HAL driver macros list ***
 168:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==================================
 169:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 170:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 171:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 172:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_ENABLE_IT: Enable the SD device interrupt
 173:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_DISABLE_IT: Disable the SD device interrupt
 174:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_GET_FLAG:Check whether the specified SD flag is set or not
 175:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (+) __HAL_SD_CLEAR_FLAG: Clear the SD's pending flags
 176:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 177:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros
 178:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 179:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *** Callback registration ***
 180:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   =============================================
 181:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 182:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     The compilation define USE_HAL_SD_REGISTER_CALLBACKS when set to 1
 183:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     allows the user to configure dynamically the driver callbacks.
 184:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 185:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Use Functions @ref HAL_SD_RegisterCallback() to register a user callback,
 186:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     it allows to register following callbacks:
 187:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 188:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 189:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 190:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 191:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
 192:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 193:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 194:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 195:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 196:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 197:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function takes as parameters the HAL peripheral handle, the Callback ID
 198:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and a pointer to the user callback function.
 199:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated register callbacks:
 200:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     respectively @ref HAL_SD_RegisterTransceiverCallback().
 201:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 202:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Use function @ref HAL_SD_UnRegisterCallback() to reset a callback to the default
ARM GAS  /tmp/ccRis3lg.s 			page 5


 203:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     weak (surcharged) function. It allows to reset following callbacks:
 204:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 205:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 206:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 207:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 208:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf0CpltCallback : callback when the DMA reception of first buffer is complete
 209:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Read_DMADblBuf1CpltCallback : callback when the DMA reception of second buffer is complet
 210:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf0CpltCallback : callback when the DMA transmission of first buffer is comp
 211:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) Write_DMADblBuf1CpltCallback : callback when the DMA transmission of second buffer is com
 212:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 213:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 214:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This function) takes as parameters the HAL peripheral handle and the Callback ID.
 215:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     For specific callbacks TransceiverCallback use dedicated unregister callbacks:
 216:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     respectively @ref HAL_SD_UnRegisterTransceiverCallback().
 217:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 218:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     By default, after the @ref HAL_SD_Init and if the state is HAL_SD_STATE_RESET
 219:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     all callbacks are reset to the corresponding legacy weak (surcharged) functions.
 220:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Exception done for MspInit and MspDeInit callbacks that are respectively
 221:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     reset to the legacy weak (surcharged) functions in the @ref HAL_SD_Init
 222:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and @ref  HAL_SD_DeInit only when these callbacks are null (not registered beforehand).
 223:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     If not, MspInit or MspDeInit are not null, the @ref HAL_SD_Init and @ref HAL_SD_DeInit
 224:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     keep and use the user MspInit/MspDeInit callbacks (registered beforehand)
 225:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 226:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Callbacks can be registered/unregistered in READY state only.
 227:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     Exception done for MspInit/MspDeInit callbacks that can be registered/unregistered
 228:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     in READY or RESET state, thus registered (user) MspInit/DeInit callbacks can be used
 229:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     during the Init/DeInit.
 230:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     In that case first register the MspInit/MspDeInit user callbacks
 231:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     using @ref HAL_SD_RegisterCallback before calling @ref HAL_SD_DeInit
 232:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     or @ref HAL_SD_Init function.
 233:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 234:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     When The compilation define USE_HAL_SD_REGISTER_CALLBACKS is set to 0 or
 235:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     not defined, the callback registering feature is not available
 236:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     and weak (surcharged) callbacks are used.
 237:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 238:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   @endverbatim
 239:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
 240:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @attention
 241:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 242:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * <h2><center>&copy; Copyright (c) 2017 STMicroelectronics.
 243:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * All rights reserved.</center></h2>
 244:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * This software component is licensed by ST under BSD 3-Clause license,
 246:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * the "License"; You may not use this file except in compliance with the
 247:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * License. You may obtain a copy of the License at:
 248:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *                       opensource.org/licenses/BSD-3-Clause
 249:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 250:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ******************************************************************************
 251:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 252:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 253:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
 254:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #include "stm32h7xx_hal.h"
 255:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 256:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup STM32H7xx_HAL_Driver
 257:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 258:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 259:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 6


 260:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD
 261:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 262:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 263:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 264:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 265:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 266:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 267:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 268:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 269:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 270:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 271:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Frequencies used in the driver for clock divider calculation */
 272:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_INIT_FREQ                   400000U   /* Initalization phase : 400 kHz max */
 273:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_NORMAL_SPEED_FREQ           25000000U /* Normal speed phase : 25 MHz max */
 274:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_HIGH_SPEED_FREQ             50000000U /* High speed phase : 50 MHz max */
 275:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 276:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) && defined (DLYB_SDMMC2)
 277:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_GET_DLYB_INSTANCE(SDMMC_INSTANCE) (((SDMMC_INSTANCE) == SDMMC1)?  \
 278:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                               DLYB_SDMMC1 : DLYB_SDMMC2 )
 279:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #elif defined (DLYB_SDMMC1)
 280:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #define SD_GET_DLYB_INSTANCE(SDMMC_INSTANCE) ( DLYB_SDMMC1 )
 281:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) && defined (DLYB_SDMMC2) */
 282:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 283:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 284:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 285:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 286:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 287:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 288:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 289:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private functions ---------------------------------------------------------*/
 290:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @defgroup SD_Private_Functions SD Private Functions
 291:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 292:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 293:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd);
 294:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd);
 295:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus);
 296:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 297:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd);
 298:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 299:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR);
 300:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_PowerOFF(SD_HandleTypeDef *hsd);
 301:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_Write_IT(SD_HandleTypeDef *hsd);
 302:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void     SD_Read_IT(SD_HandleTypeDef *hsd);
 303:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_HighSpeed(SD_HandleTypeDef *hsd);
 304:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 305:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed(SD_HandleTypeDef *hsd);
 306:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_DDR_Mode(SD_HandleTypeDef *hsd);
 307:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
 308:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 309:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 310:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 311:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 312:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 313:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 314:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 315:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 316:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 7


 317:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
 318:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   Initialization and de-initialization functions
 319:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 320:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
 321:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 322:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 323:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 324:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 325:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 326:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     card device to be ready for use.
 327:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 328:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
 329:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 330:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 331:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 332:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 333:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD according to the specified parameters in the
 334:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 335:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to the SD handle
 336:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 337:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 338:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Init(SD_HandleTypeDef *hsd)
 339:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
  28              		.loc 1 339 1
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 40
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 80B5     		push	{r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 8AB0     		sub	sp, sp, #40
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 48
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 7860     		str	r0, [r7, #4]
 340:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStatusTypeDef CardStatus;
 341:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t speedgrade;
 342:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t unitsize;
 343:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
 344:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 345:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 346:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd == NULL)
  44              		.loc 1 346 6
  45 0008 7B68     		ldr	r3, [r7, #4]
  46 000a 002B     		cmp	r3, #0
  47 000c 01D1     		bne	.L2
 347:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 348:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
  48              		.loc 1 348 12
  49 000e 0123     		movs	r3, #1
  50 0010 7CE0     		b	.L15
  51              	.L2:
 349:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /tmp/ccRis3lg.s 			page 8


 350:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 351:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
 352:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 353:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_EDGE(hsd->Init.ClockEdge));
 354:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 355:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(hsd->Init.BusWide));
 356:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 357:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_CLKDIV(hsd->Init.ClockDiv));
 358:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 359:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_RESET)
  52              		.loc 1 359 10
  53 0012 7B68     		ldr	r3, [r7, #4]
  54 0014 93F83430 		ldrb	r3, [r3, #52]
  55 0018 DBB2     		uxtb	r3, r3
  56              		.loc 1 359 6
  57 001a 002B     		cmp	r3, #0
  58 001c 0CD1     		bne	.L4
 360:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 361:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Allocate lock resource and initialize it */
 362:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Lock = HAL_UNLOCKED;
  59              		.loc 1 362 15
  60 001e 7B68     		ldr	r3, [r7, #4]
  61 0020 0022     		movs	r2, #0
  62 0022 1A77     		strb	r2, [r3, #28]
 363:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 364:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 365:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Force  SDMMC_TRANSCEIVER_PRESENT for Legacy usage */
 366:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_UNKNOWN)
  63              		.loc 1 366 18
  64 0024 7B68     		ldr	r3, [r7, #4]
  65 0026 9B69     		ldr	r3, [r3, #24]
  66              		.loc 1 366 8
  67 0028 002B     		cmp	r3, #0
  68 002a 02D1     		bne	.L5
 367:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 368:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Init.TranceiverPresent = SDMMC_TRANSCEIVER_PRESENT;
  69              		.loc 1 368 35
  70 002c 7B68     		ldr	r3, [r7, #4]
  71 002e 0222     		movs	r2, #2
  72 0030 9A61     		str	r2, [r3, #24]
  73              	.L5:
 369:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 370:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /*USE_SD_TRANSCEIVER */
 371:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 372:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Reset Callback pointers in HAL_SD_STATE_RESET only */
 373:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxCpltCallback    = HAL_SD_TxCpltCallback;
 374:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxCpltCallback    = HAL_SD_RxCpltCallback;
 375:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCallback     = HAL_SD_ErrorCallback;
 376:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->AbortCpltCallback = HAL_SD_AbortCallback;
 377:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuf0CpltCallback;
 378:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuf1CpltCallback;
 379:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuf0CpltCallback;
 380:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuf1CpltCallback;
 381:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 382:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 383:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 384:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
ARM GAS  /tmp/ccRis3lg.s 			page 9


 385:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 386:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
 387:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 388:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->MspInitCallback == NULL)
 389:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 390:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
 391:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 392:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 393:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Init the low level hardware */
 394:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->MspInitCallback(hsd);
 395:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 396:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Init the low level hardware : GPIO, CLOCK, CORTEX...etc */
 397:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_MspInit(hsd);
  74              		.loc 1 397 5
  75 0032 7868     		ldr	r0, [r7, #4]
  76 0034 FFF7FEFF 		bl	HAL_SD_MspInit
  77              	.L4:
 398:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 399:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 400:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 401:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
  78              		.loc 1 401 14
  79 0038 7B68     		ldr	r3, [r7, #4]
  80 003a 0322     		movs	r2, #3
  81 003c 83F83420 		strb	r2, [r3, #52]
 402:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 403:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the Card parameters */
 404:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_InitCard(hsd) != HAL_OK)
  82              		.loc 1 404 7
  83 0040 7868     		ldr	r0, [r7, #4]
  84 0042 FFF7FEFF 		bl	HAL_SD_InitCard
  85 0046 0346     		mov	r3, r0
  86              		.loc 1 404 6
  87 0048 002B     		cmp	r3, #0
  88 004a 01D0     		beq	.L6
 405:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 406:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
  89              		.loc 1 406 12
  90 004c 0123     		movs	r3, #1
  91 004e 5DE0     		b	.L15
  92              	.L6:
 407:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 408:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 409:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_GetCardStatus(hsd, &CardStatus) != HAL_OK)
  93              		.loc 1 409 7
  94 0050 07F10803 		add	r3, r7, #8
  95 0054 1946     		mov	r1, r3
  96 0056 7868     		ldr	r0, [r7, #4]
  97 0058 FFF7FEFF 		bl	HAL_SD_GetCardStatus
  98 005c 0346     		mov	r3, r0
  99              		.loc 1 409 6
 100 005e 002B     		cmp	r3, #0
 101 0060 01D0     		beq	.L7
 410:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 411:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 102              		.loc 1 411 12
 103 0062 0123     		movs	r3, #1
ARM GAS  /tmp/ccRis3lg.s 			page 10


 104 0064 52E0     		b	.L15
 105              	.L7:
 412:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 413:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get Initial Card Speed from Card Status*/
 414:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   speedgrade = CardStatus.UhsSpeedGrade;
 106              		.loc 1 414 26
 107 0066 3B7E     		ldrb	r3, [r7, #24]
 108 0068 DBB2     		uxtb	r3, r3
 109              		.loc 1 414 14
 110 006a 7B62     		str	r3, [r7, #36]
 415:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   unitsize = CardStatus.UhsAllocationUnitSize;
 111              		.loc 1 415 24
 112 006c 7B7E     		ldrb	r3, [r7, #25]
 113 006e DBB2     		uxtb	r3, r3
 114              		.loc 1 415 12
 115 0070 3B62     		str	r3, [r7, #32]
 416:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((hsd->SdCard.CardType == CARD_SDHC_SDXC) && ((speedgrade != 0U) || (unitsize != 0U)))
 116              		.loc 1 416 19
 117 0072 7B68     		ldr	r3, [r7, #4]
 118 0074 DB6B     		ldr	r3, [r3, #60]
 119              		.loc 1 416 6
 120 0076 012B     		cmp	r3, #1
 121 0078 0AD1     		bne	.L8
 122              		.loc 1 416 48 discriminator 1
 123 007a 7B6A     		ldr	r3, [r7, #36]
 124 007c 002B     		cmp	r3, #0
 125 007e 02D1     		bne	.L9
 126              		.loc 1 416 71 discriminator 2
 127 0080 3B6A     		ldr	r3, [r7, #32]
 128 0082 002B     		cmp	r3, #0
 129 0084 04D0     		beq	.L8
 130              	.L9:
 417:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 418:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
 131              		.loc 1 418 27
 132 0086 7B68     		ldr	r3, [r7, #4]
 133 0088 4FF40072 		mov	r2, #512
 134 008c DA65     		str	r2, [r3, #92]
 135 008e 0BE0     		b	.L10
 136              	.L8:
 419:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 420:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
 421:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 422:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType == CARD_SDHC_SDXC)
 137              		.loc 1 422 20
 138 0090 7B68     		ldr	r3, [r7, #4]
 139 0092 DB6B     		ldr	r3, [r3, #60]
 140              		.loc 1 422 8
 141 0094 012B     		cmp	r3, #1
 142 0096 04D1     		bne	.L11
 423:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 424:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_HIGH_SPEED;
 143              		.loc 1 424 30
 144 0098 7B68     		ldr	r3, [r7, #4]
 145 009a 4FF48072 		mov	r2, #256
 146 009e DA65     		str	r2, [r3, #92]
 147 00a0 02E0     		b	.L10
ARM GAS  /tmp/ccRis3lg.s 			page 11


 148              	.L11:
 425:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 426:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 427:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 428:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->SdCard.CardSpeed  = CARD_NORMAL_SPEED;
 149              		.loc 1 428 30
 150 00a2 7B68     		ldr	r3, [r7, #4]
 151 00a4 0022     		movs	r2, #0
 152 00a6 DA65     		str	r2, [r3, #92]
 153              	.L10:
 429:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 430:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 431:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 432:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Configure the bus wide */
 433:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_ConfigWideBusOperation(hsd, hsd->Init.BusWide) != HAL_OK)
 154              		.loc 1 433 7
 155 00a8 7B68     		ldr	r3, [r7, #4]
 156 00aa DB68     		ldr	r3, [r3, #12]
 157 00ac 1946     		mov	r1, r3
 158 00ae 7868     		ldr	r0, [r7, #4]
 159 00b0 FFF7FEFF 		bl	HAL_SD_ConfigWideBusOperation
 160 00b4 0346     		mov	r3, r0
 161              		.loc 1 433 6
 162 00b6 002B     		cmp	r3, #0
 163 00b8 01D0     		beq	.L12
 434:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 435:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 164              		.loc 1 435 12
 165 00ba 0123     		movs	r3, #1
 166 00bc 26E0     		b	.L15
 167              	.L12:
 436:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 437:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 438:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Verify that SD card is ready to use after Initialization */
 439:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tickstart = HAL_GetTick();
 168              		.loc 1 439 15
 169 00be FFF7FEFF 		bl	HAL_GetTick
 170 00c2 F861     		str	r0, [r7, #28]
 440:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 171              		.loc 1 440 9
 172 00c4 11E0     		b	.L13
 173              	.L14:
 441:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 442:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 174              		.loc 1 442 10
 175 00c6 FFF7FEFF 		bl	HAL_GetTick
 176 00ca 0246     		mov	r2, r0
 177              		.loc 1 442 24
 178 00cc FB69     		ldr	r3, [r7, #28]
 179 00ce D31A     		subs	r3, r2, r3
 180              		.loc 1 442 8
 181 00d0 B3F1FF3F 		cmp	r3, #-1
 182 00d4 09D1     		bne	.L13
 443:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 444:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 183              		.loc 1 444 22
 184 00d6 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRis3lg.s 			page 12


 185 00d8 4FF00042 		mov	r2, #-2147483648
 186 00dc 9A63     		str	r2, [r3, #56]
 445:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 187              		.loc 1 445 18
 188 00de 7B68     		ldr	r3, [r7, #4]
 189 00e0 0122     		movs	r2, #1
 190 00e2 83F83420 		strb	r2, [r3, #52]
 446:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 191              		.loc 1 446 14
 192 00e6 0323     		movs	r3, #3
 193 00e8 10E0     		b	.L15
 194              	.L13:
 440:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 195              		.loc 1 440 11
 196 00ea 7868     		ldr	r0, [r7, #4]
 197 00ec FFF7FEFF 		bl	HAL_SD_GetCardState
 198 00f0 0346     		mov	r3, r0
 440:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 199              		.loc 1 440 9
 200 00f2 042B     		cmp	r3, #4
 201 00f4 E7D1     		bne	.L14
 447:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 448:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 449:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 450:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the error code */
 451:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 202              		.loc 1 451 18
 203 00f6 7B68     		ldr	r3, [r7, #4]
 204 00f8 0022     		movs	r2, #0
 205 00fa 9A63     		str	r2, [r3, #56]
 452:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 453:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the SD operation */
 454:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 206              		.loc 1 454 16
 207 00fc 7B68     		ldr	r3, [r7, #4]
 208 00fe 0022     		movs	r2, #0
 209 0100 1A63     		str	r2, [r3, #48]
 455:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 456:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the SD state */
 457:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 210              		.loc 1 457 14
 211 0102 7B68     		ldr	r3, [r7, #4]
 212 0104 0122     		movs	r2, #1
 213 0106 83F83420 		strb	r2, [r3, #52]
 458:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 459:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 214              		.loc 1 459 10
 215 010a 0023     		movs	r3, #0
 216              	.L15:
 460:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 217              		.loc 1 460 1 discriminator 1
 218 010c 1846     		mov	r0, r3
 219 010e 2837     		adds	r7, r7, #40
 220              	.LCFI3:
 221              		.cfi_def_cfa_offset 8
 222 0110 BD46     		mov	sp, r7
 223              	.LCFI4:
ARM GAS  /tmp/ccRis3lg.s 			page 13


 224              		.cfi_def_cfa_register 13
 225              		@ sp needed
 226 0112 80BD     		pop	{r7, pc}
 227              		.cfi_endproc
 228              	.LFE331:
 230              		.section	.text.HAL_SD_InitCard,"ax",%progbits
 231              		.align	1
 232              		.global	HAL_SD_InitCard
 233              		.syntax unified
 234              		.thumb
 235              		.thumb_func
 236              		.fpu fpv5-d16
 238              	HAL_SD_InitCard:
 239              	.LFB332:
 461:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 462:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 463:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD Card.
 464:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 465:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This function initializes the SD card. It could be used when a card
 466:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             re-initialization is needed.
 467:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 468:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 469:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_InitCard(SD_HandleTypeDef *hsd)
 470:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 240              		.loc 1 470 1
 241              		.cfi_startproc
 242              		@ args = 0, pretend = 0, frame = 40
 243              		@ frame_needed = 1, uses_anonymous_args = 0
 244 0000 B0B5     		push	{r4, r5, r7, lr}
 245              	.LCFI5:
 246              		.cfi_def_cfa_offset 16
 247              		.cfi_offset 4, -16
 248              		.cfi_offset 5, -12
 249              		.cfi_offset 7, -8
 250              		.cfi_offset 14, -4
 251 0002 8EB0     		sub	sp, sp, #56
 252              	.LCFI6:
 253              		.cfi_def_cfa_offset 72
 254 0004 04AF     		add	r7, sp, #16
 255              	.LCFI7:
 256              		.cfi_def_cfa 7, 56
 257 0006 7860     		str	r0, [r7, #4]
 471:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 472:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_InitTypeDef Init;
 473:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk;
 474:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 475:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Default SDMMC peripheral configuration for SD card initialization */
 476:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockEdge           = SDMMC_CLOCK_EDGE_RISING;
 258              		.loc 1 476 28
 259 0008 0023     		movs	r3, #0
 260 000a BB60     		str	r3, [r7, #8]
 477:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockPowerSave      = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 261              		.loc 1 477 28
 262 000c 0023     		movs	r3, #0
 263 000e FB60     		str	r3, [r7, #12]
 478:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.BusWide             = SDMMC_BUS_WIDE_1B;
 264              		.loc 1 478 28
ARM GAS  /tmp/ccRis3lg.s 			page 14


 265 0010 0023     		movs	r3, #0
 266 0012 3B61     		str	r3, [r7, #16]
 479:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 267              		.loc 1 479 28
 268 0014 0023     		movs	r3, #0
 269 0016 7B61     		str	r3, [r7, #20]
 480:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 481:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Init Clock should be less or equal to 400Khz*/
 482:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   sdmmc_clk     = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC);
 270              		.loc 1 482 19
 271 0018 4FF48030 		mov	r0, #65536
 272 001c FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 273 0020 7862     		str	r0, [r7, #36]
 483:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (sdmmc_clk == 0U)
 274              		.loc 1 483 6
 275 0022 7B6A     		ldr	r3, [r7, #36]
 276 0024 002B     		cmp	r3, #0
 277 0026 09D1     		bne	.L17
 484:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 485:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 278              		.loc 1 485 16
 279 0028 7B68     		ldr	r3, [r7, #4]
 280 002a 0122     		movs	r2, #1
 281 002c 83F83420 		strb	r2, [r3, #52]
 486:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_ERROR_INVALID_PARAMETER;
 282              		.loc 1 486 20
 283 0030 7B68     		ldr	r3, [r7, #4]
 284 0032 4FF00062 		mov	r2, #134217728
 285 0036 9A63     		str	r2, [r3, #56]
 487:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 286              		.loc 1 487 12
 287 0038 0123     		movs	r3, #1
 288 003a 79E0     		b	.L23
 289              	.L17:
 488:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 489:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.ClockDiv = sdmmc_clk / (2U * SD_INIT_FREQ);
 290              		.loc 1 489 29
 291 003c 7B6A     		ldr	r3, [r7, #36]
 292 003e 1B0A     		lsrs	r3, r3, #8
 293 0040 3D4A     		ldr	r2, .L24
 294 0042 A2FB0323 		umull	r2, r3, r2, r3
 295 0046 1B09     		lsrs	r3, r3, #4
 296              		.loc 1 489 17
 297 0048 BB61     		str	r3, [r7, #24]
 490:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 491:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 492:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   Init.TranceiverPresent = hsd->Init.TranceiverPresent;
 298              		.loc 1 492 37
 299 004a 7B68     		ldr	r3, [r7, #4]
 300 004c 9B69     		ldr	r3, [r3, #24]
 301              		.loc 1 492 26
 302 004e FB61     		str	r3, [r7, #28]
 493:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 494:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 303              		.loc 1 494 16
 304 0050 7B68     		ldr	r3, [r7, #4]
 305 0052 9B69     		ldr	r3, [r3, #24]
ARM GAS  /tmp/ccRis3lg.s 			page 15


 306              		.loc 1 494 6
 307 0054 022B     		cmp	r3, #2
 308 0056 07D1     		bne	.L19
 495:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 496:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Set Transceiver polarity */
 497:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->POWER |= SDMMC_POWER_DIRPOL;
 309              		.loc 1 497 8
 310 0058 7B68     		ldr	r3, [r7, #4]
 311 005a 1B68     		ldr	r3, [r3]
 312              		.loc 1 497 26
 313 005c 1A68     		ldr	r2, [r3]
 314              		.loc 1 497 8
 315 005e 7B68     		ldr	r3, [r7, #4]
 316 0060 1B68     		ldr	r3, [r3]
 317              		.loc 1 497 26
 318 0062 42F01002 		orr	r2, r2, #16
 319 0066 1A60     		str	r2, [r3]
 320              	.L19:
 498:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 499:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #elif defined (USE_SD_DIRPOL)
 500:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Transceiver polarity */
 501:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Instance->POWER |= SDMMC_POWER_DIRPOL;
 502:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
 503:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 504:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize SDMMC peripheral interface with default configuration */
 505:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_Init(hsd->Instance, Init);
 321              		.loc 1 505 9
 322 0068 7B68     		ldr	r3, [r7, #4]
 323 006a 1D68     		ldr	r5, [r3]
 324 006c 6C46     		mov	r4, sp
 325 006e 07F11403 		add	r3, r7, #20
 326 0072 93E80700 		ldm	r3, {r0, r1, r2}
 327 0076 84E80700 		stm	r4, {r0, r1, r2}
 328 007a 07F10803 		add	r3, r7, #8
 329 007e 0ECB     		ldm	r3, {r1, r2, r3}
 330 0080 2846     		mov	r0, r5
 331 0082 FFF7FEFF 		bl	SDMMC_Init
 506:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 507:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Power State to ON */
 508:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_PowerState_ON(hsd->Instance);
 332              		.loc 1 508 9
 333 0086 7B68     		ldr	r3, [r7, #4]
 334 0088 1B68     		ldr	r3, [r3]
 335 008a 1846     		mov	r0, r3
 336 008c FFF7FEFF 		bl	SDMMC_PowerState_ON
 509:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 510:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* wait 74 Cycles: required power up waiting time before starting
 511:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****      the SD initialization sequence */
 512:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   sdmmc_clk = sdmmc_clk / (2U * Init.ClockDiv);
 337              		.loc 1 512 37
 338 0090 BB69     		ldr	r3, [r7, #24]
 339              		.loc 1 512 31
 340 0092 5B00     		lsls	r3, r3, #1
 341              		.loc 1 512 13
 342 0094 7A6A     		ldr	r2, [r7, #36]
 343 0096 B2FBF3F3 		udiv	r3, r2, r3
 344 009a 7B62     		str	r3, [r7, #36]
ARM GAS  /tmp/ccRis3lg.s 			page 16


 513:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_Delay(1U + (74U * 1000U / (sdmmc_clk)));
 345              		.loc 1 513 31
 346 009c 274A     		ldr	r2, .L24+4
 347 009e 7B6A     		ldr	r3, [r7, #36]
 348 00a0 B2FBF3F3 		udiv	r3, r2, r3
 349              		.loc 1 513 3
 350 00a4 0133     		adds	r3, r3, #1
 351 00a6 1846     		mov	r0, r3
 352 00a8 FFF7FEFF 		bl	HAL_Delay
 514:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 515:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Identify card operating voltage */
 516:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_PowerON(hsd);
 353              		.loc 1 516 16
 354 00ac 7868     		ldr	r0, [r7, #4]
 355 00ae FFF7FEFF 		bl	SD_PowerON
 356 00b2 3862     		str	r0, [r7, #32]
 517:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 357              		.loc 1 517 6
 358 00b4 3B6A     		ldr	r3, [r7, #32]
 359 00b6 002B     		cmp	r3, #0
 360 00b8 0BD0     		beq	.L20
 518:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 519:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 361              		.loc 1 519 16
 362 00ba 7B68     		ldr	r3, [r7, #4]
 363 00bc 0122     		movs	r2, #1
 364 00be 83F83420 		strb	r2, [r3, #52]
 520:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 365              		.loc 1 520 20
 366 00c2 7B68     		ldr	r3, [r7, #4]
 367 00c4 9A6B     		ldr	r2, [r3, #56]
 368 00c6 3B6A     		ldr	r3, [r7, #32]
 369 00c8 1A43     		orrs	r2, r2, r3
 370 00ca 7B68     		ldr	r3, [r7, #4]
 371 00cc 9A63     		str	r2, [r3, #56]
 521:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 372              		.loc 1 521 12
 373 00ce 0123     		movs	r3, #1
 374 00d0 2EE0     		b	.L23
 375              	.L20:
 522:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 523:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 524:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Card initialization */
 525:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_InitCard(hsd);
 376              		.loc 1 525 16
 377 00d2 7868     		ldr	r0, [r7, #4]
 378 00d4 FFF7FEFF 		bl	SD_InitCard
 379 00d8 3862     		str	r0, [r7, #32]
 526:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 380              		.loc 1 526 6
 381 00da 3B6A     		ldr	r3, [r7, #32]
 382 00dc 002B     		cmp	r3, #0
 383 00de 0BD0     		beq	.L21
 527:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 528:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 384              		.loc 1 528 16
 385 00e0 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRis3lg.s 			page 17


 386 00e2 0122     		movs	r2, #1
 387 00e4 83F83420 		strb	r2, [r3, #52]
 529:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 388              		.loc 1 529 20
 389 00e8 7B68     		ldr	r3, [r7, #4]
 390 00ea 9A6B     		ldr	r2, [r3, #56]
 391 00ec 3B6A     		ldr	r3, [r7, #32]
 392 00ee 1A43     		orrs	r2, r2, r3
 393 00f0 7B68     		ldr	r3, [r7, #4]
 394 00f2 9A63     		str	r2, [r3, #56]
 530:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 395              		.loc 1 530 12
 396 00f4 0123     		movs	r3, #1
 397 00f6 1BE0     		b	.L23
 398              	.L21:
 531:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 532:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 533:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
 534:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 399              		.loc 1 534 16
 400 00f8 7B68     		ldr	r3, [r7, #4]
 401 00fa 1B68     		ldr	r3, [r3]
 402 00fc 4FF40071 		mov	r1, #512
 403 0100 1846     		mov	r0, r3
 404 0102 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 405 0106 3862     		str	r0, [r7, #32]
 535:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 406              		.loc 1 535 6
 407 0108 3B6A     		ldr	r3, [r7, #32]
 408 010a 002B     		cmp	r3, #0
 409 010c 0FD0     		beq	.L22
 536:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 537:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
 538:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 410              		.loc 1 538 5
 411 010e 7B68     		ldr	r3, [r7, #4]
 412 0110 1B68     		ldr	r3, [r3]
 413 0112 0B4A     		ldr	r2, .L24+8
 414 0114 9A63     		str	r2, [r3, #56]
 539:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 415              		.loc 1 539 20
 416 0116 7B68     		ldr	r3, [r7, #4]
 417 0118 9A6B     		ldr	r2, [r3, #56]
 418 011a 3B6A     		ldr	r3, [r7, #32]
 419 011c 1A43     		orrs	r2, r2, r3
 420 011e 7B68     		ldr	r3, [r7, #4]
 421 0120 9A63     		str	r2, [r3, #56]
 540:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 422              		.loc 1 540 16
 423 0122 7B68     		ldr	r3, [r7, #4]
 424 0124 0122     		movs	r2, #1
 425 0126 83F83420 		strb	r2, [r3, #52]
 541:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 426              		.loc 1 541 12
 427 012a 0123     		movs	r3, #1
 428 012c 00E0     		b	.L23
 429              	.L22:
ARM GAS  /tmp/ccRis3lg.s 			page 18


 542:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 543:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 544:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 430              		.loc 1 544 10
 431 012e 0023     		movs	r3, #0
 432              	.L23:
 545:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 433              		.loc 1 545 1 discriminator 1
 434 0130 1846     		mov	r0, r3
 435 0132 2837     		adds	r7, r7, #40
 436              	.LCFI8:
 437              		.cfi_def_cfa_offset 16
 438 0134 BD46     		mov	sp, r7
 439              	.LCFI9:
 440              		.cfi_def_cfa_register 13
 441              		@ sp needed
 442 0136 B0BD     		pop	{r4, r5, r7, pc}
 443              	.L25:
 444              		.align	2
 445              	.L24:
 446 0138 598B4F01 		.word	21990233
 447 013c 10210100 		.word	74000
 448 0140 FF0FE01F 		.word	534777855
 449              		.cfi_endproc
 450              	.LFE332:
 452              		.section	.text.HAL_SD_DeInit,"ax",%progbits
 453              		.align	1
 454              		.global	HAL_SD_DeInit
 455              		.syntax unified
 456              		.thumb
 457              		.thumb_func
 458              		.fpu fpv5-d16
 460              	HAL_SD_DeInit:
 461              	.LFB333:
 546:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 547:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 548:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 549:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 550:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 551:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 552:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 553:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 462              		.loc 1 553 1
 463              		.cfi_startproc
 464              		@ args = 0, pretend = 0, frame = 8
 465              		@ frame_needed = 1, uses_anonymous_args = 0
 466 0000 80B5     		push	{r7, lr}
 467              	.LCFI10:
 468              		.cfi_def_cfa_offset 8
 469              		.cfi_offset 7, -8
 470              		.cfi_offset 14, -4
 471 0002 82B0     		sub	sp, sp, #8
 472              	.LCFI11:
 473              		.cfi_def_cfa_offset 16
 474 0004 00AF     		add	r7, sp, #0
 475              	.LCFI12:
 476              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccRis3lg.s 			page 19


 477 0006 7860     		str	r0, [r7, #4]
 554:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the SD handle allocation */
 555:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd == NULL)
 478              		.loc 1 555 6
 479 0008 7B68     		ldr	r3, [r7, #4]
 480 000a 002B     		cmp	r3, #0
 481 000c 01D1     		bne	.L27
 556:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 557:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 482              		.loc 1 557 12
 483 000e 0123     		movs	r3, #1
 484 0010 18E0     		b	.L28
 485              	.L27:
 558:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 559:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 560:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
 561:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_ALL_INSTANCE(hsd->Instance));
 562:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 563:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 486              		.loc 1 563 14
 487 0012 7B68     		ldr	r3, [r7, #4]
 488 0014 0322     		movs	r2, #3
 489 0016 83F83420 		strb	r2, [r3, #52]
 564:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 565:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
 566:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Deactivate the 1.8V Mode */
 567:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 490              		.loc 1 567 16
 491 001a 7B68     		ldr	r3, [r7, #4]
 492 001c 9B69     		ldr	r3, [r3, #24]
 493              		.loc 1 567 6
 494 001e 022B     		cmp	r3, #2
 495 0020 02D1     		bne	.L29
 568:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 569:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 570:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->DriveTransceiver_1_8V_Callback == NULL)
 571:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 572:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
 573:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 574:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback(RESET);
 575:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 576:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_DriveTransceiver_1_8V_Callback(RESET);
 496              		.loc 1 576 5
 497 0022 0020     		movs	r0, #0
 498 0024 FFF7FEFF 		bl	HAL_SD_DriveTransceiver_1_8V_Callback
 499              	.L29:
 577:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 578:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 579:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER   */
 580:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 581:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set SD power state to off */
 582:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SD_PowerOFF(hsd);
 500              		.loc 1 582 3
 501 0028 7868     		ldr	r0, [r7, #4]
 502 002a FFF7FEFF 		bl	SD_PowerOFF
 583:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 584:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
ARM GAS  /tmp/ccRis3lg.s 			page 20


 585:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->MspDeInitCallback == NULL)
 586:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 587:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->MspDeInitCallback = HAL_SD_MspDeInit;
 588:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 589:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 590:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* DeInit the low level hardware */
 591:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->MspDeInitCallback(hsd);
 592:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
 593:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 594:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
 503              		.loc 1 594 3
 504 002e 7868     		ldr	r0, [r7, #4]
 505 0030 FFF7FEFF 		bl	HAL_SD_MspDeInit
 595:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 596:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 597:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 506              		.loc 1 597 18
 507 0034 7B68     		ldr	r3, [r7, #4]
 508 0036 0022     		movs	r2, #0
 509 0038 9A63     		str	r2, [r3, #56]
 598:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 510              		.loc 1 598 14
 511 003a 7B68     		ldr	r3, [r7, #4]
 512 003c 0022     		movs	r2, #0
 513 003e 83F83420 		strb	r2, [r3, #52]
 599:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 600:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 514              		.loc 1 600 10
 515 0042 0023     		movs	r3, #0
 516              	.L28:
 601:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 517              		.loc 1 601 1
 518 0044 1846     		mov	r0, r3
 519 0046 0837     		adds	r7, r7, #8
 520              	.LCFI13:
 521              		.cfi_def_cfa_offset 8
 522 0048 BD46     		mov	sp, r7
 523              	.LCFI14:
 524              		.cfi_def_cfa_register 13
 525              		@ sp needed
 526 004a 80BD     		pop	{r7, pc}
 527              		.cfi_endproc
 528              	.LFE333:
 530              		.section	.text.HAL_SD_MspInit,"ax",%progbits
 531              		.align	1
 532              		.weak	HAL_SD_MspInit
 533              		.syntax unified
 534              		.thumb
 535              		.thumb_func
 536              		.fpu fpv5-d16
 538              	HAL_SD_MspInit:
 539              	.LFB334:
 602:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 603:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 604:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 605:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 606:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
ARM GAS  /tmp/ccRis3lg.s 			page 21


 607:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
 608:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 609:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 610:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 540              		.loc 1 610 1
 541              		.cfi_startproc
 542              		@ args = 0, pretend = 0, frame = 8
 543              		@ frame_needed = 1, uses_anonymous_args = 0
 544              		@ link register save eliminated.
 545 0000 80B4     		push	{r7}
 546              	.LCFI15:
 547              		.cfi_def_cfa_offset 4
 548              		.cfi_offset 7, -4
 549 0002 83B0     		sub	sp, sp, #12
 550              	.LCFI16:
 551              		.cfi_def_cfa_offset 16
 552 0004 00AF     		add	r7, sp, #0
 553              	.LCFI17:
 554              		.cfi_def_cfa_register 7
 555 0006 7860     		str	r0, [r7, #4]
 611:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 612:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 613:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 614:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 615:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 616:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
 617:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 556              		.loc 1 617 1
 557 0008 00BF     		nop
 558 000a 0C37     		adds	r7, r7, #12
 559              	.LCFI18:
 560              		.cfi_def_cfa_offset 4
 561 000c BD46     		mov	sp, r7
 562              	.LCFI19:
 563              		.cfi_def_cfa_register 13
 564              		@ sp needed
 565 000e 5DF8047B 		ldr	r7, [sp], #4
 566              	.LCFI20:
 567              		.cfi_restore 7
 568              		.cfi_def_cfa_offset 0
 569 0012 7047     		bx	lr
 570              		.cfi_endproc
 571              	.LFE334:
 573              		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
 574              		.align	1
 575              		.weak	HAL_SD_MspDeInit
 576              		.syntax unified
 577              		.thumb
 578              		.thumb_func
 579              		.fpu fpv5-d16
 581              	HAL_SD_MspDeInit:
 582              	.LFB335:
 618:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 619:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 620:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 621:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 622:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
ARM GAS  /tmp/ccRis3lg.s 			page 22


 623:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 624:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 625:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 583              		.loc 1 625 1
 584              		.cfi_startproc
 585              		@ args = 0, pretend = 0, frame = 8
 586              		@ frame_needed = 1, uses_anonymous_args = 0
 587              		@ link register save eliminated.
 588 0000 80B4     		push	{r7}
 589              	.LCFI21:
 590              		.cfi_def_cfa_offset 4
 591              		.cfi_offset 7, -4
 592 0002 83B0     		sub	sp, sp, #12
 593              	.LCFI22:
 594              		.cfi_def_cfa_offset 16
 595 0004 00AF     		add	r7, sp, #0
 596              	.LCFI23:
 597              		.cfi_def_cfa_register 7
 598 0006 7860     		str	r0, [r7, #4]
 626:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 627:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
 628:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 629:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 630:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 631:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
 632:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 599              		.loc 1 632 1
 600 0008 00BF     		nop
 601 000a 0C37     		adds	r7, r7, #12
 602              	.LCFI24:
 603              		.cfi_def_cfa_offset 4
 604 000c BD46     		mov	sp, r7
 605              	.LCFI25:
 606              		.cfi_def_cfa_register 13
 607              		@ sp needed
 608 000e 5DF8047B 		ldr	r7, [sp], #4
 609              	.LCFI26:
 610              		.cfi_restore 7
 611              		.cfi_def_cfa_offset 0
 612 0012 7047     		bx	lr
 613              		.cfi_endproc
 614              	.LFE335:
 616              		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 617              		.align	1
 618              		.global	HAL_SD_ReadBlocks
 619              		.syntax unified
 620              		.thumb
 621              		.thumb_func
 622              		.fpu fpv5-d16
 624              	HAL_SD_ReadBlocks:
 625              	.LFB336:
 633:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 634:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 635:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
 636:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 637:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 638:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
ARM GAS  /tmp/ccRis3lg.s 			page 23


 639:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   Data transfer functions
 640:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
 641:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
 642:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 643:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         ##### IO operation functions #####
 644:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
 645:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
 646:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data
 647:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     transfer from/to SD card.
 648:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 649:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
 650:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
 651:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 652:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 653:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 654:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 655:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by polling mode.
 656:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 657:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 658:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 659:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the received data
 660:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
 661:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to read
 662:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 663:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 664:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 665:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint3
 666:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                     uint32_t Timeout)
 667:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 626              		.loc 1 667 1
 627              		.cfi_startproc
 628              		@ args = 4, pretend = 0, frame = 72
 629              		@ frame_needed = 1, uses_anonymous_args = 0
 630 0000 80B5     		push	{r7, lr}
 631              	.LCFI27:
 632              		.cfi_def_cfa_offset 8
 633              		.cfi_offset 7, -8
 634              		.cfi_offset 14, -4
 635 0002 92B0     		sub	sp, sp, #72
 636              	.LCFI28:
 637              		.cfi_def_cfa_offset 80
 638 0004 00AF     		add	r7, sp, #0
 639              	.LCFI29:
 640              		.cfi_def_cfa_register 7
 641 0006 F860     		str	r0, [r7, #12]
 642 0008 B960     		str	r1, [r7, #8]
 643 000a 7A60     		str	r2, [r7, #4]
 644 000c 3B60     		str	r3, [r7]
 668:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 669:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 670:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 645              		.loc 1 670 24
 646 000e FFF7FEFF 		bl	HAL_GetTick
 647 0012 3863     		str	r0, [r7, #48]
 671:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 672:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 673:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
ARM GAS  /tmp/ccRis3lg.s 			page 24


 674:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 648              		.loc 1 674 12
 649 0014 7B68     		ldr	r3, [r7, #4]
 650 0016 BB63     		str	r3, [r7, #56]
 675:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 651              		.loc 1 675 12
 652 0018 BB68     		ldr	r3, [r7, #8]
 653 001a 7B63     		str	r3, [r7, #52]
 676:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 677:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 654              		.loc 1 677 6
 655 001c BB68     		ldr	r3, [r7, #8]
 656 001e 002B     		cmp	r3, #0
 657 0020 07D1     		bne	.L33
 678:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 679:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 658              		.loc 1 679 20
 659 0022 FB68     		ldr	r3, [r7, #12]
 660 0024 9B6B     		ldr	r3, [r3, #56]
 661 0026 43F00062 		orr	r2, r3, #134217728
 662 002a FB68     		ldr	r3, [r7, #12]
 663 002c 9A63     		str	r2, [r3, #56]
 680:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 664              		.loc 1 680 12
 665 002e 0123     		movs	r3, #1
 666 0030 67E1     		b	.L51
 667              	.L33:
 681:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 682:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 683:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 668              		.loc 1 683 10
 669 0032 FB68     		ldr	r3, [r7, #12]
 670 0034 93F83430 		ldrb	r3, [r3, #52]
 671 0038 DBB2     		uxtb	r3, r3
 672              		.loc 1 683 6
 673 003a 012B     		cmp	r3, #1
 674 003c 40F05A81 		bne	.L35
 684:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 685:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 675              		.loc 1 685 20
 676 0040 FB68     		ldr	r3, [r7, #12]
 677 0042 0022     		movs	r2, #0
 678 0044 9A63     		str	r2, [r3, #56]
 686:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 687:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 679              		.loc 1 687 14
 680 0046 BA6B     		ldr	r2, [r7, #56]
 681 0048 3B68     		ldr	r3, [r7]
 682 004a 1A44     		add	r2, r2, r3
 683              		.loc 1 687 46
 684 004c FB68     		ldr	r3, [r7, #12]
 685 004e 5B6D     		ldr	r3, [r3, #84]
 686              		.loc 1 687 8
 687 0050 9A42     		cmp	r2, r3
 688 0052 07D9     		bls	.L36
 688:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 689:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
ARM GAS  /tmp/ccRis3lg.s 			page 25


 689              		.loc 1 689 22
 690 0054 FB68     		ldr	r3, [r7, #12]
 691 0056 9B6B     		ldr	r3, [r3, #56]
 692 0058 43F00072 		orr	r2, r3, #33554432
 693 005c FB68     		ldr	r3, [r7, #12]
 694 005e 9A63     		str	r2, [r3, #56]
 690:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 695              		.loc 1 690 14
 696 0060 0123     		movs	r3, #1
 697 0062 4EE1     		b	.L51
 698              	.L36:
 691:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 692:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 693:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 699              		.loc 1 693 16
 700 0064 FB68     		ldr	r3, [r7, #12]
 701 0066 0322     		movs	r2, #3
 702 0068 83F83420 		strb	r2, [r3, #52]
 694:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 695:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
 696:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 703              		.loc 1 696 8
 704 006c FB68     		ldr	r3, [r7, #12]
 705 006e 1B68     		ldr	r3, [r3]
 706              		.loc 1 696 26
 707 0070 0022     		movs	r2, #0
 708 0072 DA62     		str	r2, [r3, #44]
 697:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 698:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 709              		.loc 1 698 20
 710 0074 FB68     		ldr	r3, [r7, #12]
 711 0076 DB6B     		ldr	r3, [r3, #60]
 712              		.loc 1 698 8
 713 0078 012B     		cmp	r3, #1
 714 007a 02D0     		beq	.L37
 699:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 700:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
 715              		.loc 1 700 11
 716 007c BB6B     		ldr	r3, [r7, #56]
 717 007e 5B02     		lsls	r3, r3, #9
 718 0080 BB63     		str	r3, [r7, #56]
 719              	.L37:
 701:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 702:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 703:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 704:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 720              		.loc 1 704 26
 721 0082 4FF0FF33 		mov	r3, #-1
 722 0086 7B61     		str	r3, [r7, #20]
 705:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 723              		.loc 1 705 43
 724 0088 3B68     		ldr	r3, [r7]
 725 008a 5B02     		lsls	r3, r3, #9
 726              		.loc 1 705 26
 727 008c BB61     		str	r3, [r7, #24]
 706:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 728              		.loc 1 706 26
ARM GAS  /tmp/ccRis3lg.s 			page 26


 729 008e 9023     		movs	r3, #144
 730 0090 FB61     		str	r3, [r7, #28]
 707:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 731              		.loc 1 707 26
 732 0092 0223     		movs	r3, #2
 733 0094 3B62     		str	r3, [r7, #32]
 708:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 734              		.loc 1 708 26
 735 0096 0023     		movs	r3, #0
 736 0098 7B62     		str	r3, [r7, #36]
 709:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 737              		.loc 1 709 26
 738 009a 0023     		movs	r3, #0
 739 009c BB62     		str	r3, [r7, #40]
 710:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 740              		.loc 1 710 11
 741 009e FB68     		ldr	r3, [r7, #12]
 742 00a0 1B68     		ldr	r3, [r3]
 743 00a2 07F11402 		add	r2, r7, #20
 744 00a6 1146     		mov	r1, r2
 745 00a8 1846     		mov	r0, r3
 746 00aa FFF7FEFF 		bl	SDMMC_ConfigData
 711:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 747              		.loc 1 711 5
 748 00ae FB68     		ldr	r3, [r7, #12]
 749 00b0 1B68     		ldr	r3, [r3]
 750 00b2 DA68     		ldr	r2, [r3, #12]
 751 00b4 FB68     		ldr	r3, [r7, #12]
 752 00b6 1B68     		ldr	r3, [r3]
 753 00b8 42F04002 		orr	r2, r2, #64
 754 00bc DA60     		str	r2, [r3, #12]
 712:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 713:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read block(s) in polling mode */
 714:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 755              		.loc 1 714 8
 756 00be 3B68     		ldr	r3, [r7]
 757 00c0 012B     		cmp	r3, #1
 758 00c2 0AD9     		bls	.L38
 715:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 716:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_MULTIPLE_BLOCK;
 759              		.loc 1 716 20
 760 00c4 FB68     		ldr	r3, [r7, #12]
 761 00c6 0222     		movs	r2, #2
 762 00c8 1A63     		str	r2, [r3, #48]
 717:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 718:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
 719:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 763              		.loc 1 719 20
 764 00ca FB68     		ldr	r3, [r7, #12]
 765 00cc 1B68     		ldr	r3, [r3]
 766 00ce B96B     		ldr	r1, [r7, #56]
 767 00d0 1846     		mov	r0, r3
 768 00d2 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 769 00d6 7864     		str	r0, [r7, #68]
 770 00d8 09E0     		b	.L39
 771              	.L38:
 720:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /tmp/ccRis3lg.s 			page 27


 721:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 722:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 723:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_SINGLE_BLOCK;
 772              		.loc 1 723 20
 773 00da FB68     		ldr	r3, [r7, #12]
 774 00dc 0122     		movs	r2, #1
 775 00de 1A63     		str	r2, [r3, #48]
 724:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 725:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
 726:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 776              		.loc 1 726 20
 777 00e0 FB68     		ldr	r3, [r7, #12]
 778 00e2 1B68     		ldr	r3, [r3]
 779 00e4 B96B     		ldr	r1, [r7, #56]
 780 00e6 1846     		mov	r0, r3
 781 00e8 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 782 00ec 7864     		str	r0, [r7, #68]
 783              	.L39:
 727:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 728:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 784              		.loc 1 728 8
 785 00ee 7B6C     		ldr	r3, [r7, #68]
 786 00f0 002B     		cmp	r3, #0
 787 00f2 12D0     		beq	.L40
 729:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 730:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 731:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 788              		.loc 1 731 7
 789 00f4 FB68     		ldr	r3, [r7, #12]
 790 00f6 1B68     		ldr	r3, [r3]
 791 00f8 844A     		ldr	r2, .L52
 792 00fa 9A63     		str	r2, [r3, #56]
 732:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 793              		.loc 1 732 22
 794 00fc FB68     		ldr	r3, [r7, #12]
 795 00fe 9A6B     		ldr	r2, [r3, #56]
 796 0100 7B6C     		ldr	r3, [r7, #68]
 797 0102 1A43     		orrs	r2, r2, r3
 798 0104 FB68     		ldr	r3, [r7, #12]
 799 0106 9A63     		str	r2, [r3, #56]
 733:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 800              		.loc 1 733 18
 801 0108 FB68     		ldr	r3, [r7, #12]
 802 010a 0122     		movs	r2, #1
 803 010c 83F83420 		strb	r2, [r3, #52]
 734:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 804              		.loc 1 734 20
 805 0110 FB68     		ldr	r3, [r7, #12]
 806 0112 0022     		movs	r2, #0
 807 0114 1A63     		str	r2, [r3, #48]
 735:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 808              		.loc 1 735 14
 809 0116 0123     		movs	r3, #1
 810 0118 F3E0     		b	.L51
 811              	.L40:
 736:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 737:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 28


 738:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Poll on SDMMC flags */
 739:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     dataremaining = config.DataLength;
 812              		.loc 1 739 19
 813 011a BB69     		ldr	r3, [r7, #24]
 814 011c FB63     		str	r3, [r7, #60]
 740:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
 815              		.loc 1 740 11
 816 011e 58E0     		b	.L41
 817              	.L46:
 741:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 742:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) && (dataremaining >= 32U))
 818              		.loc 1 742 11
 819 0120 FB68     		ldr	r3, [r7, #12]
 820 0122 1B68     		ldr	r3, [r3]
 821 0124 5B6B     		ldr	r3, [r3, #52]
 822 0126 03F40043 		and	r3, r3, #32768
 823              		.loc 1 742 10
 824 012a 002B     		cmp	r3, #0
 825 012c 33D0     		beq	.L42
 826              		.loc 1 742 55 discriminator 1
 827 012e FB6B     		ldr	r3, [r7, #60]
 828 0130 1F2B     		cmp	r3, #31
 829 0132 30D9     		bls	.L42
 743:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 744:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Read data from SDMMC Rx FIFO */
 745:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 830              		.loc 1 745 20
 831 0134 0023     		movs	r3, #0
 832 0136 3B64     		str	r3, [r7, #64]
 833              		.loc 1 745 9
 834 0138 27E0     		b	.L43
 835              	.L44:
 746:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 747:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data = SDMMC_ReadFIFO(hsd->Instance);
 836              		.loc 1 747 18 discriminator 3
 837 013a FB68     		ldr	r3, [r7, #12]
 838 013c 1B68     		ldr	r3, [r3]
 839 013e 1846     		mov	r0, r3
 840 0140 FFF7FEFF 		bl	SDMMC_ReadFIFO
 841 0144 F862     		str	r0, [r7, #44]
 748:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 842              		.loc 1 748 23 discriminator 3
 843 0146 FB6A     		ldr	r3, [r7, #44]
 844 0148 DAB2     		uxtb	r2, r3
 845              		.loc 1 748 21 discriminator 3
 846 014a 7B6B     		ldr	r3, [r7, #52]
 847 014c 1A70     		strb	r2, [r3]
 749:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 848              		.loc 1 749 19 discriminator 3
 849 014e 7B6B     		ldr	r3, [r7, #52]
 850 0150 0133     		adds	r3, r3, #1
 851 0152 7B63     		str	r3, [r7, #52]
 750:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 852              		.loc 1 750 39 discriminator 3
 853 0154 FB6A     		ldr	r3, [r7, #44]
 854 0156 1B0A     		lsrs	r3, r3, #8
 855              		.loc 1 750 23 discriminator 3
ARM GAS  /tmp/ccRis3lg.s 			page 29


 856 0158 DAB2     		uxtb	r2, r3
 857              		.loc 1 750 21 discriminator 3
 858 015a 7B6B     		ldr	r3, [r7, #52]
 859 015c 1A70     		strb	r2, [r3]
 751:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 860              		.loc 1 751 19 discriminator 3
 861 015e 7B6B     		ldr	r3, [r7, #52]
 862 0160 0133     		adds	r3, r3, #1
 863 0162 7B63     		str	r3, [r7, #52]
 752:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 864              		.loc 1 752 39 discriminator 3
 865 0164 FB6A     		ldr	r3, [r7, #44]
 866 0166 1B0C     		lsrs	r3, r3, #16
 867              		.loc 1 752 23 discriminator 3
 868 0168 DAB2     		uxtb	r2, r3
 869              		.loc 1 752 21 discriminator 3
 870 016a 7B6B     		ldr	r3, [r7, #52]
 871 016c 1A70     		strb	r2, [r3]
 753:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 872              		.loc 1 753 19 discriminator 3
 873 016e 7B6B     		ldr	r3, [r7, #52]
 874 0170 0133     		adds	r3, r3, #1
 875 0172 7B63     		str	r3, [r7, #52]
 754:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 876              		.loc 1 754 39 discriminator 3
 877 0174 FB6A     		ldr	r3, [r7, #44]
 878 0176 1B0E     		lsrs	r3, r3, #24
 879              		.loc 1 754 23 discriminator 3
 880 0178 DAB2     		uxtb	r2, r3
 881              		.loc 1 754 21 discriminator 3
 882 017a 7B6B     		ldr	r3, [r7, #52]
 883 017c 1A70     		strb	r2, [r3]
 755:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 884              		.loc 1 755 19 discriminator 3
 885 017e 7B6B     		ldr	r3, [r7, #52]
 886 0180 0133     		adds	r3, r3, #1
 887 0182 7B63     		str	r3, [r7, #52]
 745:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 888              		.loc 1 745 43 discriminator 3
 889 0184 3B6C     		ldr	r3, [r7, #64]
 890 0186 0133     		adds	r3, r3, #1
 891 0188 3B64     		str	r3, [r7, #64]
 892              	.L43:
 745:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 893              		.loc 1 745 9 discriminator 1
 894 018a 3B6C     		ldr	r3, [r7, #64]
 895 018c 072B     		cmp	r3, #7
 896 018e D4D9     		bls	.L44
 756:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 757:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         dataremaining -= 32U;
 897              		.loc 1 757 23
 898 0190 FB6B     		ldr	r3, [r7, #60]
 899 0192 203B     		subs	r3, r3, #32
 900 0194 FB63     		str	r3, [r7, #60]
 901              	.L42:
 758:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 759:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 30


 760:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 902              		.loc 1 760 13
 903 0196 FFF7FEFF 		bl	HAL_GetTick
 904 019a 0246     		mov	r2, r0
 905              		.loc 1 760 27
 906 019c 3B6B     		ldr	r3, [r7, #48]
 907 019e D31A     		subs	r3, r2, r3
 908              		.loc 1 760 10
 909 01a0 3A6D     		ldr	r2, [r7, #80]
 910 01a2 9A42     		cmp	r2, r3
 911 01a4 02D9     		bls	.L45
 912              		.loc 1 760 53 discriminator 1
 913 01a6 3B6D     		ldr	r3, [r7, #80]
 914 01a8 002B     		cmp	r3, #0
 915 01aa 12D1     		bne	.L41
 916              	.L45:
 761:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 762:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
 763:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 917              		.loc 1 763 9
 918 01ac FB68     		ldr	r3, [r7, #12]
 919 01ae 1B68     		ldr	r3, [r3]
 920 01b0 564A     		ldr	r2, .L52
 921 01b2 9A63     		str	r2, [r3, #56]
 764:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 922              		.loc 1 764 24
 923 01b4 FB68     		ldr	r3, [r7, #12]
 924 01b6 9B6B     		ldr	r3, [r3, #56]
 925 01b8 43F00042 		orr	r2, r3, #-2147483648
 926 01bc FB68     		ldr	r3, [r7, #12]
 927 01be 9A63     		str	r2, [r3, #56]
 765:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 928              		.loc 1 765 20
 929 01c0 FB68     		ldr	r3, [r7, #12]
 930 01c2 0122     		movs	r2, #1
 931 01c4 83F83420 		strb	r2, [r3, #52]
 766:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 932              		.loc 1 766 22
 933 01c8 FB68     		ldr	r3, [r7, #12]
 934 01ca 0022     		movs	r2, #0
 935 01cc 1A63     		str	r2, [r3, #48]
 767:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 936              		.loc 1 767 16
 937 01ce 0323     		movs	r3, #3
 938 01d0 97E0     		b	.L51
 939              	.L41:
 740:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 940              		.loc 1 740 13
 941 01d2 FB68     		ldr	r3, [r7, #12]
 942 01d4 1B68     		ldr	r3, [r3]
 943 01d6 5B6B     		ldr	r3, [r3, #52]
 944 01d8 03F49573 		and	r3, r3, #298
 740:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 945              		.loc 1 740 11
 946 01dc 002B     		cmp	r3, #0
 947 01de 9FD0     		beq	.L46
 768:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
ARM GAS  /tmp/ccRis3lg.s 			page 31


 769:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 770:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 948              		.loc 1 770 5
 949 01e0 FB68     		ldr	r3, [r7, #12]
 950 01e2 1B68     		ldr	r3, [r3]
 951 01e4 DA68     		ldr	r2, [r3, #12]
 952 01e6 FB68     		ldr	r3, [r7, #12]
 953 01e8 1B68     		ldr	r3, [r3]
 954 01ea 22F04002 		bic	r2, r2, #64
 955 01ee DA60     		str	r2, [r3, #12]
 771:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 772:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock read */
 773:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 956              		.loc 1 773 9
 957 01f0 FB68     		ldr	r3, [r7, #12]
 958 01f2 1B68     		ldr	r3, [r3]
 959 01f4 5B6B     		ldr	r3, [r3, #52]
 960 01f6 03F48073 		and	r3, r3, #256
 961              		.loc 1 773 8
 962 01fa 002B     		cmp	r3, #0
 963 01fc 22D0     		beq	.L47
 964              		.loc 1 773 52 discriminator 1
 965 01fe 3B68     		ldr	r3, [r7]
 966 0200 012B     		cmp	r3, #1
 967 0202 1FD9     		bls	.L47
 774:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 775:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->SdCard.CardType != CARD_SECURED)
 968              		.loc 1 775 22
 969 0204 FB68     		ldr	r3, [r7, #12]
 970 0206 DB6B     		ldr	r3, [r3, #60]
 971              		.loc 1 775 10
 972 0208 032B     		cmp	r3, #3
 973 020a 1BD0     		beq	.L47
 776:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 777:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send stop transmission command */
 778:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 974              		.loc 1 778 22
 975 020c FB68     		ldr	r3, [r7, #12]
 976 020e 1B68     		ldr	r3, [r3]
 977 0210 1846     		mov	r0, r3
 978 0212 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 979 0216 7864     		str	r0, [r7, #68]
 779:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 980              		.loc 1 779 12
 981 0218 7B6C     		ldr	r3, [r7, #68]
 982 021a 002B     		cmp	r3, #0
 983 021c 12D0     		beq	.L47
 780:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 781:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear all the static flags */
 782:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 984              		.loc 1 782 11
 985 021e FB68     		ldr	r3, [r7, #12]
 986 0220 1B68     		ldr	r3, [r3]
 987 0222 3A4A     		ldr	r2, .L52
 988 0224 9A63     		str	r2, [r3, #56]
 783:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 989              		.loc 1 783 26
ARM GAS  /tmp/ccRis3lg.s 			page 32


 990 0226 FB68     		ldr	r3, [r7, #12]
 991 0228 9A6B     		ldr	r2, [r3, #56]
 992 022a 7B6C     		ldr	r3, [r7, #68]
 993 022c 1A43     		orrs	r2, r2, r3
 994 022e FB68     		ldr	r3, [r7, #12]
 995 0230 9A63     		str	r2, [r3, #56]
 784:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 996              		.loc 1 784 22
 997 0232 FB68     		ldr	r3, [r7, #12]
 998 0234 0122     		movs	r2, #1
 999 0236 83F83420 		strb	r2, [r3, #52]
 785:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 1000              		.loc 1 785 24
 1001 023a FB68     		ldr	r3, [r7, #12]
 1002 023c 0022     		movs	r2, #0
 1003 023e 1A63     		str	r2, [r3, #48]
 786:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 1004              		.loc 1 786 18
 1005 0240 0123     		movs	r3, #1
 1006 0242 5EE0     		b	.L51
 1007              	.L47:
 787:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 788:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 789:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 790:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 791:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get error state */
 792:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 1008              		.loc 1 792 9
 1009 0244 FB68     		ldr	r3, [r7, #12]
 1010 0246 1B68     		ldr	r3, [r3]
 1011 0248 5B6B     		ldr	r3, [r3, #52]
 1012 024a 03F00803 		and	r3, r3, #8
 1013              		.loc 1 792 8
 1014 024e 002B     		cmp	r3, #0
 1015 0250 12D0     		beq	.L48
 793:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 794:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 795:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1016              		.loc 1 795 7
 1017 0252 FB68     		ldr	r3, [r7, #12]
 1018 0254 1B68     		ldr	r3, [r3]
 1019 0256 2D4A     		ldr	r2, .L52
 1020 0258 9A63     		str	r2, [r3, #56]
 796:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 1021              		.loc 1 796 22
 1022 025a FB68     		ldr	r3, [r7, #12]
 1023 025c 9B6B     		ldr	r3, [r3, #56]
 1024 025e 43F00802 		orr	r2, r3, #8
 1025 0262 FB68     		ldr	r3, [r7, #12]
 1026 0264 9A63     		str	r2, [r3, #56]
 797:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1027              		.loc 1 797 18
 1028 0266 FB68     		ldr	r3, [r7, #12]
 1029 0268 0122     		movs	r2, #1
 1030 026a 83F83420 		strb	r2, [r3, #52]
 798:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1031              		.loc 1 798 20
ARM GAS  /tmp/ccRis3lg.s 			page 33


 1032 026e FB68     		ldr	r3, [r7, #12]
 1033 0270 0022     		movs	r2, #0
 1034 0272 1A63     		str	r2, [r3, #48]
 799:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1035              		.loc 1 799 14
 1036 0274 0123     		movs	r3, #1
 1037 0276 44E0     		b	.L51
 1038              	.L48:
 800:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 801:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 1039              		.loc 1 801 14
 1040 0278 FB68     		ldr	r3, [r7, #12]
 1041 027a 1B68     		ldr	r3, [r3]
 1042 027c 5B6B     		ldr	r3, [r3, #52]
 1043 027e 03F00203 		and	r3, r3, #2
 1044              		.loc 1 801 13
 1045 0282 002B     		cmp	r3, #0
 1046 0284 12D0     		beq	.L49
 802:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 803:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 804:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1047              		.loc 1 804 7
 1048 0286 FB68     		ldr	r3, [r7, #12]
 1049 0288 1B68     		ldr	r3, [r3]
 1050 028a 204A     		ldr	r2, .L52
 1051 028c 9A63     		str	r2, [r3, #56]
 805:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 1052              		.loc 1 805 22
 1053 028e FB68     		ldr	r3, [r7, #12]
 1054 0290 9B6B     		ldr	r3, [r3, #56]
 1055 0292 43F00202 		orr	r2, r3, #2
 1056 0296 FB68     		ldr	r3, [r7, #12]
 1057 0298 9A63     		str	r2, [r3, #56]
 806:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1058              		.loc 1 806 18
 1059 029a FB68     		ldr	r3, [r7, #12]
 1060 029c 0122     		movs	r2, #1
 1061 029e 83F83420 		strb	r2, [r3, #52]
 807:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1062              		.loc 1 807 20
 1063 02a2 FB68     		ldr	r3, [r7, #12]
 1064 02a4 0022     		movs	r2, #0
 1065 02a6 1A63     		str	r2, [r3, #48]
 808:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1066              		.loc 1 808 14
 1067 02a8 0123     		movs	r3, #1
 1068 02aa 2AE0     		b	.L51
 1069              	.L49:
 809:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 810:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 1070              		.loc 1 810 14
 1071 02ac FB68     		ldr	r3, [r7, #12]
 1072 02ae 1B68     		ldr	r3, [r3]
 1073 02b0 5B6B     		ldr	r3, [r3, #52]
 1074 02b2 03F02003 		and	r3, r3, #32
 1075              		.loc 1 810 13
 1076 02b6 002B     		cmp	r3, #0
ARM GAS  /tmp/ccRis3lg.s 			page 34


 1077 02b8 12D0     		beq	.L50
 811:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 812:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 813:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1078              		.loc 1 813 7
 1079 02ba FB68     		ldr	r3, [r7, #12]
 1080 02bc 1B68     		ldr	r3, [r3]
 1081 02be 134A     		ldr	r2, .L52
 1082 02c0 9A63     		str	r2, [r3, #56]
 814:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 1083              		.loc 1 814 22
 1084 02c2 FB68     		ldr	r3, [r7, #12]
 1085 02c4 9B6B     		ldr	r3, [r3, #56]
 1086 02c6 43F02002 		orr	r2, r3, #32
 1087 02ca FB68     		ldr	r3, [r7, #12]
 1088 02cc 9A63     		str	r2, [r3, #56]
 815:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1089              		.loc 1 815 18
 1090 02ce FB68     		ldr	r3, [r7, #12]
 1091 02d0 0122     		movs	r2, #1
 1092 02d2 83F83420 		strb	r2, [r3, #52]
 816:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1093              		.loc 1 816 20
 1094 02d6 FB68     		ldr	r3, [r7, #12]
 1095 02d8 0022     		movs	r2, #0
 1096 02da 1A63     		str	r2, [r3, #48]
 817:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1097              		.loc 1 817 14
 1098 02dc 0123     		movs	r3, #1
 1099 02de 10E0     		b	.L51
 1100              	.L50:
 818:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 819:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 820:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 821:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
 822:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 823:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 824:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
 825:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 1101              		.loc 1 825 5
 1102 02e0 FB68     		ldr	r3, [r7, #12]
 1103 02e2 1B68     		ldr	r3, [r3]
 1104 02e4 0A4A     		ldr	r2, .L52+4
 1105 02e6 9A63     		str	r2, [r3, #56]
 826:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 827:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 1106              		.loc 1 827 16
 1107 02e8 FB68     		ldr	r3, [r7, #12]
 1108 02ea 0122     		movs	r2, #1
 1109 02ec 83F83420 		strb	r2, [r3, #52]
 828:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 829:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
 1110              		.loc 1 829 12
 1111 02f0 0023     		movs	r3, #0
 1112 02f2 06E0     		b	.L51
 1113              	.L35:
 830:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /tmp/ccRis3lg.s 			page 35


 831:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
 832:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 833:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 1114              		.loc 1 833 20
 1115 02f4 FB68     		ldr	r3, [r7, #12]
 1116 02f6 9B6B     		ldr	r3, [r3, #56]
 1117 02f8 43F00052 		orr	r2, r3, #536870912
 1118 02fc FB68     		ldr	r3, [r7, #12]
 1119 02fe 9A63     		str	r2, [r3, #56]
 834:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1120              		.loc 1 834 12
 1121 0300 0123     		movs	r3, #1
 1122              	.L51:
 835:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 836:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1123              		.loc 1 836 1 discriminator 1
 1124 0302 1846     		mov	r0, r3
 1125 0304 4837     		adds	r7, r7, #72
 1126              	.LCFI30:
 1127              		.cfi_def_cfa_offset 8
 1128 0306 BD46     		mov	sp, r7
 1129              	.LCFI31:
 1130              		.cfi_def_cfa_register 13
 1131              		@ sp needed
 1132 0308 80BD     		pop	{r7, pc}
 1133              	.L53:
 1134 030a 00BF     		.align	2
 1135              	.L52:
 1136 030c FF0FE01F 		.word	534777855
 1137 0310 3A0F0018 		.word	402657082
 1138              		.cfi_endproc
 1139              	.LFE336:
 1141              		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 1142              		.align	1
 1143              		.global	HAL_SD_WriteBlocks
 1144              		.syntax unified
 1145              		.thumb
 1146              		.thumb_func
 1147              		.fpu fpv5-d16
 1149              	HAL_SD_WriteBlocks:
 1150              	.LFB337:
 837:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 838:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
 839:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
 840:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         transfer is managed by polling mode.
 841:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 842:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 843:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 844:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the data to transmit
 845:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
 846:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to write
 847:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 848:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
 849:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
 850:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint
 851:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                      uint32_t Timeout)
 852:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
ARM GAS  /tmp/ccRis3lg.s 			page 36


 1151              		.loc 1 852 1
 1152              		.cfi_startproc
 1153              		@ args = 4, pretend = 0, frame = 72
 1154              		@ frame_needed = 1, uses_anonymous_args = 0
 1155 0000 80B5     		push	{r7, lr}
 1156              	.LCFI32:
 1157              		.cfi_def_cfa_offset 8
 1158              		.cfi_offset 7, -8
 1159              		.cfi_offset 14, -4
 1160 0002 92B0     		sub	sp, sp, #72
 1161              	.LCFI33:
 1162              		.cfi_def_cfa_offset 80
 1163 0004 00AF     		add	r7, sp, #0
 1164              	.LCFI34:
 1165              		.cfi_def_cfa_register 7
 1166 0006 F860     		str	r0, [r7, #12]
 1167 0008 B960     		str	r1, [r7, #8]
 1168 000a 7A60     		str	r2, [r7, #4]
 1169 000c 3B60     		str	r3, [r7]
 853:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
 854:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
 855:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 1170              		.loc 1 855 24
 1171 000e FFF7FEFF 		bl	HAL_GetTick
 1172 0012 3863     		str	r0, [r7, #48]
 856:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
 857:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
 858:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t dataremaining;
 859:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1173              		.loc 1 859 12
 1174 0014 7B68     		ldr	r3, [r7, #4]
 1175 0016 BB63     		str	r3, [r7, #56]
 860:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 1176              		.loc 1 860 12
 1177 0018 BB68     		ldr	r3, [r7, #8]
 1178 001a 7B63     		str	r3, [r7, #52]
 861:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 862:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 1179              		.loc 1 862 6
 1180 001c BB68     		ldr	r3, [r7, #8]
 1181 001e 002B     		cmp	r3, #0
 1182 0020 07D1     		bne	.L55
 863:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 864:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 1183              		.loc 1 864 20
 1184 0022 FB68     		ldr	r3, [r7, #12]
 1185 0024 9B6B     		ldr	r3, [r3, #56]
 1186 0026 43F00062 		orr	r2, r3, #134217728
 1187 002a FB68     		ldr	r3, [r7, #12]
 1188 002c 9A63     		str	r2, [r3, #56]
 865:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1189              		.loc 1 865 12
 1190 002e 0123     		movs	r3, #1
 1191 0030 6BE1     		b	.L73
 1192              	.L55:
 866:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 867:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 37


 868:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 1193              		.loc 1 868 10
 1194 0032 FB68     		ldr	r3, [r7, #12]
 1195 0034 93F83430 		ldrb	r3, [r3, #52]
 1196 0038 DBB2     		uxtb	r3, r3
 1197              		.loc 1 868 6
 1198 003a 012B     		cmp	r3, #1
 1199 003c 40F05E81 		bne	.L57
 869:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 870:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 1200              		.loc 1 870 20
 1201 0040 FB68     		ldr	r3, [r7, #12]
 1202 0042 0022     		movs	r2, #0
 1203 0044 9A63     		str	r2, [r3, #56]
 871:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 872:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 1204              		.loc 1 872 14
 1205 0046 BA6B     		ldr	r2, [r7, #56]
 1206 0048 3B68     		ldr	r3, [r7]
 1207 004a 1A44     		add	r2, r2, r3
 1208              		.loc 1 872 46
 1209 004c FB68     		ldr	r3, [r7, #12]
 1210 004e 5B6D     		ldr	r3, [r3, #84]
 1211              		.loc 1 872 8
 1212 0050 9A42     		cmp	r2, r3
 1213 0052 07D9     		bls	.L58
 873:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 874:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 1214              		.loc 1 874 22
 1215 0054 FB68     		ldr	r3, [r7, #12]
 1216 0056 9B6B     		ldr	r3, [r3, #56]
 1217 0058 43F00072 		orr	r2, r3, #33554432
 1218 005c FB68     		ldr	r3, [r7, #12]
 1219 005e 9A63     		str	r2, [r3, #56]
 875:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1220              		.loc 1 875 14
 1221 0060 0123     		movs	r3, #1
 1222 0062 52E1     		b	.L73
 1223              	.L58:
 876:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 877:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 878:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 1224              		.loc 1 878 16
 1225 0064 FB68     		ldr	r3, [r7, #12]
 1226 0066 0322     		movs	r2, #3
 1227 0068 83F83420 		strb	r2, [r3, #52]
 879:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 880:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
 881:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 1228              		.loc 1 881 8
 1229 006c FB68     		ldr	r3, [r7, #12]
 1230 006e 1B68     		ldr	r3, [r3]
 1231              		.loc 1 881 26
 1232 0070 0022     		movs	r2, #0
 1233 0072 DA62     		str	r2, [r3, #44]
 882:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 883:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
ARM GAS  /tmp/ccRis3lg.s 			page 38


 1234              		.loc 1 883 20
 1235 0074 FB68     		ldr	r3, [r7, #12]
 1236 0076 DB6B     		ldr	r3, [r3, #60]
 1237              		.loc 1 883 8
 1238 0078 012B     		cmp	r3, #1
 1239 007a 02D0     		beq	.L59
 884:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 885:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
 1240              		.loc 1 885 11
 1241 007c BB6B     		ldr	r3, [r7, #56]
 1242 007e 5B02     		lsls	r3, r3, #9
 1243 0080 BB63     		str	r3, [r7, #56]
 1244              	.L59:
 886:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 887:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 888:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 889:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 1245              		.loc 1 889 26
 1246 0082 4FF0FF33 		mov	r3, #-1
 1247 0086 BB61     		str	r3, [r7, #24]
 890:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1248              		.loc 1 890 43
 1249 0088 3B68     		ldr	r3, [r7]
 1250 008a 5B02     		lsls	r3, r3, #9
 1251              		.loc 1 890 26
 1252 008c FB61     		str	r3, [r7, #28]
 891:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1253              		.loc 1 891 26
 1254 008e 9023     		movs	r3, #144
 1255 0090 3B62     		str	r3, [r7, #32]
 892:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 1256              		.loc 1 892 26
 1257 0092 0023     		movs	r3, #0
 1258 0094 7B62     		str	r3, [r7, #36]
 893:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1259              		.loc 1 893 26
 1260 0096 0023     		movs	r3, #0
 1261 0098 BB62     		str	r3, [r7, #40]
 894:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1262              		.loc 1 894 26
 1263 009a 0023     		movs	r3, #0
 1264 009c FB62     		str	r3, [r7, #44]
 895:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1265              		.loc 1 895 11
 1266 009e FB68     		ldr	r3, [r7, #12]
 1267 00a0 1B68     		ldr	r3, [r3]
 1268 00a2 07F11802 		add	r2, r7, #24
 1269 00a6 1146     		mov	r1, r2
 1270 00a8 1846     		mov	r0, r3
 1271 00aa FFF7FEFF 		bl	SDMMC_ConfigData
 896:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1272              		.loc 1 896 5
 1273 00ae FB68     		ldr	r3, [r7, #12]
 1274 00b0 1B68     		ldr	r3, [r3]
 1275 00b2 DA68     		ldr	r2, [r3, #12]
 1276 00b4 FB68     		ldr	r3, [r7, #12]
 1277 00b6 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccRis3lg.s 			page 39


 1278 00b8 42F04002 		orr	r2, r2, #64
 1279 00bc DA60     		str	r2, [r3, #12]
 897:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 898:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
 899:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 1280              		.loc 1 899 8
 1281 00be 3B68     		ldr	r3, [r7]
 1282 00c0 012B     		cmp	r3, #1
 1283 00c2 0AD9     		bls	.L60
 900:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 901:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_MULTIPLE_BLOCK;
 1284              		.loc 1 901 20
 1285 00c4 FB68     		ldr	r3, [r7, #12]
 1286 00c6 2022     		movs	r2, #32
 1287 00c8 1A63     		str	r2, [r3, #48]
 902:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 903:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
 904:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 1288              		.loc 1 904 20
 1289 00ca FB68     		ldr	r3, [r7, #12]
 1290 00cc 1B68     		ldr	r3, [r3]
 1291 00ce B96B     		ldr	r1, [r7, #56]
 1292 00d0 1846     		mov	r0, r3
 1293 00d2 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 1294 00d6 7864     		str	r0, [r7, #68]
 1295 00d8 09E0     		b	.L61
 1296              	.L60:
 905:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 906:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
 907:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 908:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_SINGLE_BLOCK;
 1297              		.loc 1 908 20
 1298 00da FB68     		ldr	r3, [r7, #12]
 1299 00dc 1022     		movs	r2, #16
 1300 00de 1A63     		str	r2, [r3, #48]
 909:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 910:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
 911:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 1301              		.loc 1 911 20
 1302 00e0 FB68     		ldr	r3, [r7, #12]
 1303 00e2 1B68     		ldr	r3, [r3]
 1304 00e4 B96B     		ldr	r1, [r7, #56]
 1305 00e6 1846     		mov	r0, r3
 1306 00e8 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 1307 00ec 7864     		str	r0, [r7, #68]
 1308              	.L61:
 912:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 913:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1309              		.loc 1 913 8
 1310 00ee 7B6C     		ldr	r3, [r7, #68]
 1311 00f0 002B     		cmp	r3, #0
 1312 00f2 12D0     		beq	.L62
 914:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 915:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 916:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1313              		.loc 1 916 7
 1314 00f4 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccRis3lg.s 			page 40


 1315 00f6 1B68     		ldr	r3, [r3]
 1316 00f8 864A     		ldr	r2, .L74
 1317 00fa 9A63     		str	r2, [r3, #56]
 917:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1318              		.loc 1 917 22
 1319 00fc FB68     		ldr	r3, [r7, #12]
 1320 00fe 9A6B     		ldr	r2, [r3, #56]
 1321 0100 7B6C     		ldr	r3, [r7, #68]
 1322 0102 1A43     		orrs	r2, r2, r3
 1323 0104 FB68     		ldr	r3, [r7, #12]
 1324 0106 9A63     		str	r2, [r3, #56]
 918:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1325              		.loc 1 918 18
 1326 0108 FB68     		ldr	r3, [r7, #12]
 1327 010a 0122     		movs	r2, #1
 1328 010c 83F83420 		strb	r2, [r3, #52]
 919:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1329              		.loc 1 919 20
 1330 0110 FB68     		ldr	r3, [r7, #12]
 1331 0112 0022     		movs	r2, #0
 1332 0114 1A63     		str	r2, [r3, #48]
 920:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1333              		.loc 1 920 14
 1334 0116 0123     		movs	r3, #1
 1335 0118 F7E0     		b	.L73
 1336              	.L62:
 921:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 922:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 923:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write block(s) in polling mode */
 924:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     dataremaining = config.DataLength;
 1337              		.loc 1 924 19
 1338 011a FB69     		ldr	r3, [r7, #28]
 1339 011c FB63     		str	r3, [r7, #60]
 925:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT 
 1340              		.loc 1 925 11
 1341 011e 5CE0     		b	.L63
 1342              	.L68:
 926:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 927:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 928:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) && (dataremaining >= 32U))
 1343              		.loc 1 928 11
 1344 0120 FB68     		ldr	r3, [r7, #12]
 1345 0122 1B68     		ldr	r3, [r3]
 1346 0124 5B6B     		ldr	r3, [r3, #52]
 1347 0126 03F48043 		and	r3, r3, #16384
 1348              		.loc 1 928 10
 1349 012a 002B     		cmp	r3, #0
 1350 012c 37D0     		beq	.L64
 1351              		.loc 1 928 55 discriminator 1
 1352 012e FB6B     		ldr	r3, [r7, #60]
 1353 0130 1F2B     		cmp	r3, #31
 1354 0132 34D9     		bls	.L64
 929:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 930:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Write data to SDMMC Tx FIFO */
 931:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 1355              		.loc 1 931 20
 1356 0134 0023     		movs	r3, #0
ARM GAS  /tmp/ccRis3lg.s 			page 41


 1357 0136 3B64     		str	r3, [r7, #64]
 1358              		.loc 1 931 9
 1359 0138 2BE0     		b	.L65
 1360              	.L66:
 932:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 933:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data = (uint32_t)(*tempbuff);
 1361              		.loc 1 933 29 discriminator 3
 1362 013a 7B6B     		ldr	r3, [r7, #52]
 1363 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1364              		.loc 1 933 16 discriminator 3
 1365 013e 7B61     		str	r3, [r7, #20]
 934:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1366              		.loc 1 934 19 discriminator 3
 1367 0140 7B6B     		ldr	r3, [r7, #52]
 1368 0142 0133     		adds	r3, r3, #1
 1369 0144 7B63     		str	r3, [r7, #52]
 935:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 1370              		.loc 1 935 31 discriminator 3
 1371 0146 7B6B     		ldr	r3, [r7, #52]
 1372 0148 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1373              		.loc 1 935 42 discriminator 3
 1374 014a 1A02     		lsls	r2, r3, #8
 1375              		.loc 1 935 16 discriminator 3
 1376 014c 7B69     		ldr	r3, [r7, #20]
 1377 014e 1343     		orrs	r3, r3, r2
 1378 0150 7B61     		str	r3, [r7, #20]
 936:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1379              		.loc 1 936 19 discriminator 3
 1380 0152 7B6B     		ldr	r3, [r7, #52]
 1381 0154 0133     		adds	r3, r3, #1
 1382 0156 7B63     		str	r3, [r7, #52]
 937:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 1383              		.loc 1 937 31 discriminator 3
 1384 0158 7B6B     		ldr	r3, [r7, #52]
 1385 015a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1386              		.loc 1 937 42 discriminator 3
 1387 015c 1A04     		lsls	r2, r3, #16
 1388              		.loc 1 937 16 discriminator 3
 1389 015e 7B69     		ldr	r3, [r7, #20]
 1390 0160 1343     		orrs	r3, r3, r2
 1391 0162 7B61     		str	r3, [r7, #20]
 938:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
 1392              		.loc 1 938 19 discriminator 3
 1393 0164 7B6B     		ldr	r3, [r7, #52]
 1394 0166 0133     		adds	r3, r3, #1
 1395 0168 7B63     		str	r3, [r7, #52]
 939:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 1396              		.loc 1 939 31 discriminator 3
 1397 016a 7B6B     		ldr	r3, [r7, #52]
 1398 016c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1399              		.loc 1 939 42 discriminator 3
 1400 016e 1A06     		lsls	r2, r3, #24
 1401              		.loc 1 939 16 discriminator 3
 1402 0170 7B69     		ldr	r3, [r7, #20]
 1403 0172 1343     		orrs	r3, r3, r2
 1404 0174 7B61     		str	r3, [r7, #20]
 940:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           tempbuff++;
ARM GAS  /tmp/ccRis3lg.s 			page 42


 1405              		.loc 1 940 19 discriminator 3
 1406 0176 7B6B     		ldr	r3, [r7, #52]
 1407 0178 0133     		adds	r3, r3, #1
 1408 017a 7B63     		str	r3, [r7, #52]
 941:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 1409              		.loc 1 941 17 discriminator 3
 1410 017c FB68     		ldr	r3, [r7, #12]
 1411 017e 1B68     		ldr	r3, [r3]
 1412 0180 07F11402 		add	r2, r7, #20
 1413 0184 1146     		mov	r1, r2
 1414 0186 1846     		mov	r0, r3
 1415 0188 FFF7FEFF 		bl	SDMMC_WriteFIFO
 931:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1416              		.loc 1 931 43 discriminator 3
 1417 018c 3B6C     		ldr	r3, [r7, #64]
 1418 018e 0133     		adds	r3, r3, #1
 1419 0190 3B64     		str	r3, [r7, #64]
 1420              	.L65:
 931:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 1421              		.loc 1 931 9 discriminator 1
 1422 0192 3B6C     		ldr	r3, [r7, #64]
 1423 0194 072B     		cmp	r3, #7
 1424 0196 D0D9     		bls	.L66
 942:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 943:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         dataremaining -= 32U;
 1425              		.loc 1 943 23
 1426 0198 FB6B     		ldr	r3, [r7, #60]
 1427 019a 203B     		subs	r3, r3, #32
 1428 019c FB63     		str	r3, [r7, #60]
 1429              	.L64:
 944:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 945:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 946:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) || (Timeout == 0U))
 1430              		.loc 1 946 13
 1431 019e FFF7FEFF 		bl	HAL_GetTick
 1432 01a2 0246     		mov	r2, r0
 1433              		.loc 1 946 27
 1434 01a4 3B6B     		ldr	r3, [r7, #48]
 1435 01a6 D31A     		subs	r3, r2, r3
 1436              		.loc 1 946 10
 1437 01a8 3A6D     		ldr	r2, [r7, #80]
 1438 01aa 9A42     		cmp	r2, r3
 1439 01ac 02D9     		bls	.L67
 1440              		.loc 1 946 53 discriminator 1
 1441 01ae 3B6D     		ldr	r3, [r7, #80]
 1442 01b0 002B     		cmp	r3, #0
 1443 01b2 12D1     		bne	.L63
 1444              	.L67:
 947:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 948:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
 949:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1445              		.loc 1 949 9
 1446 01b4 FB68     		ldr	r3, [r7, #12]
 1447 01b6 1B68     		ldr	r3, [r3]
 1448 01b8 564A     		ldr	r2, .L74
 1449 01ba 9A63     		str	r2, [r3, #56]
 950:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
ARM GAS  /tmp/ccRis3lg.s 			page 43


 1450              		.loc 1 950 24
 1451 01bc FB68     		ldr	r3, [r7, #12]
 1452 01be 9A6B     		ldr	r2, [r3, #56]
 1453 01c0 7B6C     		ldr	r3, [r7, #68]
 1454 01c2 1A43     		orrs	r2, r2, r3
 1455 01c4 FB68     		ldr	r3, [r7, #12]
 1456 01c6 9A63     		str	r2, [r3, #56]
 951:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 1457              		.loc 1 951 20
 1458 01c8 FB68     		ldr	r3, [r7, #12]
 1459 01ca 0122     		movs	r2, #1
 1460 01cc 83F83420 		strb	r2, [r3, #52]
 952:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1461              		.loc 1 952 22
 1462 01d0 FB68     		ldr	r3, [r7, #12]
 1463 01d2 0022     		movs	r2, #0
 1464 01d4 1A63     		str	r2, [r3, #48]
 953:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_TIMEOUT;
 1465              		.loc 1 953 16
 1466 01d6 0323     		movs	r3, #3
 1467 01d8 97E0     		b	.L73
 1468              	.L63:
 925:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1469              		.loc 1 925 13
 1470 01da FB68     		ldr	r3, [r7, #12]
 1471 01dc 1B68     		ldr	r3, [r3]
 1472 01de 5B6B     		ldr	r3, [r3, #52]
 1473 01e0 03F48D73 		and	r3, r3, #282
 925:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 1474              		.loc 1 925 11
 1475 01e4 002B     		cmp	r3, #0
 1476 01e6 9BD0     		beq	.L68
 954:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 955:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 956:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 1477              		.loc 1 956 5
 1478 01e8 FB68     		ldr	r3, [r7, #12]
 1479 01ea 1B68     		ldr	r3, [r3]
 1480 01ec DA68     		ldr	r2, [r3, #12]
 1481 01ee FB68     		ldr	r3, [r7, #12]
 1482 01f0 1B68     		ldr	r3, [r3]
 1483 01f2 22F04002 		bic	r2, r2, #64
 1484 01f6 DA60     		str	r2, [r3, #12]
 957:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 958:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock write */
 959:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 1485              		.loc 1 959 9
 1486 01f8 FB68     		ldr	r3, [r7, #12]
 1487 01fa 1B68     		ldr	r3, [r3]
 1488 01fc 5B6B     		ldr	r3, [r3, #52]
 1489 01fe 03F48073 		and	r3, r3, #256
 1490              		.loc 1 959 8
 1491 0202 002B     		cmp	r3, #0
 1492 0204 22D0     		beq	.L69
 1493              		.loc 1 959 52 discriminator 1
 1494 0206 3B68     		ldr	r3, [r7]
 1495 0208 012B     		cmp	r3, #1
ARM GAS  /tmp/ccRis3lg.s 			page 44


 1496 020a 1FD9     		bls	.L69
 960:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 961:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->SdCard.CardType != CARD_SECURED)
 1497              		.loc 1 961 22
 1498 020c FB68     		ldr	r3, [r7, #12]
 1499 020e DB6B     		ldr	r3, [r3, #60]
 1500              		.loc 1 961 10
 1501 0210 032B     		cmp	r3, #3
 1502 0212 1BD0     		beq	.L69
 962:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 963:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send stop transmission command */
 964:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 1503              		.loc 1 964 22
 1504 0214 FB68     		ldr	r3, [r7, #12]
 1505 0216 1B68     		ldr	r3, [r3]
 1506 0218 1846     		mov	r0, r3
 1507 021a FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 1508 021e 7864     		str	r0, [r7, #68]
 965:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 1509              		.loc 1 965 12
 1510 0220 7B6C     		ldr	r3, [r7, #68]
 1511 0222 002B     		cmp	r3, #0
 1512 0224 12D0     		beq	.L69
 966:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 967:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear all the static flags */
 968:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1513              		.loc 1 968 11
 1514 0226 FB68     		ldr	r3, [r7, #12]
 1515 0228 1B68     		ldr	r3, [r3]
 1516 022a 3A4A     		ldr	r2, .L74
 1517 022c 9A63     		str	r2, [r3, #56]
 969:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 1518              		.loc 1 969 26
 1519 022e FB68     		ldr	r3, [r7, #12]
 1520 0230 9A6B     		ldr	r2, [r3, #56]
 1521 0232 7B6C     		ldr	r3, [r7, #68]
 1522 0234 1A43     		orrs	r2, r2, r3
 1523 0236 FB68     		ldr	r3, [r7, #12]
 1524 0238 9A63     		str	r2, [r3, #56]
 970:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 1525              		.loc 1 970 22
 1526 023a FB68     		ldr	r3, [r7, #12]
 1527 023c 0122     		movs	r2, #1
 1528 023e 83F83420 		strb	r2, [r3, #52]
 971:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 1529              		.loc 1 971 24
 1530 0242 FB68     		ldr	r3, [r7, #12]
 1531 0244 0022     		movs	r2, #0
 1532 0246 1A63     		str	r2, [r3, #48]
 972:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return HAL_ERROR;
 1533              		.loc 1 972 18
 1534 0248 0123     		movs	r3, #1
 1535 024a 5EE0     		b	.L73
 1536              	.L69:
 973:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 974:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 975:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /tmp/ccRis3lg.s 			page 45


 976:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 977:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get error state */
 978:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 1537              		.loc 1 978 9
 1538 024c FB68     		ldr	r3, [r7, #12]
 1539 024e 1B68     		ldr	r3, [r3]
 1540 0250 5B6B     		ldr	r3, [r3, #52]
 1541 0252 03F00803 		and	r3, r3, #8
 1542              		.loc 1 978 8
 1543 0256 002B     		cmp	r3, #0
 1544 0258 12D0     		beq	.L70
 979:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 980:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 981:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1545              		.loc 1 981 7
 1546 025a FB68     		ldr	r3, [r7, #12]
 1547 025c 1B68     		ldr	r3, [r3]
 1548 025e 2D4A     		ldr	r2, .L74
 1549 0260 9A63     		str	r2, [r3, #56]
 982:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 1550              		.loc 1 982 22
 1551 0262 FB68     		ldr	r3, [r7, #12]
 1552 0264 9B6B     		ldr	r3, [r3, #56]
 1553 0266 43F00802 		orr	r2, r3, #8
 1554 026a FB68     		ldr	r3, [r7, #12]
 1555 026c 9A63     		str	r2, [r3, #56]
 983:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1556              		.loc 1 983 18
 1557 026e FB68     		ldr	r3, [r7, #12]
 1558 0270 0122     		movs	r2, #1
 1559 0272 83F83420 		strb	r2, [r3, #52]
 984:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1560              		.loc 1 984 20
 1561 0276 FB68     		ldr	r3, [r7, #12]
 1562 0278 0022     		movs	r2, #0
 1563 027a 1A63     		str	r2, [r3, #48]
 985:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1564              		.loc 1 985 14
 1565 027c 0123     		movs	r3, #1
 1566 027e 44E0     		b	.L73
 1567              	.L70:
 986:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 987:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 1568              		.loc 1 987 14
 1569 0280 FB68     		ldr	r3, [r7, #12]
 1570 0282 1B68     		ldr	r3, [r3]
 1571 0284 5B6B     		ldr	r3, [r3, #52]
 1572 0286 03F00203 		and	r3, r3, #2
 1573              		.loc 1 987 13
 1574 028a 002B     		cmp	r3, #0
 1575 028c 12D0     		beq	.L71
 988:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 989:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 990:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1576              		.loc 1 990 7
 1577 028e FB68     		ldr	r3, [r7, #12]
 1578 0290 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccRis3lg.s 			page 46


 1579 0292 204A     		ldr	r2, .L74
 1580 0294 9A63     		str	r2, [r3, #56]
 991:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 1581              		.loc 1 991 22
 1582 0296 FB68     		ldr	r3, [r7, #12]
 1583 0298 9B6B     		ldr	r3, [r3, #56]
 1584 029a 43F00202 		orr	r2, r3, #2
 1585 029e FB68     		ldr	r3, [r7, #12]
 1586 02a0 9A63     		str	r2, [r3, #56]
 992:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1587              		.loc 1 992 18
 1588 02a2 FB68     		ldr	r3, [r7, #12]
 1589 02a4 0122     		movs	r2, #1
 1590 02a6 83F83420 		strb	r2, [r3, #52]
 993:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1591              		.loc 1 993 20
 1592 02aa FB68     		ldr	r3, [r7, #12]
 1593 02ac 0022     		movs	r2, #0
 1594 02ae 1A63     		str	r2, [r3, #48]
 994:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1595              		.loc 1 994 14
 1596 02b0 0123     		movs	r3, #1
 1597 02b2 2AE0     		b	.L73
 1598              	.L71:
 995:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 996:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXUNDERR))
 1599              		.loc 1 996 14
 1600 02b4 FB68     		ldr	r3, [r7, #12]
 1601 02b6 1B68     		ldr	r3, [r3]
 1602 02b8 5B6B     		ldr	r3, [r3, #52]
 1603 02ba 03F01003 		and	r3, r3, #16
 1604              		.loc 1 996 13
 1605 02be 002B     		cmp	r3, #0
 1606 02c0 12D0     		beq	.L72
 997:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 998:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
 999:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1607              		.loc 1 999 7
 1608 02c2 FB68     		ldr	r3, [r7, #12]
 1609 02c4 1B68     		ldr	r3, [r3]
 1610 02c6 134A     		ldr	r2, .L74
 1611 02c8 9A63     		str	r2, [r3, #56]
1000:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
 1612              		.loc 1 1000 22
 1613 02ca FB68     		ldr	r3, [r7, #12]
 1614 02cc 9B6B     		ldr	r3, [r3, #56]
 1615 02ce 43F01002 		orr	r2, r3, #16
 1616 02d2 FB68     		ldr	r3, [r7, #12]
 1617 02d4 9A63     		str	r2, [r3, #56]
1001:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1618              		.loc 1 1001 18
 1619 02d6 FB68     		ldr	r3, [r7, #12]
 1620 02d8 0122     		movs	r2, #1
 1621 02da 83F83420 		strb	r2, [r3, #52]
1002:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1622              		.loc 1 1002 20
 1623 02de FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccRis3lg.s 			page 47


 1624 02e0 0022     		movs	r2, #0
 1625 02e2 1A63     		str	r2, [r3, #48]
1003:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1626              		.loc 1 1003 14
 1627 02e4 0123     		movs	r3, #1
 1628 02e6 10E0     		b	.L73
 1629              	.L72:
1004:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1005:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1006:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1007:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1008:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1009:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1010:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
1011:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 1630              		.loc 1 1011 5
 1631 02e8 FB68     		ldr	r3, [r7, #12]
 1632 02ea 1B68     		ldr	r3, [r3]
 1633 02ec 0A4A     		ldr	r2, .L74+4
 1634 02ee 9A63     		str	r2, [r3, #56]
1012:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1013:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 1635              		.loc 1 1013 16
 1636 02f0 FB68     		ldr	r3, [r7, #12]
 1637 02f2 0122     		movs	r2, #1
 1638 02f4 83F83420 		strb	r2, [r3, #52]
1014:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1015:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
 1639              		.loc 1 1015 12
 1640 02f8 0023     		movs	r3, #0
 1641 02fa 06E0     		b	.L73
 1642              	.L57:
1016:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1017:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1018:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1019:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 1643              		.loc 1 1019 20
 1644 02fc FB68     		ldr	r3, [r7, #12]
 1645 02fe 9B6B     		ldr	r3, [r3, #56]
 1646 0300 43F00052 		orr	r2, r3, #536870912
 1647 0304 FB68     		ldr	r3, [r7, #12]
 1648 0306 9A63     		str	r2, [r3, #56]
1020:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1649              		.loc 1 1020 12
 1650 0308 0123     		movs	r3, #1
 1651              	.L73:
1021:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1022:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1652              		.loc 1 1022 1 discriminator 1
 1653 030a 1846     		mov	r0, r3
 1654 030c 4837     		adds	r7, r7, #72
 1655              	.LCFI35:
 1656              		.cfi_def_cfa_offset 8
 1657 030e BD46     		mov	sp, r7
 1658              	.LCFI36:
 1659              		.cfi_def_cfa_register 13
 1660              		@ sp needed
ARM GAS  /tmp/ccRis3lg.s 			page 48


 1661 0310 80BD     		pop	{r7, pc}
 1662              	.L75:
 1663 0312 00BF     		.align	2
 1664              	.L74:
 1665 0314 FF0FE01F 		.word	534777855
 1666 0318 3A0F0018 		.word	402657082
 1667              		.cfi_endproc
 1668              	.LFE337:
 1670              		.section	.text.HAL_SD_ReadBlocks_IT,"ax",%progbits
 1671              		.align	1
 1672              		.global	HAL_SD_ReadBlocks_IT
 1673              		.syntax unified
 1674              		.thumb
 1675              		.thumb_func
 1676              		.fpu fpv5-d16
 1678              	HAL_SD_ReadBlocks_IT:
 1679              	.LFB338:
1023:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1024:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1025:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1026:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed in interrupt mode.
1027:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1028:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1029:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Rx
1030:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1031:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1032:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1033:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
1034:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1035:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1036:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1037:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1038:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                        uint32_t NumberOfBlocks)
1039:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 1680              		.loc 1 1039 1
 1681              		.cfi_startproc
 1682              		@ args = 0, pretend = 0, frame = 48
 1683              		@ frame_needed = 1, uses_anonymous_args = 0
 1684 0000 80B5     		push	{r7, lr}
 1685              	.LCFI37:
 1686              		.cfi_def_cfa_offset 8
 1687              		.cfi_offset 7, -8
 1688              		.cfi_offset 14, -4
 1689 0002 8CB0     		sub	sp, sp, #48
 1690              	.LCFI38:
 1691              		.cfi_def_cfa_offset 56
 1692 0004 00AF     		add	r7, sp, #0
 1693              	.LCFI39:
 1694              		.cfi_def_cfa_register 7
 1695 0006 F860     		str	r0, [r7, #12]
 1696 0008 B960     		str	r1, [r7, #8]
 1697 000a 7A60     		str	r2, [r7, #4]
 1698 000c 3B60     		str	r3, [r7]
1040:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1041:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1042:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1699              		.loc 1 1042 12
ARM GAS  /tmp/ccRis3lg.s 			page 49


 1700 000e 7B68     		ldr	r3, [r7, #4]
 1701 0010 BB62     		str	r3, [r7, #40]
1043:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1044:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 1702              		.loc 1 1044 6
 1703 0012 BB68     		ldr	r3, [r7, #8]
 1704 0014 002B     		cmp	r3, #0
 1705 0016 07D1     		bne	.L77
1045:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1046:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 1706              		.loc 1 1046 20
 1707 0018 FB68     		ldr	r3, [r7, #12]
 1708 001a 9B6B     		ldr	r3, [r3, #56]
 1709 001c 43F00062 		orr	r2, r3, #134217728
 1710 0020 FB68     		ldr	r3, [r7, #12]
 1711 0022 9A63     		str	r2, [r3, #56]
1047:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1712              		.loc 1 1047 12
 1713 0024 0123     		movs	r3, #1
 1714 0026 85E0     		b	.L85
 1715              	.L77:
1048:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1049:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1050:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 1716              		.loc 1 1050 10
 1717 0028 FB68     		ldr	r3, [r7, #12]
 1718 002a 93F83430 		ldrb	r3, [r3, #52]
 1719 002e DBB2     		uxtb	r3, r3
 1720              		.loc 1 1050 6
 1721 0030 012B     		cmp	r3, #1
 1722 0032 7ED1     		bne	.L79
1051:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1052:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 1723              		.loc 1 1052 20
 1724 0034 FB68     		ldr	r3, [r7, #12]
 1725 0036 0022     		movs	r2, #0
 1726 0038 9A63     		str	r2, [r3, #56]
1053:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1054:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 1727              		.loc 1 1054 14
 1728 003a BA6A     		ldr	r2, [r7, #40]
 1729 003c 3B68     		ldr	r3, [r7]
 1730 003e 1A44     		add	r2, r2, r3
 1731              		.loc 1 1054 46
 1732 0040 FB68     		ldr	r3, [r7, #12]
 1733 0042 5B6D     		ldr	r3, [r3, #84]
 1734              		.loc 1 1054 8
 1735 0044 9A42     		cmp	r2, r3
 1736 0046 07D9     		bls	.L80
1055:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1056:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 1737              		.loc 1 1056 22
 1738 0048 FB68     		ldr	r3, [r7, #12]
 1739 004a 9B6B     		ldr	r3, [r3, #56]
 1740 004c 43F00072 		orr	r2, r3, #33554432
 1741 0050 FB68     		ldr	r3, [r7, #12]
 1742 0052 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/ccRis3lg.s 			page 50


1057:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1743              		.loc 1 1057 14
 1744 0054 0123     		movs	r3, #1
 1745 0056 6DE0     		b	.L85
 1746              	.L80:
1058:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1059:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1060:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 1747              		.loc 1 1060 16
 1748 0058 FB68     		ldr	r3, [r7, #12]
 1749 005a 0322     		movs	r2, #3
 1750 005c 83F83420 		strb	r2, [r3, #52]
1061:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1062:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1063:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 1751              		.loc 1 1063 8
 1752 0060 FB68     		ldr	r3, [r7, #12]
 1753 0062 1B68     		ldr	r3, [r3]
 1754              		.loc 1 1063 26
 1755 0064 0022     		movs	r2, #0
 1756 0066 DA62     		str	r2, [r3, #44]
1064:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1065:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
 1757              		.loc 1 1065 21
 1758 0068 FB68     		ldr	r3, [r7, #12]
 1759 006a BA68     		ldr	r2, [r7, #8]
 1760 006c 9A62     		str	r2, [r3, #40]
1066:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 1761              		.loc 1 1066 33
 1762 006e 3B68     		ldr	r3, [r7]
 1763 0070 5A02     		lsls	r2, r3, #9
 1764              		.loc 1 1066 21
 1765 0072 FB68     		ldr	r3, [r7, #12]
 1766 0074 DA62     		str	r2, [r3, #44]
1067:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1068:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 1767              		.loc 1 1068 20
 1768 0076 FB68     		ldr	r3, [r7, #12]
 1769 0078 DB6B     		ldr	r3, [r3, #60]
 1770              		.loc 1 1068 8
 1771 007a 012B     		cmp	r3, #1
 1772 007c 02D0     		beq	.L81
1069:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1070:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
 1773              		.loc 1 1070 11
 1774 007e BB6A     		ldr	r3, [r7, #40]
 1775 0080 5B02     		lsls	r3, r3, #9
 1776 0082 BB62     		str	r3, [r7, #40]
 1777              	.L81:
1071:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1072:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1073:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1074:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 1778              		.loc 1 1074 26
 1779 0084 4FF0FF33 		mov	r3, #-1
 1780 0088 3B61     		str	r3, [r7, #16]
1075:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
ARM GAS  /tmp/ccRis3lg.s 			page 51


 1781              		.loc 1 1075 38
 1782 008a 3B68     		ldr	r3, [r7]
 1783 008c 5B02     		lsls	r3, r3, #9
 1784              		.loc 1 1075 26
 1785 008e 7B61     		str	r3, [r7, #20]
1076:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 1786              		.loc 1 1076 26
 1787 0090 9023     		movs	r3, #144
 1788 0092 BB61     		str	r3, [r7, #24]
1077:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 1789              		.loc 1 1077 26
 1790 0094 0223     		movs	r3, #2
 1791 0096 FB61     		str	r3, [r7, #28]
1078:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 1792              		.loc 1 1078 26
 1793 0098 0023     		movs	r3, #0
 1794 009a 3B62     		str	r3, [r7, #32]
1079:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 1795              		.loc 1 1079 26
 1796 009c 0023     		movs	r3, #0
 1797 009e 7B62     		str	r3, [r7, #36]
1080:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 1798              		.loc 1 1080 11
 1799 00a0 FB68     		ldr	r3, [r7, #12]
 1800 00a2 1B68     		ldr	r3, [r3]
 1801 00a4 07F11002 		add	r2, r7, #16
 1802 00a8 1146     		mov	r1, r2
 1803 00aa 1846     		mov	r0, r3
 1804 00ac FFF7FEFF 		bl	SDMMC_ConfigData
1081:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 1805              		.loc 1 1081 5
 1806 00b0 FB68     		ldr	r3, [r7, #12]
 1807 00b2 1B68     		ldr	r3, [r3]
 1808 00b4 DA68     		ldr	r2, [r3, #12]
 1809 00b6 FB68     		ldr	r3, [r7, #12]
 1810 00b8 1B68     		ldr	r3, [r3]
 1811 00ba 42F04002 		orr	r2, r2, #64
 1812 00be DA60     		str	r2, [r3, #12]
1082:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1083:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read Blocks in IT mode */
1084:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 1813              		.loc 1 1084 8
 1814 00c0 3B68     		ldr	r3, [r7]
 1815 00c2 012B     		cmp	r3, #1
 1816 00c4 0AD9     		bls	.L82
1085:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1086:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_IT);
 1817              		.loc 1 1086 20
 1818 00c6 FB68     		ldr	r3, [r7, #12]
 1819 00c8 0A22     		movs	r2, #10
 1820 00ca 1A63     		str	r2, [r3, #48]
1087:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1088:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
1089:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 1821              		.loc 1 1089 20
 1822 00cc FB68     		ldr	r3, [r7, #12]
 1823 00ce 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccRis3lg.s 			page 52


 1824 00d0 B96A     		ldr	r1, [r7, #40]
 1825 00d2 1846     		mov	r0, r3
 1826 00d4 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 1827 00d8 F862     		str	r0, [r7, #44]
 1828 00da 09E0     		b	.L83
 1829              	.L82:
1090:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1091:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1092:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1093:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_IT);
 1830              		.loc 1 1093 20
 1831 00dc FB68     		ldr	r3, [r7, #12]
 1832 00de 0922     		movs	r2, #9
 1833 00e0 1A63     		str	r2, [r3, #48]
1094:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1095:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
1096:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 1834              		.loc 1 1096 20
 1835 00e2 FB68     		ldr	r3, [r7, #12]
 1836 00e4 1B68     		ldr	r3, [r3]
 1837 00e6 B96A     		ldr	r1, [r7, #40]
 1838 00e8 1846     		mov	r0, r3
 1839 00ea FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 1840 00ee F862     		str	r0, [r7, #44]
 1841              	.L83:
1097:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1098:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 1842              		.loc 1 1098 8
 1843 00f0 FB6A     		ldr	r3, [r7, #44]
 1844 00f2 002B     		cmp	r3, #0
 1845 00f4 12D0     		beq	.L84
1099:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1100:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1101:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 1846              		.loc 1 1101 7
 1847 00f6 FB68     		ldr	r3, [r7, #12]
 1848 00f8 1B68     		ldr	r3, [r3]
 1849 00fa 104A     		ldr	r2, .L86
 1850 00fc 9A63     		str	r2, [r3, #56]
1102:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1851              		.loc 1 1102 22
 1852 00fe FB68     		ldr	r3, [r7, #12]
 1853 0100 9A6B     		ldr	r2, [r3, #56]
 1854 0102 FB6A     		ldr	r3, [r7, #44]
 1855 0104 1A43     		orrs	r2, r2, r3
 1856 0106 FB68     		ldr	r3, [r7, #12]
 1857 0108 9A63     		str	r2, [r3, #56]
1103:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1858              		.loc 1 1103 18
 1859 010a FB68     		ldr	r3, [r7, #12]
 1860 010c 0122     		movs	r2, #1
 1861 010e 83F83420 		strb	r2, [r3, #52]
1104:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1862              		.loc 1 1104 20
 1863 0112 FB68     		ldr	r3, [r7, #12]
 1864 0114 0022     		movs	r2, #0
 1865 0116 1A63     		str	r2, [r3, #48]
ARM GAS  /tmp/ccRis3lg.s 			page 53


1105:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1866              		.loc 1 1105 14
 1867 0118 0123     		movs	r3, #1
 1868 011a 0BE0     		b	.L85
 1869              	.L84:
1106:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1107:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1108:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
 1870              		.loc 1 1108 5
 1871 011c FB68     		ldr	r3, [r7, #12]
 1872 011e 1B68     		ldr	r3, [r3]
 1873 0120 D96B     		ldr	r1, [r3, #60]
 1874 0122 FB68     		ldr	r3, [r7, #12]
 1875 0124 1A68     		ldr	r2, [r3]
 1876 0126 48F22A13 		movw	r3, #33066
 1877 012a 0B43     		orrs	r3, r3, r1
 1878 012c D363     		str	r3, [r2, #60]
1109:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_RXFIFOHF));
1110:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1111:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
 1879              		.loc 1 1111 12
 1880 012e 0023     		movs	r3, #0
 1881 0130 00E0     		b	.L85
 1882              	.L79:
1112:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1113:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1114:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1115:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
 1883              		.loc 1 1115 12
 1884 0132 0223     		movs	r3, #2
 1885              	.L85:
1116:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1117:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 1886              		.loc 1 1117 1 discriminator 1
 1887 0134 1846     		mov	r0, r3
 1888 0136 3037     		adds	r7, r7, #48
 1889              	.LCFI40:
 1890              		.cfi_def_cfa_offset 8
 1891 0138 BD46     		mov	sp, r7
 1892              	.LCFI41:
 1893              		.cfi_def_cfa_register 13
 1894              		@ sp needed
 1895 013a 80BD     		pop	{r7, pc}
 1896              	.L87:
 1897              		.align	2
 1898              	.L86:
 1899 013c FF0FE01F 		.word	534777855
 1900              		.cfi_endproc
 1901              	.LFE338:
 1903              		.section	.text.HAL_SD_WriteBlocks_IT,"ax",%progbits
 1904              		.align	1
 1905              		.global	HAL_SD_WriteBlocks_IT
 1906              		.syntax unified
 1907              		.thumb
 1908              		.thumb_func
 1909              		.fpu fpv5-d16
 1911              	HAL_SD_WriteBlocks_IT:
ARM GAS  /tmp/ccRis3lg.s 			page 54


 1912              	.LFB339:
1118:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1119:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1120:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1121:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed in interrupt mode.
1122:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1123:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1124:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Tx
1125:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1126:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1127:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1128:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1129:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1130:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1131:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1132:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1133:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                         uint32_t NumberOfBlocks)
1134:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 1913              		.loc 1 1134 1
 1914              		.cfi_startproc
 1915              		@ args = 0, pretend = 0, frame = 48
 1916              		@ frame_needed = 1, uses_anonymous_args = 0
 1917 0000 80B5     		push	{r7, lr}
 1918              	.LCFI42:
 1919              		.cfi_def_cfa_offset 8
 1920              		.cfi_offset 7, -8
 1921              		.cfi_offset 14, -4
 1922 0002 8CB0     		sub	sp, sp, #48
 1923              	.LCFI43:
 1924              		.cfi_def_cfa_offset 56
 1925 0004 00AF     		add	r7, sp, #0
 1926              	.LCFI44:
 1927              		.cfi_def_cfa_register 7
 1928 0006 F860     		str	r0, [r7, #12]
 1929 0008 B960     		str	r1, [r7, #8]
 1930 000a 7A60     		str	r2, [r7, #4]
 1931 000c 3B60     		str	r3, [r7]
1135:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1136:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1137:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1932              		.loc 1 1137 12
 1933 000e 7B68     		ldr	r3, [r7, #4]
 1934 0010 BB62     		str	r3, [r7, #40]
1138:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1139:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 1935              		.loc 1 1139 6
 1936 0012 BB68     		ldr	r3, [r7, #8]
 1937 0014 002B     		cmp	r3, #0
 1938 0016 07D1     		bne	.L89
1140:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1141:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 1939              		.loc 1 1141 20
 1940 0018 FB68     		ldr	r3, [r7, #12]
 1941 001a 9B6B     		ldr	r3, [r3, #56]
 1942 001c 43F00062 		orr	r2, r3, #134217728
 1943 0020 FB68     		ldr	r3, [r7, #12]
 1944 0022 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/ccRis3lg.s 			page 55


1142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 1945              		.loc 1 1142 12
 1946 0024 0123     		movs	r3, #1
 1947 0026 85E0     		b	.L97
 1948              	.L89:
1143:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1144:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1145:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 1949              		.loc 1 1145 10
 1950 0028 FB68     		ldr	r3, [r7, #12]
 1951 002a 93F83430 		ldrb	r3, [r3, #52]
 1952 002e DBB2     		uxtb	r3, r3
 1953              		.loc 1 1145 6
 1954 0030 012B     		cmp	r3, #1
 1955 0032 7ED1     		bne	.L91
1146:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1147:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 1956              		.loc 1 1147 20
 1957 0034 FB68     		ldr	r3, [r7, #12]
 1958 0036 0022     		movs	r2, #0
 1959 0038 9A63     		str	r2, [r3, #56]
1148:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1149:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 1960              		.loc 1 1149 14
 1961 003a BA6A     		ldr	r2, [r7, #40]
 1962 003c 3B68     		ldr	r3, [r7]
 1963 003e 1A44     		add	r2, r2, r3
 1964              		.loc 1 1149 46
 1965 0040 FB68     		ldr	r3, [r7, #12]
 1966 0042 5B6D     		ldr	r3, [r3, #84]
 1967              		.loc 1 1149 8
 1968 0044 9A42     		cmp	r2, r3
 1969 0046 07D9     		bls	.L92
1150:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1151:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 1970              		.loc 1 1151 22
 1971 0048 FB68     		ldr	r3, [r7, #12]
 1972 004a 9B6B     		ldr	r3, [r3, #56]
 1973 004c 43F00072 		orr	r2, r3, #33554432
 1974 0050 FB68     		ldr	r3, [r7, #12]
 1975 0052 9A63     		str	r2, [r3, #56]
1152:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 1976              		.loc 1 1152 14
 1977 0054 0123     		movs	r3, #1
 1978 0056 6DE0     		b	.L97
 1979              	.L92:
1153:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1154:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1155:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 1980              		.loc 1 1155 16
 1981 0058 FB68     		ldr	r3, [r7, #12]
 1982 005a 0322     		movs	r2, #3
 1983 005c 83F83420 		strb	r2, [r3, #52]
1156:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1157:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1158:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 1984              		.loc 1 1158 8
ARM GAS  /tmp/ccRis3lg.s 			page 56


 1985 0060 FB68     		ldr	r3, [r7, #12]
 1986 0062 1B68     		ldr	r3, [r3]
 1987              		.loc 1 1158 26
 1988 0064 0022     		movs	r2, #0
 1989 0066 DA62     		str	r2, [r3, #44]
1159:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1160:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
 1990              		.loc 1 1160 21
 1991 0068 FB68     		ldr	r3, [r7, #12]
 1992 006a BA68     		ldr	r2, [r7, #8]
 1993 006c 1A62     		str	r2, [r3, #32]
1161:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 1994              		.loc 1 1161 33
 1995 006e 3B68     		ldr	r3, [r7]
 1996 0070 5A02     		lsls	r2, r3, #9
 1997              		.loc 1 1161 21
 1998 0072 FB68     		ldr	r3, [r7, #12]
 1999 0074 5A62     		str	r2, [r3, #36]
1162:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1163:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 2000              		.loc 1 1163 20
 2001 0076 FB68     		ldr	r3, [r7, #12]
 2002 0078 DB6B     		ldr	r3, [r3, #60]
 2003              		.loc 1 1163 8
 2004 007a 012B     		cmp	r3, #1
 2005 007c 02D0     		beq	.L93
1164:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1165:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
 2006              		.loc 1 1165 11
 2007 007e BB6A     		ldr	r3, [r7, #40]
 2008 0080 5B02     		lsls	r3, r3, #9
 2009 0082 BB62     		str	r3, [r7, #40]
 2010              	.L93:
1166:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1167:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1168:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1169:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 2011              		.loc 1 1169 26
 2012 0084 4FF0FF33 		mov	r3, #-1
 2013 0088 3B61     		str	r3, [r7, #16]
1170:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2014              		.loc 1 1170 38
 2015 008a 3B68     		ldr	r3, [r7]
 2016 008c 5B02     		lsls	r3, r3, #9
 2017              		.loc 1 1170 26
 2018 008e 7B61     		str	r3, [r7, #20]
1171:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2019              		.loc 1 1171 26
 2020 0090 9023     		movs	r3, #144
 2021 0092 BB61     		str	r3, [r7, #24]
1172:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2022              		.loc 1 1172 26
 2023 0094 0023     		movs	r3, #0
 2024 0096 FB61     		str	r3, [r7, #28]
1173:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2025              		.loc 1 1173 26
 2026 0098 0023     		movs	r3, #0
ARM GAS  /tmp/ccRis3lg.s 			page 57


 2027 009a 3B62     		str	r3, [r7, #32]
1174:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2028              		.loc 1 1174 26
 2029 009c 0023     		movs	r3, #0
 2030 009e 7B62     		str	r3, [r7, #36]
1175:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2031              		.loc 1 1175 11
 2032 00a0 FB68     		ldr	r3, [r7, #12]
 2033 00a2 1B68     		ldr	r3, [r3]
 2034 00a4 07F11002 		add	r2, r7, #16
 2035 00a8 1146     		mov	r1, r2
 2036 00aa 1846     		mov	r0, r3
 2037 00ac FFF7FEFF 		bl	SDMMC_ConfigData
1176:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1177:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2038              		.loc 1 1177 5
 2039 00b0 FB68     		ldr	r3, [r7, #12]
 2040 00b2 1B68     		ldr	r3, [r3]
 2041 00b4 DA68     		ldr	r2, [r3, #12]
 2042 00b6 FB68     		ldr	r3, [r7, #12]
 2043 00b8 1B68     		ldr	r3, [r3]
 2044 00ba 42F04002 		orr	r2, r2, #64
 2045 00be DA60     		str	r2, [r3, #12]
1178:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1179:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1180:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 2046              		.loc 1 1180 8
 2047 00c0 3B68     		ldr	r3, [r7]
 2048 00c2 012B     		cmp	r3, #1
 2049 00c4 0AD9     		bls	.L94
1181:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1182:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_IT);
 2050              		.loc 1 1182 20
 2051 00c6 FB68     		ldr	r3, [r7, #12]
 2052 00c8 2822     		movs	r2, #40
 2053 00ca 1A63     		str	r2, [r3, #48]
1183:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1184:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
1185:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 2054              		.loc 1 1185 20
 2055 00cc FB68     		ldr	r3, [r7, #12]
 2056 00ce 1B68     		ldr	r3, [r3]
 2057 00d0 B96A     		ldr	r1, [r7, #40]
 2058 00d2 1846     		mov	r0, r3
 2059 00d4 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2060 00d8 F862     		str	r0, [r7, #44]
 2061 00da 09E0     		b	.L95
 2062              	.L94:
1186:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1187:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1188:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1189:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_IT);
 2063              		.loc 1 1189 20
 2064 00dc FB68     		ldr	r3, [r7, #12]
 2065 00de 1822     		movs	r2, #24
 2066 00e0 1A63     		str	r2, [r3, #48]
1190:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 58


1191:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
1192:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 2067              		.loc 1 1192 20
 2068 00e2 FB68     		ldr	r3, [r7, #12]
 2069 00e4 1B68     		ldr	r3, [r3]
 2070 00e6 B96A     		ldr	r1, [r7, #40]
 2071 00e8 1846     		mov	r0, r3
 2072 00ea FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2073 00ee F862     		str	r0, [r7, #44]
 2074              	.L95:
1193:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1194:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 2075              		.loc 1 1194 8
 2076 00f0 FB6A     		ldr	r3, [r7, #44]
 2077 00f2 002B     		cmp	r3, #0
 2078 00f4 12D0     		beq	.L96
1195:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1196:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1197:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2079              		.loc 1 1197 7
 2080 00f6 FB68     		ldr	r3, [r7, #12]
 2081 00f8 1B68     		ldr	r3, [r3]
 2082 00fa 104A     		ldr	r2, .L98
 2083 00fc 9A63     		str	r2, [r3, #56]
1198:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2084              		.loc 1 1198 22
 2085 00fe FB68     		ldr	r3, [r7, #12]
 2086 0100 9A6B     		ldr	r2, [r3, #56]
 2087 0102 FB6A     		ldr	r3, [r7, #44]
 2088 0104 1A43     		orrs	r2, r2, r3
 2089 0106 FB68     		ldr	r3, [r7, #12]
 2090 0108 9A63     		str	r2, [r3, #56]
1199:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2091              		.loc 1 1199 18
 2092 010a FB68     		ldr	r3, [r7, #12]
 2093 010c 0122     		movs	r2, #1
 2094 010e 83F83420 		strb	r2, [r3, #52]
1200:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2095              		.loc 1 1200 20
 2096 0112 FB68     		ldr	r3, [r7, #12]
 2097 0114 0022     		movs	r2, #0
 2098 0116 1A63     		str	r2, [r3, #48]
1201:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2099              		.loc 1 1201 14
 2100 0118 0123     		movs	r3, #1
 2101 011a 0BE0     		b	.L97
 2102              	.L96:
1202:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1203:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1204:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1205:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
 2103              		.loc 1 1205 5
 2104 011c FB68     		ldr	r3, [r7, #12]
 2105 011e 1B68     		ldr	r3, [r3]
 2106 0120 D96B     		ldr	r1, [r3, #60]
 2107 0122 FB68     		ldr	r3, [r7, #12]
 2108 0124 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccRis3lg.s 			page 59


 2109 0126 44F21A13 		movw	r3, #16666
 2110 012a 0B43     		orrs	r3, r3, r1
 2111 012c D363     		str	r3, [r2, #60]
1206:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXFIFOHE));
1207:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1208:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
 2112              		.loc 1 1208 12
 2113 012e 0023     		movs	r3, #0
 2114 0130 00E0     		b	.L97
 2115              	.L91:
1209:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1210:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1211:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1212:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
 2116              		.loc 1 1212 12
 2117 0132 0223     		movs	r3, #2
 2118              	.L97:
1213:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1214:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 2119              		.loc 1 1214 1 discriminator 1
 2120 0134 1846     		mov	r0, r3
 2121 0136 3037     		adds	r7, r7, #48
 2122              	.LCFI45:
 2123              		.cfi_def_cfa_offset 8
 2124 0138 BD46     		mov	sp, r7
 2125              	.LCFI46:
 2126              		.cfi_def_cfa_register 13
 2127              		@ sp needed
 2128 013a 80BD     		pop	{r7, pc}
 2129              	.L99:
 2130              		.align	2
 2131              	.L98:
 2132 013c FF0FE01F 		.word	534777855
 2133              		.cfi_endproc
 2134              	.LFE339:
 2136              		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 2137              		.align	1
 2138              		.global	HAL_SD_ReadBlocks_DMA
 2139              		.syntax unified
 2140              		.thumb
 2141              		.thumb_func
 2142              		.fpu fpv5-d16
 2144              	HAL_SD_ReadBlocks_DMA:
 2145              	.LFB340:
1215:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1216:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1217:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1218:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by DMA mode.
1219:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1220:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1221:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Rx
1222:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1223:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer SD handle
1224:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1225:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
1226:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1227:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
ARM GAS  /tmp/ccRis3lg.s 			page 60


1228:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1229:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1230:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                         uint32_t NumberOfBlocks)
1231:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 2146              		.loc 1 1231 1
 2147              		.cfi_startproc
 2148              		@ args = 0, pretend = 0, frame = 48
 2149              		@ frame_needed = 1, uses_anonymous_args = 0
 2150 0000 80B5     		push	{r7, lr}
 2151              	.LCFI47:
 2152              		.cfi_def_cfa_offset 8
 2153              		.cfi_offset 7, -8
 2154              		.cfi_offset 14, -4
 2155 0002 8CB0     		sub	sp, sp, #48
 2156              	.LCFI48:
 2157              		.cfi_def_cfa_offset 56
 2158 0004 00AF     		add	r7, sp, #0
 2159              	.LCFI49:
 2160              		.cfi_def_cfa_register 7
 2161 0006 F860     		str	r0, [r7, #12]
 2162 0008 B960     		str	r1, [r7, #8]
 2163 000a 7A60     		str	r2, [r7, #4]
 2164 000c 3B60     		str	r3, [r7]
1232:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1233:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1234:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2165              		.loc 1 1234 12
 2166 000e 7B68     		ldr	r3, [r7, #4]
 2167 0010 BB62     		str	r3, [r7, #40]
1235:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1236:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 2168              		.loc 1 1236 6
 2169 0012 BB68     		ldr	r3, [r7, #8]
 2170 0014 002B     		cmp	r3, #0
 2171 0016 07D1     		bne	.L101
1237:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1238:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 2172              		.loc 1 1238 20
 2173 0018 FB68     		ldr	r3, [r7, #12]
 2174 001a 9B6B     		ldr	r3, [r3, #56]
 2175 001c 43F00062 		orr	r2, r3, #134217728
 2176 0020 FB68     		ldr	r3, [r7, #12]
 2177 0022 9A63     		str	r2, [r3, #56]
1239:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2178              		.loc 1 1239 12
 2179 0024 0123     		movs	r3, #1
 2180 0026 8DE0     		b	.L109
 2181              	.L101:
1240:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1241:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1242:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 2182              		.loc 1 1242 10
 2183 0028 FB68     		ldr	r3, [r7, #12]
 2184 002a 93F83430 		ldrb	r3, [r3, #52]
 2185 002e DBB2     		uxtb	r3, r3
 2186              		.loc 1 1242 6
 2187 0030 012B     		cmp	r3, #1
ARM GAS  /tmp/ccRis3lg.s 			page 61


 2188 0032 40F08680 		bne	.L103
1243:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1244:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 2189              		.loc 1 1244 20
 2190 0036 FB68     		ldr	r3, [r7, #12]
 2191 0038 0022     		movs	r2, #0
 2192 003a 9A63     		str	r2, [r3, #56]
1245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1246:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 2193              		.loc 1 1246 14
 2194 003c BA6A     		ldr	r2, [r7, #40]
 2195 003e 3B68     		ldr	r3, [r7]
 2196 0040 1A44     		add	r2, r2, r3
 2197              		.loc 1 1246 46
 2198 0042 FB68     		ldr	r3, [r7, #12]
 2199 0044 5B6D     		ldr	r3, [r3, #84]
 2200              		.loc 1 1246 8
 2201 0046 9A42     		cmp	r2, r3
 2202 0048 07D9     		bls	.L104
1247:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1248:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 2203              		.loc 1 1248 22
 2204 004a FB68     		ldr	r3, [r7, #12]
 2205 004c 9B6B     		ldr	r3, [r3, #56]
 2206 004e 43F00072 		orr	r2, r3, #33554432
 2207 0052 FB68     		ldr	r3, [r7, #12]
 2208 0054 9A63     		str	r2, [r3, #56]
1249:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2209              		.loc 1 1249 14
 2210 0056 0123     		movs	r3, #1
 2211 0058 74E0     		b	.L109
 2212              	.L104:
1250:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1251:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1252:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 2213              		.loc 1 1252 16
 2214 005a FB68     		ldr	r3, [r7, #12]
 2215 005c 0322     		movs	r2, #3
 2216 005e 83F83420 		strb	r2, [r3, #52]
1253:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1254:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1255:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 2217              		.loc 1 1255 8
 2218 0062 FB68     		ldr	r3, [r7, #12]
 2219 0064 1B68     		ldr	r3, [r3]
 2220              		.loc 1 1255 26
 2221 0066 0022     		movs	r2, #0
 2222 0068 DA62     		str	r2, [r3, #44]
1256:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1257:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
 2223              		.loc 1 1257 21
 2224 006a FB68     		ldr	r3, [r7, #12]
 2225 006c BA68     		ldr	r2, [r7, #8]
 2226 006e 9A62     		str	r2, [r3, #40]
1258:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2227              		.loc 1 1258 33
 2228 0070 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccRis3lg.s 			page 62


 2229 0072 5A02     		lsls	r2, r3, #9
 2230              		.loc 1 1258 21
 2231 0074 FB68     		ldr	r3, [r7, #12]
 2232 0076 DA62     		str	r2, [r3, #44]
1259:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1260:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 2233              		.loc 1 1260 20
 2234 0078 FB68     		ldr	r3, [r7, #12]
 2235 007a DB6B     		ldr	r3, [r3, #60]
 2236              		.loc 1 1260 8
 2237 007c 012B     		cmp	r3, #1
 2238 007e 02D0     		beq	.L105
1261:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1262:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
 2239              		.loc 1 1262 11
 2240 0080 BB6A     		ldr	r3, [r7, #40]
 2241 0082 5B02     		lsls	r3, r3, #9
 2242 0084 BB62     		str	r3, [r7, #40]
 2243              	.L105:
1263:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1264:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1265:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1266:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 2244              		.loc 1 1266 26
 2245 0086 4FF0FF33 		mov	r3, #-1
 2246 008a 3B61     		str	r3, [r7, #16]
1267:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2247              		.loc 1 1267 38
 2248 008c 3B68     		ldr	r3, [r7]
 2249 008e 5B02     		lsls	r3, r3, #9
 2250              		.loc 1 1267 26
 2251 0090 7B61     		str	r3, [r7, #20]
1268:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2252              		.loc 1 1268 26
 2253 0092 9023     		movs	r3, #144
 2254 0094 BB61     		str	r3, [r7, #24]
1269:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 2255              		.loc 1 1269 26
 2256 0096 0223     		movs	r3, #2
 2257 0098 FB61     		str	r3, [r7, #28]
1270:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2258              		.loc 1 1270 26
 2259 009a 0023     		movs	r3, #0
 2260 009c 3B62     		str	r3, [r7, #32]
1271:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2261              		.loc 1 1271 26
 2262 009e 0023     		movs	r3, #0
 2263 00a0 7B62     		str	r3, [r7, #36]
1272:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2264              		.loc 1 1272 11
 2265 00a2 FB68     		ldr	r3, [r7, #12]
 2266 00a4 1B68     		ldr	r3, [r3]
 2267 00a6 07F11002 		add	r2, r7, #16
 2268 00aa 1146     		mov	r1, r2
 2269 00ac 1846     		mov	r0, r3
 2270 00ae FFF7FEFF 		bl	SDMMC_ConfigData
1273:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 63


1274:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2271              		.loc 1 1274 5
 2272 00b2 FB68     		ldr	r3, [r7, #12]
 2273 00b4 1B68     		ldr	r3, [r3]
 2274 00b6 DA68     		ldr	r2, [r3, #12]
 2275 00b8 FB68     		ldr	r3, [r7, #12]
 2276 00ba 1B68     		ldr	r3, [r3]
 2277 00bc 42F04002 		orr	r2, r2, #64
 2278 00c0 DA60     		str	r2, [r3, #12]
1275:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
 2279              		.loc 1 1275 8
 2280 00c2 FB68     		ldr	r3, [r7, #12]
 2281 00c4 1B68     		ldr	r3, [r3]
 2282              		.loc 1 1275 32
 2283 00c6 BA68     		ldr	r2, [r7, #8]
 2284              		.loc 1 1275 30
 2285 00c8 9A65     		str	r2, [r3, #88]
1276:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 2286              		.loc 1 1276 8
 2287 00ca FB68     		ldr	r3, [r7, #12]
 2288 00cc 1B68     		ldr	r3, [r3]
 2289              		.loc 1 1276 30
 2290 00ce 0122     		movs	r2, #1
 2291 00d0 1A65     		str	r2, [r3, #80]
1277:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1278:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read Blocks in DMA mode */
1279:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 2292              		.loc 1 1279 8
 2293 00d2 3B68     		ldr	r3, [r7]
 2294 00d4 012B     		cmp	r3, #1
 2295 00d6 0AD9     		bls	.L106
1280:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1281:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
 2296              		.loc 1 1281 20
 2297 00d8 FB68     		ldr	r3, [r7, #12]
 2298 00da 8222     		movs	r2, #130
 2299 00dc 1A63     		str	r2, [r3, #48]
1282:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1283:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Multi Block command */
1284:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 2300              		.loc 1 1284 20
 2301 00de FB68     		ldr	r3, [r7, #12]
 2302 00e0 1B68     		ldr	r3, [r3]
 2303 00e2 B96A     		ldr	r1, [r7, #40]
 2304 00e4 1846     		mov	r0, r3
 2305 00e6 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 2306 00ea F862     		str	r0, [r7, #44]
 2307 00ec 09E0     		b	.L107
 2308              	.L106:
1285:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1286:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1287:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1288:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_DMA);
 2309              		.loc 1 1288 20
 2310 00ee FB68     		ldr	r3, [r7, #12]
 2311 00f0 8122     		movs	r2, #129
 2312 00f2 1A63     		str	r2, [r3, #48]
ARM GAS  /tmp/ccRis3lg.s 			page 64


1289:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1290:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Read Single Block command */
1291:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 2313              		.loc 1 1291 20
 2314 00f4 FB68     		ldr	r3, [r7, #12]
 2315 00f6 1B68     		ldr	r3, [r3]
 2316 00f8 B96A     		ldr	r1, [r7, #40]
 2317 00fa 1846     		mov	r0, r3
 2318 00fc FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 2319 0100 F862     		str	r0, [r7, #44]
 2320              	.L107:
1292:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1293:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 2321              		.loc 1 1293 8
 2322 0102 FB6A     		ldr	r3, [r7, #44]
 2323 0104 002B     		cmp	r3, #0
 2324 0106 12D0     		beq	.L108
1294:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1295:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1296:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2325              		.loc 1 1296 7
 2326 0108 FB68     		ldr	r3, [r7, #12]
 2327 010a 1B68     		ldr	r3, [r3]
 2328 010c 0F4A     		ldr	r2, .L110
 2329 010e 9A63     		str	r2, [r3, #56]
1297:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2330              		.loc 1 1297 22
 2331 0110 FB68     		ldr	r3, [r7, #12]
 2332 0112 9A6B     		ldr	r2, [r3, #56]
 2333 0114 FB6A     		ldr	r3, [r7, #44]
 2334 0116 1A43     		orrs	r2, r2, r3
 2335 0118 FB68     		ldr	r3, [r7, #12]
 2336 011a 9A63     		str	r2, [r3, #56]
1298:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2337              		.loc 1 1298 18
 2338 011c FB68     		ldr	r3, [r7, #12]
 2339 011e 0122     		movs	r2, #1
 2340 0120 83F83420 		strb	r2, [r3, #52]
1299:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2341              		.loc 1 1299 20
 2342 0124 FB68     		ldr	r3, [r7, #12]
 2343 0126 0022     		movs	r2, #0
 2344 0128 1A63     		str	r2, [r3, #48]
1300:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2345              		.loc 1 1300 14
 2346 012a 0123     		movs	r3, #1
 2347 012c 0AE0     		b	.L109
 2348              	.L108:
1301:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1302:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1303:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1304:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
 2349              		.loc 1 1304 5
 2350 012e FB68     		ldr	r3, [r7, #12]
 2351 0130 1B68     		ldr	r3, [r3]
 2352 0132 DA6B     		ldr	r2, [r3, #60]
 2353 0134 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccRis3lg.s 			page 65


 2354 0136 1B68     		ldr	r3, [r3]
 2355 0138 42F49572 		orr	r2, r2, #298
 2356 013c DA63     		str	r2, [r3, #60]
1305:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1306:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1307:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
 2357              		.loc 1 1307 12
 2358 013e 0023     		movs	r3, #0
 2359 0140 00E0     		b	.L109
 2360              	.L103:
1308:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1309:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1310:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1311:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
 2361              		.loc 1 1311 12
 2362 0142 0223     		movs	r3, #2
 2363              	.L109:
1312:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1313:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 2364              		.loc 1 1313 1 discriminator 1
 2365 0144 1846     		mov	r0, r3
 2366 0146 3037     		adds	r7, r7, #48
 2367              	.LCFI50:
 2368              		.cfi_def_cfa_offset 8
 2369 0148 BD46     		mov	sp, r7
 2370              	.LCFI51:
 2371              		.cfi_def_cfa_register 13
 2372              		@ sp needed
 2373 014a 80BD     		pop	{r7, pc}
 2374              	.L111:
 2375              		.align	2
 2376              	.L110:
 2377 014c FF0FE01F 		.word	534777855
 2378              		.cfi_endproc
 2379              	.LFE340:
 2381              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 2382              		.align	1
 2383              		.global	HAL_SD_WriteBlocks_DMA
 2384              		.syntax unified
 2385              		.thumb
 2386              		.thumb_func
 2387              		.fpu fpv5-d16
 2389              	HAL_SD_WriteBlocks_DMA:
 2390              	.LFB341:
1314:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1315:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1316:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1317:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         is managed by DMA mode.
1318:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1319:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1320:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Tx
1321:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         interrupt event.
1322:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1323:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1324:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1325:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1326:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
ARM GAS  /tmp/ccRis3lg.s 			page 66


1327:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1328:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd,
1329:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          uint32_t NumberOfBlocks)
1330:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 2391              		.loc 1 1330 1
 2392              		.cfi_startproc
 2393              		@ args = 0, pretend = 0, frame = 48
 2394              		@ frame_needed = 1, uses_anonymous_args = 0
 2395 0000 80B5     		push	{r7, lr}
 2396              	.LCFI52:
 2397              		.cfi_def_cfa_offset 8
 2398              		.cfi_offset 7, -8
 2399              		.cfi_offset 14, -4
 2400 0002 8CB0     		sub	sp, sp, #48
 2401              	.LCFI53:
 2402              		.cfi_def_cfa_offset 56
 2403 0004 00AF     		add	r7, sp, #0
 2404              	.LCFI54:
 2405              		.cfi_def_cfa_register 7
 2406 0006 F860     		str	r0, [r7, #12]
 2407 0008 B960     		str	r1, [r7, #8]
 2408 000a 7A60     		str	r2, [r7, #4]
 2409 000c 3B60     		str	r3, [r7]
1331:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
1332:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1333:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2410              		.loc 1 1333 12
 2411 000e 7B68     		ldr	r3, [r7, #4]
 2412 0010 BB62     		str	r3, [r7, #40]
1334:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1335:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (NULL == pData)
 2413              		.loc 1 1335 6
 2414 0012 BB68     		ldr	r3, [r7, #8]
 2415 0014 002B     		cmp	r3, #0
 2416 0016 07D1     		bne	.L113
1336:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1337:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 2417              		.loc 1 1337 20
 2418 0018 FB68     		ldr	r3, [r7, #12]
 2419 001a 9B6B     		ldr	r3, [r3, #56]
 2420 001c 43F00062 		orr	r2, r3, #134217728
 2421 0020 FB68     		ldr	r3, [r7, #12]
 2422 0022 9A63     		str	r2, [r3, #56]
1338:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 2423              		.loc 1 1338 12
 2424 0024 0123     		movs	r3, #1
 2425 0026 8DE0     		b	.L121
 2426              	.L113:
1339:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1340:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1341:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 2427              		.loc 1 1341 10
 2428 0028 FB68     		ldr	r3, [r7, #12]
 2429 002a 93F83430 		ldrb	r3, [r3, #52]
 2430 002e DBB2     		uxtb	r3, r3
 2431              		.loc 1 1341 6
 2432 0030 012B     		cmp	r3, #1
ARM GAS  /tmp/ccRis3lg.s 			page 67


 2433 0032 40F08680 		bne	.L115
1342:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1343:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 2434              		.loc 1 1343 20
 2435 0036 FB68     		ldr	r3, [r7, #12]
 2436 0038 0022     		movs	r2, #0
 2437 003a 9A63     		str	r2, [r3, #56]
1344:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1345:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 2438              		.loc 1 1345 14
 2439 003c BA6A     		ldr	r2, [r7, #40]
 2440 003e 3B68     		ldr	r3, [r7]
 2441 0040 1A44     		add	r2, r2, r3
 2442              		.loc 1 1345 46
 2443 0042 FB68     		ldr	r3, [r7, #12]
 2444 0044 5B6D     		ldr	r3, [r3, #84]
 2445              		.loc 1 1345 8
 2446 0046 9A42     		cmp	r2, r3
 2447 0048 07D9     		bls	.L116
1346:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1347:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 2448              		.loc 1 1347 22
 2449 004a FB68     		ldr	r3, [r7, #12]
 2450 004c 9B6B     		ldr	r3, [r3, #56]
 2451 004e 43F00072 		orr	r2, r3, #33554432
 2452 0052 FB68     		ldr	r3, [r7, #12]
 2453 0054 9A63     		str	r2, [r3, #56]
1348:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2454              		.loc 1 1348 14
 2455 0056 0123     		movs	r3, #1
 2456 0058 74E0     		b	.L121
 2457              	.L116:
1349:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1350:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1351:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 2458              		.loc 1 1351 16
 2459 005a FB68     		ldr	r3, [r7, #12]
 2460 005c 0322     		movs	r2, #3
 2461 005e 83F83420 		strb	r2, [r3, #52]
1352:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1353:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize data control register */
1354:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 2462              		.loc 1 1354 8
 2463 0062 FB68     		ldr	r3, [r7, #12]
 2464 0064 1B68     		ldr	r3, [r3]
 2465              		.loc 1 1354 26
 2466 0066 0022     		movs	r2, #0
 2467 0068 DA62     		str	r2, [r3, #44]
1355:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1356:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
 2468              		.loc 1 1356 21
 2469 006a FB68     		ldr	r3, [r7, #12]
 2470 006c BA68     		ldr	r2, [r7, #8]
 2471 006e 1A62     		str	r2, [r3, #32]
1357:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 2472              		.loc 1 1357 33
 2473 0070 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccRis3lg.s 			page 68


 2474 0072 5A02     		lsls	r2, r3, #9
 2475              		.loc 1 1357 21
 2476 0074 FB68     		ldr	r3, [r7, #12]
 2477 0076 5A62     		str	r2, [r3, #36]
1358:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1359:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 2478              		.loc 1 1359 20
 2479 0078 FB68     		ldr	r3, [r7, #12]
 2480 007a DB6B     		ldr	r3, [r3, #60]
 2481              		.loc 1 1359 8
 2482 007c 012B     		cmp	r3, #1
 2483 007e 02D0     		beq	.L117
1360:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1361:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       add *= 512U;
 2484              		.loc 1 1361 11
 2485 0080 BB6A     		ldr	r3, [r7, #40]
 2486 0082 5B02     		lsls	r3, r3, #9
 2487 0084 BB62     		str	r3, [r7, #40]
 2488              	.L117:
1362:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1363:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1364:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1365:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 2489              		.loc 1 1365 26
 2490 0086 4FF0FF33 		mov	r3, #-1
 2491 008a 3B61     		str	r3, [r7, #16]
1366:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2492              		.loc 1 1366 38
 2493 008c 3B68     		ldr	r3, [r7]
 2494 008e 5B02     		lsls	r3, r3, #9
 2495              		.loc 1 1366 26
 2496 0090 7B61     		str	r3, [r7, #20]
1367:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 2497              		.loc 1 1367 26
 2498 0092 9023     		movs	r3, #144
 2499 0094 BB61     		str	r3, [r7, #24]
1368:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 2500              		.loc 1 1368 26
 2501 0096 0023     		movs	r3, #0
 2502 0098 FB61     		str	r3, [r7, #28]
1369:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 2503              		.loc 1 1369 26
 2504 009a 0023     		movs	r3, #0
 2505 009c 3B62     		str	r3, [r7, #32]
1370:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 2506              		.loc 1 1370 26
 2507 009e 0023     		movs	r3, #0
 2508 00a0 7B62     		str	r3, [r7, #36]
1371:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 2509              		.loc 1 1371 11
 2510 00a2 FB68     		ldr	r3, [r7, #12]
 2511 00a4 1B68     		ldr	r3, [r3]
 2512 00a6 07F11002 		add	r2, r7, #16
 2513 00aa 1146     		mov	r1, r2
 2514 00ac 1846     		mov	r0, r3
 2515 00ae FFF7FEFF 		bl	SDMMC_ConfigData
1372:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 69


1373:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1374:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 2516              		.loc 1 1374 5
 2517 00b2 FB68     		ldr	r3, [r7, #12]
 2518 00b4 1B68     		ldr	r3, [r3]
 2519 00b6 DA68     		ldr	r2, [r3, #12]
 2520 00b8 FB68     		ldr	r3, [r7, #12]
 2521 00ba 1B68     		ldr	r3, [r3]
 2522 00bc 42F04002 		orr	r2, r2, #64
 2523 00c0 DA60     		str	r2, [r3, #12]
1375:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1376:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pData ;
 2524              		.loc 1 1376 8
 2525 00c2 FB68     		ldr	r3, [r7, #12]
 2526 00c4 1B68     		ldr	r3, [r3]
 2527              		.loc 1 1376 32
 2528 00c6 BA68     		ldr	r2, [r7, #8]
 2529              		.loc 1 1376 30
 2530 00c8 9A65     		str	r2, [r3, #88]
1377:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->IDMACTRL  = SDMMC_ENABLE_IDMA_SINGLE_BUFF;
 2531              		.loc 1 1377 8
 2532 00ca FB68     		ldr	r3, [r7, #12]
 2533 00cc 1B68     		ldr	r3, [r3]
 2534              		.loc 1 1377 30
 2535 00ce 0122     		movs	r2, #1
 2536 00d0 1A65     		str	r2, [r3, #80]
1378:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1379:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1380:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (NumberOfBlocks > 1U)
 2537              		.loc 1 1380 8
 2538 00d2 3B68     		ldr	r3, [r7]
 2539 00d4 012B     		cmp	r3, #1
 2540 00d6 0AD9     		bls	.L118
1381:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1382:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
 2541              		.loc 1 1382 20
 2542 00d8 FB68     		ldr	r3, [r7, #12]
 2543 00da A022     		movs	r2, #160
 2544 00dc 1A63     		str	r2, [r3, #48]
1383:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1384:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Multi Block command */
1385:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 2545              		.loc 1 1385 20
 2546 00de FB68     		ldr	r3, [r7, #12]
 2547 00e0 1B68     		ldr	r3, [r3]
 2548 00e2 B96A     		ldr	r1, [r7, #40]
 2549 00e4 1846     		mov	r0, r3
 2550 00e6 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2551 00ea F862     		str	r0, [r7, #44]
 2552 00ec 09E0     		b	.L119
 2553              	.L118:
1386:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1387:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1388:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1389:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_DMA);
 2554              		.loc 1 1389 20
 2555 00ee FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccRis3lg.s 			page 70


 2556 00f0 9022     		movs	r2, #144
 2557 00f2 1A63     		str	r2, [r3, #48]
1390:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1391:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Write Single Block command */
1392:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 2558              		.loc 1 1392 20
 2559 00f4 FB68     		ldr	r3, [r7, #12]
 2560 00f6 1B68     		ldr	r3, [r3]
 2561 00f8 B96A     		ldr	r1, [r7, #40]
 2562 00fa 1846     		mov	r0, r3
 2563 00fc FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2564 0100 F862     		str	r0, [r7, #44]
 2565              	.L119:
1393:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1394:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 2566              		.loc 1 1394 8
 2567 0102 FB6A     		ldr	r3, [r7, #44]
 2568 0104 002B     		cmp	r3, #0
 2569 0106 12D0     		beq	.L120
1395:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1396:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1397:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2570              		.loc 1 1397 7
 2571 0108 FB68     		ldr	r3, [r7, #12]
 2572 010a 1B68     		ldr	r3, [r3]
 2573 010c 0F4A     		ldr	r2, .L122
 2574 010e 9A63     		str	r2, [r3, #56]
1398:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2575              		.loc 1 1398 22
 2576 0110 FB68     		ldr	r3, [r7, #12]
 2577 0112 9A6B     		ldr	r2, [r3, #56]
 2578 0114 FB6A     		ldr	r3, [r7, #44]
 2579 0116 1A43     		orrs	r2, r2, r3
 2580 0118 FB68     		ldr	r3, [r7, #12]
 2581 011a 9A63     		str	r2, [r3, #56]
1399:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2582              		.loc 1 1399 18
 2583 011c FB68     		ldr	r3, [r7, #12]
 2584 011e 0122     		movs	r2, #1
 2585 0120 83F83420 		strb	r2, [r3, #52]
1400:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2586              		.loc 1 1400 20
 2587 0124 FB68     		ldr	r3, [r7, #12]
 2588 0126 0022     		movs	r2, #0
 2589 0128 1A63     		str	r2, [r3, #48]
1401:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2590              		.loc 1 1401 14
 2591 012a 0123     		movs	r3, #1
 2592 012c 0AE0     		b	.L121
 2593              	.L120:
1402:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1403:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1404:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Enable transfer interrupts */
1405:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
 2594              		.loc 1 1405 5
 2595 012e FB68     		ldr	r3, [r7, #12]
 2596 0130 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccRis3lg.s 			page 71


 2597 0132 DA6B     		ldr	r2, [r3, #60]
 2598 0134 FB68     		ldr	r3, [r7, #12]
 2599 0136 1B68     		ldr	r3, [r3]
 2600 0138 42F48D72 		orr	r2, r2, #282
 2601 013c DA63     		str	r2, [r3, #60]
1406:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1407:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
 2602              		.loc 1 1407 12
 2603 013e 0023     		movs	r3, #0
 2604 0140 00E0     		b	.L121
 2605              	.L115:
1408:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1409:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1410:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1411:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
 2606              		.loc 1 1411 12
 2607 0142 0223     		movs	r3, #2
 2608              	.L121:
1412:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1413:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 2609              		.loc 1 1413 1 discriminator 1
 2610 0144 1846     		mov	r0, r3
 2611 0146 3037     		adds	r7, r7, #48
 2612              	.LCFI55:
 2613              		.cfi_def_cfa_offset 8
 2614 0148 BD46     		mov	sp, r7
 2615              	.LCFI56:
 2616              		.cfi_def_cfa_register 13
 2617              		@ sp needed
 2618 014a 80BD     		pop	{r7, pc}
 2619              	.L123:
 2620              		.align	2
 2621              	.L122:
 2622 014c FF0FE01F 		.word	534777855
 2623              		.cfi_endproc
 2624              	.LFE341:
 2626              		.section	.text.HAL_SD_Erase,"ax",%progbits
 2627              		.align	1
 2628              		.global	HAL_SD_Erase
 2629              		.syntax unified
 2630              		.thumb
 2631              		.thumb_func
 2632              		.fpu fpv5-d16
 2634              	HAL_SD_Erase:
 2635              	.LFB342:
1414:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1415:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1416:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1417:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1418:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1419:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1420:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockStartAdd: Start Block address
1421:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  BlockEndAdd: End Block address
1422:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
1423:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1424:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint32_t BlockStartAdd, uint32_t BlockEndAdd)
1425:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
ARM GAS  /tmp/ccRis3lg.s 			page 72


 2636              		.loc 1 1425 1
 2637              		.cfi_startproc
 2638              		@ args = 0, pretend = 0, frame = 32
 2639              		@ frame_needed = 1, uses_anonymous_args = 0
 2640 0000 80B5     		push	{r7, lr}
 2641              	.LCFI57:
 2642              		.cfi_def_cfa_offset 8
 2643              		.cfi_offset 7, -8
 2644              		.cfi_offset 14, -4
 2645 0002 88B0     		sub	sp, sp, #32
 2646              	.LCFI58:
 2647              		.cfi_def_cfa_offset 40
 2648 0004 00AF     		add	r7, sp, #0
 2649              	.LCFI59:
 2650              		.cfi_def_cfa_register 7
 2651 0006 F860     		str	r0, [r7, #12]
 2652 0008 B960     		str	r1, [r7, #8]
 2653 000a 7A60     		str	r2, [r7, #4]
1426:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1427:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
 2654              		.loc 1 1427 12
 2655 000c BB68     		ldr	r3, [r7, #8]
 2656 000e FB61     		str	r3, [r7, #28]
1428:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
 2657              		.loc 1 1428 12
 2658 0010 7B68     		ldr	r3, [r7, #4]
 2659 0012 BB61     		str	r3, [r7, #24]
1429:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1430:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
 2660              		.loc 1 1430 10
 2661 0014 FB68     		ldr	r3, [r7, #12]
 2662 0016 93F83430 		ldrb	r3, [r3, #52]
 2663 001a DBB2     		uxtb	r3, r3
 2664              		.loc 1 1430 6
 2665 001c 012B     		cmp	r3, #1
 2666 001e 40F0B480 		bne	.L125
1431:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1432:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 2667              		.loc 1 1432 20
 2668 0022 FB68     		ldr	r3, [r7, #12]
 2669 0024 0022     		movs	r2, #0
 2670 0026 9A63     		str	r2, [r3, #56]
1433:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1434:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (end_add < start_add)
 2671              		.loc 1 1434 8
 2672 0028 BA69     		ldr	r2, [r7, #24]
 2673 002a FB69     		ldr	r3, [r7, #28]
 2674 002c 9A42     		cmp	r2, r3
 2675 002e 07D2     		bcs	.L126
1435:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1436:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 2676              		.loc 1 1436 22
 2677 0030 FB68     		ldr	r3, [r7, #12]
 2678 0032 9B6B     		ldr	r3, [r3, #56]
 2679 0034 43F00062 		orr	r2, r3, #134217728
 2680 0038 FB68     		ldr	r3, [r7, #12]
 2681 003a 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/ccRis3lg.s 			page 73


1437:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2682              		.loc 1 1437 14
 2683 003c 0123     		movs	r3, #1
 2684 003e A5E0     		b	.L127
 2685              	.L126:
1438:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1439:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1440:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (end_add > (hsd->SdCard.LogBlockNbr))
 2686              		.loc 1 1440 31
 2687 0040 FB68     		ldr	r3, [r7, #12]
 2688 0042 5B6D     		ldr	r3, [r3, #84]
 2689              		.loc 1 1440 8
 2690 0044 BA69     		ldr	r2, [r7, #24]
 2691 0046 9A42     		cmp	r2, r3
 2692 0048 07D9     		bls	.L128
1441:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1442:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 2693              		.loc 1 1442 22
 2694 004a FB68     		ldr	r3, [r7, #12]
 2695 004c 9B6B     		ldr	r3, [r3, #56]
 2696 004e 43F00072 		orr	r2, r3, #33554432
 2697 0052 FB68     		ldr	r3, [r7, #12]
 2698 0054 9A63     		str	r2, [r3, #56]
1443:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2699              		.loc 1 1443 14
 2700 0056 0123     		movs	r3, #1
 2701 0058 98E0     		b	.L127
 2702              	.L128:
1444:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1445:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1446:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 2703              		.loc 1 1446 16
 2704 005a FB68     		ldr	r3, [r7, #12]
 2705 005c 0322     		movs	r2, #3
 2706 005e 83F83420 		strb	r2, [r3, #52]
1447:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1448:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Check if the card command class supports erase command */
1449:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (((hsd->SdCard.Class) & SDMMC_CCCC_ERASE) == 0U)
 2707              		.loc 1 1449 22
 2708 0062 FB68     		ldr	r3, [r7, #12]
 2709 0064 5B6C     		ldr	r3, [r3, #68]
 2710              		.loc 1 1449 30
 2711 0066 03F02003 		and	r3, r3, #32
 2712              		.loc 1 1449 8
 2713 006a 002B     		cmp	r3, #0
 2714 006c 0FD1     		bne	.L129
1450:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1451:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1452:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2715              		.loc 1 1452 7
 2716 006e FB68     		ldr	r3, [r7, #12]
 2717 0070 1B68     		ldr	r3, [r3]
 2718 0072 484A     		ldr	r2, .L135
 2719 0074 9A63     		str	r2, [r3, #56]
1453:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 2720              		.loc 1 1453 22
 2721 0076 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccRis3lg.s 			page 74


 2722 0078 9B6B     		ldr	r3, [r3, #56]
 2723 007a 43F08062 		orr	r2, r3, #67108864
 2724 007e FB68     		ldr	r3, [r7, #12]
 2725 0080 9A63     		str	r2, [r3, #56]
1454:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2726              		.loc 1 1454 18
 2727 0082 FB68     		ldr	r3, [r7, #12]
 2728 0084 0122     		movs	r2, #1
 2729 0086 83F83420 		strb	r2, [r3, #52]
1455:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2730              		.loc 1 1455 14
 2731 008a 0123     		movs	r3, #1
 2732 008c 7EE0     		b	.L127
 2733              	.L129:
1456:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1457:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1458:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
 2734              		.loc 1 1458 10
 2735 008e FB68     		ldr	r3, [r7, #12]
 2736 0090 1B68     		ldr	r3, [r3]
 2737 0092 0021     		movs	r1, #0
 2738 0094 1846     		mov	r0, r3
 2739 0096 FFF7FEFF 		bl	SDMMC_GetResponse
 2740 009a 0346     		mov	r3, r0
 2741              		.loc 1 1458 56
 2742 009c 03F00073 		and	r3, r3, #33554432
 2743              		.loc 1 1458 8
 2744 00a0 B3F1007F 		cmp	r3, #33554432
 2745 00a4 0FD1     		bne	.L130
1459:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1460:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1461:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2746              		.loc 1 1461 7
 2747 00a6 FB68     		ldr	r3, [r7, #12]
 2748 00a8 1B68     		ldr	r3, [r3]
 2749 00aa 3A4A     		ldr	r2, .L135
 2750 00ac 9A63     		str	r2, [r3, #56]
1462:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 2751              		.loc 1 1462 22
 2752 00ae FB68     		ldr	r3, [r7, #12]
 2753 00b0 9B6B     		ldr	r3, [r3, #56]
 2754 00b2 43F40062 		orr	r2, r3, #2048
 2755 00b6 FB68     		ldr	r3, [r7, #12]
 2756 00b8 9A63     		str	r2, [r3, #56]
1463:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2757              		.loc 1 1463 18
 2758 00ba FB68     		ldr	r3, [r7, #12]
 2759 00bc 0122     		movs	r2, #1
 2760 00be 83F83420 		strb	r2, [r3, #52]
1464:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2761              		.loc 1 1464 14
 2762 00c2 0123     		movs	r3, #1
 2763 00c4 62E0     		b	.L127
 2764              	.L130:
1465:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1466:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1467:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get start and end block for high capacity cards */
ARM GAS  /tmp/ccRis3lg.s 			page 75


1468:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 2765              		.loc 1 1468 20
 2766 00c6 FB68     		ldr	r3, [r7, #12]
 2767 00c8 DB6B     		ldr	r3, [r3, #60]
 2768              		.loc 1 1468 8
 2769 00ca 012B     		cmp	r3, #1
 2770 00cc 05D0     		beq	.L131
1469:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1470:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       start_add *= 512U;
 2771              		.loc 1 1470 17
 2772 00ce FB69     		ldr	r3, [r7, #28]
 2773 00d0 5B02     		lsls	r3, r3, #9
 2774 00d2 FB61     		str	r3, [r7, #28]
1471:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       end_add   *= 512U;
 2775              		.loc 1 1471 17
 2776 00d4 BB69     		ldr	r3, [r7, #24]
 2777 00d6 5B02     		lsls	r3, r3, #9
 2778 00d8 BB61     		str	r3, [r7, #24]
 2779              	.L131:
1472:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1473:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1474:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1475:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->SdCard.CardType != CARD_SECURED)
 2780              		.loc 1 1475 20
 2781 00da FB68     		ldr	r3, [r7, #12]
 2782 00dc DB6B     		ldr	r3, [r3, #60]
 2783              		.loc 1 1475 8
 2784 00de 032B     		cmp	r3, #3
 2785 00e0 33D0     		beq	.L132
1476:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1477:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1478:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseStartAdd(hsd->Instance, start_add);
 2786              		.loc 1 1478 20
 2787 00e2 FB68     		ldr	r3, [r7, #12]
 2788 00e4 1B68     		ldr	r3, [r3]
 2789 00e6 F969     		ldr	r1, [r7, #28]
 2790 00e8 1846     		mov	r0, r3
 2791 00ea FFF7FEFF 		bl	SDMMC_CmdSDEraseStartAdd
 2792 00ee 7861     		str	r0, [r7, #20]
1479:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 2793              		.loc 1 1479 10
 2794 00f0 7B69     		ldr	r3, [r7, #20]
 2795 00f2 002B     		cmp	r3, #0
 2796 00f4 0FD0     		beq	.L133
1480:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1481:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
1482:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2797              		.loc 1 1482 9
 2798 00f6 FB68     		ldr	r3, [r7, #12]
 2799 00f8 1B68     		ldr	r3, [r3]
 2800 00fa 264A     		ldr	r2, .L135
 2801 00fc 9A63     		str	r2, [r3, #56]
1483:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2802              		.loc 1 1483 24
 2803 00fe FB68     		ldr	r3, [r7, #12]
 2804 0100 9A6B     		ldr	r2, [r3, #56]
 2805 0102 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/ccRis3lg.s 			page 76


 2806 0104 1A43     		orrs	r2, r2, r3
 2807 0106 FB68     		ldr	r3, [r7, #12]
 2808 0108 9A63     		str	r2, [r3, #56]
1484:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2809              		.loc 1 1484 20
 2810 010a FB68     		ldr	r3, [r7, #12]
 2811 010c 0122     		movs	r2, #1
 2812 010e 83F83420 		strb	r2, [r3, #52]
1485:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 2813              		.loc 1 1485 16
 2814 0112 0123     		movs	r3, #1
 2815 0114 3AE0     		b	.L127
 2816              	.L133:
1486:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1487:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1488:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1489:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseEndAdd(hsd->Instance, end_add);
 2817              		.loc 1 1489 20
 2818 0116 FB68     		ldr	r3, [r7, #12]
 2819 0118 1B68     		ldr	r3, [r3]
 2820 011a B969     		ldr	r1, [r7, #24]
 2821 011c 1846     		mov	r0, r3
 2822 011e FFF7FEFF 		bl	SDMMC_CmdSDEraseEndAdd
 2823 0122 7861     		str	r0, [r7, #20]
1490:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (errorstate != HAL_SD_ERROR_NONE)
 2824              		.loc 1 1490 10
 2825 0124 7B69     		ldr	r3, [r7, #20]
 2826 0126 002B     		cmp	r3, #0
 2827 0128 0FD0     		beq	.L132
1491:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1492:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear all the static flags */
1493:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2828              		.loc 1 1493 9
 2829 012a FB68     		ldr	r3, [r7, #12]
 2830 012c 1B68     		ldr	r3, [r3]
 2831 012e 194A     		ldr	r2, .L135
 2832 0130 9A63     		str	r2, [r3, #56]
1494:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2833              		.loc 1 1494 24
 2834 0132 FB68     		ldr	r3, [r7, #12]
 2835 0134 9A6B     		ldr	r2, [r3, #56]
 2836 0136 7B69     		ldr	r3, [r7, #20]
 2837 0138 1A43     		orrs	r2, r2, r3
 2838 013a FB68     		ldr	r3, [r7, #12]
 2839 013c 9A63     		str	r2, [r3, #56]
1495:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2840              		.loc 1 1495 20
 2841 013e FB68     		ldr	r3, [r7, #12]
 2842 0140 0122     		movs	r2, #1
 2843 0142 83F83420 		strb	r2, [r3, #52]
1496:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_ERROR;
 2844              		.loc 1 1496 16
 2845 0146 0123     		movs	r3, #1
 2846 0148 20E0     		b	.L127
 2847              	.L132:
1497:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1498:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /tmp/ccRis3lg.s 			page 77


1499:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1500:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD38 ERASE */
1501:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdErase(hsd->Instance, 0UL);
 2848              		.loc 1 1501 18
 2849 014a FB68     		ldr	r3, [r7, #12]
 2850 014c 1B68     		ldr	r3, [r3]
 2851 014e 0021     		movs	r1, #0
 2852 0150 1846     		mov	r0, r3
 2853 0152 FFF7FEFF 		bl	SDMMC_CmdErase
 2854 0156 7861     		str	r0, [r7, #20]
1502:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 2855              		.loc 1 1502 8
 2856 0158 7B69     		ldr	r3, [r7, #20]
 2857 015a 002B     		cmp	r3, #0
 2858 015c 0FD0     		beq	.L134
1503:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1504:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1505:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 2859              		.loc 1 1505 7
 2860 015e FB68     		ldr	r3, [r7, #12]
 2861 0160 1B68     		ldr	r3, [r3]
 2862 0162 0C4A     		ldr	r2, .L135
 2863 0164 9A63     		str	r2, [r3, #56]
1506:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2864              		.loc 1 1506 22
 2865 0166 FB68     		ldr	r3, [r7, #12]
 2866 0168 9A6B     		ldr	r2, [r3, #56]
 2867 016a 7B69     		ldr	r3, [r7, #20]
 2868 016c 1A43     		orrs	r2, r2, r3
 2869 016e FB68     		ldr	r3, [r7, #12]
 2870 0170 9A63     		str	r2, [r3, #56]
1507:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2871              		.loc 1 1507 18
 2872 0172 FB68     		ldr	r3, [r7, #12]
 2873 0174 0122     		movs	r2, #1
 2874 0176 83F83420 		strb	r2, [r3, #52]
1508:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_ERROR;
 2875              		.loc 1 1508 14
 2876 017a 0123     		movs	r3, #1
 2877 017c 06E0     		b	.L127
 2878              	.L134:
1509:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1510:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1511:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 2879              		.loc 1 1511 16
 2880 017e FB68     		ldr	r3, [r7, #12]
 2881 0180 0122     		movs	r2, #1
 2882 0182 83F83420 		strb	r2, [r3, #52]
1512:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1513:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_OK;
 2883              		.loc 1 1513 12
 2884 0186 0023     		movs	r3, #0
 2885 0188 00E0     		b	.L127
 2886              	.L125:
1514:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1515:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1516:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  /tmp/ccRis3lg.s 			page 78


1517:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_BUSY;
 2887              		.loc 1 1517 12
 2888 018a 0223     		movs	r3, #2
 2889              	.L127:
1518:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1519:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 2890              		.loc 1 1519 1
 2891 018c 1846     		mov	r0, r3
 2892 018e 2037     		adds	r7, r7, #32
 2893              	.LCFI60:
 2894              		.cfi_def_cfa_offset 8
 2895 0190 BD46     		mov	sp, r7
 2896              	.LCFI61:
 2897              		.cfi_def_cfa_register 13
 2898              		@ sp needed
 2899 0192 80BD     		pop	{r7, pc}
 2900              	.L136:
 2901              		.align	2
 2902              	.L135:
 2903 0194 FF0FE01F 		.word	534777855
 2904              		.cfi_endproc
 2905              	.LFE342:
 2907              		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 2908              		.align	1
 2909              		.global	HAL_SD_IRQHandler
 2910              		.syntax unified
 2911              		.thumb
 2912              		.thumb_func
 2913              		.fpu fpv5-d16
 2915              	HAL_SD_IRQHandler:
 2916              	.LFB343:
1520:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1521:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1522:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1523:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1524:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1525:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1526:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1527:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 2917              		.loc 1 1527 1
 2918              		.cfi_startproc
 2919              		@ args = 0, pretend = 0, frame = 16
 2920              		@ frame_needed = 1, uses_anonymous_args = 0
 2921 0000 80B5     		push	{r7, lr}
 2922              	.LCFI62:
 2923              		.cfi_def_cfa_offset 8
 2924              		.cfi_offset 7, -8
 2925              		.cfi_offset 14, -4
 2926 0002 84B0     		sub	sp, sp, #16
 2927              	.LCFI63:
 2928              		.cfi_def_cfa_offset 24
 2929 0004 00AF     		add	r7, sp, #0
 2930              	.LCFI64:
 2931              		.cfi_def_cfa_register 7
 2932 0006 7860     		str	r0, [r7, #4]
1528:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
1529:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t context = hsd->Context;
ARM GAS  /tmp/ccRis3lg.s 			page 79


 2933              		.loc 1 1529 12
 2934 0008 7B68     		ldr	r3, [r7, #4]
 2935 000a 1B6B     		ldr	r3, [r3, #48]
 2936 000c FB60     		str	r3, [r7, #12]
1530:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1531:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check for SDMMC interrupt flags */
1532:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF) != RESET) && ((context & SD_CONTEXT_IT) != 0U))
 2937              		.loc 1 1532 8
 2938 000e 7B68     		ldr	r3, [r7, #4]
 2939 0010 1B68     		ldr	r3, [r3]
 2940 0012 5B6B     		ldr	r3, [r3, #52]
 2941 0014 03F40043 		and	r3, r3, #32768
 2942              		.loc 1 1532 6
 2943 0018 002B     		cmp	r3, #0
 2944 001a 08D0     		beq	.L138
 2945              		.loc 1 1532 75 discriminator 1
 2946 001c FB68     		ldr	r3, [r7, #12]
 2947 001e 03F00803 		and	r3, r3, #8
 2948              		.loc 1 1532 62 discriminator 1
 2949 0022 002B     		cmp	r3, #0
 2950 0024 03D0     		beq	.L138
1533:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1534:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SD_Read_IT(hsd);
 2951              		.loc 1 1534 5
 2952 0026 7868     		ldr	r0, [r7, #4]
 2953 0028 FFF7FEFF 		bl	SD_Read_IT
 2954 002c 9AE1     		b	.L139
 2955              	.L138:
1535:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1536:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1537:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DATAEND) != RESET)
 2956              		.loc 1 1537 12
 2957 002e 7B68     		ldr	r3, [r7, #4]
 2958 0030 1B68     		ldr	r3, [r3]
 2959 0032 5B6B     		ldr	r3, [r3, #52]
 2960 0034 03F48073 		and	r3, r3, #256
 2961              		.loc 1 1537 11
 2962 0038 002B     		cmp	r3, #0
 2963 003a 00F0AC80 		beq	.L140
1538:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1539:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DATAEND);
 2964              		.loc 1 1539 5
 2965 003e 7B68     		ldr	r3, [r7, #4]
 2966 0040 1B68     		ldr	r3, [r3]
 2967 0042 4FF48072 		mov	r2, #256
 2968 0046 9A63     		str	r2, [r3, #56]
1540:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1541:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND  | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
 2969              		.loc 1 1541 5
 2970 0048 7B68     		ldr	r3, [r7, #4]
 2971 004a 1B68     		ldr	r3, [r3]
 2972 004c D96B     		ldr	r1, [r3, #60]
 2973 004e 7B68     		ldr	r3, [r7, #4]
 2974 0050 1A68     		ldr	r2, [r3]
 2975 0052 9D4B     		ldr	r3, .L163
 2976 0054 0B40     		ands	r3, r3, r1
 2977 0056 D363     		str	r3, [r2, #60]
ARM GAS  /tmp/ccRis3lg.s 			page 80


1542:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR  | SDMMC_IT_TXFIFOHE | \
1543:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_RXFIFOHF);
1544:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1545:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
 2978              		.loc 1 1545 5
 2979 0058 7B68     		ldr	r3, [r7, #4]
 2980 005a 1B68     		ldr	r3, [r3]
 2981 005c DA6B     		ldr	r2, [r3, #60]
 2982 005e 7B68     		ldr	r3, [r7, #4]
 2983 0060 1B68     		ldr	r3, [r3]
 2984 0062 22F08052 		bic	r2, r2, #268435456
 2985 0066 DA63     		str	r2, [r3, #60]
1546:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
 2986              		.loc 1 1546 5
 2987 0068 7B68     		ldr	r3, [r7, #4]
 2988 006a 1B68     		ldr	r3, [r3]
 2989 006c DA68     		ldr	r2, [r3, #12]
 2990 006e 7B68     		ldr	r3, [r7, #4]
 2991 0070 1B68     		ldr	r3, [r3]
 2992 0072 22F04002 		bic	r2, r2, #64
 2993 0076 DA60     		str	r2, [r3, #12]
1547:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1548:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((context & SD_CONTEXT_IT) != 0U)
 2994              		.loc 1 1548 18
 2995 0078 FB68     		ldr	r3, [r7, #12]
 2996 007a 03F00803 		and	r3, r3, #8
 2997              		.loc 1 1548 8
 2998 007e 002B     		cmp	r3, #0
 2999 0080 38D0     		beq	.L141
1549:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1550:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIP
 3000              		.loc 1 1550 21
 3001 0082 FB68     		ldr	r3, [r7, #12]
 3002 0084 03F00203 		and	r3, r3, #2
 3003              		.loc 1 1550 10
 3004 0088 002B     		cmp	r3, #0
 3005 008a 04D1     		bne	.L142
 3006              		.loc 1 1550 75 discriminator 1
 3007 008c FB68     		ldr	r3, [r7, #12]
 3008 008e 03F02003 		and	r3, r3, #32
 3009              		.loc 1 1550 62 discriminator 1
 3010 0092 002B     		cmp	r3, #0
 3011 0094 11D0     		beq	.L143
 3012              	.L142:
1551:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1552:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 3013              		.loc 1 1552 22
 3014 0096 7B68     		ldr	r3, [r7, #4]
 3015 0098 1B68     		ldr	r3, [r3]
 3016 009a 1846     		mov	r0, r3
 3017 009c FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 3018 00a0 B860     		str	r0, [r7, #8]
1553:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 3019              		.loc 1 1553 12
 3020 00a2 BB68     		ldr	r3, [r7, #8]
 3021 00a4 002B     		cmp	r3, #0
 3022 00a6 08D0     		beq	.L143
ARM GAS  /tmp/ccRis3lg.s 			page 81


1554:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
1555:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 3023              		.loc 1 1555 26
 3024 00a8 7B68     		ldr	r3, [r7, #4]
 3025 00aa 9A6B     		ldr	r2, [r3, #56]
 3026 00ac BB68     		ldr	r3, [r7, #8]
 3027 00ae 1A43     		orrs	r2, r2, r3
 3028 00b0 7B68     		ldr	r3, [r7, #4]
 3029 00b2 9A63     		str	r2, [r3, #56]
1556:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1557:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1558:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1559:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
 3030              		.loc 1 1559 11
 3031 00b4 7868     		ldr	r0, [r7, #4]
 3032 00b6 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 3033              	.L143:
1560:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1561:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
1562:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1563:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1564:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Clear all the static flags */
1565:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 3034              		.loc 1 1565 7
 3035 00ba 7B68     		ldr	r3, [r7, #4]
 3036 00bc 1B68     		ldr	r3, [r3]
 3037 00be 834A     		ldr	r2, .L163+4
 3038 00c0 9A63     		str	r2, [r3, #56]
1566:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1567:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3039              		.loc 1 1567 18
 3040 00c2 7B68     		ldr	r3, [r7, #4]
 3041 00c4 0122     		movs	r2, #1
 3042 00c6 83F83420 		strb	r2, [r3, #52]
1568:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3043              		.loc 1 1568 20
 3044 00ca 7B68     		ldr	r3, [r7, #4]
 3045 00cc 0022     		movs	r2, #0
 3046 00ce 1A63     		str	r2, [r3, #48]
1569:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
 3047              		.loc 1 1569 21
 3048 00d0 FB68     		ldr	r3, [r7, #12]
 3049 00d2 03F00103 		and	r3, r3, #1
 3050              		.loc 1 1569 10
 3051 00d6 002B     		cmp	r3, #0
 3052 00d8 04D1     		bne	.L144
 3053              		.loc 1 1569 73 discriminator 1
 3054 00da FB68     		ldr	r3, [r7, #12]
 3055 00dc 03F00203 		and	r3, r3, #2
 3056              		.loc 1 1569 60 discriminator 1
 3057 00e0 002B     		cmp	r3, #0
 3058 00e2 03D0     		beq	.L145
 3059              	.L144:
1570:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1571:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1572:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1573:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
ARM GAS  /tmp/ccRis3lg.s 			page 82


1574:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
 3060              		.loc 1 1574 9
 3061 00e4 7868     		ldr	r0, [r7, #4]
 3062 00e6 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 3063 00ea 3BE1     		b	.L139
 3064              	.L145:
1575:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1576:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1577:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
1578:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1579:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1580:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1581:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1582:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
 3065              		.loc 1 1582 9
 3066 00ec 7868     		ldr	r0, [r7, #4]
 3067 00ee FFF7FEFF 		bl	HAL_SD_TxCpltCallback
1583:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1584:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1585:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1586:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if ((context & SD_CONTEXT_DMA) != 0U)
1587:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1588:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DLEN = 0;
1589:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
1590:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1591:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1592:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Stop Transfer for Write Multi blocks or Read Multi blocks */
1593:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIP
1594:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1595:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1596:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
1597:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
1598:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1599:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1600:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1601:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1602:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1603:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1604:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
1605:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1606:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1607:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1608:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1609:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
1610:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1611:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1612:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1613:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1614:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1615:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1616:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1617:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_
1618:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1619:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1620:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1621:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1622:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
ARM GAS  /tmp/ccRis3lg.s 			page 83


1623:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1624:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1625:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1626:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1627:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1628:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1629:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1630:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1631:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1632:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_TXFIFOHE) != RESET) && ((context & SD_CONTEXT_IT) != 
1633:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1634:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     SD_Write_IT(hsd);
1635:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1636:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1637:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | SDMMC_FLAG_RXOVERR |
1638:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
1639:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1640:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Set Error code */
1641:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DCRCFAIL) != RESET)
1642:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1643:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
1644:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1645:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_DTIMEOUT) != RESET)
1646:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1647:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
1648:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1649:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_RXOVERR) != RESET)
1650:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1651:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
1652:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1653:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_IT_TXUNDERR) != RESET)
1654:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1655:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
1656:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1657:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1658:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear All flags */
1659:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
1660:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1661:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Disable all interrupts */
1662:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
1663:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
1664:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1665:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __SDMMC_CMDTRANS_DISABLE(hsd->Instance);
1666:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
1667:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
1668:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
1669:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
1670:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
1671:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1672:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((context & SD_CONTEXT_IT) != 0U)
1673:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1674:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Set the SD state to ready to be able to start again the process */
1675:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1676:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1677:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1678:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
1679:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
ARM GAS  /tmp/ccRis3lg.s 			page 84


1680:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
1681:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1682:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1683:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if ((context & SD_CONTEXT_DMA) != 0U)
1684:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1685:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
1686:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1687:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Disable Internal DMA */
1688:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_IDMABTC);
1689:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
1690:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1691:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Set the SD state to ready to be able to start again the process */
1692:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1693:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1694:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback(hsd);
1695:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1696:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SD_ErrorCallback(hsd);
1697:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1698:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1699:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1700:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
1701:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1702:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Nothing to do */
1703:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1704:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1705:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1706:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_IDMABTC) != RESET)
1707:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1708:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_IDMABTC);
1709:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
1710:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1711:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Current buffer is buffer0, Transfer complete for buffer1 */
1712:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1713:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1714:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1715:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback(hsd);
1716:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1717:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuf1CpltCallback(hsd);
1718:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1719:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1720:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1721:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1722:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1723:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback(hsd);
1724:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1725:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuf1CpltCallback(hsd);
1726:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1727:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1728:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1729:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else /* SD_DMA_BUFFER1 */
1730:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1731:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Current buffer is buffer1, Transfer complete for buffer0 */
1732:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1733:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1734:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1735:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback(hsd);
1736:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
ARM GAS  /tmp/ccRis3lg.s 			page 85


1737:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Write_DMADoubleBuf0CpltCallback(hsd);
1738:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1739:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1740:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else /* SD_CONTEXT_READ_MULTIPLE_BLOCK */
1741:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
1742:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1743:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback(hsd);
1744:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
1745:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         HAL_SDEx_Read_DMADoubleBuf0CpltCallback(hsd);
1746:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1747:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
1748:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1749:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1750:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1751:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1752:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Nothing to do */
1753:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1754:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3068              		.loc 1 1754 1
 3069 00f2 37E1     		b	.L162
 3070              	.L141:
1586:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3071              		.loc 1 1586 23
 3072 00f4 FB68     		ldr	r3, [r7, #12]
 3073 00f6 03F08003 		and	r3, r3, #128
1586:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3074              		.loc 1 1586 13
 3075 00fa 002B     		cmp	r3, #0
 3076 00fc 00F03281 		beq	.L162
1588:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 3077              		.loc 1 1588 10
 3078 0100 7B68     		ldr	r3, [r7, #4]
 3079 0102 1B68     		ldr	r3, [r3]
1588:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->DCTRL = 0;
 3080              		.loc 1 1588 27
 3081 0104 0022     		movs	r2, #0
 3082 0106 9A62     		str	r2, [r3, #40]
1589:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 3083              		.loc 1 1589 10
 3084 0108 7B68     		ldr	r3, [r7, #4]
 3085 010a 1B68     		ldr	r3, [r3]
1589:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 3086              		.loc 1 1589 28
 3087 010c 0022     		movs	r2, #0
 3088 010e DA62     		str	r2, [r3, #44]
1590:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3089              		.loc 1 1590 10
 3090 0110 7B68     		ldr	r3, [r7, #4]
 3091 0112 1B68     		ldr	r3, [r3]
1590:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3092              		.loc 1 1590 31
 3093 0114 0022     		movs	r2, #0
 3094 0116 1A65     		str	r2, [r3, #80]
1593:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3095              		.loc 1 1593 21
 3096 0118 FB68     		ldr	r3, [r7, #12]
 3097 011a 03F00203 		and	r3, r3, #2
ARM GAS  /tmp/ccRis3lg.s 			page 86


1593:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3098              		.loc 1 1593 10
 3099 011e 002B     		cmp	r3, #0
 3100 0120 04D1     		bne	.L147
1593:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3101              		.loc 1 1593 75 discriminator 1
 3102 0122 FB68     		ldr	r3, [r7, #12]
 3103 0124 03F02003 		and	r3, r3, #32
1593:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3104              		.loc 1 1593 62 discriminator 1
 3105 0128 002B     		cmp	r3, #0
 3106 012a 11D0     		beq	.L148
 3107              	.L147:
1595:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 3108              		.loc 1 1595 22
 3109 012c 7B68     		ldr	r3, [r7, #4]
 3110 012e 1B68     		ldr	r3, [r3]
 3111 0130 1846     		mov	r0, r3
 3112 0132 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 3113 0136 B860     		str	r0, [r7, #8]
1596:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 3114              		.loc 1 1596 12
 3115 0138 BB68     		ldr	r3, [r7, #8]
 3116 013a 002B     		cmp	r3, #0
 3117 013c 08D0     		beq	.L148
1598:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 3118              		.loc 1 1598 26
 3119 013e 7B68     		ldr	r3, [r7, #4]
 3120 0140 9A6B     		ldr	r2, [r3, #56]
 3121 0142 BB68     		ldr	r3, [r7, #8]
 3122 0144 1A43     		orrs	r2, r2, r3
 3123 0146 7B68     		ldr	r3, [r7, #4]
 3124 0148 9A63     		str	r2, [r3, #56]
1602:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3125              		.loc 1 1602 11
 3126 014a 7868     		ldr	r0, [r7, #4]
 3127 014c FFF7FEFF 		bl	HAL_SD_ErrorCallback
 3128              	.L148:
1607:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3129              		.loc 1 1607 18
 3130 0150 7B68     		ldr	r3, [r7, #4]
 3131 0152 0122     		movs	r2, #1
 3132 0154 83F83420 		strb	r2, [r3, #52]
1608:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
 3133              		.loc 1 1608 20
 3134 0158 7B68     		ldr	r3, [r7, #4]
 3135 015a 0022     		movs	r2, #0
 3136 015c 1A63     		str	r2, [r3, #48]
1609:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3137              		.loc 1 1609 21
 3138 015e FB68     		ldr	r3, [r7, #12]
 3139 0160 03F01003 		and	r3, r3, #16
1609:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3140              		.loc 1 1609 10
 3141 0164 002B     		cmp	r3, #0
 3142 0166 04D1     		bne	.L149
1609:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
ARM GAS  /tmp/ccRis3lg.s 			page 87


 3143              		.loc 1 1609 74 discriminator 1
 3144 0168 FB68     		ldr	r3, [r7, #12]
 3145 016a 03F02003 		and	r3, r3, #32
1609:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3146              		.loc 1 1609 61 discriminator 1
 3147 016e 002B     		cmp	r3, #0
 3148 0170 02D0     		beq	.L150
 3149              	.L149:
1614:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3150              		.loc 1 1614 9
 3151 0172 7868     		ldr	r0, [r7, #4]
 3152 0174 FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 3153              	.L150:
1617:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3154              		.loc 1 1617 21
 3155 0178 FB68     		ldr	r3, [r7, #12]
 3156 017a 03F00103 		and	r3, r3, #1
1617:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3157              		.loc 1 1617 10
 3158 017e 002B     		cmp	r3, #0
 3159 0180 05D1     		bne	.L151
1617:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3160              		.loc 1 1617 73 discriminator 1
 3161 0182 FB68     		ldr	r3, [r7, #12]
 3162 0184 03F00203 		and	r3, r3, #2
1617:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3163              		.loc 1 1617 60 discriminator 1
 3164 0188 002B     		cmp	r3, #0
 3165 018a 00F0EB80 		beq	.L162
 3166              	.L151:
1622:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3167              		.loc 1 1622 9
 3168 018e 7868     		ldr	r0, [r7, #4]
 3169 0190 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 3170              		.loc 1 1754 1
 3171 0194 E6E0     		b	.L162
 3172              	.L140:
1632:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3173              		.loc 1 1632 13
 3174 0196 7B68     		ldr	r3, [r7, #4]
 3175 0198 1B68     		ldr	r3, [r3]
 3176 019a 5B6B     		ldr	r3, [r3, #52]
 3177 019c 03F48043 		and	r3, r3, #16384
1632:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3178              		.loc 1 1632 11
 3179 01a0 002B     		cmp	r3, #0
 3180 01a2 08D0     		beq	.L152
1632:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3181              		.loc 1 1632 80 discriminator 1
 3182 01a4 FB68     		ldr	r3, [r7, #12]
 3183 01a6 03F00803 		and	r3, r3, #8
1632:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3184              		.loc 1 1632 67 discriminator 1
 3185 01aa 002B     		cmp	r3, #0
 3186 01ac 03D0     		beq	.L152
1634:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
 3187              		.loc 1 1634 5
ARM GAS  /tmp/ccRis3lg.s 			page 88


 3188 01ae 7868     		ldr	r0, [r7, #4]
 3189 01b0 FFF7FEFF 		bl	SD_Write_IT
 3190 01b4 D6E0     		b	.L139
 3191              	.L152:
1637:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 3192              		.loc 1 1637 12
 3193 01b6 7B68     		ldr	r3, [r7, #4]
 3194 01b8 1B68     		ldr	r3, [r3]
 3195 01ba 5B6B     		ldr	r3, [r3, #52]
 3196 01bc 03F03A03 		and	r3, r3, #58
1637:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                              SDMMC_FLAG_TXUNDERR) != RESET)
 3197              		.loc 1 1637 11
 3198 01c0 002B     		cmp	r3, #0
 3199 01c2 00F0A280 		beq	.L153
1641:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3200              		.loc 1 1641 9
 3201 01c6 7B68     		ldr	r3, [r7, #4]
 3202 01c8 1B68     		ldr	r3, [r3]
 3203 01ca 5B6B     		ldr	r3, [r3, #52]
 3204 01cc 03F00203 		and	r3, r3, #2
1641:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3205              		.loc 1 1641 8
 3206 01d0 002B     		cmp	r3, #0
 3207 01d2 05D0     		beq	.L154
1643:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3208              		.loc 1 1643 22
 3209 01d4 7B68     		ldr	r3, [r7, #4]
 3210 01d6 9B6B     		ldr	r3, [r3, #56]
 3211 01d8 43F00202 		orr	r2, r3, #2
 3212 01dc 7B68     		ldr	r3, [r7, #4]
 3213 01de 9A63     		str	r2, [r3, #56]
 3214              	.L154:
1645:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3215              		.loc 1 1645 9
 3216 01e0 7B68     		ldr	r3, [r7, #4]
 3217 01e2 1B68     		ldr	r3, [r3]
 3218 01e4 5B6B     		ldr	r3, [r3, #52]
 3219 01e6 03F00803 		and	r3, r3, #8
1645:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3220              		.loc 1 1645 8
 3221 01ea 002B     		cmp	r3, #0
 3222 01ec 05D0     		beq	.L155
1647:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3223              		.loc 1 1647 22
 3224 01ee 7B68     		ldr	r3, [r7, #4]
 3225 01f0 9B6B     		ldr	r3, [r3, #56]
 3226 01f2 43F00802 		orr	r2, r3, #8
 3227 01f6 7B68     		ldr	r3, [r7, #4]
 3228 01f8 9A63     		str	r2, [r3, #56]
 3229              	.L155:
1649:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3230              		.loc 1 1649 9
 3231 01fa 7B68     		ldr	r3, [r7, #4]
 3232 01fc 1B68     		ldr	r3, [r3]
 3233 01fe 5B6B     		ldr	r3, [r3, #52]
 3234 0200 03F02003 		and	r3, r3, #32
1649:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /tmp/ccRis3lg.s 			page 89


 3235              		.loc 1 1649 8
 3236 0204 002B     		cmp	r3, #0
 3237 0206 05D0     		beq	.L156
1651:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3238              		.loc 1 1651 22
 3239 0208 7B68     		ldr	r3, [r7, #4]
 3240 020a 9B6B     		ldr	r3, [r3, #56]
 3241 020c 43F02002 		orr	r2, r3, #32
 3242 0210 7B68     		ldr	r3, [r7, #4]
 3243 0212 9A63     		str	r2, [r3, #56]
 3244              	.L156:
1653:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3245              		.loc 1 1653 9
 3246 0214 7B68     		ldr	r3, [r7, #4]
 3247 0216 1B68     		ldr	r3, [r3]
 3248 0218 5B6B     		ldr	r3, [r3, #52]
 3249 021a 03F01003 		and	r3, r3, #16
1653:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3250              		.loc 1 1653 8
 3251 021e 002B     		cmp	r3, #0
 3252 0220 05D0     		beq	.L157
1655:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
 3253              		.loc 1 1655 22
 3254 0222 7B68     		ldr	r3, [r7, #4]
 3255 0224 9B6B     		ldr	r3, [r3, #56]
 3256 0226 43F01002 		orr	r2, r3, #16
 3257 022a 7B68     		ldr	r3, [r7, #4]
 3258 022c 9A63     		str	r2, [r3, #56]
 3259              	.L157:
1659:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3260              		.loc 1 1659 5
 3261 022e 7B68     		ldr	r3, [r7, #4]
 3262 0230 1B68     		ldr	r3, [r3]
 3263 0232 264A     		ldr	r2, .L163+4
 3264 0234 9A63     		str	r2, [r3, #56]
1662:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                         SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
 3265              		.loc 1 1662 5
 3266 0236 7B68     		ldr	r3, [r7, #4]
 3267 0238 1B68     		ldr	r3, [r3]
 3268 023a DA6B     		ldr	r2, [r3, #60]
 3269 023c 7B68     		ldr	r3, [r7, #4]
 3270 023e 1B68     		ldr	r3, [r3]
 3271 0240 22F49D72 		bic	r2, r2, #314
 3272 0244 DA63     		str	r2, [r3, #60]
1665:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
 3273              		.loc 1 1665 5
 3274 0246 7B68     		ldr	r3, [r7, #4]
 3275 0248 1B68     		ldr	r3, [r3]
 3276 024a DA68     		ldr	r2, [r3, #12]
 3277 024c 7B68     		ldr	r3, [r7, #4]
 3278 024e 1B68     		ldr	r3, [r3]
 3279 0250 22F04002 		bic	r2, r2, #64
 3280 0254 DA60     		str	r2, [r3, #12]
1666:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 3281              		.loc 1 1666 8
 3282 0256 7B68     		ldr	r3, [r7, #4]
 3283 0258 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccRis3lg.s 			page 90


1666:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 3284              		.loc 1 1666 26
 3285 025a DA6A     		ldr	r2, [r3, #44]
1666:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 3286              		.loc 1 1666 8
 3287 025c 7B68     		ldr	r3, [r7, #4]
 3288 025e 1B68     		ldr	r3, [r3]
1666:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD |= SDMMC_CMD_CMDSTOP;
 3289              		.loc 1 1666 26
 3290 0260 42F40052 		orr	r2, r2, #8192
 3291 0264 DA62     		str	r2, [r3, #44]
1667:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 3292              		.loc 1 1667 8
 3293 0266 7B68     		ldr	r3, [r7, #4]
 3294 0268 1B68     		ldr	r3, [r3]
1667:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 3295              		.loc 1 1667 24
 3296 026a DA68     		ldr	r2, [r3, #12]
1667:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 3297              		.loc 1 1667 8
 3298 026c 7B68     		ldr	r3, [r7, #4]
 3299 026e 1B68     		ldr	r3, [r3]
1667:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
 3300              		.loc 1 1667 24
 3301 0270 42F08002 		orr	r2, r2, #128
 3302 0274 DA60     		str	r2, [r3, #12]
1668:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 3303              		.loc 1 1668 23
 3304 0276 7B68     		ldr	r3, [r7, #4]
 3305 0278 1B68     		ldr	r3, [r3]
 3306 027a 1846     		mov	r0, r3
 3307 027c FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 3308 0280 0246     		mov	r2, r0
1668:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->CMD &= ~(SDMMC_CMD_CMDSTOP);
 3309              		.loc 1 1668 20
 3310 0282 7B68     		ldr	r3, [r7, #4]
 3311 0284 9B6B     		ldr	r3, [r3, #56]
 3312 0286 1A43     		orrs	r2, r2, r3
 3313 0288 7B68     		ldr	r3, [r7, #4]
 3314 028a 9A63     		str	r2, [r3, #56]
1669:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 3315              		.loc 1 1669 8
 3316 028c 7B68     		ldr	r3, [r7, #4]
 3317 028e 1B68     		ldr	r3, [r3]
1669:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 3318              		.loc 1 1669 24
 3319 0290 DA68     		ldr	r2, [r3, #12]
1669:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 3320              		.loc 1 1669 8
 3321 0292 7B68     		ldr	r3, [r7, #4]
 3322 0294 1B68     		ldr	r3, [r3]
1669:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DABORT);
 3323              		.loc 1 1669 24
 3324 0296 22F08002 		bic	r2, r2, #128
 3325 029a DA60     		str	r2, [r3, #12]
1670:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3326              		.loc 1 1670 5
ARM GAS  /tmp/ccRis3lg.s 			page 91


 3327 029c 7B68     		ldr	r3, [r7, #4]
 3328 029e 1B68     		ldr	r3, [r3]
 3329 02a0 4FF40062 		mov	r2, #2048
 3330 02a4 9A63     		str	r2, [r3, #56]
1672:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3331              		.loc 1 1672 18
 3332 02a6 FB68     		ldr	r3, [r7, #12]
 3333 02a8 03F00803 		and	r3, r3, #8
1672:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3334              		.loc 1 1672 8
 3335 02ac 002B     		cmp	r3, #0
 3336 02ae 0FD0     		beq	.L158
1675:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3337              		.loc 1 1675 18
 3338 02b0 7B68     		ldr	r3, [r7, #4]
 3339 02b2 0122     		movs	r2, #1
 3340 02b4 83F83420 		strb	r2, [r3, #52]
1676:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 3341              		.loc 1 1676 20
 3342 02b8 7B68     		ldr	r3, [r7, #4]
 3343 02ba 0022     		movs	r2, #0
 3344 02bc 1A63     		str	r2, [r3, #48]
1680:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3345              		.loc 1 1680 7
 3346 02be 7868     		ldr	r0, [r7, #4]
 3347 02c0 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 3348              		.loc 1 1754 1
 3349 02c4 4EE0     		b	.L162
 3350              	.L164:
 3351 02c6 00BF     		.align	2
 3352              	.L163:
 3353 02c8 C53EFFFF 		.word	-49467
 3354 02cc 3A0F0018 		.word	402657082
 3355              	.L158:
1683:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3356              		.loc 1 1683 23
 3357 02d0 FB68     		ldr	r3, [r7, #12]
 3358 02d2 03F08003 		and	r3, r3, #128
1683:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3359              		.loc 1 1683 13
 3360 02d6 002B     		cmp	r3, #0
 3361 02d8 44D0     		beq	.L162
1685:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3362              		.loc 1 1685 14
 3363 02da 7B68     		ldr	r3, [r7, #4]
 3364 02dc 9B6B     		ldr	r3, [r3, #56]
1685:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3365              		.loc 1 1685 10
 3366 02de 002B     		cmp	r3, #0
 3367 02e0 40D0     		beq	.L162
1688:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 3368              		.loc 1 1688 9
 3369 02e2 7B68     		ldr	r3, [r7, #4]
 3370 02e4 1B68     		ldr	r3, [r3]
 3371 02e6 DA6B     		ldr	r2, [r3, #60]
 3372 02e8 7B68     		ldr	r3, [r7, #4]
 3373 02ea 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccRis3lg.s 			page 92


 3374 02ec 22F08052 		bic	r2, r2, #268435456
 3375 02f0 DA63     		str	r2, [r3, #60]
1689:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3376              		.loc 1 1689 12
 3377 02f2 7B68     		ldr	r3, [r7, #4]
 3378 02f4 1B68     		ldr	r3, [r3]
1689:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
 3379              		.loc 1 1689 33
 3380 02f6 0022     		movs	r2, #0
 3381 02f8 1A65     		str	r2, [r3, #80]
1692:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 3382              		.loc 1 1692 20
 3383 02fa 7B68     		ldr	r3, [r7, #4]
 3384 02fc 0122     		movs	r2, #1
 3385 02fe 83F83420 		strb	r2, [r3, #52]
1696:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3386              		.loc 1 1696 9
 3387 0302 7868     		ldr	r0, [r7, #4]
 3388 0304 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 3389              		.loc 1 1754 1
 3390 0308 2CE0     		b	.L162
 3391              	.L153:
1706:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3392              		.loc 1 1706 12
 3393 030a 7B68     		ldr	r3, [r7, #4]
 3394 030c 1B68     		ldr	r3, [r3]
 3395 030e 5B6B     		ldr	r3, [r3, #52]
 3396 0310 03F08053 		and	r3, r3, #268435456
1706:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 3397              		.loc 1 1706 11
 3398 0314 002B     		cmp	r3, #0
 3399 0316 25D0     		beq	.L162
1708:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (READ_BIT(hsd->Instance->IDMACTRL, SDMMC_IDMA_IDMABACT) == 0U)
 3400              		.loc 1 1708 5
 3401 0318 7B68     		ldr	r3, [r7, #4]
 3402 031a 1B68     		ldr	r3, [r3]
 3403 031c 4FF08052 		mov	r2, #268435456
 3404 0320 9A63     		str	r2, [r3, #56]
1709:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3405              		.loc 1 1709 9
 3406 0322 7B68     		ldr	r3, [r7, #4]
 3407 0324 1B68     		ldr	r3, [r3]
 3408 0326 1B6D     		ldr	r3, [r3, #80]
 3409 0328 03F00403 		and	r3, r3, #4
1709:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 3410              		.loc 1 1709 8
 3411 032c 002B     		cmp	r3, #0
 3412 032e 0CD1     		bne	.L159
1712:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3413              		.loc 1 1712 20
 3414 0330 FB68     		ldr	r3, [r7, #12]
 3415 0332 03F02003 		and	r3, r3, #32
1712:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3416              		.loc 1 1712 10
 3417 0336 002B     		cmp	r3, #0
 3418 0338 03D0     		beq	.L160
1717:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
ARM GAS  /tmp/ccRis3lg.s 			page 93


 3419              		.loc 1 1717 9
 3420 033a 7868     		ldr	r0, [r7, #4]
 3421 033c FFF7FEFF 		bl	HAL_SDEx_Write_DMADoubleBuf1CpltCallback
 3422              		.loc 1 1754 1
 3423 0340 10E0     		b	.L162
 3424              	.L160:
1725:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3425              		.loc 1 1725 9
 3426 0342 7868     		ldr	r0, [r7, #4]
 3427 0344 FFF7FEFF 		bl	HAL_SDEx_Read_DMADoubleBuf1CpltCallback
 3428              		.loc 1 1754 1
 3429 0348 0CE0     		b	.L162
 3430              	.L159:
1732:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3431              		.loc 1 1732 20
 3432 034a FB68     		ldr	r3, [r7, #12]
 3433 034c 03F02003 		and	r3, r3, #32
1732:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 3434              		.loc 1 1732 10
 3435 0350 002B     		cmp	r3, #0
 3436 0352 03D0     		beq	.L161
1737:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3437              		.loc 1 1737 9
 3438 0354 7868     		ldr	r0, [r7, #4]
 3439 0356 FFF7FEFF 		bl	HAL_SDEx_Write_DMADoubleBuf0CpltCallback
 3440              		.loc 1 1754 1
 3441 035a 03E0     		b	.L162
 3442              	.L161:
1745:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 3443              		.loc 1 1745 9
 3444 035c 7868     		ldr	r0, [r7, #4]
 3445 035e FFF7FEFF 		bl	HAL_SDEx_Read_DMADoubleBuf0CpltCallback
 3446              		.loc 1 1754 1
 3447 0362 FFE7     		b	.L162
 3448              	.L139:
 3449              	.L162:
 3450 0364 00BF     		nop
 3451 0366 1037     		adds	r7, r7, #16
 3452              	.LCFI65:
 3453              		.cfi_def_cfa_offset 8
 3454 0368 BD46     		mov	sp, r7
 3455              	.LCFI66:
 3456              		.cfi_def_cfa_register 13
 3457              		@ sp needed
 3458 036a 80BD     		pop	{r7, pc}
 3459              		.cfi_endproc
 3460              	.LFE343:
 3462              		.section	.text.HAL_SD_GetState,"ax",%progbits
 3463              		.align	1
 3464              		.global	HAL_SD_GetState
 3465              		.syntax unified
 3466              		.thumb
 3467              		.thumb_func
 3468              		.fpu fpv5-d16
 3470              	HAL_SD_GetState:
 3471              	.LFB344:
1755:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 94


1756:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1757:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief return the SD state
1758:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer to sd handle
1759:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL state
1760:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1761:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_SD_StateTypeDef HAL_SD_GetState(SD_HandleTypeDef *hsd)
1762:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 3472              		.loc 1 1762 1
 3473              		.cfi_startproc
 3474              		@ args = 0, pretend = 0, frame = 8
 3475              		@ frame_needed = 1, uses_anonymous_args = 0
 3476              		@ link register save eliminated.
 3477 0000 80B4     		push	{r7}
 3478              	.LCFI67:
 3479              		.cfi_def_cfa_offset 4
 3480              		.cfi_offset 7, -4
 3481 0002 83B0     		sub	sp, sp, #12
 3482              	.LCFI68:
 3483              		.cfi_def_cfa_offset 16
 3484 0004 00AF     		add	r7, sp, #0
 3485              	.LCFI69:
 3486              		.cfi_def_cfa_register 7
 3487 0006 7860     		str	r0, [r7, #4]
1763:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->State;
 3488              		.loc 1 1763 13
 3489 0008 7B68     		ldr	r3, [r7, #4]
 3490 000a 93F83430 		ldrb	r3, [r3, #52]
 3491 000e DBB2     		uxtb	r3, r3
1764:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3492              		.loc 1 1764 1
 3493 0010 1846     		mov	r0, r3
 3494 0012 0C37     		adds	r7, r7, #12
 3495              	.LCFI70:
 3496              		.cfi_def_cfa_offset 4
 3497 0014 BD46     		mov	sp, r7
 3498              	.LCFI71:
 3499              		.cfi_def_cfa_register 13
 3500              		@ sp needed
 3501 0016 5DF8047B 		ldr	r7, [sp], #4
 3502              	.LCFI72:
 3503              		.cfi_restore 7
 3504              		.cfi_def_cfa_offset 0
 3505 001a 7047     		bx	lr
 3506              		.cfi_endproc
 3507              	.LFE344:
 3509              		.section	.text.HAL_SD_GetError,"ax",%progbits
 3510              		.align	1
 3511              		.global	HAL_SD_GetError
 3512              		.syntax unified
 3513              		.thumb
 3514              		.thumb_func
 3515              		.fpu fpv5-d16
 3517              	HAL_SD_GetError:
 3518              	.LFB345:
1765:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1766:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1767:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Return the SD error code
ARM GAS  /tmp/ccRis3lg.s 			page 95


1768:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd : Pointer to a SD_HandleTypeDef structure that contains
1769:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
1770:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Error Code
1771:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1772:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** uint32_t HAL_SD_GetError(SD_HandleTypeDef *hsd)
1773:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 3519              		.loc 1 1773 1
 3520              		.cfi_startproc
 3521              		@ args = 0, pretend = 0, frame = 8
 3522              		@ frame_needed = 1, uses_anonymous_args = 0
 3523              		@ link register save eliminated.
 3524 0000 80B4     		push	{r7}
 3525              	.LCFI73:
 3526              		.cfi_def_cfa_offset 4
 3527              		.cfi_offset 7, -4
 3528 0002 83B0     		sub	sp, sp, #12
 3529              	.LCFI74:
 3530              		.cfi_def_cfa_offset 16
 3531 0004 00AF     		add	r7, sp, #0
 3532              	.LCFI75:
 3533              		.cfi_def_cfa_register 7
 3534 0006 7860     		str	r0, [r7, #4]
1774:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return hsd->ErrorCode;
 3535              		.loc 1 1774 13
 3536 0008 7B68     		ldr	r3, [r7, #4]
 3537 000a 9B6B     		ldr	r3, [r3, #56]
1775:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3538              		.loc 1 1775 1
 3539 000c 1846     		mov	r0, r3
 3540 000e 0C37     		adds	r7, r7, #12
 3541              	.LCFI76:
 3542              		.cfi_def_cfa_offset 4
 3543 0010 BD46     		mov	sp, r7
 3544              	.LCFI77:
 3545              		.cfi_def_cfa_register 13
 3546              		@ sp needed
 3547 0012 5DF8047B 		ldr	r7, [sp], #4
 3548              	.LCFI78:
 3549              		.cfi_restore 7
 3550              		.cfi_def_cfa_offset 0
 3551 0016 7047     		bx	lr
 3552              		.cfi_endproc
 3553              	.LFE345:
 3555              		.section	.text.HAL_SD_TxCpltCallback,"ax",%progbits
 3556              		.align	1
 3557              		.weak	HAL_SD_TxCpltCallback
 3558              		.syntax unified
 3559              		.thumb
 3560              		.thumb_func
 3561              		.fpu fpv5-d16
 3563              	HAL_SD_TxCpltCallback:
 3564              	.LFB346:
1776:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1777:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1778:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Tx Transfer completed callbacks
1779:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer to SD handle
1780:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
ARM GAS  /tmp/ccRis3lg.s 			page 96


1781:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1782:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_TxCpltCallback(SD_HandleTypeDef *hsd)
1783:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 3565              		.loc 1 1783 1
 3566              		.cfi_startproc
 3567              		@ args = 0, pretend = 0, frame = 8
 3568              		@ frame_needed = 1, uses_anonymous_args = 0
 3569              		@ link register save eliminated.
 3570 0000 80B4     		push	{r7}
 3571              	.LCFI79:
 3572              		.cfi_def_cfa_offset 4
 3573              		.cfi_offset 7, -4
 3574 0002 83B0     		sub	sp, sp, #12
 3575              	.LCFI80:
 3576              		.cfi_def_cfa_offset 16
 3577 0004 00AF     		add	r7, sp, #0
 3578              	.LCFI81:
 3579              		.cfi_def_cfa_register 7
 3580 0006 7860     		str	r0, [r7, #4]
1784:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1785:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1786:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1787:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1788:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_TxCpltCallback can be implemented in the user file
1789:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1790:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3581              		.loc 1 1790 1
 3582 0008 00BF     		nop
 3583 000a 0C37     		adds	r7, r7, #12
 3584              	.LCFI82:
 3585              		.cfi_def_cfa_offset 4
 3586 000c BD46     		mov	sp, r7
 3587              	.LCFI83:
 3588              		.cfi_def_cfa_register 13
 3589              		@ sp needed
 3590 000e 5DF8047B 		ldr	r7, [sp], #4
 3591              	.LCFI84:
 3592              		.cfi_restore 7
 3593              		.cfi_def_cfa_offset 0
 3594 0012 7047     		bx	lr
 3595              		.cfi_endproc
 3596              	.LFE346:
 3598              		.section	.text.HAL_SD_RxCpltCallback,"ax",%progbits
 3599              		.align	1
 3600              		.weak	HAL_SD_RxCpltCallback
 3601              		.syntax unified
 3602              		.thumb
 3603              		.thumb_func
 3604              		.fpu fpv5-d16
 3606              	HAL_SD_RxCpltCallback:
 3607              	.LFB347:
1791:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1792:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1793:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Rx Transfer completed callbacks
1794:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1795:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1796:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
ARM GAS  /tmp/ccRis3lg.s 			page 97


1797:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_RxCpltCallback(SD_HandleTypeDef *hsd)
1798:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 3608              		.loc 1 1798 1
 3609              		.cfi_startproc
 3610              		@ args = 0, pretend = 0, frame = 8
 3611              		@ frame_needed = 1, uses_anonymous_args = 0
 3612              		@ link register save eliminated.
 3613 0000 80B4     		push	{r7}
 3614              	.LCFI85:
 3615              		.cfi_def_cfa_offset 4
 3616              		.cfi_offset 7, -4
 3617 0002 83B0     		sub	sp, sp, #12
 3618              	.LCFI86:
 3619              		.cfi_def_cfa_offset 16
 3620 0004 00AF     		add	r7, sp, #0
 3621              	.LCFI87:
 3622              		.cfi_def_cfa_register 7
 3623 0006 7860     		str	r0, [r7, #4]
1799:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1800:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1801:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1802:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1803:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_RxCpltCallback can be implemented in the user file
1804:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1805:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3624              		.loc 1 1805 1
 3625 0008 00BF     		nop
 3626 000a 0C37     		adds	r7, r7, #12
 3627              	.LCFI88:
 3628              		.cfi_def_cfa_offset 4
 3629 000c BD46     		mov	sp, r7
 3630              	.LCFI89:
 3631              		.cfi_def_cfa_register 13
 3632              		@ sp needed
 3633 000e 5DF8047B 		ldr	r7, [sp], #4
 3634              	.LCFI90:
 3635              		.cfi_restore 7
 3636              		.cfi_def_cfa_offset 0
 3637 0012 7047     		bx	lr
 3638              		.cfi_endproc
 3639              	.LFE347:
 3641              		.section	.text.HAL_SD_ErrorCallback,"ax",%progbits
 3642              		.align	1
 3643              		.weak	HAL_SD_ErrorCallback
 3644              		.syntax unified
 3645              		.thumb
 3646              		.thumb_func
 3647              		.fpu fpv5-d16
 3649              	HAL_SD_ErrorCallback:
 3650              	.LFB348:
1806:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1807:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1808:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief SD error callbacks
1809:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1810:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1811:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1812:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_ErrorCallback(SD_HandleTypeDef *hsd)
ARM GAS  /tmp/ccRis3lg.s 			page 98


1813:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 3651              		.loc 1 1813 1
 3652              		.cfi_startproc
 3653              		@ args = 0, pretend = 0, frame = 8
 3654              		@ frame_needed = 1, uses_anonymous_args = 0
 3655              		@ link register save eliminated.
 3656 0000 80B4     		push	{r7}
 3657              	.LCFI91:
 3658              		.cfi_def_cfa_offset 4
 3659              		.cfi_offset 7, -4
 3660 0002 83B0     		sub	sp, sp, #12
 3661              	.LCFI92:
 3662              		.cfi_def_cfa_offset 16
 3663 0004 00AF     		add	r7, sp, #0
 3664              	.LCFI93:
 3665              		.cfi_def_cfa_register 7
 3666 0006 7860     		str	r0, [r7, #4]
1814:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1815:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1816:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1817:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1818:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_ErrorCallback can be implemented in the user file
1819:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1820:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3667              		.loc 1 1820 1
 3668 0008 00BF     		nop
 3669 000a 0C37     		adds	r7, r7, #12
 3670              	.LCFI94:
 3671              		.cfi_def_cfa_offset 4
 3672 000c BD46     		mov	sp, r7
 3673              	.LCFI95:
 3674              		.cfi_def_cfa_register 13
 3675              		@ sp needed
 3676 000e 5DF8047B 		ldr	r7, [sp], #4
 3677              	.LCFI96:
 3678              		.cfi_restore 7
 3679              		.cfi_def_cfa_offset 0
 3680 0012 7047     		bx	lr
 3681              		.cfi_endproc
 3682              	.LFE348:
 3684              		.section	.text.HAL_SD_AbortCallback,"ax",%progbits
 3685              		.align	1
 3686              		.weak	HAL_SD_AbortCallback
 3687              		.syntax unified
 3688              		.thumb
 3689              		.thumb_func
 3690              		.fpu fpv5-d16
 3692              	HAL_SD_AbortCallback:
 3693              	.LFB349:
1821:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1822:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1823:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief SD Abort callbacks
1824:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1825:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1826:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1827:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SD_AbortCallback(SD_HandleTypeDef *hsd)
1828:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
ARM GAS  /tmp/ccRis3lg.s 			page 99


 3694              		.loc 1 1828 1
 3695              		.cfi_startproc
 3696              		@ args = 0, pretend = 0, frame = 8
 3697              		@ frame_needed = 1, uses_anonymous_args = 0
 3698              		@ link register save eliminated.
 3699 0000 80B4     		push	{r7}
 3700              	.LCFI97:
 3701              		.cfi_def_cfa_offset 4
 3702              		.cfi_offset 7, -4
 3703 0002 83B0     		sub	sp, sp, #12
 3704              	.LCFI98:
 3705              		.cfi_def_cfa_offset 16
 3706 0004 00AF     		add	r7, sp, #0
 3707              	.LCFI99:
 3708              		.cfi_def_cfa_register 7
 3709 0006 7860     		str	r0, [r7, #4]
1829:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1830:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
1831:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1832:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1833:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_AbortCallback can be implemented in the user file
1834:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1835:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3710              		.loc 1 1835 1
 3711 0008 00BF     		nop
 3712 000a 0C37     		adds	r7, r7, #12
 3713              	.LCFI100:
 3714              		.cfi_def_cfa_offset 4
 3715 000c BD46     		mov	sp, r7
 3716              	.LCFI101:
 3717              		.cfi_def_cfa_register 13
 3718              		@ sp needed
 3719 000e 5DF8047B 		ldr	r7, [sp], #4
 3720              	.LCFI102:
 3721              		.cfi_restore 7
 3722              		.cfi_def_cfa_offset 0
 3723 0012 7047     		bx	lr
 3724              		.cfi_endproc
 3725              	.LFE349:
 3727              		.section	.text.HAL_SD_DriveTransceiver_1_8V_Callback,"ax",%progbits
 3728              		.align	1
 3729              		.weak	HAL_SD_DriveTransceiver_1_8V_Callback
 3730              		.syntax unified
 3731              		.thumb
 3732              		.thumb_func
 3733              		.fpu fpv5-d16
 3735              	HAL_SD_DriveTransceiver_1_8V_Callback:
 3736              	.LFB350:
1836:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1837:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
1838:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1839:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enable/Disable the SD Transceiver 1.8V Mode Callback.
1840:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  status: Voltage Switch State
1841:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
1842:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1843:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak  void HAL_SD_DriveTransceiver_1_8V_Callback(FlagStatus status)
1844:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
ARM GAS  /tmp/ccRis3lg.s 			page 100


 3737              		.loc 1 1844 1
 3738              		.cfi_startproc
 3739              		@ args = 0, pretend = 0, frame = 8
 3740              		@ frame_needed = 1, uses_anonymous_args = 0
 3741              		@ link register save eliminated.
 3742 0000 80B4     		push	{r7}
 3743              	.LCFI103:
 3744              		.cfi_def_cfa_offset 4
 3745              		.cfi_offset 7, -4
 3746 0002 83B0     		sub	sp, sp, #12
 3747              	.LCFI104:
 3748              		.cfi_def_cfa_offset 16
 3749 0004 00AF     		add	r7, sp, #0
 3750              	.LCFI105:
 3751              		.cfi_def_cfa_register 7
 3752 0006 0346     		mov	r3, r0
 3753 0008 FB71     		strb	r3, [r7, #7]
1845:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1846:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(status);
1847:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1848:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SD_EnableTransceiver could be implemented in the user file
1849:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
1850:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3754              		.loc 1 1850 1
 3755 000a 00BF     		nop
 3756 000c 0C37     		adds	r7, r7, #12
 3757              	.LCFI106:
 3758              		.cfi_def_cfa_offset 4
 3759 000e BD46     		mov	sp, r7
 3760              	.LCFI107:
 3761              		.cfi_def_cfa_register 13
 3762              		@ sp needed
 3763 0010 5DF8047B 		ldr	r7, [sp], #4
 3764              	.LCFI108:
 3765              		.cfi_restore 7
 3766              		.cfi_def_cfa_offset 0
 3767 0014 7047     		bx	lr
 3768              		.cfi_endproc
 3769              	.LFE350:
 3771              		.section	.text.HAL_SD_GetCardCID,"ax",%progbits
 3772              		.align	1
 3773              		.global	HAL_SD_GetCardCID
 3774              		.syntax unified
 3775              		.thumb
 3776              		.thumb_func
 3777              		.fpu fpv5-d16
 3779              	HAL_SD_GetCardCID:
 3780              	.LFB351:
1851:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
1852:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1853:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1854:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1855:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Register a User SD Callback
1856:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
1857:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
1858:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be registered
1859:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *        This parameter can be one of the following values:
ARM GAS  /tmp/ccRis3lg.s 			page 101


1860:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
1861:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
1862:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
1863:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
1864:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
1865:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
1866:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
1867:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
1868:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
1869:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
1870:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
1871:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
1872:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1873:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef CallbackI
1874:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                           pSD_CallbackTypeDef pCallback)
1875:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1876:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1877:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1878:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCallback == NULL)
1879:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1880:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
1881:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1882:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
1883:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1884:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1885:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
1886:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
1887:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1888:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1889:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1890:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1891:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1892:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_TX_CPLT_CB_ID :
1893:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback = pCallback;
1894:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1895:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_RX_CPLT_CB_ID :
1896:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback = pCallback;
1897:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1898:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ERROR_CB_ID :
1899:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback = pCallback;
1900:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1901:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ABORT_CB_ID :
1902:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->AbortCpltCallback = pCallback;
1903:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1904:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
1905:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback = pCallback;
1906:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1907:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
1908:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback = pCallback;
1909:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1910:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
1911:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback = pCallback;
1912:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1913:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
1914:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback = pCallback;
1915:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1916:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
ARM GAS  /tmp/ccRis3lg.s 			page 102


1917:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = pCallback;
1918:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1919:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
1920:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = pCallback;
1921:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1922:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
1923:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
1924:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1925:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
1926:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
1927:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1928:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1929:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1930:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
1931:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1932:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1933:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1934:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
1935:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = pCallback;
1936:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1937:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
1938:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = pCallback;
1939:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1940:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
1941:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
1942:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1943:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
1944:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
1945:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1946:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
1947:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1948:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
1949:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1950:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
1951:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1952:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
1953:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
1954:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
1955:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1956:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
1957:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
1958:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
1959:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
1960:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1961:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
1962:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Unregister a User SD Callback
1963:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
1964:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
1965:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be unregistered
1966:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *        This parameter can be one of the following values:
1967:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID                 SD Tx Complete Callback ID
1968:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID                 SD Rx Complete Callback ID
1969:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID                   SD Error Callback ID
1970:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID                   SD Abort Callback ID
1971:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID  SD DMA Rx Double buffer 0 Callback ID
1972:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID  SD DMA Rx Double buffer 1 Callback ID
1973:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID SD DMA Tx Double buffer 0 Callback ID
ARM GAS  /tmp/ccRis3lg.s 			page 103


1974:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID SD DMA Tx Double buffer 1 Callback ID
1975:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID                SD MspInit Callback ID
1976:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID              SD MspDeInit Callback ID
1977:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
1978:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
1979:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef Callbac
1980:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
1981:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1982:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1983:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
1984:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
1985:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
1986:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
1987:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
1988:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
1989:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
1990:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_TX_CPLT_CB_ID :
1991:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->TxCpltCallback = HAL_SD_TxCpltCallback;
1992:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1993:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_RX_CPLT_CB_ID :
1994:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->RxCpltCallback = HAL_SD_RxCpltCallback;
1995:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1996:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ERROR_CB_ID :
1997:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCallback = HAL_SD_ErrorCallback;
1998:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
1999:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_ABORT_CB_ID :
2000:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->AbortCpltCallback = HAL_SD_AbortCallback;
2001:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2002:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF0_CPLT_CB_ID :
2003:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf0CpltCallback = HAL_SDEx_Read_DMADoubleBuf0CpltCallback;
2004:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2005:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_READ_DMA_DBL_BUF1_CPLT_CB_ID :
2006:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Read_DMADblBuf1CpltCallback = HAL_SDEx_Read_DMADoubleBuf1CpltCallback;
2007:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2008:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF0_CPLT_CB_ID :
2009:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf0CpltCallback = HAL_SDEx_Write_DMADoubleBuf0CpltCallback;
2010:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2011:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_WRITE_DMA_DBL_BUF1_CPLT_CB_ID :
2012:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Write_DMADblBuf1CpltCallback = HAL_SDEx_Write_DMADoubleBuf1CpltCallback;
2013:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2014:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
2015:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = HAL_SD_MspInit;
2016:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2017:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
2018:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2019:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2020:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
2021:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
2022:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2023:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
2024:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
2025:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2026:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2027:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2028:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
2029:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2030:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (CallbackID)
ARM GAS  /tmp/ccRis3lg.s 			page 104


2031:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2032:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_INIT_CB_ID :
2033:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspInitCallback = HAL_SD_MspInit;
2034:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2035:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case HAL_SD_MSP_DEINIT_CB_ID :
2036:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->MspDeInitCallback = HAL_SD_MspDeInit;
2037:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2038:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default :
2039:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Update the error code */
2040:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2041:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* update return status */
2042:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status =  HAL_ERROR;
2043:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2044:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2045:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2046:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2047:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2048:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2049:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2050:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2051:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2052:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2053:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2054:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
2055:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2056:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2057:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2058:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2059:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2060:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2061:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Register a User SD Transceiver Callback
2062:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
2063:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
2064:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
2065:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
2066:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2067:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterTransceiverCallback(SD_HandleTypeDef *hsd, pSD_TransceiverCallback
2068:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2069:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2070:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2071:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCallback == NULL)
2072:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2073:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2074:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2075:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
2076:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2077:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2078:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
2079:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
2080:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2081:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
2082:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2083:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = pCallback;
2084:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2085:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2086:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2087:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
ARM GAS  /tmp/ccRis3lg.s 			page 105


2088:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2089:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2090:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2091:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2092:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2093:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
2094:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2095:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2096:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2097:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2098:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2099:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Unregister a User SD Transceiver Callback
2100:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
2101:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd : SD handle
2102:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval status
2103:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2104:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterTransceiverCallback(SD_HandleTypeDef *hsd)
2105:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
2106:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
2107:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2108:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Process locked */
2109:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_LOCK(hsd);
2110:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2111:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->State == HAL_SD_STATE_READY)
2112:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2113:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->DriveTransceiver_1_8V_Callback = HAL_SD_DriveTransceiver_1_8V_Callback;
2114:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2115:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2116:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2117:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Update the error code */
2118:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2119:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* update return status */
2120:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status =  HAL_ERROR;
2121:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2122:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2123:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Release Lock */
2124:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2125:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
2126:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
2127:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2128:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2129:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2130:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2131:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
2132:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2133:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2134:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
2135:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *  @brief   management functions
2136:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *
2137:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @verbatim
2138:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
2139:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       ##### Peripheral Control functions #####
2140:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   ==============================================================================
2141:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   [..]
2142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card
2143:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     operations and get the related information
2144:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 106


2145:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** @endverbatim
2146:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
2147:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2148:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2149:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2150:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2151:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         the CID register.
2152:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2153:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCID: Pointer to a HAL_SD_CardCIDTypeDef structure that
2154:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         contains all CID register parameters
2155:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2156:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2157:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCID(SD_HandleTypeDef *hsd, HAL_SD_CardCIDTypeDef *pCID)
2158:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 3781              		.loc 1 2158 1
 3782              		.cfi_startproc
 3783              		@ args = 0, pretend = 0, frame = 8
 3784              		@ frame_needed = 1, uses_anonymous_args = 0
 3785              		@ link register save eliminated.
 3786 0000 80B4     		push	{r7}
 3787              	.LCFI109:
 3788              		.cfi_def_cfa_offset 4
 3789              		.cfi_offset 7, -4
 3790 0002 83B0     		sub	sp, sp, #12
 3791              	.LCFI110:
 3792              		.cfi_def_cfa_offset 16
 3793 0004 00AF     		add	r7, sp, #0
 3794              	.LCFI111:
 3795              		.cfi_def_cfa_register 7
 3796 0006 7860     		str	r0, [r7, #4]
 3797 0008 3960     		str	r1, [r7]
2159:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
 3798              		.loc 1 2159 45
 3799 000a 7B68     		ldr	r3, [r7, #4]
 3800 000c 1B6F     		ldr	r3, [r3, #112]
 3801              		.loc 1 2159 64
 3802 000e 1B0E     		lsrs	r3, r3, #24
 3803              		.loc 1 2159 26
 3804 0010 DAB2     		uxtb	r2, r3
 3805              		.loc 1 2159 24
 3806 0012 3B68     		ldr	r3, [r7]
 3807 0014 1A70     		strb	r2, [r3]
2160:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2161:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->OEM_AppliID = (uint16_t)((hsd->CID[0] & 0x00FFFF00U) >> 8U);
 3808              		.loc 1 2161 43
 3809 0016 7B68     		ldr	r3, [r7, #4]
 3810 0018 1B6F     		ldr	r3, [r3, #112]
 3811              		.loc 1 2161 62
 3812 001a 1B0A     		lsrs	r3, r3, #8
 3813              		.loc 1 2161 23
 3814 001c 9AB2     		uxth	r2, r3
 3815              		.loc 1 2161 21
 3816 001e 3B68     		ldr	r3, [r7]
 3817 0020 5A80     		strh	r2, [r3, #2]	@ movhi
2162:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2163:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdName1 = (((hsd->CID[0] & 0x000000FFU) << 24U) | ((hsd->CID[1] & 0xFFFFFF00U) >> 8U));
 3818              		.loc 1 2163 32
ARM GAS  /tmp/ccRis3lg.s 			page 107


 3819 0022 7B68     		ldr	r3, [r7, #4]
 3820 0024 1B6F     		ldr	r3, [r3, #112]
 3821              		.loc 1 2163 51
 3822 0026 1A06     		lsls	r2, r3, #24
 3823              		.loc 1 2163 71
 3824 0028 7B68     		ldr	r3, [r7, #4]
 3825 002a 5B6F     		ldr	r3, [r3, #116]
 3826              		.loc 1 2163 90
 3827 002c 1B0A     		lsrs	r3, r3, #8
 3828              		.loc 1 2163 59
 3829 002e 1A43     		orrs	r2, r2, r3
 3830              		.loc 1 2163 19
 3831 0030 3B68     		ldr	r3, [r7]
 3832 0032 5A60     		str	r2, [r3, #4]
2164:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2165:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdName2 = (uint8_t)(hsd->CID[1] & 0x000000FFU);
 3833              		.loc 1 2165 39
 3834 0034 7B68     		ldr	r3, [r7, #4]
 3835 0036 5B6F     		ldr	r3, [r3, #116]
 3836              		.loc 1 2165 21
 3837 0038 DAB2     		uxtb	r2, r3
 3838              		.loc 1 2165 19
 3839 003a 3B68     		ldr	r3, [r7]
 3840 003c 1A72     		strb	r2, [r3, #8]
2166:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2167:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdRev = (uint8_t)((hsd->CID[2] & 0xFF000000U) >> 24U);
 3841              		.loc 1 2167 38
 3842 003e 7B68     		ldr	r3, [r7, #4]
 3843 0040 9B6F     		ldr	r3, [r3, #120]
 3844              		.loc 1 2167 57
 3845 0042 1B0E     		lsrs	r3, r3, #24
 3846              		.loc 1 2167 19
 3847 0044 DAB2     		uxtb	r2, r3
 3848              		.loc 1 2167 17
 3849 0046 3B68     		ldr	r3, [r7]
 3850 0048 5A72     		strb	r2, [r3, #9]
2168:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2169:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ProdSN = (((hsd->CID[2] & 0x00FFFFFFU) << 8U) | ((hsd->CID[3] & 0xFF000000U) >> 24U));
 3851              		.loc 1 2169 29
 3852 004a 7B68     		ldr	r3, [r7, #4]
 3853 004c 9B6F     		ldr	r3, [r3, #120]
 3854              		.loc 1 2169 48
 3855 004e 1A02     		lsls	r2, r3, #8
 3856              		.loc 1 2169 67
 3857 0050 7B68     		ldr	r3, [r7, #4]
 3858 0052 DB6F     		ldr	r3, [r3, #124]
 3859              		.loc 1 2169 86
 3860 0054 1B0E     		lsrs	r3, r3, #24
 3861              		.loc 1 2169 55
 3862 0056 1A43     		orrs	r2, r2, r3
 3863              		.loc 1 2169 16
 3864 0058 3B68     		ldr	r3, [r7]
 3865 005a DA60     		str	r2, [r3, #12]
2170:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2171:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->Reserved1 = (uint8_t)((hsd->CID[3] & 0x00F00000U) >> 20U);
 3866              		.loc 1 2171 40
 3867 005c 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRis3lg.s 			page 108


 3868 005e DB6F     		ldr	r3, [r3, #124]
 3869              		.loc 1 2171 59
 3870 0060 1B0D     		lsrs	r3, r3, #20
 3871              		.loc 1 2171 21
 3872 0062 DBB2     		uxtb	r3, r3
 3873 0064 03F00F03 		and	r3, r3, #15
 3874 0068 DAB2     		uxtb	r2, r3
 3875              		.loc 1 2171 19
 3876 006a 3B68     		ldr	r3, [r7]
 3877 006c 1A74     		strb	r2, [r3, #16]
2172:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2173:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->ManufactDate = (uint16_t)((hsd->CID[3] & 0x000FFF00U) >> 8U);
 3878              		.loc 1 2173 44
 3879 006e 7B68     		ldr	r3, [r7, #4]
 3880 0070 DB6F     		ldr	r3, [r3, #124]
 3881              		.loc 1 2173 63
 3882 0072 1B0A     		lsrs	r3, r3, #8
 3883              		.loc 1 2173 24
 3884 0074 9BB2     		uxth	r3, r3
 3885 0076 C3F30B03 		ubfx	r3, r3, #0, #12
 3886 007a 9AB2     		uxth	r2, r3
 3887              		.loc 1 2173 22
 3888 007c 3B68     		ldr	r3, [r7]
 3889 007e 5A82     		strh	r2, [r3, #18]	@ movhi
2174:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2175:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->CID_CRC = (uint8_t)((hsd->CID[3] & 0x000000FEU) >> 1U);
 3890              		.loc 1 2175 38
 3891 0080 7B68     		ldr	r3, [r7, #4]
 3892 0082 DB6F     		ldr	r3, [r3, #124]
 3893              		.loc 1 2175 57
 3894 0084 5B08     		lsrs	r3, r3, #1
 3895              		.loc 1 2175 19
 3896 0086 DBB2     		uxtb	r3, r3
 3897 0088 03F07F03 		and	r3, r3, #127
 3898 008c DAB2     		uxtb	r2, r3
 3899              		.loc 1 2175 17
 3900 008e 3B68     		ldr	r3, [r7]
 3901 0090 1A75     		strb	r2, [r3, #20]
2176:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2177:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCID->Reserved2 = 1U;
 3902              		.loc 1 2177 19
 3903 0092 3B68     		ldr	r3, [r7]
 3904 0094 0122     		movs	r2, #1
 3905 0096 5A75     		strb	r2, [r3, #21]
2178:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2179:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 3906              		.loc 1 2179 10
 3907 0098 0023     		movs	r3, #0
2180:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 3908              		.loc 1 2180 1
 3909 009a 1846     		mov	r0, r3
 3910 009c 0C37     		adds	r7, r7, #12
 3911              	.LCFI112:
 3912              		.cfi_def_cfa_offset 4
 3913 009e BD46     		mov	sp, r7
 3914              	.LCFI113:
 3915              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccRis3lg.s 			page 109


 3916              		@ sp needed
 3917 00a0 5DF8047B 		ldr	r7, [sp], #4
 3918              	.LCFI114:
 3919              		.cfi_restore 7
 3920              		.cfi_def_cfa_offset 0
 3921 00a4 7047     		bx	lr
 3922              		.cfi_endproc
 3923              	.LFE351:
 3925              		.section	.text.HAL_SD_GetCardCSD,"ax",%progbits
 3926              		.align	1
 3927              		.global	HAL_SD_GetCardCSD
 3928              		.syntax unified
 3929              		.thumb
 3930              		.thumb_func
 3931              		.fpu fpv5-d16
 3933              	HAL_SD_GetCardCSD:
 3934              	.LFB352:
2181:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2182:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2183:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2184:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         the CSD register.
2185:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2186:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCSD: Pointer to a HAL_SD_CardCSDTypeDef structure that
2187:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         contains all CSD register parameters
2188:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2189:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2190:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCSD(SD_HandleTypeDef *hsd, HAL_SD_CardCSDTypeDef *pCSD)
2191:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 3935              		.loc 1 2191 1
 3936              		.cfi_startproc
 3937              		@ args = 0, pretend = 0, frame = 8
 3938              		@ frame_needed = 1, uses_anonymous_args = 0
 3939              		@ link register save eliminated.
 3940 0000 80B4     		push	{r7}
 3941              	.LCFI115:
 3942              		.cfi_def_cfa_offset 4
 3943              		.cfi_offset 7, -4
 3944 0002 83B0     		sub	sp, sp, #12
 3945              	.LCFI116:
 3946              		.cfi_def_cfa_offset 16
 3947 0004 00AF     		add	r7, sp, #0
 3948              	.LCFI117:
 3949              		.cfi_def_cfa_register 7
 3950 0006 7860     		str	r0, [r7, #4]
 3951 0008 3960     		str	r1, [r7]
2192:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 3952              		.loc 1 2192 40
 3953 000a 7B68     		ldr	r3, [r7, #4]
 3954 000c 1B6E     		ldr	r3, [r3, #96]
 3955              		.loc 1 2192 59
 3956 000e 9B0F     		lsrs	r3, r3, #30
 3957              		.loc 1 2192 21
 3958 0010 DAB2     		uxtb	r2, r3
 3959              		.loc 1 2192 19
 3960 0012 3B68     		ldr	r3, [r7]
 3961 0014 1A70     		strb	r2, [r3]
2193:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 110


2194:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->SysSpecVersion = (uint8_t)((hsd->CSD[0] & 0x3C000000U) >> 26U);
 3962              		.loc 1 2194 45
 3963 0016 7B68     		ldr	r3, [r7, #4]
 3964 0018 1B6E     		ldr	r3, [r3, #96]
 3965              		.loc 1 2194 64
 3966 001a 9B0E     		lsrs	r3, r3, #26
 3967              		.loc 1 2194 26
 3968 001c DBB2     		uxtb	r3, r3
 3969 001e 03F00F03 		and	r3, r3, #15
 3970 0022 DAB2     		uxtb	r2, r3
 3971              		.loc 1 2194 24
 3972 0024 3B68     		ldr	r3, [r7]
 3973 0026 5A70     		strb	r2, [r3, #1]
2195:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2196:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved1 = (uint8_t)((hsd->CSD[0] & 0x03000000U) >> 24U);
 3974              		.loc 1 2196 40
 3975 0028 7B68     		ldr	r3, [r7, #4]
 3976 002a 1B6E     		ldr	r3, [r3, #96]
 3977              		.loc 1 2196 59
 3978 002c 1B0E     		lsrs	r3, r3, #24
 3979              		.loc 1 2196 21
 3980 002e DBB2     		uxtb	r3, r3
 3981 0030 03F00303 		and	r3, r3, #3
 3982 0034 DAB2     		uxtb	r2, r3
 3983              		.loc 1 2196 19
 3984 0036 3B68     		ldr	r3, [r7]
 3985 0038 9A70     		strb	r2, [r3, #2]
2197:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2198:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->TAAC = (uint8_t)((hsd->CSD[0] & 0x00FF0000U) >> 16U);
 3986              		.loc 1 2198 35
 3987 003a 7B68     		ldr	r3, [r7, #4]
 3988 003c 1B6E     		ldr	r3, [r3, #96]
 3989              		.loc 1 2198 54
 3990 003e 1B0C     		lsrs	r3, r3, #16
 3991              		.loc 1 2198 16
 3992 0040 DAB2     		uxtb	r2, r3
 3993              		.loc 1 2198 14
 3994 0042 3B68     		ldr	r3, [r7]
 3995 0044 DA70     		strb	r2, [r3, #3]
2199:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2200:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->NSAC = (uint8_t)((hsd->CSD[0] & 0x0000FF00U) >> 8U);
 3996              		.loc 1 2200 35
 3997 0046 7B68     		ldr	r3, [r7, #4]
 3998 0048 1B6E     		ldr	r3, [r3, #96]
 3999              		.loc 1 2200 54
 4000 004a 1B0A     		lsrs	r3, r3, #8
 4001              		.loc 1 2200 16
 4002 004c DAB2     		uxtb	r2, r3
 4003              		.loc 1 2200 14
 4004 004e 3B68     		ldr	r3, [r7]
 4005 0050 1A71     		strb	r2, [r3, #4]
2201:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2202:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->MaxBusClkFrec = (uint8_t)(hsd->CSD[0] & 0x000000FFU);
 4006              		.loc 1 2202 43
 4007 0052 7B68     		ldr	r3, [r7, #4]
 4008 0054 1B6E     		ldr	r3, [r3, #96]
 4009              		.loc 1 2202 25
ARM GAS  /tmp/ccRis3lg.s 			page 111


 4010 0056 DAB2     		uxtb	r2, r3
 4011              		.loc 1 2202 23
 4012 0058 3B68     		ldr	r3, [r7]
 4013 005a 5A71     		strb	r2, [r3, #5]
2203:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2204:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CardComdClasses = (uint16_t)((hsd->CSD[1] & 0xFFF00000U) >> 20U);
 4014              		.loc 1 2204 47
 4015 005c 7B68     		ldr	r3, [r7, #4]
 4016 005e 5B6E     		ldr	r3, [r3, #100]
 4017              		.loc 1 2204 66
 4018 0060 1B0D     		lsrs	r3, r3, #20
 4019              		.loc 1 2204 27
 4020 0062 9AB2     		uxth	r2, r3
 4021              		.loc 1 2204 25
 4022 0064 3B68     		ldr	r3, [r7]
 4023 0066 DA80     		strh	r2, [r3, #6]	@ movhi
2205:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2206:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->RdBlockLen = (uint8_t)((hsd->CSD[1] & 0x000F0000U) >> 16U);
 4024              		.loc 1 2206 41
 4025 0068 7B68     		ldr	r3, [r7, #4]
 4026 006a 5B6E     		ldr	r3, [r3, #100]
 4027              		.loc 1 2206 60
 4028 006c 1B0C     		lsrs	r3, r3, #16
 4029              		.loc 1 2206 22
 4030 006e DBB2     		uxtb	r3, r3
 4031 0070 03F00F03 		and	r3, r3, #15
 4032 0074 DAB2     		uxtb	r2, r3
 4033              		.loc 1 2206 20
 4034 0076 3B68     		ldr	r3, [r7]
 4035 0078 1A72     		strb	r2, [r3, #8]
2207:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2208:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->PartBlockRead   = (uint8_t)((hsd->CSD[1] & 0x00008000U) >> 15U);
 4036              		.loc 1 2208 46
 4037 007a 7B68     		ldr	r3, [r7, #4]
 4038 007c 5B6E     		ldr	r3, [r3, #100]
 4039              		.loc 1 2208 65
 4040 007e DB0B     		lsrs	r3, r3, #15
 4041              		.loc 1 2208 27
 4042 0080 DBB2     		uxtb	r3, r3
 4043 0082 03F00103 		and	r3, r3, #1
 4044 0086 DAB2     		uxtb	r2, r3
 4045              		.loc 1 2208 25
 4046 0088 3B68     		ldr	r3, [r7]
 4047 008a 5A72     		strb	r2, [r3, #9]
2209:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2210:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00004000U) >> 14U);
 4048              		.loc 1 2210 46
 4049 008c 7B68     		ldr	r3, [r7, #4]
 4050 008e 5B6E     		ldr	r3, [r3, #100]
 4051              		.loc 1 2210 65
 4052 0090 9B0B     		lsrs	r3, r3, #14
 4053              		.loc 1 2210 27
 4054 0092 DBB2     		uxtb	r3, r3
 4055 0094 03F00103 		and	r3, r3, #1
 4056 0098 DAB2     		uxtb	r2, r3
 4057              		.loc 1 2210 25
 4058 009a 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccRis3lg.s 			page 112


 4059 009c 9A72     		strb	r2, [r3, #10]
2211:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2212:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->RdBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00002000U) >> 13U);
 4060              		.loc 1 2212 46
 4061 009e 7B68     		ldr	r3, [r7, #4]
 4062 00a0 5B6E     		ldr	r3, [r3, #100]
 4063              		.loc 1 2212 65
 4064 00a2 5B0B     		lsrs	r3, r3, #13
 4065              		.loc 1 2212 27
 4066 00a4 DBB2     		uxtb	r3, r3
 4067 00a6 03F00103 		and	r3, r3, #1
 4068 00aa DAB2     		uxtb	r2, r3
 4069              		.loc 1 2212 25
 4070 00ac 3B68     		ldr	r3, [r7]
 4071 00ae DA72     		strb	r2, [r3, #11]
2213:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2214:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->DSRImpl = (uint8_t)((hsd->CSD[1] & 0x00001000U) >> 12U);
 4072              		.loc 1 2214 38
 4073 00b0 7B68     		ldr	r3, [r7, #4]
 4074 00b2 5B6E     		ldr	r3, [r3, #100]
 4075              		.loc 1 2214 57
 4076 00b4 1B0B     		lsrs	r3, r3, #12
 4077              		.loc 1 2214 19
 4078 00b6 DBB2     		uxtb	r3, r3
 4079 00b8 03F00103 		and	r3, r3, #1
 4080 00bc DAB2     		uxtb	r2, r3
 4081              		.loc 1 2214 17
 4082 00be 3B68     		ldr	r3, [r7]
 4083 00c0 1A73     		strb	r2, [r3, #12]
2215:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2216:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved2 = 0U; /*!< Reserved */
 4084              		.loc 1 2216 19
 4085 00c2 3B68     		ldr	r3, [r7]
 4086 00c4 0022     		movs	r2, #0
 4087 00c6 5A73     		strb	r2, [r3, #13]
2217:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2218:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType == CARD_SDSC)
 4088              		.loc 1 2218 18
 4089 00c8 7B68     		ldr	r3, [r7, #4]
 4090 00ca DB6B     		ldr	r3, [r3, #60]
 4091              		.loc 1 2218 6
 4092 00cc 002B     		cmp	r3, #0
 4093 00ce 63D1     		bne	.L177
2219:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2220:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x000003FFU) << 2U) | ((hsd->CSD[2] & 0xC0000000U) >> 30U))
 4094              		.loc 1 2220 35
 4095 00d0 7B68     		ldr	r3, [r7, #4]
 4096 00d2 5B6E     		ldr	r3, [r3, #100]
 4097              		.loc 1 2220 54
 4098 00d4 9A00     		lsls	r2, r3, #2
 4099 00d6 40F6FC73 		movw	r3, #4092
 4100 00da 1340     		ands	r3, r3, r2
 4101              		.loc 1 2220 73
 4102 00dc 7A68     		ldr	r2, [r7, #4]
 4103 00de 926E     		ldr	r2, [r2, #104]
 4104              		.loc 1 2220 92
 4105 00e0 920F     		lsrs	r2, r2, #30
ARM GAS  /tmp/ccRis3lg.s 			page 113


 4106              		.loc 1 2220 61
 4107 00e2 1A43     		orrs	r2, r2, r3
 4108              		.loc 1 2220 22
 4109 00e4 3B68     		ldr	r3, [r7]
 4110 00e6 1A61     		str	r2, [r3, #16]
2221:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2222:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x38000000U) >> 27U);
 4111              		.loc 1 2222 51
 4112 00e8 7B68     		ldr	r3, [r7, #4]
 4113 00ea 9B6E     		ldr	r3, [r3, #104]
 4114              		.loc 1 2222 70
 4115 00ec DB0E     		lsrs	r3, r3, #27
 4116              		.loc 1 2222 32
 4117 00ee DBB2     		uxtb	r3, r3
 4118 00f0 03F00703 		and	r3, r3, #7
 4119 00f4 DAB2     		uxtb	r2, r3
 4120              		.loc 1 2222 30
 4121 00f6 3B68     		ldr	r3, [r7]
 4122 00f8 1A75     		strb	r2, [r3, #20]
2223:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2224:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x07000000U) >> 24U);
 4123              		.loc 1 2224 51
 4124 00fa 7B68     		ldr	r3, [r7, #4]
 4125 00fc 9B6E     		ldr	r3, [r3, #104]
 4126              		.loc 1 2224 70
 4127 00fe 1B0E     		lsrs	r3, r3, #24
 4128              		.loc 1 2224 32
 4129 0100 DBB2     		uxtb	r3, r3
 4130 0102 03F00703 		and	r3, r3, #7
 4131 0106 DAB2     		uxtb	r2, r3
 4132              		.loc 1 2224 30
 4133 0108 3B68     		ldr	r3, [r7]
 4134 010a 5A75     		strb	r2, [r3, #21]
2225:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2226:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x00E00000U) >> 21U);
 4135              		.loc 1 2226 51
 4136 010c 7B68     		ldr	r3, [r7, #4]
 4137 010e 9B6E     		ldr	r3, [r3, #104]
 4138              		.loc 1 2226 70
 4139 0110 5B0D     		lsrs	r3, r3, #21
 4140              		.loc 1 2226 32
 4141 0112 DBB2     		uxtb	r3, r3
 4142 0114 03F00703 		and	r3, r3, #7
 4143 0118 DAB2     		uxtb	r2, r3
 4144              		.loc 1 2226 30
 4145 011a 3B68     		ldr	r3, [r7]
 4146 011c 9A75     		strb	r2, [r3, #22]
2227:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2228:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x001C0000U) >> 18U);
 4147              		.loc 1 2228 51
 4148 011e 7B68     		ldr	r3, [r7, #4]
 4149 0120 9B6E     		ldr	r3, [r3, #104]
 4150              		.loc 1 2228 70
 4151 0122 9B0C     		lsrs	r3, r3, #18
 4152              		.loc 1 2228 32
 4153 0124 DBB2     		uxtb	r3, r3
 4154 0126 03F00703 		and	r3, r3, #7
ARM GAS  /tmp/ccRis3lg.s 			page 114


 4155 012a DAB2     		uxtb	r2, r3
 4156              		.loc 1 2228 30
 4157 012c 3B68     		ldr	r3, [r7]
 4158 012e DA75     		strb	r2, [r3, #23]
2229:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2230:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSizeMul = (uint8_t)((hsd->CSD[2] & 0x00038000U) >> 15U);
 4159              		.loc 1 2230 46
 4160 0130 7B68     		ldr	r3, [r7, #4]
 4161 0132 9B6E     		ldr	r3, [r3, #104]
 4162              		.loc 1 2230 65
 4163 0134 DB0B     		lsrs	r3, r3, #15
 4164              		.loc 1 2230 27
 4165 0136 DBB2     		uxtb	r3, r3
 4166 0138 03F00703 		and	r3, r3, #7
 4167 013c DAB2     		uxtb	r2, r3
 4168              		.loc 1 2230 25
 4169 013e 3B68     		ldr	r3, [r7]
 4170 0140 1A76     		strb	r2, [r3, #24]
2231:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2232:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr  = (pCSD->DeviceSize + 1U) ;
 4171              		.loc 1 2232 34
 4172 0142 3B68     		ldr	r3, [r7]
 4173 0144 1B69     		ldr	r3, [r3, #16]
 4174              		.loc 1 2232 47
 4175 0146 5A1C     		adds	r2, r3, #1
 4176              		.loc 1 2232 27
 4177 0148 7B68     		ldr	r3, [r7, #4]
 4178 014a DA64     		str	r2, [r3, #76]
2233:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4179              		.loc 1 2233 43
 4180 014c 3B68     		ldr	r3, [r7]
 4181 014e 1B7E     		ldrb	r3, [r3, #24]
 4182 0150 DBB2     		uxtb	r3, r3
 4183              		.loc 1 2233 59
 4184 0152 03F00703 		and	r3, r3, #7
 4185              		.loc 1 2233 68
 4186 0156 0233     		adds	r3, r3, #2
 4187              		.loc 1 2233 34
 4188 0158 0122     		movs	r2, #1
 4189 015a 02FA03F3 		lsl	r3, r2, r3
 4190              		.loc 1 2233 26
 4191 015e 7A68     		ldr	r2, [r7, #4]
 4192 0160 D26C     		ldr	r2, [r2, #76]
 4193 0162 02FB03F2 		mul	r2, r2, r3
 4194 0166 7B68     		ldr	r3, [r7, #4]
 4195 0168 DA64     		str	r2, [r3, #76]
2234:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4196              		.loc 1 2234 42
 4197 016a 3B68     		ldr	r3, [r7]
 4198 016c 1B7A     		ldrb	r3, [r3, #8]
 4199 016e DBB2     		uxtb	r3, r3
 4200              		.loc 1 2234 55
 4201 0170 03F00F03 		and	r3, r3, #15
 4202              		.loc 1 2234 34
 4203 0174 0122     		movs	r2, #1
 4204 0176 9A40     		lsls	r2, r2, r3
 4205              		.loc 1 2234 27
ARM GAS  /tmp/ccRis3lg.s 			page 115


 4206 0178 7B68     		ldr	r3, [r7, #4]
 4207 017a 1A65     		str	r2, [r3, #80]
2235:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2236:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = (hsd->SdCard.BlockNbr) * ((hsd->SdCard.BlockSize) / 512U);
 4208              		.loc 1 2236 43
 4209 017c 7B68     		ldr	r3, [r7, #4]
 4210 017e DB6C     		ldr	r3, [r3, #76]
 4211              		.loc 1 2236 69
 4212 0180 7A68     		ldr	r2, [r7, #4]
 4213 0182 126D     		ldr	r2, [r2, #80]
 4214              		.loc 1 2236 81
 4215 0184 520A     		lsrs	r2, r2, #9
 4216              		.loc 1 2236 54
 4217 0186 02FB03F2 		mul	r2, r2, r3
 4218              		.loc 1 2236 29
 4219 018a 7B68     		ldr	r3, [r7, #4]
 4220 018c 5A65     		str	r2, [r3, #84]
2237:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4221              		.loc 1 2237 30
 4222 018e 7B68     		ldr	r3, [r7, #4]
 4223 0190 4FF40072 		mov	r2, #512
 4224 0194 9A65     		str	r2, [r3, #88]
 4225 0196 31E0     		b	.L178
 4226              	.L177:
2238:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2239:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (hsd->SdCard.CardType == CARD_SDHC_SDXC)
 4227              		.loc 1 2239 23
 4228 0198 7B68     		ldr	r3, [r7, #4]
 4229 019a DB6B     		ldr	r3, [r3, #60]
 4230              		.loc 1 2239 11
 4231 019c 012B     		cmp	r3, #1
 4232 019e 1DD1     		bne	.L179
2240:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2241:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Byte 7 */
2242:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x0000003FU) << 16U) | ((hsd->CSD[2] & 0xFFFF0000U) >> 16U)
 4233              		.loc 1 2242 35
 4234 01a0 7B68     		ldr	r3, [r7, #4]
 4235 01a2 5B6E     		ldr	r3, [r3, #100]
 4236              		.loc 1 2242 54
 4237 01a4 1B04     		lsls	r3, r3, #16
 4238 01a6 03F47C12 		and	r2, r3, #4128768
 4239              		.loc 1 2242 74
 4240 01aa 7B68     		ldr	r3, [r7, #4]
 4241 01ac 9B6E     		ldr	r3, [r3, #104]
 4242              		.loc 1 2242 93
 4243 01ae 1B0C     		lsrs	r3, r3, #16
 4244              		.loc 1 2242 62
 4245 01b0 1A43     		orrs	r2, r2, r3
 4246              		.loc 1 2242 22
 4247 01b2 3B68     		ldr	r3, [r7]
 4248 01b4 1A61     		str	r2, [r3, #16]
2243:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2244:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockNbr = ((pCSD->DeviceSize + 1U) * 1024U);
 4249              		.loc 1 2244 34
 4250 01b6 3B68     		ldr	r3, [r7]
 4251 01b8 1B69     		ldr	r3, [r3, #16]
 4252              		.loc 1 2244 47
ARM GAS  /tmp/ccRis3lg.s 			page 116


 4253 01ba 0133     		adds	r3, r3, #1
 4254              		.loc 1 2244 53
 4255 01bc 9A02     		lsls	r2, r3, #10
 4256              		.loc 1 2244 26
 4257 01be 7B68     		ldr	r3, [r7, #4]
 4258 01c0 DA64     		str	r2, [r3, #76]
2245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4259              		.loc 1 2245 42
 4260 01c2 7B68     		ldr	r3, [r7, #4]
 4261 01c4 DA6C     		ldr	r2, [r3, #76]
 4262              		.loc 1 2245 29
 4263 01c6 7B68     		ldr	r3, [r7, #4]
 4264 01c8 5A65     		str	r2, [r3, #84]
2246:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4265              		.loc 1 2246 27
 4266 01ca 7B68     		ldr	r3, [r7, #4]
 4267 01cc 4FF40072 		mov	r2, #512
 4268 01d0 1A65     		str	r2, [r3, #80]
2247:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4269              		.loc 1 2247 43
 4270 01d2 7B68     		ldr	r3, [r7, #4]
 4271 01d4 1A6D     		ldr	r2, [r3, #80]
 4272              		.loc 1 2247 30
 4273 01d6 7B68     		ldr	r3, [r7, #4]
 4274 01d8 9A65     		str	r2, [r3, #88]
 4275 01da 0FE0     		b	.L178
 4276              	.L179:
2248:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2249:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2250:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2251:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2252:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 4277              		.loc 1 2252 5
 4278 01dc 7B68     		ldr	r3, [r7, #4]
 4279 01de 1B68     		ldr	r3, [r3]
 4280 01e0 584A     		ldr	r2, .L181
 4281 01e2 9A63     		str	r2, [r3, #56]
2253:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4282              		.loc 1 2253 20
 4283 01e4 7B68     		ldr	r3, [r7, #4]
 4284 01e6 9B6B     		ldr	r3, [r3, #56]
 4285 01e8 43F08052 		orr	r2, r3, #268435456
 4286 01ec 7B68     		ldr	r3, [r7, #4]
 4287 01ee 9A63     		str	r2, [r3, #56]
2254:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4288              		.loc 1 2254 16
 4289 01f0 7B68     		ldr	r3, [r7, #4]
 4290 01f2 0122     		movs	r2, #1
 4291 01f4 83F83420 		strb	r2, [r3, #52]
2255:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 4292              		.loc 1 2255 12
 4293 01f8 0123     		movs	r3, #1
 4294 01fa 9DE0     		b	.L180
 4295              	.L178:
2256:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2257:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2258:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->EraseGrSize = (uint8_t)((hsd->CSD[2] & 0x00004000U) >> 14U);
ARM GAS  /tmp/ccRis3lg.s 			page 117


 4296              		.loc 1 2258 42
 4297 01fc 7B68     		ldr	r3, [r7, #4]
 4298 01fe 9B6E     		ldr	r3, [r3, #104]
 4299              		.loc 1 2258 61
 4300 0200 9B0B     		lsrs	r3, r3, #14
 4301              		.loc 1 2258 23
 4302 0202 DBB2     		uxtb	r3, r3
 4303 0204 03F00103 		and	r3, r3, #1
 4304 0208 DAB2     		uxtb	r2, r3
 4305              		.loc 1 2258 21
 4306 020a 3B68     		ldr	r3, [r7]
 4307 020c 5A76     		strb	r2, [r3, #25]
2259:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2260:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->EraseGrMul = (uint8_t)((hsd->CSD[2] & 0x00003F80U) >> 7U);
 4308              		.loc 1 2260 41
 4309 020e 7B68     		ldr	r3, [r7, #4]
 4310 0210 9B6E     		ldr	r3, [r3, #104]
 4311              		.loc 1 2260 60
 4312 0212 DB09     		lsrs	r3, r3, #7
 4313              		.loc 1 2260 22
 4314 0214 DBB2     		uxtb	r3, r3
 4315 0216 03F07F03 		and	r3, r3, #127
 4316 021a DAB2     		uxtb	r2, r3
 4317              		.loc 1 2260 20
 4318 021c 3B68     		ldr	r3, [r7]
 4319 021e 9A76     		strb	r2, [r3, #26]
2261:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2262:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrProtectGrSize = (uint8_t)(hsd->CSD[2] & 0x0000007FU);
 4320              		.loc 1 2262 45
 4321 0220 7B68     		ldr	r3, [r7, #4]
 4322 0222 9B6E     		ldr	r3, [r3, #104]
 4323              		.loc 1 2262 27
 4324 0224 DBB2     		uxtb	r3, r3
 4325 0226 03F07F03 		and	r3, r3, #127
 4326 022a DAB2     		uxtb	r2, r3
 4327              		.loc 1 2262 25
 4328 022c 3B68     		ldr	r3, [r7]
 4329 022e DA76     		strb	r2, [r3, #27]
2263:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2264:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrProtectGrEnable = (uint8_t)((hsd->CSD[3] & 0x80000000U) >> 31U);
 4330              		.loc 1 2264 48
 4331 0230 7B68     		ldr	r3, [r7, #4]
 4332 0232 DB6E     		ldr	r3, [r3, #108]
 4333              		.loc 1 2264 67
 4334 0234 DB0F     		lsrs	r3, r3, #31
 4335              		.loc 1 2264 29
 4336 0236 DAB2     		uxtb	r2, r3
 4337              		.loc 1 2264 27
 4338 0238 3B68     		ldr	r3, [r7]
 4339 023a 1A77     		strb	r2, [r3, #28]
2265:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2266:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ManDeflECC = (uint8_t)((hsd->CSD[3] & 0x60000000U) >> 29U);
 4340              		.loc 1 2266 41
 4341 023c 7B68     		ldr	r3, [r7, #4]
 4342 023e DB6E     		ldr	r3, [r3, #108]
 4343              		.loc 1 2266 60
 4344 0240 5B0F     		lsrs	r3, r3, #29
ARM GAS  /tmp/ccRis3lg.s 			page 118


 4345              		.loc 1 2266 22
 4346 0242 DBB2     		uxtb	r3, r3
 4347 0244 03F00303 		and	r3, r3, #3
 4348 0248 DAB2     		uxtb	r2, r3
 4349              		.loc 1 2266 20
 4350 024a 3B68     		ldr	r3, [r7]
 4351 024c 5A77     		strb	r2, [r3, #29]
2267:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2268:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WrSpeedFact = (uint8_t)((hsd->CSD[3] & 0x1C000000U) >> 26U);
 4352              		.loc 1 2268 42
 4353 024e 7B68     		ldr	r3, [r7, #4]
 4354 0250 DB6E     		ldr	r3, [r3, #108]
 4355              		.loc 1 2268 61
 4356 0252 9B0E     		lsrs	r3, r3, #26
 4357              		.loc 1 2268 23
 4358 0254 DBB2     		uxtb	r3, r3
 4359 0256 03F00703 		and	r3, r3, #7
 4360 025a DAB2     		uxtb	r2, r3
 4361              		.loc 1 2268 21
 4362 025c 3B68     		ldr	r3, [r7]
 4363 025e 9A77     		strb	r2, [r3, #30]
2269:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2270:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->MaxWrBlockLen = (uint8_t)((hsd->CSD[3] & 0x03C00000U) >> 22U);
 4364              		.loc 1 2270 44
 4365 0260 7B68     		ldr	r3, [r7, #4]
 4366 0262 DB6E     		ldr	r3, [r3, #108]
 4367              		.loc 1 2270 63
 4368 0264 9B0D     		lsrs	r3, r3, #22
 4369              		.loc 1 2270 25
 4370 0266 DBB2     		uxtb	r3, r3
 4371 0268 03F00F03 		and	r3, r3, #15
 4372 026c DAB2     		uxtb	r2, r3
 4373              		.loc 1 2270 23
 4374 026e 3B68     		ldr	r3, [r7]
 4375 0270 DA77     		strb	r2, [r3, #31]
2271:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2272:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->WriteBlockPaPartial = (uint8_t)((hsd->CSD[3] & 0x00200000U) >> 21U);
 4376              		.loc 1 2272 50
 4377 0272 7B68     		ldr	r3, [r7, #4]
 4378 0274 DB6E     		ldr	r3, [r3, #108]
 4379              		.loc 1 2272 69
 4380 0276 5B0D     		lsrs	r3, r3, #21
 4381              		.loc 1 2272 31
 4382 0278 DBB2     		uxtb	r3, r3
 4383 027a 03F00103 		and	r3, r3, #1
 4384 027e DAB2     		uxtb	r2, r3
 4385              		.loc 1 2272 29
 4386 0280 3B68     		ldr	r3, [r7]
 4387 0282 83F82020 		strb	r2, [r3, #32]
2273:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2274:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved3 = 0;
 4388              		.loc 1 2274 19
 4389 0286 3B68     		ldr	r3, [r7]
 4390 0288 0022     		movs	r2, #0
 4391 028a 83F82120 		strb	r2, [r3, #33]
2275:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2276:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ContentProtectAppli = (uint8_t)((hsd->CSD[3] & 0x00010000U) >> 16U);
ARM GAS  /tmp/ccRis3lg.s 			page 119


 4392              		.loc 1 2276 50
 4393 028e 7B68     		ldr	r3, [r7, #4]
 4394 0290 DB6E     		ldr	r3, [r3, #108]
 4395              		.loc 1 2276 69
 4396 0292 1B0C     		lsrs	r3, r3, #16
 4397              		.loc 1 2276 31
 4398 0294 DBB2     		uxtb	r3, r3
 4399 0296 03F00103 		and	r3, r3, #1
 4400 029a DAB2     		uxtb	r2, r3
 4401              		.loc 1 2276 29
 4402 029c 3B68     		ldr	r3, [r7]
 4403 029e 83F82220 		strb	r2, [r3, #34]
2277:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2278:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->FileFormatGroup = (uint8_t)((hsd->CSD[3] & 0x00008000U) >> 15U);
 4404              		.loc 1 2278 46
 4405 02a2 7B68     		ldr	r3, [r7, #4]
 4406 02a4 DB6E     		ldr	r3, [r3, #108]
 4407              		.loc 1 2278 65
 4408 02a6 DB0B     		lsrs	r3, r3, #15
 4409              		.loc 1 2278 27
 4410 02a8 DBB2     		uxtb	r3, r3
 4411 02aa 03F00103 		and	r3, r3, #1
 4412 02ae DAB2     		uxtb	r2, r3
 4413              		.loc 1 2278 25
 4414 02b0 3B68     		ldr	r3, [r7]
 4415 02b2 83F82320 		strb	r2, [r3, #35]
2279:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2280:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CopyFlag = (uint8_t)((hsd->CSD[3] & 0x00004000U) >> 14U);
 4416              		.loc 1 2280 39
 4417 02b6 7B68     		ldr	r3, [r7, #4]
 4418 02b8 DB6E     		ldr	r3, [r3, #108]
 4419              		.loc 1 2280 58
 4420 02ba 9B0B     		lsrs	r3, r3, #14
 4421              		.loc 1 2280 20
 4422 02bc DBB2     		uxtb	r3, r3
 4423 02be 03F00103 		and	r3, r3, #1
 4424 02c2 DAB2     		uxtb	r2, r3
 4425              		.loc 1 2280 18
 4426 02c4 3B68     		ldr	r3, [r7]
 4427 02c6 83F82420 		strb	r2, [r3, #36]
2281:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2282:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->PermWrProtect = (uint8_t)((hsd->CSD[3] & 0x00002000U) >> 13U);
 4428              		.loc 1 2282 44
 4429 02ca 7B68     		ldr	r3, [r7, #4]
 4430 02cc DB6E     		ldr	r3, [r3, #108]
 4431              		.loc 1 2282 63
 4432 02ce 5B0B     		lsrs	r3, r3, #13
 4433              		.loc 1 2282 25
 4434 02d0 DBB2     		uxtb	r3, r3
 4435 02d2 03F00103 		and	r3, r3, #1
 4436 02d6 DAB2     		uxtb	r2, r3
 4437              		.loc 1 2282 23
 4438 02d8 3B68     		ldr	r3, [r7]
 4439 02da 83F82520 		strb	r2, [r3, #37]
2283:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2284:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->TempWrProtect = (uint8_t)((hsd->CSD[3] & 0x00001000U) >> 12U);
 4440              		.loc 1 2284 44
ARM GAS  /tmp/ccRis3lg.s 			page 120


 4441 02de 7B68     		ldr	r3, [r7, #4]
 4442 02e0 DB6E     		ldr	r3, [r3, #108]
 4443              		.loc 1 2284 63
 4444 02e2 1B0B     		lsrs	r3, r3, #12
 4445              		.loc 1 2284 25
 4446 02e4 DBB2     		uxtb	r3, r3
 4447 02e6 03F00103 		and	r3, r3, #1
 4448 02ea DAB2     		uxtb	r2, r3
 4449              		.loc 1 2284 23
 4450 02ec 3B68     		ldr	r3, [r7]
 4451 02ee 83F82620 		strb	r2, [r3, #38]
2285:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2286:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->FileFormat = (uint8_t)((hsd->CSD[3] & 0x00000C00U) >> 10U);
 4452              		.loc 1 2286 41
 4453 02f2 7B68     		ldr	r3, [r7, #4]
 4454 02f4 DB6E     		ldr	r3, [r3, #108]
 4455              		.loc 1 2286 60
 4456 02f6 9B0A     		lsrs	r3, r3, #10
 4457              		.loc 1 2286 22
 4458 02f8 DBB2     		uxtb	r3, r3
 4459 02fa 03F00303 		and	r3, r3, #3
 4460 02fe DAB2     		uxtb	r2, r3
 4461              		.loc 1 2286 20
 4462 0300 3B68     		ldr	r3, [r7]
 4463 0302 83F82720 		strb	r2, [r3, #39]
2287:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2288:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->ECC = (uint8_t)((hsd->CSD[3] & 0x00000300U) >> 8U);
 4464              		.loc 1 2288 34
 4465 0306 7B68     		ldr	r3, [r7, #4]
 4466 0308 DB6E     		ldr	r3, [r3, #108]
 4467              		.loc 1 2288 53
 4468 030a 1B0A     		lsrs	r3, r3, #8
 4469              		.loc 1 2288 15
 4470 030c DBB2     		uxtb	r3, r3
 4471 030e 03F00303 		and	r3, r3, #3
 4472 0312 DAB2     		uxtb	r2, r3
 4473              		.loc 1 2288 13
 4474 0314 3B68     		ldr	r3, [r7]
 4475 0316 83F82820 		strb	r2, [r3, #40]
2289:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2290:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->CSD_CRC = (uint8_t)((hsd->CSD[3] & 0x000000FEU) >> 1U);
 4476              		.loc 1 2290 38
 4477 031a 7B68     		ldr	r3, [r7, #4]
 4478 031c DB6E     		ldr	r3, [r3, #108]
 4479              		.loc 1 2290 57
 4480 031e 5B08     		lsrs	r3, r3, #1
 4481              		.loc 1 2290 19
 4482 0320 DBB2     		uxtb	r3, r3
 4483 0322 03F07F03 		and	r3, r3, #127
 4484 0326 DAB2     		uxtb	r2, r3
 4485              		.loc 1 2290 17
 4486 0328 3B68     		ldr	r3, [r7]
 4487 032a 83F82920 		strb	r2, [r3, #41]
2291:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2292:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCSD->Reserved4 = 1;
 4488              		.loc 1 2292 19
 4489 032e 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccRis3lg.s 			page 121


 4490 0330 0122     		movs	r2, #1
 4491 0332 83F82A20 		strb	r2, [r3, #42]
2293:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2294:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 4492              		.loc 1 2294 10
 4493 0336 0023     		movs	r3, #0
 4494              	.L180:
2295:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4495              		.loc 1 2295 1
 4496 0338 1846     		mov	r0, r3
 4497 033a 0C37     		adds	r7, r7, #12
 4498              	.LCFI118:
 4499              		.cfi_def_cfa_offset 4
 4500 033c BD46     		mov	sp, r7
 4501              	.LCFI119:
 4502              		.cfi_def_cfa_register 13
 4503              		@ sp needed
 4504 033e 5DF8047B 		ldr	r7, [sp], #4
 4505              	.LCFI120:
 4506              		.cfi_restore 7
 4507              		.cfi_def_cfa_offset 0
 4508 0342 7047     		bx	lr
 4509              	.L182:
 4510              		.align	2
 4511              	.L181:
 4512 0344 FF0FE01F 		.word	534777855
 4513              		.cfi_endproc
 4514              	.LFE352:
 4516              		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 4517              		.align	1
 4518              		.global	HAL_SD_GetCardStatus
 4519              		.syntax unified
 4520              		.thumb
 4521              		.thumb_func
 4522              		.fpu fpv5-d16
 4524              	HAL_SD_GetCardStatus:
 4525              	.LFB353:
2296:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2297:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2298:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the SD status info.
2299:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2300:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pStatus: Pointer to the HAL_SD_CardStatusTypeDef structure that
2301:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         will contain the SD card status information
2302:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2303:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2304:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypeDef *pStatus)
2305:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 4526              		.loc 1 2305 1
 4527              		.cfi_startproc
 4528              		@ args = 0, pretend = 0, frame = 80
 4529              		@ frame_needed = 1, uses_anonymous_args = 0
 4530 0000 80B5     		push	{r7, lr}
 4531              	.LCFI121:
 4532              		.cfi_def_cfa_offset 8
 4533              		.cfi_offset 7, -8
 4534              		.cfi_offset 14, -4
 4535 0002 94B0     		sub	sp, sp, #80
ARM GAS  /tmp/ccRis3lg.s 			page 122


 4536              	.LCFI122:
 4537              		.cfi_def_cfa_offset 88
 4538 0004 00AF     		add	r7, sp, #0
 4539              	.LCFI123:
 4540              		.cfi_def_cfa_register 7
 4541 0006 7860     		str	r0, [r7, #4]
 4542 0008 3960     		str	r1, [r7]
2306:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sd_status[16];
2307:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2308:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 4543              		.loc 1 2308 21
 4544 000a 0023     		movs	r3, #0
 4545 000c 87F84F30 		strb	r3, [r7, #79]
2309:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2310:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_SendSDStatus(hsd, sd_status);
 4546              		.loc 1 2310 16
 4547 0010 07F10803 		add	r3, r7, #8
 4548 0014 1946     		mov	r1, r3
 4549 0016 7868     		ldr	r0, [r7, #4]
 4550 0018 FFF7FEFF 		bl	SD_SendSDStatus
 4551 001c B864     		str	r0, [r7, #72]
2311:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4552              		.loc 1 2311 6
 4553 001e BB6C     		ldr	r3, [r7, #72]
 4554 0020 002B     		cmp	r3, #0
 4555 0022 11D0     		beq	.L184
2312:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2313:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2314:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 4556              		.loc 1 2314 5
 4557 0024 7B68     		ldr	r3, [r7, #4]
 4558 0026 1B68     		ldr	r3, [r3]
 4559 0028 4F4A     		ldr	r2, .L188
 4560 002a 9A63     		str	r2, [r3, #56]
2315:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 4561              		.loc 1 2315 20
 4562 002c 7B68     		ldr	r3, [r7, #4]
 4563 002e 9A6B     		ldr	r2, [r3, #56]
 4564 0030 BB6C     		ldr	r3, [r7, #72]
 4565 0032 1A43     		orrs	r2, r2, r3
 4566 0034 7B68     		ldr	r3, [r7, #4]
 4567 0036 9A63     		str	r2, [r3, #56]
2316:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4568              		.loc 1 2316 16
 4569 0038 7B68     		ldr	r3, [r7, #4]
 4570 003a 0122     		movs	r2, #1
 4571 003c 83F83420 		strb	r2, [r3, #52]
2317:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 4572              		.loc 1 2317 12
 4573 0040 0123     		movs	r3, #1
 4574 0042 87F84F30 		strb	r3, [r7, #79]
 4575 0046 70E0     		b	.L185
 4576              	.L184:
2318:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2319:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2320:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2321:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->DataBusWidth = (uint8_t)((sd_status[0] & 0xC0U) >> 6U);
ARM GAS  /tmp/ccRis3lg.s 			page 123


 4577              		.loc 1 2321 49
 4578 0048 BB68     		ldr	r3, [r7, #8]
 4579              		.loc 1 2321 62
 4580 004a 9B09     		lsrs	r3, r3, #6
 4581              		.loc 1 2321 29
 4582 004c DBB2     		uxtb	r3, r3
 4583 004e 03F00303 		and	r3, r3, #3
 4584 0052 DAB2     		uxtb	r2, r3
 4585              		.loc 1 2321 27
 4586 0054 3B68     		ldr	r3, [r7]
 4587 0056 1A70     		strb	r2, [r3]
2322:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2323:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->SecuredMode = (uint8_t)((sd_status[0] & 0x20U) >> 5U);
 4588              		.loc 1 2323 48
 4589 0058 BB68     		ldr	r3, [r7, #8]
 4590              		.loc 1 2323 61
 4591 005a 5B09     		lsrs	r3, r3, #5
 4592              		.loc 1 2323 28
 4593 005c DBB2     		uxtb	r3, r3
 4594 005e 03F00103 		and	r3, r3, #1
 4595 0062 DAB2     		uxtb	r2, r3
 4596              		.loc 1 2323 26
 4597 0064 3B68     		ldr	r3, [r7]
 4598 0066 5A70     		strb	r2, [r3, #1]
2324:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2325:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->CardType = (uint16_t)(((sd_status[0] & 0x00FF0000U) >> 8U) | ((sd_status[0] & 0xFF0000
 4599              		.loc 1 2325 47
 4600 0068 BB68     		ldr	r3, [r7, #8]
 4601              		.loc 1 2325 66
 4602 006a 1B0A     		lsrs	r3, r3, #8
 4603              		.loc 1 2325 25
 4604 006c 9BB2     		uxth	r3, r3
 4605 006e 23F0FF03 		bic	r3, r3, #255
 4606 0072 9AB2     		uxth	r2, r3
 4607              		.loc 1 2325 86
 4608 0074 BB68     		ldr	r3, [r7, #8]
 4609              		.loc 1 2325 105
 4610 0076 1B0E     		lsrs	r3, r3, #24
 4611              		.loc 1 2325 25
 4612 0078 9BB2     		uxth	r3, r3
 4613 007a 1343     		orrs	r3, r3, r2
 4614 007c 9AB2     		uxth	r2, r3
 4615              		.loc 1 2325 23
 4616 007e 3B68     		ldr	r3, [r7]
 4617 0080 5A80     		strh	r2, [r3, #2]	@ movhi
2326:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2327:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->ProtectedAreaSize = (((sd_status[1] & 0xFFU) << 24U)    | ((sd_status[1] & 0xFF00U) <<
 4618              		.loc 1 2327 46
 4619 0082 FB68     		ldr	r3, [r7, #12]
 4620              		.loc 1 2327 59
 4621 0084 1A06     		lsls	r2, r3, #24
 4622              		.loc 1 2327 83
 4623 0086 FB68     		ldr	r3, [r7, #12]
 4624              		.loc 1 2327 98
 4625 0088 1B02     		lsls	r3, r3, #8
 4626 008a 03F47F03 		and	r3, r3, #16711680
 4627              		.loc 1 2327 70
ARM GAS  /tmp/ccRis3lg.s 			page 124


 4628 008e 1A43     		orrs	r2, r2, r3
2328:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 4629              		.loc 1 2328 46
 4630 0090 FB68     		ldr	r3, [r7, #12]
 4631              		.loc 1 2328 63
 4632 0092 1B0A     		lsrs	r3, r3, #8
 4633 0094 03F47F43 		and	r3, r3, #65280
2327:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 4634              		.loc 1 2327 105
 4635 0098 1A43     		orrs	r2, r2, r3
 4636              		.loc 1 2328 83
 4637 009a FB68     		ldr	r3, [r7, #12]
 4638              		.loc 1 2328 102
 4639 009c 1B0E     		lsrs	r3, r3, #24
 4640              		.loc 1 2328 70
 4641 009e 1A43     		orrs	r2, r2, r3
2327:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 4642              		.loc 1 2327 32
 4643 00a0 3B68     		ldr	r3, [r7]
 4644 00a2 5A60     		str	r2, [r3, #4]
2329:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2330:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->SpeedClass = (uint8_t)(sd_status[2] & 0xFFU);
 4645              		.loc 1 2330 46
 4646 00a4 3B69     		ldr	r3, [r7, #16]
 4647              		.loc 1 2330 27
 4648 00a6 DAB2     		uxtb	r2, r3
 4649              		.loc 1 2330 25
 4650 00a8 3B68     		ldr	r3, [r7]
 4651 00aa 1A72     		strb	r2, [r3, #8]
2331:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2332:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->PerformanceMove = (uint8_t)((sd_status[2] & 0xFF00U) >> 8U);
 4652              		.loc 1 2332 52
 4653 00ac 3B69     		ldr	r3, [r7, #16]
 4654              		.loc 1 2332 67
 4655 00ae 1B0A     		lsrs	r3, r3, #8
 4656              		.loc 1 2332 32
 4657 00b0 DAB2     		uxtb	r2, r3
 4658              		.loc 1 2332 30
 4659 00b2 3B68     		ldr	r3, [r7]
 4660 00b4 5A72     		strb	r2, [r3, #9]
2333:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2334:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->AllocationUnitSize = (uint8_t)((sd_status[2] & 0xF00000U) >> 20U);
 4661              		.loc 1 2334 55
 4662 00b6 3B69     		ldr	r3, [r7, #16]
 4663              		.loc 1 2334 72
 4664 00b8 1B0D     		lsrs	r3, r3, #20
 4665              		.loc 1 2334 35
 4666 00ba DBB2     		uxtb	r3, r3
 4667 00bc 03F00F03 		and	r3, r3, #15
 4668 00c0 DAB2     		uxtb	r2, r3
 4669              		.loc 1 2334 33
 4670 00c2 3B68     		ldr	r3, [r7]
 4671 00c4 9A72     		strb	r2, [r3, #10]
2335:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2336:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseSize = (uint16_t)(((sd_status[2] & 0xFF000000U) >> 16U) | (sd_status[3] & 0xFFU))
 4672              		.loc 1 2336 48
 4673 00c6 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/ccRis3lg.s 			page 125


 4674              		.loc 1 2336 67
 4675 00c8 1B0C     		lsrs	r3, r3, #16
 4676              		.loc 1 2336 26
 4677 00ca 9BB2     		uxth	r3, r3
 4678 00cc 23F0FF03 		bic	r3, r3, #255
 4679 00d0 9AB2     		uxth	r2, r3
 4680              		.loc 1 2336 87
 4681 00d2 7B69     		ldr	r3, [r7, #20]
 4682              		.loc 1 2336 91
 4683 00d4 9BB2     		uxth	r3, r3
 4684 00d6 DBB2     		uxtb	r3, r3
 4685 00d8 9BB2     		uxth	r3, r3
 4686              		.loc 1 2336 26
 4687 00da 1343     		orrs	r3, r3, r2
 4688 00dc 9AB2     		uxth	r2, r3
 4689              		.loc 1 2336 24
 4690 00de 3B68     		ldr	r3, [r7]
 4691 00e0 9A81     		strh	r2, [r3, #12]	@ movhi
2337:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2338:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseTimeout = (uint8_t)((sd_status[3] & 0xFC00U) >> 10U);
 4692              		.loc 1 2338 49
 4693 00e2 7B69     		ldr	r3, [r7, #20]
 4694              		.loc 1 2338 64
 4695 00e4 9B0A     		lsrs	r3, r3, #10
 4696              		.loc 1 2338 29
 4697 00e6 DBB2     		uxtb	r3, r3
 4698 00e8 03F03F03 		and	r3, r3, #63
 4699 00ec DAB2     		uxtb	r2, r3
 4700              		.loc 1 2338 27
 4701 00ee 3B68     		ldr	r3, [r7]
 4702 00f0 9A73     		strb	r2, [r3, #14]
2339:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2340:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->EraseOffset = (uint8_t)((sd_status[3] & 0x0300U) >> 8U);
 4703              		.loc 1 2340 48
 4704 00f2 7B69     		ldr	r3, [r7, #20]
 4705              		.loc 1 2340 63
 4706 00f4 1B0A     		lsrs	r3, r3, #8
 4707              		.loc 1 2340 28
 4708 00f6 DBB2     		uxtb	r3, r3
 4709 00f8 03F00303 		and	r3, r3, #3
 4710 00fc DAB2     		uxtb	r2, r3
 4711              		.loc 1 2340 26
 4712 00fe 3B68     		ldr	r3, [r7]
 4713 0100 DA73     		strb	r2, [r3, #15]
2341:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2342:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsSpeedGrade = (uint8_t)((sd_status[3] & 0x00F0U) >> 4U);
 4714              		.loc 1 2342 50
 4715 0102 7B69     		ldr	r3, [r7, #20]
 4716              		.loc 1 2342 65
 4717 0104 1B09     		lsrs	r3, r3, #4
 4718              		.loc 1 2342 30
 4719 0106 DBB2     		uxtb	r3, r3
 4720 0108 03F00F03 		and	r3, r3, #15
 4721 010c DAB2     		uxtb	r2, r3
 4722              		.loc 1 2342 28
 4723 010e 3B68     		ldr	r3, [r7]
 4724 0110 1A74     		strb	r2, [r3, #16]
ARM GAS  /tmp/ccRis3lg.s 			page 126


2343:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->UhsAllocationUnitSize = (uint8_t)(sd_status[3] & 0x000FU) ;
 4725              		.loc 1 2343 57
 4726 0112 7B69     		ldr	r3, [r7, #20]
 4727              		.loc 1 2343 38
 4728 0114 DBB2     		uxtb	r3, r3
 4729 0116 03F00F03 		and	r3, r3, #15
 4730 011a DAB2     		uxtb	r2, r3
 4731              		.loc 1 2343 36
 4732 011c 3B68     		ldr	r3, [r7]
 4733 011e 5A74     		strb	r2, [r3, #17]
2344:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pStatus->VideoSpeedClass = (uint8_t)((sd_status[4] & 0xFF000000U) >> 24U);
 4734              		.loc 1 2344 52
 4735 0120 BB69     		ldr	r3, [r7, #24]
 4736              		.loc 1 2344 71
 4737 0122 1B0E     		lsrs	r3, r3, #24
 4738              		.loc 1 2344 32
 4739 0124 DAB2     		uxtb	r2, r3
 4740              		.loc 1 2344 30
 4741 0126 3B68     		ldr	r3, [r7]
 4742 0128 9A74     		strb	r2, [r3, #18]
 4743              	.L185:
2345:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2346:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2347:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2348:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 4744              		.loc 1 2348 16
 4745 012a 7B68     		ldr	r3, [r7, #4]
 4746 012c 1B68     		ldr	r3, [r3]
 4747 012e 4FF40071 		mov	r1, #512
 4748 0132 1846     		mov	r0, r3
 4749 0134 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 4750 0138 B864     		str	r0, [r7, #72]
2349:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 4751              		.loc 1 2349 6
 4752 013a BB6C     		ldr	r3, [r7, #72]
 4753 013c 002B     		cmp	r3, #0
 4754 013e 0DD0     		beq	.L186
2350:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2351:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2352:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 4755              		.loc 1 2352 5
 4756 0140 7B68     		ldr	r3, [r7, #4]
 4757 0142 1B68     		ldr	r3, [r3]
 4758 0144 084A     		ldr	r2, .L188
 4759 0146 9A63     		str	r2, [r3, #56]
2353:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = errorstate;
 4760              		.loc 1 2353 20
 4761 0148 7B68     		ldr	r3, [r7, #4]
 4762 014a BA6C     		ldr	r2, [r7, #72]
 4763 014c 9A63     		str	r2, [r3, #56]
2354:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4764              		.loc 1 2354 16
 4765 014e 7B68     		ldr	r3, [r7, #4]
 4766 0150 0122     		movs	r2, #1
 4767 0152 83F83420 		strb	r2, [r3, #52]
2355:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 4768              		.loc 1 2355 12
ARM GAS  /tmp/ccRis3lg.s 			page 127


 4769 0156 0123     		movs	r3, #1
 4770 0158 87F84F30 		strb	r3, [r7, #79]
 4771              	.L186:
2356:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2357:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2358:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
 4772              		.loc 1 2358 10
 4773 015c 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
2359:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4774              		.loc 1 2359 1
 4775 0160 1846     		mov	r0, r3
 4776 0162 5037     		adds	r7, r7, #80
 4777              	.LCFI124:
 4778              		.cfi_def_cfa_offset 8
 4779 0164 BD46     		mov	sp, r7
 4780              	.LCFI125:
 4781              		.cfi_def_cfa_register 13
 4782              		@ sp needed
 4783 0166 80BD     		pop	{r7, pc}
 4784              	.L189:
 4785              		.align	2
 4786              	.L188:
 4787 0168 FF0FE01F 		.word	534777855
 4788              		.cfi_endproc
 4789              	.LFE353:
 4791              		.section	.text.HAL_SD_GetCardInfo,"ax",%progbits
 4792              		.align	1
 4793              		.global	HAL_SD_GetCardInfo
 4794              		.syntax unified
 4795              		.thumb
 4796              		.thumb_func
 4797              		.fpu fpv5-d16
 4799              	HAL_SD_GetCardInfo:
 4800              	.LFB354:
2360:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2361:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2362:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the SD card info.
2363:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2364:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCardInfo: Pointer to the HAL_SD_CardInfoTypeDef structure that
2365:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         will contain the SD card status information
2366:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2367:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2368:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardInfo(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypeDef *pCardInfo)
2369:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 4801              		.loc 1 2369 1
 4802              		.cfi_startproc
 4803              		@ args = 0, pretend = 0, frame = 8
 4804              		@ frame_needed = 1, uses_anonymous_args = 0
 4805              		@ link register save eliminated.
 4806 0000 80B4     		push	{r7}
 4807              	.LCFI126:
 4808              		.cfi_def_cfa_offset 4
 4809              		.cfi_offset 7, -4
 4810 0002 83B0     		sub	sp, sp, #12
 4811              	.LCFI127:
 4812              		.cfi_def_cfa_offset 16
 4813 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccRis3lg.s 			page 128


 4814              	.LCFI128:
 4815              		.cfi_def_cfa_register 7
 4816 0006 7860     		str	r0, [r7, #4]
 4817 0008 3960     		str	r1, [r7]
2370:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
 4818              		.loc 1 2370 51
 4819 000a 7B68     		ldr	r3, [r7, #4]
 4820 000c DA6B     		ldr	r2, [r3, #60]
 4821              		.loc 1 2370 27
 4822 000e 3B68     		ldr	r3, [r7]
 4823 0010 1A60     		str	r2, [r3]
2371:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 4824              		.loc 1 2371 51
 4825 0012 7B68     		ldr	r3, [r7, #4]
 4826 0014 1A6C     		ldr	r2, [r3, #64]
 4827              		.loc 1 2371 27
 4828 0016 3B68     		ldr	r3, [r7]
 4829 0018 5A60     		str	r2, [r3, #4]
2372:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 4830              		.loc 1 2372 51
 4831 001a 7B68     		ldr	r3, [r7, #4]
 4832 001c 5A6C     		ldr	r2, [r3, #68]
 4833              		.loc 1 2372 27
 4834 001e 3B68     		ldr	r3, [r7]
 4835 0020 9A60     		str	r2, [r3, #8]
2373:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 4836              		.loc 1 2373 51
 4837 0022 7B68     		ldr	r3, [r7, #4]
 4838 0024 9A6C     		ldr	r2, [r3, #72]
 4839              		.loc 1 2373 27
 4840 0026 3B68     		ldr	r3, [r7]
 4841 0028 DA60     		str	r2, [r3, #12]
2374:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 4842              		.loc 1 2374 51
 4843 002a 7B68     		ldr	r3, [r7, #4]
 4844 002c DA6C     		ldr	r2, [r3, #76]
 4845              		.loc 1 2374 27
 4846 002e 3B68     		ldr	r3, [r7]
 4847 0030 1A61     		str	r2, [r3, #16]
2375:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 4848              		.loc 1 2375 51
 4849 0032 7B68     		ldr	r3, [r7, #4]
 4850 0034 1A6D     		ldr	r2, [r3, #80]
 4851              		.loc 1 2375 27
 4852 0036 3B68     		ldr	r3, [r7]
 4853 0038 5A61     		str	r2, [r3, #20]
2376:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 4854              		.loc 1 2376 51
 4855 003a 7B68     		ldr	r3, [r7, #4]
 4856 003c 5A6D     		ldr	r2, [r3, #84]
 4857              		.loc 1 2376 27
 4858 003e 3B68     		ldr	r3, [r7]
 4859 0040 9A61     		str	r2, [r3, #24]
2377:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 4860              		.loc 1 2377 51
 4861 0042 7B68     		ldr	r3, [r7, #4]
 4862 0044 9A6D     		ldr	r2, [r3, #88]
ARM GAS  /tmp/ccRis3lg.s 			page 129


 4863              		.loc 1 2377 27
 4864 0046 3B68     		ldr	r3, [r7]
 4865 0048 DA61     		str	r2, [r3, #28]
2378:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2379:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 4866              		.loc 1 2379 10
 4867 004a 0023     		movs	r3, #0
2380:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 4868              		.loc 1 2380 1
 4869 004c 1846     		mov	r0, r3
 4870 004e 0C37     		adds	r7, r7, #12
 4871              	.LCFI129:
 4872              		.cfi_def_cfa_offset 4
 4873 0050 BD46     		mov	sp, r7
 4874              	.LCFI130:
 4875              		.cfi_def_cfa_register 13
 4876              		@ sp needed
 4877 0052 5DF8047B 		ldr	r7, [sp], #4
 4878              	.LCFI131:
 4879              		.cfi_restore 7
 4880              		.cfi_def_cfa_offset 0
 4881 0056 7047     		bx	lr
 4882              		.cfi_endproc
 4883              	.LFE354:
 4885              		.section	.text.HAL_SD_ConfigWideBusOperation,"ax",%progbits
 4886              		.align	1
 4887              		.global	HAL_SD_ConfigWideBusOperation
 4888              		.syntax unified
 4889              		.thumb
 4890              		.thumb_func
 4891              		.fpu fpv5-d16
 4893              	HAL_SD_ConfigWideBusOperation:
 4894              	.LFB355:
2381:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2382:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2383:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by
2384:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         card.
2385:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2386:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode
2387:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This parameter can be one of the following values:
2388:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_8B: 8-bit data transfer
2389:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_4B: 4-bit data transfer
2390:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_BUS_WIDE_1B: 1-bit data transfer
2391:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2392:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2393:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigWideBusOperation(SD_HandleTypeDef *hsd, uint32_t WideMode)
2394:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 4895              		.loc 1 2394 1
 4896              		.cfi_startproc
 4897              		@ args = 0, pretend = 0, frame = 48
 4898              		@ frame_needed = 1, uses_anonymous_args = 0
 4899 0000 B0B5     		push	{r4, r5, r7, lr}
 4900              	.LCFI132:
 4901              		.cfi_def_cfa_offset 16
 4902              		.cfi_offset 4, -16
 4903              		.cfi_offset 5, -12
 4904              		.cfi_offset 7, -8
ARM GAS  /tmp/ccRis3lg.s 			page 130


 4905              		.cfi_offset 14, -4
 4906 0002 90B0     		sub	sp, sp, #64
 4907              	.LCFI133:
 4908              		.cfi_def_cfa_offset 80
 4909 0004 04AF     		add	r7, sp, #16
 4910              	.LCFI134:
 4911              		.cfi_def_cfa 7, 64
 4912 0006 7860     		str	r0, [r7, #4]
 4913 0008 3960     		str	r1, [r7]
2395:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_InitTypeDef Init;
2396:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2397:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t sdmmc_clk;
2398:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 4914              		.loc 1 2398 21
 4915 000a 0023     		movs	r3, #0
 4916 000c 87F82F30 		strb	r3, [r7, #47]
2399:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2400:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
2401:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_BUS_WIDE(WideMode));
2402:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2403:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2404:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 4917              		.loc 1 2404 14
 4918 0010 7B68     		ldr	r3, [r7, #4]
 4919 0012 0322     		movs	r2, #3
 4920 0014 83F83420 		strb	r2, [r3, #52]
2405:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2406:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
 4921              		.loc 1 2406 18
 4922 0018 7B68     		ldr	r3, [r7, #4]
 4923 001a DB6B     		ldr	r3, [r3, #60]
 4924              		.loc 1 2406 6
 4925 001c 032B     		cmp	r3, #3
 4926 001e 2ED0     		beq	.L193
2407:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2408:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (WideMode == SDMMC_BUS_WIDE_8B)
 4927              		.loc 1 2408 8
 4928 0020 3B68     		ldr	r3, [r7]
 4929 0022 B3F5004F 		cmp	r3, #32768
 4930 0026 06D1     		bne	.L194
2409:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2410:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4931              		.loc 1 2410 22
 4932 0028 7B68     		ldr	r3, [r7, #4]
 4933 002a 9B6B     		ldr	r3, [r3, #56]
 4934 002c 43F08052 		orr	r2, r3, #268435456
 4935 0030 7B68     		ldr	r3, [r7, #4]
 4936 0032 9A63     		str	r2, [r3, #56]
 4937 0034 29E0     		b	.L195
 4938              	.L194:
2411:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2412:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (WideMode == SDMMC_BUS_WIDE_4B)
 4939              		.loc 1 2412 13
 4940 0036 3B68     		ldr	r3, [r7]
 4941 0038 B3F5804F 		cmp	r3, #16384
 4942 003c 0AD1     		bne	.L196
2413:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /tmp/ccRis3lg.s 			page 131


2414:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
 4943              		.loc 1 2414 20
 4944 003e 7868     		ldr	r0, [r7, #4]
 4945 0040 FFF7FEFF 		bl	SD_WideBus_Enable
 4946 0044 B862     		str	r0, [r7, #40]
2415:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2416:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 4947              		.loc 1 2416 22
 4948 0046 7B68     		ldr	r3, [r7, #4]
 4949 0048 9A6B     		ldr	r2, [r3, #56]
 4950 004a BB6A     		ldr	r3, [r7, #40]
 4951 004c 1A43     		orrs	r2, r2, r3
 4952 004e 7B68     		ldr	r3, [r7, #4]
 4953 0050 9A63     		str	r2, [r3, #56]
 4954 0052 1AE0     		b	.L195
 4955              	.L196:
2417:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2418:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (WideMode == SDMMC_BUS_WIDE_1B)
 4956              		.loc 1 2418 13
 4957 0054 3B68     		ldr	r3, [r7]
 4958 0056 002B     		cmp	r3, #0
 4959 0058 0AD1     		bne	.L197
2419:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2420:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
 4960              		.loc 1 2420 20
 4961 005a 7868     		ldr	r0, [r7, #4]
 4962 005c FFF7FEFF 		bl	SD_WideBus_Disable
 4963 0060 B862     		str	r0, [r7, #40]
2421:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2422:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 4964              		.loc 1 2422 22
 4965 0062 7B68     		ldr	r3, [r7, #4]
 4966 0064 9A6B     		ldr	r2, [r3, #56]
 4967 0066 BB6A     		ldr	r3, [r7, #40]
 4968 0068 1A43     		orrs	r2, r2, r3
 4969 006a 7B68     		ldr	r3, [r7, #4]
 4970 006c 9A63     		str	r2, [r3, #56]
 4971 006e 0CE0     		b	.L195
 4972              	.L197:
2423:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2424:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2425:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2426:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* WideMode is not a valid argument*/
2427:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 4973              		.loc 1 2427 22
 4974 0070 7B68     		ldr	r3, [r7, #4]
 4975 0072 9B6B     		ldr	r3, [r3, #56]
 4976 0074 43F00062 		orr	r2, r3, #134217728
 4977 0078 7B68     		ldr	r3, [r7, #4]
 4978 007a 9A63     		str	r2, [r3, #56]
 4979 007c 05E0     		b	.L195
 4980              	.L193:
2428:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2429:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2430:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2431:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2432:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* MMC Card does not support this feature */
ARM GAS  /tmp/ccRis3lg.s 			page 132


2433:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4981              		.loc 1 2433 20
 4982 007e 7B68     		ldr	r3, [r7, #4]
 4983 0080 9B6B     		ldr	r3, [r3, #56]
 4984 0082 43F08052 		orr	r2, r3, #268435456
 4985 0086 7B68     		ldr	r3, [r7, #4]
 4986 0088 9A63     		str	r2, [r3, #56]
 4987              	.L195:
2434:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2435:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2436:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
 4988              		.loc 1 2436 10
 4989 008a 7B68     		ldr	r3, [r7, #4]
 4990 008c 9B6B     		ldr	r3, [r3, #56]
 4991              		.loc 1 2436 6
 4992 008e 002B     		cmp	r3, #0
 4993 0090 07D0     		beq	.L198
2437:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2438:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2439:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 4994              		.loc 1 2439 5
 4995 0092 7B68     		ldr	r3, [r7, #4]
 4996 0094 1B68     		ldr	r3, [r3]
 4997 0096 604A     		ldr	r2, .L213
 4998 0098 9A63     		str	r2, [r3, #56]
2440:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 4999              		.loc 1 2440 12
 5000 009a 0123     		movs	r3, #1
 5001 009c 87F82F30 		strb	r3, [r7, #47]
 5002 00a0 97E0     		b	.L199
 5003              	.L198:
2441:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2442:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2443:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2444:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_clk     = HAL_RCCEx_GetPeriphCLKFreq(RCC_PERIPHCLK_SDMMC);
 5004              		.loc 1 2444 21
 5005 00a2 4FF48030 		mov	r0, #65536
 5006 00a6 FFF7FEFF 		bl	HAL_RCCEx_GetPeriphCLKFreq
 5007 00aa 7862     		str	r0, [r7, #36]
2445:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (sdmmc_clk != 0U)
 5008              		.loc 1 2445 8
 5009 00ac 7B6A     		ldr	r3, [r7, #36]
 5010 00ae 002B     		cmp	r3, #0
 5011 00b0 00F08680 		beq	.L200
2446:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2447:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Configure the SDMMC peripheral */
2448:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockEdge           = hsd->Init.ClockEdge;
 5012              		.loc 1 2448 43
 5013 00b4 7B68     		ldr	r3, [r7, #4]
 5014 00b6 5B68     		ldr	r3, [r3, #4]
 5015              		.loc 1 2448 32
 5016 00b8 FB60     		str	r3, [r7, #12]
2449:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5017              		.loc 1 2449 43
 5018 00ba 7B68     		ldr	r3, [r7, #4]
 5019 00bc 9B68     		ldr	r3, [r3, #8]
 5020              		.loc 1 2449 32
ARM GAS  /tmp/ccRis3lg.s 			page 133


 5021 00be 3B61     		str	r3, [r7, #16]
2450:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.BusWide             = WideMode;
 5022              		.loc 1 2450 32
 5023 00c0 3B68     		ldr	r3, [r7]
 5024 00c2 7B61     		str	r3, [r7, #20]
2451:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5025              		.loc 1 2451 43
 5026 00c4 7B68     		ldr	r3, [r7, #4]
 5027 00c6 1B69     		ldr	r3, [r3, #16]
 5028              		.loc 1 2451 32
 5029 00c8 BB61     		str	r3, [r7, #24]
2452:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2453:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Check if user Clock div < Normal speed 25Mhz, no change in Clockdiv */
2454:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (hsd->Init.ClockDiv >= (sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ)))
 5030              		.loc 1 2454 20
 5031 00ca 7B68     		ldr	r3, [r7, #4]
 5032 00cc 5A69     		ldr	r2, [r3, #20]
 5033              		.loc 1 2454 44
 5034 00ce 7B6A     		ldr	r3, [r7, #36]
 5035 00d0 5249     		ldr	r1, .L213+4
 5036 00d2 A1FB0313 		umull	r1, r3, r1, r3
 5037 00d6 1B0E     		lsrs	r3, r3, #24
 5038              		.loc 1 2454 10
 5039 00d8 9A42     		cmp	r2, r3
 5040 00da 03D3     		bcc	.L201
2455:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2456:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
 5041              		.loc 1 2456 34
 5042 00dc 7B68     		ldr	r3, [r7, #4]
 5043 00de 5B69     		ldr	r3, [r3, #20]
 5044              		.loc 1 2456 23
 5045 00e0 FB61     		str	r3, [r7, #28]
 5046 00e2 5AE0     		b	.L202
 5047              	.L201:
2457:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2458:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
 5048              		.loc 1 2458 27
 5049 00e4 7B68     		ldr	r3, [r7, #4]
 5050 00e6 DB6D     		ldr	r3, [r3, #92]
 5051              		.loc 1 2458 15
 5052 00e8 B3F5007F 		cmp	r3, #512
 5053 00ec 03D1     		bne	.L203
2459:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2460:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* UltraHigh speed SD card,user Clock div */
2461:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         Init.ClockDiv = hsd->Init.ClockDiv;
 5054              		.loc 1 2461 34
 5055 00ee 7B68     		ldr	r3, [r7, #4]
 5056 00f0 5B69     		ldr	r3, [r3, #20]
 5057              		.loc 1 2461 23
 5058 00f2 FB61     		str	r3, [r7, #28]
 5059 00f4 51E0     		b	.L202
 5060              	.L203:
2462:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2463:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else if (hsd->SdCard.CardSpeed == CARD_HIGH_SPEED)
 5061              		.loc 1 2463 27
 5062 00f6 7B68     		ldr	r3, [r7, #4]
 5063 00f8 DB6D     		ldr	r3, [r3, #92]
ARM GAS  /tmp/ccRis3lg.s 			page 134


 5064              		.loc 1 2463 15
 5065 00fa B3F5807F 		cmp	r3, #256
 5066 00fe 26D1     		bne	.L204
2464:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2465:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* High speed SD card, Max Frequency = 50Mhz */
2466:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
 5067              		.loc 1 2466 22
 5068 0100 7B68     		ldr	r3, [r7, #4]
 5069 0102 5B69     		ldr	r3, [r3, #20]
 5070              		.loc 1 2466 12
 5071 0104 002B     		cmp	r3, #0
 5072 0106 0ED1     		bne	.L205
2467:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2468:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (sdmmc_clk > SD_HIGH_SPEED_FREQ)
 5073              		.loc 1 2468 14
 5074 0108 7B6A     		ldr	r3, [r7, #36]
 5075 010a 454A     		ldr	r2, .L213+8
 5076 010c 9342     		cmp	r3, r2
 5077 010e 06D9     		bls	.L206
2469:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2470:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
 5078              		.loc 1 2470 39
 5079 0110 7B6A     		ldr	r3, [r7, #36]
 5080 0112 424A     		ldr	r2, .L213+4
 5081 0114 A2FB0323 		umull	r2, r3, r2, r3
 5082 0118 5B0E     		lsrs	r3, r3, #25
 5083              		.loc 1 2470 27
 5084 011a FB61     		str	r3, [r7, #28]
 5085 011c 3DE0     		b	.L202
 5086              	.L206:
2471:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2472:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2473:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2474:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
 5087              		.loc 1 2474 38
 5088 011e 7B68     		ldr	r3, [r7, #4]
 5089 0120 5B69     		ldr	r3, [r3, #20]
 5090              		.loc 1 2474 27
 5091 0122 FB61     		str	r3, [r7, #28]
 5092 0124 39E0     		b	.L202
 5093              	.L205:
2475:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2476:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2477:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2478:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2479:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((sdmmc_clk/(2U * hsd->Init.ClockDiv)) > SD_HIGH_SPEED_FREQ)
 5094              		.loc 1 2479 41
 5095 0126 7B68     		ldr	r3, [r7, #4]
 5096 0128 5B69     		ldr	r3, [r3, #20]
 5097              		.loc 1 2479 30
 5098 012a 5B00     		lsls	r3, r3, #1
 5099              		.loc 1 2479 25
 5100 012c 7A6A     		ldr	r2, [r7, #36]
 5101 012e B2FBF3F3 		udiv	r3, r2, r3
 5102              		.loc 1 2479 14
 5103 0132 3B4A     		ldr	r2, .L213+8
 5104 0134 9342     		cmp	r3, r2
ARM GAS  /tmp/ccRis3lg.s 			page 135


 5105 0136 06D9     		bls	.L207
2480:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2481:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_HIGH_SPEED_FREQ);
 5106              		.loc 1 2481 39
 5107 0138 7B6A     		ldr	r3, [r7, #36]
 5108 013a 384A     		ldr	r2, .L213+4
 5109 013c A2FB0323 		umull	r2, r3, r2, r3
 5110 0140 5B0E     		lsrs	r3, r3, #25
 5111              		.loc 1 2481 27
 5112 0142 FB61     		str	r3, [r7, #28]
 5113 0144 29E0     		b	.L202
 5114              	.L207:
2482:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2483:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2484:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2485:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
 5115              		.loc 1 2485 38
 5116 0146 7B68     		ldr	r3, [r7, #4]
 5117 0148 5B69     		ldr	r3, [r3, #20]
 5118              		.loc 1 2485 27
 5119 014a FB61     		str	r3, [r7, #28]
 5120 014c 25E0     		b	.L202
 5121              	.L204:
2486:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2487:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2488:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2489:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2490:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2491:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* No High speed SD card, Max Frequency = 25Mhz */
2492:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (hsd->Init.ClockDiv == 0U)
 5122              		.loc 1 2492 22
 5123 014e 7B68     		ldr	r3, [r7, #4]
 5124 0150 5B69     		ldr	r3, [r3, #20]
 5125              		.loc 1 2492 12
 5126 0152 002B     		cmp	r3, #0
 5127 0154 0ED1     		bne	.L208
2493:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2494:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (sdmmc_clk > SD_NORMAL_SPEED_FREQ)
 5128              		.loc 1 2494 14
 5129 0156 7B6A     		ldr	r3, [r7, #36]
 5130 0158 324A     		ldr	r2, .L213+12
 5131 015a 9342     		cmp	r3, r2
 5132 015c 06D9     		bls	.L209
2495:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2496:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
 5133              		.loc 1 2496 39
 5134 015e 7B6A     		ldr	r3, [r7, #36]
 5135 0160 2E4A     		ldr	r2, .L213+4
 5136 0162 A2FB0323 		umull	r2, r3, r2, r3
 5137 0166 1B0E     		lsrs	r3, r3, #24
 5138              		.loc 1 2496 27
 5139 0168 FB61     		str	r3, [r7, #28]
 5140 016a 16E0     		b	.L202
 5141              	.L209:
2497:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2498:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2499:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
ARM GAS  /tmp/ccRis3lg.s 			page 136


2500:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
 5142              		.loc 1 2500 38
 5143 016c 7B68     		ldr	r3, [r7, #4]
 5144 016e 5B69     		ldr	r3, [r3, #20]
 5145              		.loc 1 2500 27
 5146 0170 FB61     		str	r3, [r7, #28]
 5147 0172 12E0     		b	.L202
 5148              	.L208:
2501:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2502:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2503:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2504:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2505:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((sdmmc_clk/(2U * hsd->Init.ClockDiv)) > SD_NORMAL_SPEED_FREQ)
 5149              		.loc 1 2505 41
 5150 0174 7B68     		ldr	r3, [r7, #4]
 5151 0176 5B69     		ldr	r3, [r3, #20]
 5152              		.loc 1 2505 30
 5153 0178 5B00     		lsls	r3, r3, #1
 5154              		.loc 1 2505 25
 5155 017a 7A6A     		ldr	r2, [r7, #36]
 5156 017c B2FBF3F3 		udiv	r3, r2, r3
 5157              		.loc 1 2505 14
 5158 0180 284A     		ldr	r2, .L213+12
 5159 0182 9342     		cmp	r3, r2
 5160 0184 06D9     		bls	.L210
2506:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2507:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = sdmmc_clk / (2U * SD_NORMAL_SPEED_FREQ);
 5161              		.loc 1 2507 39
 5162 0186 7B6A     		ldr	r3, [r7, #36]
 5163 0188 244A     		ldr	r2, .L213+4
 5164 018a A2FB0323 		umull	r2, r3, r2, r3
 5165 018e 1B0E     		lsrs	r3, r3, #24
 5166              		.loc 1 2507 27
 5167 0190 FB61     		str	r3, [r7, #28]
 5168 0192 02E0     		b	.L202
 5169              	.L210:
2508:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2509:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           else
2510:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2511:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             Init.ClockDiv = hsd->Init.ClockDiv;
 5170              		.loc 1 2511 38
 5171 0194 7B68     		ldr	r3, [r7, #4]
 5172 0196 5B69     		ldr	r3, [r3, #20]
 5173              		.loc 1 2511 27
 5174 0198 FB61     		str	r3, [r7, #28]
 5175              	.L202:
2512:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2513:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2514:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2515:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2516:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2517:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       Init.TranceiverPresent = hsd->Init.TranceiverPresent;
 5176              		.loc 1 2517 41
 5177 019a 7B68     		ldr	r3, [r7, #4]
 5178 019c 9B69     		ldr	r3, [r3, #24]
 5179              		.loc 1 2517 30
 5180 019e 3B62     		str	r3, [r7, #32]
ARM GAS  /tmp/ccRis3lg.s 			page 137


2518:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2519:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2520:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_Init(hsd->Instance, Init);
 5181              		.loc 1 2520 13
 5182 01a0 7B68     		ldr	r3, [r7, #4]
 5183 01a2 1D68     		ldr	r5, [r3]
 5184 01a4 6C46     		mov	r4, sp
 5185 01a6 07F11803 		add	r3, r7, #24
 5186 01aa 93E80700 		ldm	r3, {r0, r1, r2}
 5187 01ae 84E80700 		stm	r4, {r0, r1, r2}
 5188 01b2 07F10C03 		add	r3, r7, #12
 5189 01b6 0ECB     		ldm	r3, {r1, r2, r3}
 5190 01b8 2846     		mov	r0, r5
 5191 01ba FFF7FEFF 		bl	SDMMC_Init
 5192 01be 08E0     		b	.L199
 5193              	.L200:
2521:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2522:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2523:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2524:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= SDMMC_ERROR_INVALID_PARAMETER;
 5194              		.loc 1 2524 22
 5195 01c0 7B68     		ldr	r3, [r7, #4]
 5196 01c2 9B6B     		ldr	r3, [r3, #56]
 5197 01c4 43F00062 		orr	r2, r3, #134217728
 5198 01c8 7B68     		ldr	r3, [r7, #4]
 5199 01ca 9A63     		str	r2, [r3, #56]
2525:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
 5200              		.loc 1 2525 14
 5201 01cc 0123     		movs	r3, #1
 5202 01ce 87F82F30 		strb	r3, [r7, #47]
 5203              	.L199:
2526:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2527:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2528:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2529:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2530:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 5204              		.loc 1 2530 16
 5205 01d2 7B68     		ldr	r3, [r7, #4]
 5206 01d4 1B68     		ldr	r3, [r3]
 5207 01d6 4FF40071 		mov	r1, #512
 5208 01da 1846     		mov	r0, r3
 5209 01dc FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5210 01e0 B862     		str	r0, [r7, #40]
2531:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5211              		.loc 1 2531 6
 5212 01e2 BB6A     		ldr	r3, [r7, #40]
 5213 01e4 002B     		cmp	r3, #0
 5214 01e6 0CD0     		beq	.L211
2532:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2533:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2534:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 5215              		.loc 1 2534 5
 5216 01e8 7B68     		ldr	r3, [r7, #4]
 5217 01ea 1B68     		ldr	r3, [r3]
 5218 01ec 0A4A     		ldr	r2, .L213
 5219 01ee 9A63     		str	r2, [r3, #56]
2535:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
ARM GAS  /tmp/ccRis3lg.s 			page 138


 5220              		.loc 1 2535 20
 5221 01f0 7B68     		ldr	r3, [r7, #4]
 5222 01f2 9A6B     		ldr	r2, [r3, #56]
 5223 01f4 BB6A     		ldr	r3, [r7, #40]
 5224 01f6 1A43     		orrs	r2, r2, r3
 5225 01f8 7B68     		ldr	r3, [r7, #4]
 5226 01fa 9A63     		str	r2, [r3, #56]
2536:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5227              		.loc 1 2536 12
 5228 01fc 0123     		movs	r3, #1
 5229 01fe 87F82F30 		strb	r3, [r7, #47]
 5230              	.L211:
2537:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2538:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2539:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2540:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5231              		.loc 1 2540 14
 5232 0202 7B68     		ldr	r3, [r7, #4]
 5233 0204 0122     		movs	r2, #1
 5234 0206 83F83420 		strb	r2, [r3, #52]
2541:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2542:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
 5235              		.loc 1 2542 10
 5236 020a 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
2543:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5237              		.loc 1 2543 1
 5238 020e 1846     		mov	r0, r3
 5239 0210 3037     		adds	r7, r7, #48
 5240              	.LCFI135:
 5241              		.cfi_def_cfa_offset 16
 5242 0212 BD46     		mov	sp, r7
 5243              	.LCFI136:
 5244              		.cfi_def_cfa_register 13
 5245              		@ sp needed
 5246 0214 B0BD     		pop	{r4, r5, r7, pc}
 5247              	.L214:
 5248 0216 00BF     		.align	2
 5249              	.L213:
 5250 0218 FF0FE01F 		.word	534777855
 5251 021c 893BE655 		.word	1441151881
 5252 0220 80F0FA02 		.word	50000000
 5253 0224 40787D01 		.word	25000000
 5254              		.cfi_endproc
 5255              	.LFE355:
 5257              		.section	.text.HAL_SD_ConfigSpeedBusOperation,"ax",%progbits
 5258              		.align	1
 5259              		.global	HAL_SD_ConfigSpeedBusOperation
 5260              		.syntax unified
 5261              		.thumb
 5262              		.thumb_func
 5263              		.fpu fpv5-d16
 5265              	HAL_SD_ConfigSpeedBusOperation:
 5266              	.LFB356:
2544:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2545:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2546:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Configure the speed bus mode
2547:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to the SD handle
ARM GAS  /tmp/ccRis3lg.s 			page 139


2548:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  SpeedMode: Specifies the SD card speed bus mode
2549:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *          This parameter can be one of the following values:
2550:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_AUTO: Max speed mode supported by the card
2551:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_DEFAULT: Default Speed/SDR12 mode
2552:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_HIGH: High Speed/SDR25 mode
2553:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *            @arg SDMMC_SPEED_MODE_ULTRA: Ultra high speed mode
2554:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2555:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2556:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2557:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigSpeedBusOperation(SD_HandleTypeDef *hsd, uint32_t SpeedMode)
2558:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 5267              		.loc 1 2558 1
 5268              		.cfi_startproc
 5269              		@ args = 0, pretend = 0, frame = 24
 5270              		@ frame_needed = 1, uses_anonymous_args = 0
 5271 0000 80B5     		push	{r7, lr}
 5272              	.LCFI137:
 5273              		.cfi_def_cfa_offset 8
 5274              		.cfi_offset 7, -8
 5275              		.cfi_offset 14, -4
 5276 0002 86B0     		sub	sp, sp, #24
 5277              	.LCFI138:
 5278              		.cfi_def_cfa_offset 32
 5279 0004 00AF     		add	r7, sp, #0
 5280              	.LCFI139:
 5281              		.cfi_def_cfa_register 7
 5282 0006 7860     		str	r0, [r7, #4]
 5283 0008 3960     		str	r1, [r7]
2559:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart;
2560:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2561:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
 5284              		.loc 1 2561 21
 5285 000a 0023     		movs	r3, #0
 5286 000c FB75     		strb	r3, [r7, #23]
2562:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2563:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the parameters */
2564:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   assert_param(IS_SDMMC_SPEED_MODE(SpeedMode));
2565:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2566:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 5287              		.loc 1 2566 14
 5288 000e 7B68     		ldr	r3, [r7, #4]
 5289 0010 0322     		movs	r2, #3
 5290 0012 83F83420 		strb	r2, [r3, #52]
2567:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2568:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
2569:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 5291              		.loc 1 2569 16
 5292 0016 7B68     		ldr	r3, [r7, #4]
 5293 0018 9B69     		ldr	r3, [r3, #24]
 5294              		.loc 1 2569 6
 5295 001a 022B     		cmp	r3, #2
 5296 001c 40F0D280 		bne	.L216
 5297 0020 3B68     		ldr	r3, [r7]
 5298 0022 042B     		cmp	r3, #4
 5299 0024 00F2C580 		bhi	.L217
 5300 0028 01A2     		adr	r2, .L219
 5301 002a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
ARM GAS  /tmp/ccRis3lg.s 			page 140


 5302 002e 00BF     		.p2align 2
 5303              	.L219:
 5304 0030 45000000 		.word	.L223+1
 5305 0034 79020000 		.word	.L256+1
 5306 0038 65010000 		.word	.L221+1
 5307 003c C1000000 		.word	.L220+1
 5308 0040 13010000 		.word	.L218+1
 5309              		.p2align 1
 5310              	.L223:
2570:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2571:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (SpeedMode)
2572:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2573:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2574:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2575:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5311              		.loc 1 2575 25
 5312 0044 7B68     		ldr	r3, [r7, #4]
 5313 0046 DB6D     		ldr	r3, [r3, #92]
 5314              		.loc 1 2575 12
 5315 0048 B3F5007F 		cmp	r3, #512
 5316 004c 03D0     		beq	.L224
2576:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5317              		.loc 1 2576 25 discriminator 1
 5318 004e 7B68     		ldr	r3, [r7, #4]
 5319 0050 DB6B     		ldr	r3, [r3, #60]
2575:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5320              		.loc 1 2575 63 discriminator 1
 5321 0052 012B     		cmp	r3, #1
 5322 0054 1CD1     		bne	.L225
 5323              	.L224:
2577:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2578:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |= SDMMC_CLKCR_BUSSPEED;
 5324              		.loc 1 2578 14
 5325 0056 7B68     		ldr	r3, [r7, #4]
 5326 0058 1B68     		ldr	r3, [r3]
 5327              		.loc 1 2578 32
 5328 005a 5A68     		ldr	r2, [r3, #4]
 5329              		.loc 1 2578 14
 5330 005c 7B68     		ldr	r3, [r7, #4]
 5331 005e 1B68     		ldr	r3, [r3]
 5332              		.loc 1 2578 32
 5333 0060 42F40022 		orr	r2, r2, #524288
 5334 0064 5A60     		str	r2, [r3, #4]
2579:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable Ultra High Speed */
2580:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5335              		.loc 1 2580 15
 5336 0066 7868     		ldr	r0, [r7, #4]
 5337 0068 FFF7FEFF 		bl	SD_UltraHighSpeed
 5338 006c 0346     		mov	r3, r0
 5339              		.loc 1 2580 14
 5340 006e 002B     		cmp	r3, #0
 5341 0070 24D0     		beq	.L257
2581:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2582:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5342              		.loc 1 2582 17
 5343 0072 7868     		ldr	r0, [r7, #4]
 5344 0074 FFF7FEFF 		bl	SD_HighSpeed
ARM GAS  /tmp/ccRis3lg.s 			page 141


 5345 0078 0346     		mov	r3, r0
 5346              		.loc 1 2582 16
 5347 007a 002B     		cmp	r3, #0
 5348 007c 1ED0     		beq	.L257
2583:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             {
2584:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5349              		.loc 1 2584 30
 5350 007e 7B68     		ldr	r3, [r7, #4]
 5351 0080 9B6B     		ldr	r3, [r3, #56]
 5352 0082 43F08052 		orr	r2, r3, #268435456
 5353 0086 7B68     		ldr	r3, [r7, #4]
 5354 0088 9A63     		str	r2, [r3, #56]
2585:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               status = HAL_ERROR;
 5355              		.loc 1 2585 22
 5356 008a 0123     		movs	r3, #1
 5357 008c FB75     		strb	r3, [r7, #23]
2580:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5358              		.loc 1 2580 14
 5359 008e 15E0     		b	.L257
 5360              	.L225:
2586:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             }
2587:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2588:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2589:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else if (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED)
 5361              		.loc 1 2589 29
 5362 0090 7B68     		ldr	r3, [r7, #4]
 5363 0092 DB6D     		ldr	r3, [r3, #92]
 5364              		.loc 1 2589 17
 5365 0094 B3F5807F 		cmp	r3, #256
 5366 0098 40F0F080 		bne	.L258
2590:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2591:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2592:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5367              		.loc 1 2592 15
 5368 009c 7868     		ldr	r0, [r7, #4]
 5369 009e FFF7FEFF 		bl	SD_HighSpeed
 5370 00a2 0346     		mov	r3, r0
 5371              		.loc 1 2592 14
 5372 00a4 002B     		cmp	r3, #0
 5373 00a6 00F0E980 		beq	.L258
2593:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2594:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5374              		.loc 1 2594 28
 5375 00aa 7B68     		ldr	r3, [r7, #4]
 5376 00ac 9B6B     		ldr	r3, [r3, #56]
 5377 00ae 43F08052 		orr	r2, r3, #268435456
 5378 00b2 7B68     		ldr	r3, [r7, #4]
 5379 00b4 9A63     		str	r2, [r3, #56]
2595:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
 5380              		.loc 1 2595 20
 5381 00b6 0123     		movs	r3, #1
 5382 00b8 FB75     		strb	r3, [r7, #23]
2596:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2597:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2598:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2599:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2600:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
ARM GAS  /tmp/ccRis3lg.s 			page 142


2601:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2602:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
 5383              		.loc 1 2602 9
 5384 00ba DFE0     		b	.L258
 5385              	.L257:
2580:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5386              		.loc 1 2580 14
 5387 00bc 00BF     		nop
 5388              		.loc 1 2602 9
 5389 00be DDE0     		b	.L258
 5390              	.L220:
2603:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2604:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA:
2605:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2606:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5391              		.loc 1 2606 25
 5392 00c0 7B68     		ldr	r3, [r7, #4]
 5393 00c2 DB6D     		ldr	r3, [r3, #92]
 5394              		.loc 1 2606 12
 5395 00c4 B3F5007F 		cmp	r3, #512
 5396 00c8 03D0     		beq	.L229
2607:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5397              		.loc 1 2607 25 discriminator 1
 5398 00ca 7B68     		ldr	r3, [r7, #4]
 5399 00cc DB6B     		ldr	r3, [r3, #60]
2606:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5400              		.loc 1 2606 63 discriminator 1
 5401 00ce 012B     		cmp	r3, #1
 5402 00d0 16D1     		bne	.L230
 5403              	.L229:
2608:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2609:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable UltraHigh Speed */
2610:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_UltraHighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5404              		.loc 1 2610 15
 5405 00d2 7868     		ldr	r0, [r7, #4]
 5406 00d4 FFF7FEFF 		bl	SD_UltraHighSpeed
 5407 00d8 0346     		mov	r3, r0
 5408              		.loc 1 2610 14
 5409 00da 002B     		cmp	r3, #0
 5410 00dc 07D0     		beq	.L231
2611:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2612:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5411              		.loc 1 2612 28
 5412 00de 7B68     		ldr	r3, [r7, #4]
 5413 00e0 9B6B     		ldr	r3, [r3, #56]
 5414 00e2 43F08052 		orr	r2, r3, #268435456
 5415 00e6 7B68     		ldr	r3, [r7, #4]
 5416 00e8 9A63     		str	r2, [r3, #56]
2613:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
 5417              		.loc 1 2613 20
 5418 00ea 0123     		movs	r3, #1
 5419 00ec FB75     		strb	r3, [r7, #23]
 5420              	.L231:
2614:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2615:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |= SDMMC_CLKCR_BUSSPEED;
 5421              		.loc 1 2615 14
 5422 00ee 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRis3lg.s 			page 143


 5423 00f0 1B68     		ldr	r3, [r3]
 5424              		.loc 1 2615 32
 5425 00f2 5A68     		ldr	r2, [r3, #4]
 5426              		.loc 1 2615 14
 5427 00f4 7B68     		ldr	r3, [r7, #4]
 5428 00f6 1B68     		ldr	r3, [r3]
 5429              		.loc 1 2615 32
 5430 00f8 42F40022 		orr	r2, r2, #524288
 5431 00fc 5A60     		str	r2, [r3, #4]
2616:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2617:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2618:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2619:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2620:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2621:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2622:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
 5432              		.loc 1 2622 9
 5433 00fe C2E0     		b	.L241
 5434              	.L230:
2619:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 5435              		.loc 1 2619 26
 5436 0100 7B68     		ldr	r3, [r7, #4]
 5437 0102 9B6B     		ldr	r3, [r3, #56]
 5438 0104 43F08052 		orr	r2, r3, #268435456
 5439 0108 7B68     		ldr	r3, [r7, #4]
 5440 010a 9A63     		str	r2, [r3, #56]
2620:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 5441              		.loc 1 2620 18
 5442 010c 0123     		movs	r3, #1
 5443 010e FB75     		strb	r3, [r7, #23]
 5444              		.loc 1 2622 9
 5445 0110 B9E0     		b	.L241
 5446              	.L218:
2623:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2624:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DDR:
2625:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2626:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5447              		.loc 1 2626 25
 5448 0112 7B68     		ldr	r3, [r7, #4]
 5449 0114 DB6D     		ldr	r3, [r3, #92]
 5450              		.loc 1 2626 12
 5451 0116 B3F5007F 		cmp	r3, #512
 5452 011a 03D0     		beq	.L233
2627:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5453              		.loc 1 2627 25 discriminator 1
 5454 011c 7B68     		ldr	r3, [r7, #4]
 5455 011e DB6B     		ldr	r3, [r3, #60]
2626:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5456              		.loc 1 2626 63 discriminator 1
 5457 0120 012B     		cmp	r3, #1
 5458 0122 16D1     		bne	.L234
 5459              	.L233:
2628:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2629:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable DDR Mode*/
2630:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_DDR_Mode(hsd) != HAL_SD_ERROR_NONE)
 5460              		.loc 1 2630 15
 5461 0124 7868     		ldr	r0, [r7, #4]
ARM GAS  /tmp/ccRis3lg.s 			page 144


 5462 0126 FFF7FEFF 		bl	SD_DDR_Mode
 5463 012a 0346     		mov	r3, r0
 5464              		.loc 1 2630 14
 5465 012c 002B     		cmp	r3, #0
 5466 012e 07D0     		beq	.L235
2631:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2632:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5467              		.loc 1 2632 28
 5468 0130 7B68     		ldr	r3, [r7, #4]
 5469 0132 9B6B     		ldr	r3, [r3, #56]
 5470 0134 43F08052 		orr	r2, r3, #268435456
 5471 0138 7B68     		ldr	r3, [r7, #4]
 5472 013a 9A63     		str	r2, [r3, #56]
2633:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
 5473              		.loc 1 2633 20
 5474 013c 0123     		movs	r3, #1
 5475 013e FB75     		strb	r3, [r7, #23]
 5476              	.L235:
2634:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2635:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->CLKCR |=  SDMMC_CLKCR_BUSSPEED | SDMMC_CLKCR_DDR;
 5477              		.loc 1 2635 14
 5478 0140 7B68     		ldr	r3, [r7, #4]
 5479 0142 1B68     		ldr	r3, [r3]
 5480              		.loc 1 2635 32
 5481 0144 5A68     		ldr	r2, [r3, #4]
 5482              		.loc 1 2635 14
 5483 0146 7B68     		ldr	r3, [r7, #4]
 5484 0148 1B68     		ldr	r3, [r3]
 5485              		.loc 1 2635 32
 5486 014a 42F44022 		orr	r2, r2, #786432
 5487 014e 5A60     		str	r2, [r3, #4]
2636:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2637:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2638:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2639:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2640:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2641:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2642:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
 5488              		.loc 1 2642 9
 5489 0150 99E0     		b	.L241
 5490              	.L234:
2639:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 5491              		.loc 1 2639 26
 5492 0152 7B68     		ldr	r3, [r7, #4]
 5493 0154 9B6B     		ldr	r3, [r3, #56]
 5494 0156 43F08052 		orr	r2, r3, #268435456
 5495 015a 7B68     		ldr	r3, [r7, #4]
 5496 015c 9A63     		str	r2, [r3, #56]
2640:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
 5497              		.loc 1 2640 18
 5498 015e 0123     		movs	r3, #1
 5499 0160 FB75     		strb	r3, [r7, #23]
 5500              		.loc 1 2642 9
 5501 0162 90E0     		b	.L241
 5502              	.L221:
2643:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2644:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
ARM GAS  /tmp/ccRis3lg.s 			page 145


2645:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2646:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5503              		.loc 1 2646 25
 5504 0164 7B68     		ldr	r3, [r7, #4]
 5505 0166 DB6D     		ldr	r3, [r3, #92]
 5506              		.loc 1 2646 12
 5507 0168 B3F5007F 		cmp	r3, #512
 5508 016c 08D0     		beq	.L237
2647:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5509              		.loc 1 2647 25 discriminator 1
 5510 016e 7B68     		ldr	r3, [r7, #4]
 5511 0170 DB6D     		ldr	r3, [r3, #92]
2646:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5512              		.loc 1 2646 63 discriminator 1
 5513 0172 B3F5807F 		cmp	r3, #256
 5514 0176 03D0     		beq	.L237
2648:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5515              		.loc 1 2648 25
 5516 0178 7B68     		ldr	r3, [r7, #4]
 5517 017a DB6B     		ldr	r3, [r3, #60]
2647:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5518              		.loc 1 2647 57
 5519 017c 012B     		cmp	r3, #1
 5520 017e 0ED1     		bne	.L238
 5521              	.L237:
2649:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2650:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2651:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5522              		.loc 1 2651 15
 5523 0180 7868     		ldr	r0, [r7, #4]
 5524 0182 FFF7FEFF 		bl	SD_HighSpeed
 5525 0186 0346     		mov	r3, r0
 5526              		.loc 1 2651 14
 5527 0188 002B     		cmp	r3, #0
 5528 018a 11D0     		beq	.L240
2652:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2653:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5529              		.loc 1 2653 28
 5530 018c 7B68     		ldr	r3, [r7, #4]
 5531 018e 9B6B     		ldr	r3, [r3, #56]
 5532 0190 43F08052 		orr	r2, r3, #268435456
 5533 0194 7B68     		ldr	r3, [r7, #4]
 5534 0196 9A63     		str	r2, [r3, #56]
2654:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
 5535              		.loc 1 2654 20
 5536 0198 0123     		movs	r3, #1
 5537 019a FB75     		strb	r3, [r7, #23]
2651:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5538              		.loc 1 2651 14
 5539 019c 08E0     		b	.L240
 5540              	.L238:
2655:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2656:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2657:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2658:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2659:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5541              		.loc 1 2659 26
ARM GAS  /tmp/ccRis3lg.s 			page 146


 5542 019e 7B68     		ldr	r3, [r7, #4]
 5543 01a0 9B6B     		ldr	r3, [r3, #56]
 5544 01a2 43F08052 		orr	r2, r3, #268435456
 5545 01a6 7B68     		ldr	r3, [r7, #4]
 5546 01a8 9A63     		str	r2, [r3, #56]
2660:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 5547              		.loc 1 2660 18
 5548 01aa 0123     		movs	r3, #1
 5549 01ac FB75     		strb	r3, [r7, #23]
2661:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2662:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
 5550              		.loc 1 2662 9
 5551 01ae 6AE0     		b	.L241
 5552              	.L240:
 5553              		.loc 1 2662 9 is_stmt 0 discriminator 3
 5554 01b0 69E0     		b	.L241
 5555              	.L217:
2663:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2664:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2665:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2666:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default:
2667:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 5556              		.loc 1 2667 24 is_stmt 1
 5557 01b2 7B68     		ldr	r3, [r7, #4]
 5558 01b4 9B6B     		ldr	r3, [r3, #56]
 5559 01b6 43F00062 		orr	r2, r3, #134217728
 5560 01ba 7B68     		ldr	r3, [r7, #4]
 5561 01bc 9A63     		str	r2, [r3, #56]
2668:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 5562              		.loc 1 2668 16
 5563 01be 0123     		movs	r3, #1
 5564 01c0 FB75     		strb	r3, [r7, #23]
2669:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
 5565              		.loc 1 2669 9
 5566 01c2 60E0     		b	.L241
 5567              	.L216:
2670:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2671:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2672:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2673:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2674:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     switch (SpeedMode)
 5568              		.loc 1 2674 5
 5569 01c4 3B68     		ldr	r3, [r7]
 5570 01c6 022B     		cmp	r3, #2
 5571 01c8 26D0     		beq	.L242
 5572 01ca 3B68     		ldr	r3, [r7]
 5573 01cc 022B     		cmp	r3, #2
 5574 01ce 4AD8     		bhi	.L243
 5575 01d0 3B68     		ldr	r3, [r7]
 5576 01d2 002B     		cmp	r3, #0
 5577 01d4 03D0     		beq	.L244
 5578 01d6 3B68     		ldr	r3, [r7]
 5579 01d8 012B     		cmp	r3, #1
 5580 01da 51D0     		beq	.L259
 5581 01dc 43E0     		b	.L243
 5582              	.L244:
2675:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
ARM GAS  /tmp/ccRis3lg.s 			page 147


2676:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_AUTO:
2677:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2678:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5583              		.loc 1 2678 25
 5584 01de 7B68     		ldr	r3, [r7, #4]
 5585 01e0 DB6D     		ldr	r3, [r3, #92]
 5586              		.loc 1 2678 12
 5587 01e2 B3F5007F 		cmp	r3, #512
 5588 01e6 08D0     		beq	.L246
2679:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5589              		.loc 1 2679 25 discriminator 1
 5590 01e8 7B68     		ldr	r3, [r7, #4]
 5591 01ea DB6D     		ldr	r3, [r3, #92]
2678:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5592              		.loc 1 2678 63 discriminator 1
 5593 01ec B3F5807F 		cmp	r3, #256
 5594 01f0 03D0     		beq	.L246
2680:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5595              		.loc 1 2680 25
 5596 01f2 7B68     		ldr	r3, [r7, #4]
 5597 01f4 DB6B     		ldr	r3, [r3, #60]
2679:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5598              		.loc 1 2679 57
 5599 01f6 012B     		cmp	r3, #1
 5600 01f8 44D1     		bne	.L260
 5601              	.L246:
2681:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2682:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2683:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5602              		.loc 1 2683 15
 5603 01fa 7868     		ldr	r0, [r7, #4]
 5604 01fc FFF7FEFF 		bl	SD_HighSpeed
 5605 0200 0346     		mov	r3, r0
 5606              		.loc 1 2683 14
 5607 0202 002B     		cmp	r3, #0
 5608 0204 3ED0     		beq	.L260
2684:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2685:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5609              		.loc 1 2685 28
 5610 0206 7B68     		ldr	r3, [r7, #4]
 5611 0208 9B6B     		ldr	r3, [r3, #56]
 5612 020a 43F08052 		orr	r2, r3, #268435456
 5613 020e 7B68     		ldr	r3, [r7, #4]
 5614 0210 9A63     		str	r2, [r3, #56]
2686:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
 5615              		.loc 1 2686 20
 5616 0212 0123     		movs	r3, #1
 5617 0214 FB75     		strb	r3, [r7, #23]
2687:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2688:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2689:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
2690:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2691:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /*Nothing to do, Use defaultSpeed */
2692:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2693:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
 5618              		.loc 1 2693 9
 5619 0216 35E0     		b	.L260
ARM GAS  /tmp/ccRis3lg.s 			page 148


 5620              	.L242:
2694:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2695:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_HIGH:
2696:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2697:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
 5621              		.loc 1 2697 25
 5622 0218 7B68     		ldr	r3, [r7, #4]
 5623 021a DB6D     		ldr	r3, [r3, #92]
 5624              		.loc 1 2697 12
 5625 021c B3F5007F 		cmp	r3, #512
 5626 0220 08D0     		beq	.L248
2698:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5627              		.loc 1 2698 25 discriminator 1
 5628 0222 7B68     		ldr	r3, [r7, #4]
 5629 0224 DB6D     		ldr	r3, [r3, #92]
2697:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5630              		.loc 1 2697 63 discriminator 1
 5631 0226 B3F5807F 		cmp	r3, #256
 5632 022a 03D0     		beq	.L248
2699:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardType == CARD_SDHC_SDXC))
 5633              		.loc 1 2699 25
 5634 022c 7B68     		ldr	r3, [r7, #4]
 5635 022e DB6B     		ldr	r3, [r3, #60]
2698:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
 5636              		.loc 1 2698 57
 5637 0230 012B     		cmp	r3, #1
 5638 0232 0ED1     		bne	.L249
 5639              	.L248:
2700:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2701:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable High Speed */
2702:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
 5640              		.loc 1 2702 15
 5641 0234 7868     		ldr	r0, [r7, #4]
 5642 0236 FFF7FEFF 		bl	SD_HighSpeed
 5643 023a 0346     		mov	r3, r0
 5644              		.loc 1 2702 14
 5645 023c 002B     		cmp	r3, #0
 5646 023e 11D0     		beq	.L251
2703:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
2704:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5647              		.loc 1 2704 28
 5648 0240 7B68     		ldr	r3, [r7, #4]
 5649 0242 9B6B     		ldr	r3, [r3, #56]
 5650 0244 43F08052 		orr	r2, r3, #268435456
 5651 0248 7B68     		ldr	r3, [r7, #4]
 5652 024a 9A63     		str	r2, [r3, #56]
2705:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             status = HAL_ERROR;
 5653              		.loc 1 2705 20
 5654 024c 0123     		movs	r3, #1
 5655 024e FB75     		strb	r3, [r7, #23]
2702:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 5656              		.loc 1 2702 14
 5657 0250 08E0     		b	.L251
 5658              	.L249:
2706:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
2707:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2708:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
ARM GAS  /tmp/ccRis3lg.s 			page 149


2709:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2710:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 5659              		.loc 1 2710 26
 5660 0252 7B68     		ldr	r3, [r7, #4]
 5661 0254 9B6B     		ldr	r3, [r3, #56]
 5662 0256 43F08052 		orr	r2, r3, #268435456
 5663 025a 7B68     		ldr	r3, [r7, #4]
 5664 025c 9A63     		str	r2, [r3, #56]
2711:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
 5665              		.loc 1 2711 18
 5666 025e 0123     		movs	r3, #1
 5667 0260 FB75     		strb	r3, [r7, #23]
2712:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2713:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
 5668              		.loc 1 2713 9
 5669 0262 10E0     		b	.L241
 5670              	.L251:
 5671              		.loc 1 2713 9 is_stmt 0 discriminator 4
 5672 0264 0FE0     		b	.L241
 5673              	.L243:
2714:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2715:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_DEFAULT:
2716:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
2717:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
2718:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default:
2719:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 5674              		.loc 1 2719 24 is_stmt 1
 5675 0266 7B68     		ldr	r3, [r7, #4]
 5676 0268 9B6B     		ldr	r3, [r3, #56]
 5677 026a 43F00062 		orr	r2, r3, #134217728
 5678 026e 7B68     		ldr	r3, [r7, #4]
 5679 0270 9A63     		str	r2, [r3, #56]
2720:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
 5680              		.loc 1 2720 16
 5681 0272 0123     		movs	r3, #1
 5682 0274 FB75     		strb	r3, [r7, #23]
2721:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         break;
 5683              		.loc 1 2721 9
 5684 0276 06E0     		b	.L241
 5685              	.L256:
2665:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       default:
 5686              		.loc 1 2665 9
 5687 0278 00BF     		nop
 5688 027a 04E0     		b	.L241
 5689              	.L258:
2602:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5690              		.loc 1 2602 9
 5691 027c 00BF     		nop
 5692 027e 02E0     		b	.L241
 5693              	.L259:
2716:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
 5694              		.loc 1 2716 9
 5695 0280 00BF     		nop
 5696 0282 00E0     		b	.L241
 5697              	.L260:
2693:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
 5698              		.loc 1 2693 9
ARM GAS  /tmp/ccRis3lg.s 			page 150


 5699 0284 00BF     		nop
 5700              	.L241:
2722:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2723:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2724:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
2725:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   switch (SpeedMode)
2726:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2727:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_AUTO:
2728:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2729:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2730:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2731:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2732:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2733:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Enable High Speed */
2734:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2735:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2736:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2737:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2738:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2739:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2740:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2741:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2742:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /*Nothing to do, Use defaultSpeed */
2743:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2744:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2745:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2746:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_HIGH:
2747:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2748:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((hsd->SdCard.CardSpeed  == CARD_ULTRA_HIGH_SPEED) ||
2749:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardSpeed  == CARD_HIGH_SPEED) ||
2750:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           (hsd->SdCard.CardType == CARD_SDHC_SDXC))
2751:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2752:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Enable High Speed */
2753:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (SD_HighSpeed(hsd) != HAL_SD_ERROR_NONE)
2754:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
2755:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2756:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           status = HAL_ERROR;
2757:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
2758:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2759:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       else
2760:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
2761:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2762:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         status = HAL_ERROR;
2763:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
2764:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2765:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2766:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_DEFAULT:
2767:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2768:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     case SDMMC_SPEED_MODE_ULTRA: /*not valid without transceiver*/
2769:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     default:
2770:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2771:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       status = HAL_ERROR;
2772:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       break;
2773:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2774:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
2775:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2776:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Verify that SD card is ready to use after Speed mode switch*/
ARM GAS  /tmp/ccRis3lg.s 			page 151


2777:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tickstart = HAL_GetTick();
 5701              		.loc 1 2777 15
 5702 0286 FFF7FEFF 		bl	HAL_GetTick
 5703 028a 3861     		str	r0, [r7, #16]
2778:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((HAL_SD_GetCardState(hsd) != HAL_SD_CARD_TRANSFER))
 5704              		.loc 1 2778 9
 5705 028c 11E0     		b	.L252
 5706              	.L254:
2779:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2780:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 5707              		.loc 1 2780 10
 5708 028e FFF7FEFF 		bl	HAL_GetTick
 5709 0292 0246     		mov	r2, r0
 5710              		.loc 1 2780 24
 5711 0294 3B69     		ldr	r3, [r7, #16]
 5712 0296 D31A     		subs	r3, r2, r3
 5713              		.loc 1 2780 8
 5714 0298 B3F1FF3F 		cmp	r3, #-1
 5715 029c 09D1     		bne	.L252
2781:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2782:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 5716              		.loc 1 2782 22
 5717 029e 7B68     		ldr	r3, [r7, #4]
 5718 02a0 4FF00042 		mov	r2, #-2147483648
 5719 02a4 9A63     		str	r2, [r3, #56]
2783:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 5720              		.loc 1 2783 18
 5721 02a6 7B68     		ldr	r3, [r7, #4]
 5722 02a8 0122     		movs	r2, #1
 5723 02aa 83F83420 		strb	r2, [r3, #52]
2784:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_TIMEOUT;
 5724              		.loc 1 2784 14
 5725 02ae 0323     		movs	r3, #3
 5726 02b0 21E0     		b	.L253
 5727              	.L252:
2778:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5728              		.loc 1 2778 11
 5729 02b2 7868     		ldr	r0, [r7, #4]
 5730 02b4 FFF7FEFF 		bl	HAL_SD_GetCardState
 5731 02b8 0346     		mov	r3, r0
2778:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 5732              		.loc 1 2778 9
 5733 02ba 042B     		cmp	r3, #4
 5734 02bc E7D1     		bne	.L254
2785:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2786:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2787:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2788:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size for Card */
2789:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 5735              		.loc 1 2789 16
 5736 02be 7B68     		ldr	r3, [r7, #4]
 5737 02c0 1B68     		ldr	r3, [r3]
 5738 02c2 4FF40071 		mov	r1, #512
 5739 02c6 1846     		mov	r0, r3
 5740 02c8 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 5741 02cc F860     		str	r0, [r7, #12]
2790:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
ARM GAS  /tmp/ccRis3lg.s 			page 152


 5742              		.loc 1 2790 6
 5743 02ce FB68     		ldr	r3, [r7, #12]
 5744 02d0 002B     		cmp	r3, #0
 5745 02d2 0BD0     		beq	.L255
2791:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2792:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
2793:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_FLAGS);
 5746              		.loc 1 2793 5
 5747 02d4 7B68     		ldr	r3, [r7, #4]
 5748 02d6 1B68     		ldr	r3, [r3]
 5749 02d8 094A     		ldr	r2, .L261
 5750 02da 9A63     		str	r2, [r3, #56]
2794:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5751              		.loc 1 2794 20
 5752 02dc 7B68     		ldr	r3, [r7, #4]
 5753 02de 9A6B     		ldr	r2, [r3, #56]
 5754 02e0 FB68     		ldr	r3, [r7, #12]
 5755 02e2 1A43     		orrs	r2, r2, r3
 5756 02e4 7B68     		ldr	r3, [r7, #4]
 5757 02e6 9A63     		str	r2, [r3, #56]
2795:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     status = HAL_ERROR;
 5758              		.loc 1 2795 12
 5759 02e8 0123     		movs	r3, #1
 5760 02ea FB75     		strb	r3, [r7, #23]
 5761              	.L255:
2796:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2797:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2798:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Change State */
2799:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5762              		.loc 1 2799 14
 5763 02ec 7B68     		ldr	r3, [r7, #4]
 5764 02ee 0122     		movs	r2, #1
 5765 02f0 83F83420 		strb	r2, [r3, #52]
2800:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return status;
 5766              		.loc 1 2800 10
 5767 02f4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5768              	.L253:
2801:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5769              		.loc 1 2801 1
 5770 02f6 1846     		mov	r0, r3
 5771 02f8 1837     		adds	r7, r7, #24
 5772              	.LCFI140:
 5773              		.cfi_def_cfa_offset 8
 5774 02fa BD46     		mov	sp, r7
 5775              	.LCFI141:
 5776              		.cfi_def_cfa_register 13
 5777              		@ sp needed
 5778 02fc 80BD     		pop	{r7, pc}
 5779              	.L262:
 5780 02fe 00BF     		.align	2
 5781              	.L261:
 5782 0300 FF0FE01F 		.word	534777855
 5783              		.cfi_endproc
 5784              	.LFE356:
 5786              		.section	.text.HAL_SD_GetCardState,"ax",%progbits
 5787              		.align	1
 5788              		.global	HAL_SD_GetCardState
ARM GAS  /tmp/ccRis3lg.s 			page 153


 5789              		.syntax unified
 5790              		.thumb
 5791              		.thumb_func
 5792              		.fpu fpv5-d16
 5794              	HAL_SD_GetCardState:
 5795              	.LFB357:
2802:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2803:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2804:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Gets the current sd card data state.
2805:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
2806:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval Card state
2807:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2808:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_SD_CardStateTypeDef HAL_SD_GetCardState(SD_HandleTypeDef *hsd)
2809:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 5796              		.loc 1 2809 1
 5797              		.cfi_startproc
 5798              		@ args = 0, pretend = 0, frame = 24
 5799              		@ frame_needed = 1, uses_anonymous_args = 0
 5800 0000 80B5     		push	{r7, lr}
 5801              	.LCFI142:
 5802              		.cfi_def_cfa_offset 8
 5803              		.cfi_offset 7, -8
 5804              		.cfi_offset 14, -4
 5805 0002 86B0     		sub	sp, sp, #24
 5806              	.LCFI143:
 5807              		.cfi_def_cfa_offset 32
 5808 0004 00AF     		add	r7, sp, #0
 5809              	.LCFI144:
 5810              		.cfi_def_cfa_register 7
 5811 0006 7860     		str	r0, [r7, #4]
2810:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t cardstate;
2811:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2812:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t resp1 = 0;
 5812              		.loc 1 2812 12
 5813 0008 0023     		movs	r3, #0
 5814 000a FB60     		str	r3, [r7, #12]
2813:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2814:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_SendStatus(hsd, &resp1);
 5815              		.loc 1 2814 16
 5816 000c 07F10C03 		add	r3, r7, #12
 5817 0010 1946     		mov	r1, r3
 5818 0012 7868     		ldr	r0, [r7, #4]
 5819 0014 FFF7FEFF 		bl	SD_SendStatus
 5820 0018 7861     		str	r0, [r7, #20]
2815:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 5821              		.loc 1 2815 6
 5822 001a 7B69     		ldr	r3, [r7, #20]
 5823 001c 002B     		cmp	r3, #0
 5824 001e 05D0     		beq	.L264
2816:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2817:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5825              		.loc 1 2817 20
 5826 0020 7B68     		ldr	r3, [r7, #4]
 5827 0022 9A6B     		ldr	r2, [r3, #56]
 5828 0024 7B69     		ldr	r3, [r7, #20]
 5829 0026 1A43     		orrs	r2, r2, r3
 5830 0028 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRis3lg.s 			page 154


 5831 002a 9A63     		str	r2, [r3, #56]
 5832              	.L264:
2818:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2819:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2820:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   cardstate = ((resp1 >> 9U) & 0x0FU);
 5833              		.loc 1 2820 23
 5834 002c FB68     		ldr	r3, [r7, #12]
 5835 002e 5B0A     		lsrs	r3, r3, #9
 5836              		.loc 1 2820 13
 5837 0030 03F00F03 		and	r3, r3, #15
 5838 0034 3B61     		str	r3, [r7, #16]
2821:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2822:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return (HAL_SD_CardStateTypeDef)cardstate;
 5839              		.loc 1 2822 10
 5840 0036 3B69     		ldr	r3, [r7, #16]
2823:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5841              		.loc 1 2823 1
 5842 0038 1846     		mov	r0, r3
 5843 003a 1837     		adds	r7, r7, #24
 5844              	.LCFI145:
 5845              		.cfi_def_cfa_offset 8
 5846 003c BD46     		mov	sp, r7
 5847              	.LCFI146:
 5848              		.cfi_def_cfa_register 13
 5849              		@ sp needed
 5850 003e 80BD     		pop	{r7, pc}
 5851              		.cfi_endproc
 5852              	.LFE357:
 5854              		.section	.text.HAL_SD_Abort,"ax",%progbits
 5855              		.align	1
 5856              		.global	HAL_SD_Abort
 5857              		.syntax unified
 5858              		.thumb
 5859              		.thumb_func
 5860              		.fpu fpv5-d16
 5862              	HAL_SD_Abort:
 5863              	.LFB358:
2824:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2825:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2826:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD.
2827:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2828:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *                the configuration information for SD module.
2829:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2830:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2831:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort(SD_HandleTypeDef *hsd)
2832:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 5864              		.loc 1 2832 1
 5865              		.cfi_startproc
 5866              		@ args = 0, pretend = 0, frame = 16
 5867              		@ frame_needed = 1, uses_anonymous_args = 0
 5868 0000 80B5     		push	{r7, lr}
 5869              	.LCFI147:
 5870              		.cfi_def_cfa_offset 8
 5871              		.cfi_offset 7, -8
 5872              		.cfi_offset 14, -4
 5873 0002 84B0     		sub	sp, sp, #16
 5874              	.LCFI148:
ARM GAS  /tmp/ccRis3lg.s 			page 155


 5875              		.cfi_def_cfa_offset 24
 5876 0004 00AF     		add	r7, sp, #0
 5877              	.LCFI149:
 5878              		.cfi_def_cfa_register 7
 5879 0006 7860     		str	r0, [r7, #4]
2833:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2834:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2835:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* DIsable All interrupts */
2836:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
 5880              		.loc 1 2836 3
 5881 0008 7B68     		ldr	r3, [r7, #4]
 5882 000a 1B68     		ldr	r3, [r3]
 5883 000c DA6B     		ldr	r2, [r3, #60]
 5884 000e 7B68     		ldr	r3, [r7, #4]
 5885 0010 1B68     		ldr	r3, [r3]
 5886 0012 22F49D72 		bic	r2, r2, #314
 5887 0016 DA63     		str	r2, [r3, #60]
2837:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
2838:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2839:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Clear All flags */
2840:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 5888              		.loc 1 2840 3
 5889 0018 7B68     		ldr	r3, [r7, #4]
 5890 001a 1B68     		ldr	r3, [r3]
 5891 001c 144A     		ldr	r2, .L271
 5892 001e 9A63     		str	r2, [r3, #56]
2841:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2842:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If IDMA Context, disable Internal DMA */
2843:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 5893              		.loc 1 2843 6
 5894 0020 7B68     		ldr	r3, [r7, #4]
 5895 0022 1B68     		ldr	r3, [r3]
 5896              		.loc 1 2843 27
 5897 0024 0022     		movs	r2, #0
 5898 0026 1A65     		str	r2, [r3, #80]
2844:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2845:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5899              		.loc 1 2845 14
 5900 0028 7B68     		ldr	r3, [r7, #4]
 5901 002a 0122     		movs	r2, #1
 5902 002c 83F83420 		strb	r2, [r3, #52]
2846:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2847:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Initialize the SD operation */
2848:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5903              		.loc 1 2848 16
 5904 0030 7B68     		ldr	r3, [r7, #4]
 5905 0032 0022     		movs	r2, #0
 5906 0034 1A63     		str	r2, [r3, #48]
2849:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2850:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
 5907              		.loc 1 2850 15
 5908 0036 7868     		ldr	r0, [r7, #4]
 5909 0038 FFF7FEFF 		bl	HAL_SD_GetCardState
 5910 003c F860     		str	r0, [r7, #12]
2851:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5911              		.loc 1 2851 6
 5912 003e FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccRis3lg.s 			page 156


 5913 0040 062B     		cmp	r3, #6
 5914 0042 02D0     		beq	.L267
 5915              		.loc 1 2851 44 discriminator 1
 5916 0044 FB68     		ldr	r3, [r7, #12]
 5917 0046 052B     		cmp	r3, #5
 5918 0048 07D1     		bne	.L268
 5919              	.L267:
2852:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2853:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
 5920              		.loc 1 2853 22
 5921 004a 7B68     		ldr	r3, [r7, #4]
 5922 004c 1B68     		ldr	r3, [r3]
 5923 004e 1846     		mov	r0, r3
 5924 0050 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5925 0054 0246     		mov	r2, r0
 5926              		.loc 1 2853 20
 5927 0056 7B68     		ldr	r3, [r7, #4]
 5928 0058 9A63     		str	r2, [r3, #56]
 5929              	.L268:
2854:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2855:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
 5930              		.loc 1 2855 10
 5931 005a 7B68     		ldr	r3, [r7, #4]
 5932 005c 9B6B     		ldr	r3, [r3, #56]
 5933              		.loc 1 2855 6
 5934 005e 002B     		cmp	r3, #0
 5935 0060 01D0     		beq	.L269
2856:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2857:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 5936              		.loc 1 2857 12
 5937 0062 0123     		movs	r3, #1
 5938 0064 00E0     		b	.L270
 5939              	.L269:
2858:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2859:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 5940              		.loc 1 2859 10
 5941 0066 0023     		movs	r3, #0
 5942              	.L270:
2860:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 5943              		.loc 1 2860 1
 5944 0068 1846     		mov	r0, r3
 5945 006a 1037     		adds	r7, r7, #16
 5946              	.LCFI150:
 5947              		.cfi_def_cfa_offset 8
 5948 006c BD46     		mov	sp, r7
 5949              	.LCFI151:
 5950              		.cfi_def_cfa_register 13
 5951              		@ sp needed
 5952 006e 80BD     		pop	{r7, pc}
 5953              	.L272:
 5954              		.align	2
 5955              	.L271:
 5956 0070 3A0F0018 		.word	402657082
 5957              		.cfi_endproc
 5958              	.LFE358:
 5960              		.section	.text.HAL_SD_Abort_IT,"ax",%progbits
 5961              		.align	1
ARM GAS  /tmp/ccRis3lg.s 			page 157


 5962              		.global	HAL_SD_Abort_IT
 5963              		.syntax unified
 5964              		.thumb
 5965              		.thumb_func
 5966              		.fpu fpv5-d16
 5968              	HAL_SD_Abort_IT:
 5969              	.LFB359:
2861:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2862:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2863:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD (IT mode).
2864:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2865:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *                the configuration information for SD module.
2866:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval HAL status
2867:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2868:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort_IT(SD_HandleTypeDef *hsd)
2869:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 5970              		.loc 1 2869 1
 5971              		.cfi_startproc
 5972              		@ args = 0, pretend = 0, frame = 16
 5973              		@ frame_needed = 1, uses_anonymous_args = 0
 5974 0000 80B5     		push	{r7, lr}
 5975              	.LCFI152:
 5976              		.cfi_def_cfa_offset 8
 5977              		.cfi_offset 7, -8
 5978              		.cfi_offset 14, -4
 5979 0002 84B0     		sub	sp, sp, #16
 5980              	.LCFI153:
 5981              		.cfi_def_cfa_offset 24
 5982 0004 00AF     		add	r7, sp, #0
 5983              	.LCFI154:
 5984              		.cfi_def_cfa_register 7
 5985 0006 7860     		str	r0, [r7, #4]
2870:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2871:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2872:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Disable All interrupts */
2873:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDMMC_IT_DATAEND | SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | \
 5986              		.loc 1 2873 3
 5987 0008 7B68     		ldr	r3, [r7, #4]
 5988 000a 1B68     		ldr	r3, [r3]
 5989 000c DA6B     		ldr	r2, [r3, #60]
 5990 000e 7B68     		ldr	r3, [r7, #4]
 5991 0010 1B68     		ldr	r3, [r3]
 5992 0012 22F49D72 		bic	r2, r2, #314
 5993 0016 DA63     		str	r2, [r3, #60]
2874:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                       SDMMC_IT_TXUNDERR | SDMMC_IT_RXOVERR);
2875:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2876:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If IDMA Context, disable Internal DMA */
2877:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->Instance->IDMACTRL = SDMMC_DISABLE_IDMA;
 5994              		.loc 1 2877 6
 5995 0018 7B68     		ldr	r3, [r7, #4]
 5996 001a 1B68     		ldr	r3, [r3]
 5997              		.loc 1 2877 27
 5998 001c 0022     		movs	r2, #0
 5999 001e 1A65     		str	r2, [r3, #80]
2878:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2879:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Clear All flags */
2880:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
ARM GAS  /tmp/ccRis3lg.s 			page 158


 6000              		.loc 1 2880 3
 6001 0020 7B68     		ldr	r3, [r7, #4]
 6002 0022 1B68     		ldr	r3, [r3]
 6003 0024 124A     		ldr	r2, .L278
 6004 0026 9A63     		str	r2, [r3, #56]
2881:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2882:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
 6005              		.loc 1 2882 15
 6006 0028 7868     		ldr	r0, [r7, #4]
 6007 002a FFF7FEFF 		bl	HAL_SD_GetCardState
 6008 002e F860     		str	r0, [r7, #12]
2883:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 6009              		.loc 1 2883 14
 6010 0030 7B68     		ldr	r3, [r7, #4]
 6011 0032 0122     		movs	r2, #1
 6012 0034 83F83420 		strb	r2, [r3, #52]
2884:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2885:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6013              		.loc 1 2885 6
 6014 0038 FB68     		ldr	r3, [r7, #12]
 6015 003a 062B     		cmp	r3, #6
 6016 003c 02D0     		beq	.L274
 6017              		.loc 1 2885 44 discriminator 1
 6018 003e FB68     		ldr	r3, [r7, #12]
 6019 0040 052B     		cmp	r3, #5
 6020 0042 07D1     		bne	.L275
 6021              	.L274:
2886:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2887:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
 6022              		.loc 1 2887 22
 6023 0044 7B68     		ldr	r3, [r7, #4]
 6024 0046 1B68     		ldr	r3, [r3]
 6025 0048 1846     		mov	r0, r3
 6026 004a FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6027 004e 0246     		mov	r2, r0
 6028              		.loc 1 2887 20
 6029 0050 7B68     		ldr	r3, [r7, #4]
 6030 0052 9A63     		str	r2, [r3, #56]
 6031              	.L275:
2888:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2889:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2890:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->ErrorCode != HAL_SD_ERROR_NONE)
 6032              		.loc 1 2890 10
 6033 0054 7B68     		ldr	r3, [r7, #4]
 6034 0056 9B6B     		ldr	r3, [r3, #56]
 6035              		.loc 1 2890 6
 6036 0058 002B     		cmp	r3, #0
 6037 005a 01D0     		beq	.L276
2891:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2892:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_ERROR;
 6038              		.loc 1 2892 12
 6039 005c 0123     		movs	r3, #1
 6040 005e 03E0     		b	.L277
 6041              	.L276:
2893:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2894:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
2895:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  /tmp/ccRis3lg.s 			page 159


2896:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
2897:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
2898:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
2899:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
 6042              		.loc 1 2899 5
 6043 0060 7868     		ldr	r0, [r7, #4]
 6044 0062 FFF7FEFF 		bl	HAL_SD_AbortCallback
2900:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2901:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2902:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2903:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_OK;
 6045              		.loc 1 2903 10
 6046 0066 0023     		movs	r3, #0
 6047              	.L277:
2904:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6048              		.loc 1 2904 1
 6049 0068 1846     		mov	r0, r3
 6050 006a 1037     		adds	r7, r7, #16
 6051              	.LCFI155:
 6052              		.cfi_def_cfa_offset 8
 6053 006c BD46     		mov	sp, r7
 6054              	.LCFI156:
 6055              		.cfi_def_cfa_register 13
 6056              		@ sp needed
 6057 006e 80BD     		pop	{r7, pc}
 6058              	.L279:
 6059              		.align	2
 6060              	.L278:
 6061 0070 3A0F0018 		.word	402657082
 6062              		.cfi_endproc
 6063              	.LFE359:
 6065              		.section	.text.SD_InitCard,"ax",%progbits
 6066              		.align	1
 6067              		.syntax unified
 6068              		.thumb
 6069              		.thumb_func
 6070              		.fpu fpv5-d16
 6072              	SD_InitCard:
 6073              	.LFB360:
2905:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2906:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2907:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
2908:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2909:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2910:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2911:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @}
2912:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2913:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2914:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/
2915:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
2916:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @{
2917:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2918:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2919:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2920:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
2921:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Initializes the sd card.
2922:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
ARM GAS  /tmp/ccRis3lg.s 			page 160


2923:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
2924:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
2925:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd)
2926:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6074              		.loc 1 2926 1
 6075              		.cfi_startproc
 6076              		@ args = 0, pretend = 0, frame = 64
 6077              		@ frame_needed = 1, uses_anonymous_args = 0
 6078 0000 80B5     		push	{r7, lr}
 6079              	.LCFI157:
 6080              		.cfi_def_cfa_offset 8
 6081              		.cfi_offset 7, -8
 6082              		.cfi_offset 14, -4
 6083 0002 90B0     		sub	sp, sp, #64
 6084              	.LCFI158:
 6085              		.cfi_def_cfa_offset 72
 6086 0004 00AF     		add	r7, sp, #0
 6087              	.LCFI159:
 6088              		.cfi_def_cfa_register 7
 6089 0006 7860     		str	r0, [r7, #4]
2927:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
2928:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
2929:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint16_t sd_rca = 1U;
 6090              		.loc 1 2929 12
 6091 0008 0123     		movs	r3, #1
 6092 000a FB81     		strh	r3, [r7, #14]	@ movhi
2930:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2931:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check the power State */
2932:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (SDMMC_GetPowerState(hsd->Instance) == 0U)
 6093              		.loc 1 2932 7
 6094 000c 7B68     		ldr	r3, [r7, #4]
 6095 000e 1B68     		ldr	r3, [r3]
 6096 0010 1846     		mov	r0, r3
 6097 0012 FFF7FEFF 		bl	SDMMC_GetPowerState
 6098 0016 0346     		mov	r3, r0
 6099              		.loc 1 2932 6
 6100 0018 002B     		cmp	r3, #0
 6101 001a 02D1     		bne	.L281
2933:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2934:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Power off */
2935:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 6102              		.loc 1 2935 12
 6103 001c 4FF08063 		mov	r3, #67108864
 6104 0020 A5E0     		b	.L290
 6105              	.L281:
2936:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2937:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2938:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
 6106              		.loc 1 2938 18
 6107 0022 7B68     		ldr	r3, [r7, #4]
 6108 0024 DB6B     		ldr	r3, [r3, #60]
 6109              		.loc 1 2938 6
 6110 0026 032B     		cmp	r3, #3
 6111 0028 2ED0     		beq	.L283
2939:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2940:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
2941:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCID(hsd->Instance);
ARM GAS  /tmp/ccRis3lg.s 			page 161


 6112              		.loc 1 2941 18
 6113 002a 7B68     		ldr	r3, [r7, #4]
 6114 002c 1B68     		ldr	r3, [r3]
 6115 002e 1846     		mov	r0, r3
 6116 0030 FFF7FEFF 		bl	SDMMC_CmdSendCID
 6117 0034 F863     		str	r0, [r7, #60]
2942:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 6118              		.loc 1 2942 8
 6119 0036 FB6B     		ldr	r3, [r7, #60]
 6120 0038 002B     		cmp	r3, #0
 6121 003a 01D0     		beq	.L284
2943:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2944:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 6122              		.loc 1 2944 14
 6123 003c FB6B     		ldr	r3, [r7, #60]
 6124 003e 96E0     		b	.L290
 6125              	.L284:
2945:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2946:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2947:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2948:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Get Card identification number data */
2949:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
 6126              		.loc 1 2949 22
 6127 0040 7B68     		ldr	r3, [r7, #4]
 6128 0042 1B68     		ldr	r3, [r3]
 6129 0044 0021     		movs	r1, #0
 6130 0046 1846     		mov	r0, r3
 6131 0048 FFF7FEFF 		bl	SDMMC_GetResponse
 6132 004c 0246     		mov	r2, r0
 6133              		.loc 1 2949 20
 6134 004e 7B68     		ldr	r3, [r7, #4]
 6135 0050 1A67     		str	r2, [r3, #112]
2950:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 6136              		.loc 1 2950 22
 6137 0052 7B68     		ldr	r3, [r7, #4]
 6138 0054 1B68     		ldr	r3, [r3]
 6139 0056 0421     		movs	r1, #4
 6140 0058 1846     		mov	r0, r3
 6141 005a FFF7FEFF 		bl	SDMMC_GetResponse
 6142 005e 0246     		mov	r2, r0
 6143              		.loc 1 2950 20
 6144 0060 7B68     		ldr	r3, [r7, #4]
 6145 0062 5A67     		str	r2, [r3, #116]
2951:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 6146              		.loc 1 2951 22
 6147 0064 7B68     		ldr	r3, [r7, #4]
 6148 0066 1B68     		ldr	r3, [r3]
 6149 0068 0821     		movs	r1, #8
 6150 006a 1846     		mov	r0, r3
 6151 006c FFF7FEFF 		bl	SDMMC_GetResponse
 6152 0070 0246     		mov	r2, r0
 6153              		.loc 1 2951 20
 6154 0072 7B68     		ldr	r3, [r7, #4]
 6155 0074 9A67     		str	r2, [r3, #120]
2952:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CID[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 6156              		.loc 1 2952 22
 6157 0076 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRis3lg.s 			page 162


 6158 0078 1B68     		ldr	r3, [r3]
 6159 007a 0C21     		movs	r1, #12
 6160 007c 1846     		mov	r0, r3
 6161 007e FFF7FEFF 		bl	SDMMC_GetResponse
 6162 0082 0246     		mov	r2, r0
 6163              		.loc 1 2952 20
 6164 0084 7B68     		ldr	r3, [r7, #4]
 6165 0086 DA67     		str	r2, [r3, #124]
 6166              	.L283:
2953:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2954:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2955:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2956:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
 6167              		.loc 1 2956 18
 6168 0088 7B68     		ldr	r3, [r7, #4]
 6169 008a DB6B     		ldr	r3, [r3, #60]
 6170              		.loc 1 2956 6
 6171 008c 032B     		cmp	r3, #3
 6172 008e 0DD0     		beq	.L285
2957:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2958:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
2959:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SD Card publishes its RCA. */
2960:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSetRelAdd(hsd->Instance, &sd_rca);
 6173              		.loc 1 2960 18
 6174 0090 7B68     		ldr	r3, [r7, #4]
 6175 0092 1B68     		ldr	r3, [r3]
 6176 0094 07F10E02 		add	r2, r7, #14
 6177 0098 1146     		mov	r1, r2
 6178 009a 1846     		mov	r0, r3
 6179 009c FFF7FEFF 		bl	SDMMC_CmdSetRelAdd
 6180 00a0 F863     		str	r0, [r7, #60]
2961:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 6181              		.loc 1 2961 8
 6182 00a2 FB6B     		ldr	r3, [r7, #60]
 6183 00a4 002B     		cmp	r3, #0
 6184 00a6 01D0     		beq	.L285
2962:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2963:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 6185              		.loc 1 2963 14
 6186 00a8 FB6B     		ldr	r3, [r7, #60]
 6187 00aa 60E0     		b	.L290
 6188              	.L285:
2964:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2965:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2966:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardType != CARD_SECURED)
 6189              		.loc 1 2966 18
 6190 00ac 7B68     		ldr	r3, [r7, #4]
 6191 00ae DB6B     		ldr	r3, [r3, #60]
 6192              		.loc 1 2966 6
 6193 00b0 032B     		cmp	r3, #3
 6194 00b2 36D0     		beq	.L286
2967:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2968:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get the SD card RCA */
2969:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.RelCardAdd = sd_rca;
 6195              		.loc 1 2969 28
 6196 00b4 FB89     		ldrh	r3, [r7, #14]
 6197 00b6 1A46     		mov	r2, r3
ARM GAS  /tmp/ccRis3lg.s 			page 163


 6198 00b8 7B68     		ldr	r3, [r7, #4]
 6199 00ba 9A64     		str	r2, [r3, #72]
2970:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2971:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
2972:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCSD(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
 6200              		.loc 1 2972 18
 6201 00bc 7B68     		ldr	r3, [r7, #4]
 6202 00be 1A68     		ldr	r2, [r3]
 6203              		.loc 1 2972 72
 6204 00c0 7B68     		ldr	r3, [r7, #4]
 6205 00c2 9B6C     		ldr	r3, [r3, #72]
 6206              		.loc 1 2972 84
 6207 00c4 1B04     		lsls	r3, r3, #16
 6208              		.loc 1 2972 18
 6209 00c6 1946     		mov	r1, r3
 6210 00c8 1046     		mov	r0, r2
 6211 00ca FFF7FEFF 		bl	SDMMC_CmdSendCSD
 6212 00ce F863     		str	r0, [r7, #60]
2973:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 6213              		.loc 1 2973 8
 6214 00d0 FB6B     		ldr	r3, [r7, #60]
 6215 00d2 002B     		cmp	r3, #0
 6216 00d4 01D0     		beq	.L287
2974:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2975:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 6217              		.loc 1 2975 14
 6218 00d6 FB6B     		ldr	r3, [r7, #60]
 6219 00d8 49E0     		b	.L290
 6220              	.L287:
2976:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2977:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
2978:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
2979:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Get Card Specific Data */
2980:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[0U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
 6221              		.loc 1 2980 22
 6222 00da 7B68     		ldr	r3, [r7, #4]
 6223 00dc 1B68     		ldr	r3, [r3]
 6224 00de 0021     		movs	r1, #0
 6225 00e0 1846     		mov	r0, r3
 6226 00e2 FFF7FEFF 		bl	SDMMC_GetResponse
 6227 00e6 0246     		mov	r2, r0
 6228              		.loc 1 2980 20
 6229 00e8 7B68     		ldr	r3, [r7, #4]
 6230 00ea 1A66     		str	r2, [r3, #96]
2981:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[1U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2);
 6231              		.loc 1 2981 22
 6232 00ec 7B68     		ldr	r3, [r7, #4]
 6233 00ee 1B68     		ldr	r3, [r3]
 6234 00f0 0421     		movs	r1, #4
 6235 00f2 1846     		mov	r0, r3
 6236 00f4 FFF7FEFF 		bl	SDMMC_GetResponse
 6237 00f8 0246     		mov	r2, r0
 6238              		.loc 1 2981 20
 6239 00fa 7B68     		ldr	r3, [r7, #4]
 6240 00fc 5A66     		str	r2, [r3, #100]
2982:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[2U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP3);
 6241              		.loc 1 2982 22
ARM GAS  /tmp/ccRis3lg.s 			page 164


 6242 00fe 7B68     		ldr	r3, [r7, #4]
 6243 0100 1B68     		ldr	r3, [r3]
 6244 0102 0821     		movs	r1, #8
 6245 0104 1846     		mov	r0, r3
 6246 0106 FFF7FEFF 		bl	SDMMC_GetResponse
 6247 010a 0246     		mov	r2, r0
 6248              		.loc 1 2982 20
 6249 010c 7B68     		ldr	r3, [r7, #4]
 6250 010e 9A66     		str	r2, [r3, #104]
2983:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->CSD[3U] = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP4);
 6251              		.loc 1 2983 22
 6252 0110 7B68     		ldr	r3, [r7, #4]
 6253 0112 1B68     		ldr	r3, [r3]
 6254 0114 0C21     		movs	r1, #12
 6255 0116 1846     		mov	r0, r3
 6256 0118 FFF7FEFF 		bl	SDMMC_GetResponse
 6257 011c 0246     		mov	r2, r0
 6258              		.loc 1 2983 20
 6259 011e 7B68     		ldr	r3, [r7, #4]
 6260 0120 DA66     		str	r2, [r3, #108]
 6261              	.L286:
2984:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
2985:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
2986:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2987:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get the Card Class */
2988:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   hsd->SdCard.Class = (SDMMC_GetResponse(hsd->Instance, SDMMC_RESP2) >> 20U);
 6262              		.loc 1 2988 24
 6263 0122 7B68     		ldr	r3, [r7, #4]
 6264 0124 1B68     		ldr	r3, [r3]
 6265 0126 0421     		movs	r1, #4
 6266 0128 1846     		mov	r0, r3
 6267 012a FFF7FEFF 		bl	SDMMC_GetResponse
 6268 012e 0346     		mov	r3, r0
 6269              		.loc 1 2988 70
 6270 0130 1A0D     		lsrs	r2, r3, #20
 6271              		.loc 1 2988 21
 6272 0132 7B68     		ldr	r3, [r7, #4]
 6273 0134 5A64     		str	r2, [r3, #68]
2989:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2990:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get CSD parameters */
2991:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (HAL_SD_GetCardCSD(hsd, &CSD) != HAL_OK)
 6274              		.loc 1 2991 7
 6275 0136 07F11003 		add	r3, r7, #16
 6276 013a 1946     		mov	r1, r3
 6277 013c 7868     		ldr	r0, [r7, #4]
 6278 013e FFF7FEFF 		bl	HAL_SD_GetCardCSD
 6279 0142 0346     		mov	r3, r0
 6280              		.loc 1 2991 6
 6281 0144 002B     		cmp	r3, #0
 6282 0146 02D0     		beq	.L288
2992:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
2993:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 6283              		.loc 1 2993 12
 6284 0148 4FF08053 		mov	r3, #268435456
 6285 014c 0FE0     		b	.L290
 6286              	.L288:
2994:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /tmp/ccRis3lg.s 			page 165


2995:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
2996:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Select the Card */
2997:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSelDesel(hsd->Instance, (uint32_t)(((uint32_t)hsd->SdCard.RelCardAdd) << 16
 6287              		.loc 1 2997 16
 6288 014e 7B68     		ldr	r3, [r7, #4]
 6289 0150 1A68     		ldr	r2, [r3]
 6290              		.loc 1 2997 82
 6291 0152 7B68     		ldr	r3, [r7, #4]
 6292 0154 9B6C     		ldr	r3, [r3, #72]
 6293              		.loc 1 2997 16
 6294 0156 1B04     		lsls	r3, r3, #16
 6295 0158 1946     		mov	r1, r3
 6296 015a 1046     		mov	r0, r2
 6297 015c FFF7FEFF 		bl	SDMMC_CmdSelDesel
 6298 0160 F863     		str	r0, [r7, #60]
2998:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6299              		.loc 1 2998 6
 6300 0162 FB6B     		ldr	r3, [r7, #60]
 6301 0164 002B     		cmp	r3, #0
 6302 0166 01D0     		beq	.L289
2999:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3000:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 6303              		.loc 1 3000 12
 6304 0168 FB6B     		ldr	r3, [r7, #60]
 6305 016a 00E0     		b	.L290
 6306              	.L289:
3001:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3002:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3003:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* All cards are initialized */
3004:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
 6307              		.loc 1 3004 10
 6308 016c 0023     		movs	r3, #0
 6309              	.L290:
3005:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6310              		.loc 1 3005 1 discriminator 1
 6311 016e 1846     		mov	r0, r3
 6312 0170 4037     		adds	r7, r7, #64
 6313              	.LCFI160:
 6314              		.cfi_def_cfa_offset 8
 6315 0172 BD46     		mov	sp, r7
 6316              	.LCFI161:
 6317              		.cfi_def_cfa_register 13
 6318              		@ sp needed
 6319 0174 80BD     		pop	{r7, pc}
 6320              		.cfi_endproc
 6321              	.LFE360:
 6323              		.section	.text.SD_PowerON,"ax",%progbits
 6324              		.align	1
 6325              		.syntax unified
 6326              		.thumb
 6327              		.thumb_func
 6328              		.fpu fpv5-d16
 6330              	SD_PowerON:
 6331              	.LFB361:
3006:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3007:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3008:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
ARM GAS  /tmp/ccRis3lg.s 			page 166


3009:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
3010:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         in the SD handle.
3011:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3012:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3013:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3014:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd)
3015:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6332              		.loc 1 3015 1
 6333              		.cfi_startproc
 6334              		@ args = 0, pretend = 0, frame = 32
 6335              		@ frame_needed = 1, uses_anonymous_args = 0
 6336 0000 80B5     		push	{r7, lr}
 6337              	.LCFI162:
 6338              		.cfi_def_cfa_offset 8
 6339              		.cfi_offset 7, -8
 6340              		.cfi_offset 14, -4
 6341 0002 88B0     		sub	sp, sp, #32
 6342              	.LCFI163:
 6343              		.cfi_def_cfa_offset 40
 6344 0004 00AF     		add	r7, sp, #0
 6345              	.LCFI164:
 6346              		.cfi_def_cfa_register 7
 6347 0006 7860     		str	r0, [r7, #4]
3016:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __IO uint32_t count = 0U;
 6348              		.loc 1 3016 17
 6349 0008 0023     		movs	r3, #0
 6350 000a FB60     		str	r3, [r7, #12]
3017:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t response = 0U;
 6351              		.loc 1 3017 12
 6352 000c 0023     		movs	r3, #0
 6353 000e FB61     		str	r3, [r7, #28]
3018:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t validvoltage = 0U;
 6354              		.loc 1 3018 12
 6355 0010 0023     		movs	r3, #0
 6356 0012 BB61     		str	r3, [r7, #24]
3019:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3020:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3021:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 6357              		.loc 1 3021 24
 6358 0014 FFF7FEFF 		bl	HAL_GetTick
 6359 0018 7861     		str	r0, [r7, #20]
3022:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
3023:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3024:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE */
3025:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
 6360              		.loc 1 3025 16
 6361 001a 7B68     		ldr	r3, [r7, #4]
 6362 001c 1B68     		ldr	r3, [r3]
 6363 001e 1846     		mov	r0, r3
 6364 0020 FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 6365 0024 3861     		str	r0, [r7, #16]
3026:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6366              		.loc 1 3026 6
 6367 0026 3B69     		ldr	r3, [r7, #16]
 6368 0028 002B     		cmp	r3, #0
 6369 002a 01D0     		beq	.L292
3027:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  /tmp/ccRis3lg.s 			page 167


3028:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 6370              		.loc 1 3028 12
 6371 002c 3B69     		ldr	r3, [r7, #16]
 6372 002e E9E0     		b	.L293
 6373              	.L292:
3029:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3030:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3031:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* CMD8: SEND_IF_COND: Command available only on V2.0 cards */
3032:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdOperCond(hsd->Instance);
 6374              		.loc 1 3032 16
 6375 0030 7B68     		ldr	r3, [r7, #4]
 6376 0032 1B68     		ldr	r3, [r3]
 6377 0034 1846     		mov	r0, r3
 6378 0036 FFF7FEFF 		bl	SDMMC_CmdOperCond
 6379 003a 3861     		str	r0, [r7, #16]
3033:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6380              		.loc 1 3033 6
 6381 003c 3B69     		ldr	r3, [r7, #16]
 6382 003e 002B     		cmp	r3, #0
 6383 0040 0DD0     		beq	.L294
3034:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3035:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V1_X;
 6384              		.loc 1 3035 29
 6385 0042 7B68     		ldr	r3, [r7, #4]
 6386 0044 0022     		movs	r2, #0
 6387 0046 1A64     		str	r2, [r3, #64]
3036:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
3037:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
 6388              		.loc 1 3037 18
 6389 0048 7B68     		ldr	r3, [r7, #4]
 6390 004a 1B68     		ldr	r3, [r3]
 6391 004c 1846     		mov	r0, r3
 6392 004e FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 6393 0052 3861     		str	r0, [r7, #16]
3038:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 6394              		.loc 1 3038 8
 6395 0054 3B69     		ldr	r3, [r7, #16]
 6396 0056 002B     		cmp	r3, #0
 6397 0058 04D0     		beq	.L295
3039:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3040:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 6398              		.loc 1 3040 14
 6399 005a 3B69     		ldr	r3, [r7, #16]
 6400 005c D2E0     		b	.L293
 6401              	.L294:
3041:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3042:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3043:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3044:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3045:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3046:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V2_X;
 6402              		.loc 1 3046 29
 6403 005e 7B68     		ldr	r3, [r7, #4]
 6404 0060 0122     		movs	r2, #1
 6405 0062 1A64     		str	r2, [r3, #64]
 6406              	.L295:
3047:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /tmp/ccRis3lg.s 			page 168


3048:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3049:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardVersion == CARD_V2_X)
 6407              		.loc 1 3049 18
 6408 0064 7B68     		ldr	r3, [r7, #4]
 6409 0066 1B6C     		ldr	r3, [r3, #64]
 6410              		.loc 1 3049 6
 6411 0068 012B     		cmp	r3, #1
 6412 006a 37D1     		bne	.L297
3050:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3051:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3052:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
 6413              		.loc 1 3052 18
 6414 006c 7B68     		ldr	r3, [r7, #4]
 6415 006e 1B68     		ldr	r3, [r3]
 6416 0070 0021     		movs	r1, #0
 6417 0072 1846     		mov	r0, r3
 6418 0074 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 6419 0078 3861     		str	r0, [r7, #16]
3053:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 6420              		.loc 1 3053 8
 6421 007a 3B69     		ldr	r3, [r7, #16]
 6422 007c 002B     		cmp	r3, #0
 6423 007e 2DD0     		beq	.L297
3054:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3055:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 6424              		.loc 1 3055 14
 6425 0080 4FF08053 		mov	r3, #268435456
 6426 0084 BEE0     		b	.L293
 6427              	.L303:
3056:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3057:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3058:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* SD CARD */
3059:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
3060:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((count < SDMMC_MAX_VOLT_TRIAL) && (validvoltage == 0U))
3061:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3062:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
3063:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
 6428              		.loc 1 3063 18
 6429 0086 7B68     		ldr	r3, [r7, #4]
 6430 0088 1B68     		ldr	r3, [r3]
 6431 008a 0021     		movs	r1, #0
 6432 008c 1846     		mov	r0, r3
 6433 008e FFF7FEFF 		bl	SDMMC_CmdAppCommand
 6434 0092 3861     		str	r0, [r7, #16]
3064:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 6435              		.loc 1 3064 8
 6436 0094 3B69     		ldr	r3, [r7, #16]
 6437 0096 002B     		cmp	r3, #0
 6438 0098 01D0     		beq	.L298
3065:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3066:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 6439              		.loc 1 3066 14
 6440 009a 3B69     		ldr	r3, [r7, #16]
 6441 009c B2E0     		b	.L293
 6442              	.L298:
3067:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3068:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 169


3069:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD41 */
3070:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppOperCommand(hsd->Instance, SDMMC_VOLTAGE_WINDOW_SD | SDMMC_HIGH_CAPACI
 6443              		.loc 1 3070 18
 6444 009e 7B68     		ldr	r3, [r7, #4]
 6445 00a0 1B68     		ldr	r3, [r3]
 6446 00a2 5A49     		ldr	r1, .L313
 6447 00a4 1846     		mov	r0, r3
 6448 00a6 FFF7FEFF 		bl	SDMMC_CmdAppOperCommand
 6449 00aa 3861     		str	r0, [r7, #16]
3071:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                                          SD_SWITCH_1_8V_CAPACITY);
3072:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 6450              		.loc 1 3072 8
 6451 00ac 3B69     		ldr	r3, [r7, #16]
 6452 00ae 002B     		cmp	r3, #0
 6453 00b0 02D0     		beq	.L299
3073:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3074:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 6454              		.loc 1 3074 14
 6455 00b2 4FF08053 		mov	r3, #268435456
 6456 00b6 A5E0     		b	.L293
 6457              	.L299:
3075:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3076:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3077:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get command response */
3078:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     response = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
 6458              		.loc 1 3078 16
 6459 00b8 7B68     		ldr	r3, [r7, #4]
 6460 00ba 1B68     		ldr	r3, [r3]
 6461 00bc 0021     		movs	r1, #0
 6462 00be 1846     		mov	r0, r3
 6463 00c0 FFF7FEFF 		bl	SDMMC_GetResponse
 6464 00c4 F861     		str	r0, [r7, #28]
3079:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3080:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Get operating voltage*/
3081:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
 6465              		.loc 1 3081 32
 6466 00c6 FB69     		ldr	r3, [r7, #28]
 6467 00c8 DB0F     		lsrs	r3, r3, #31
 6468              		.loc 1 3081 52
 6469 00ca 012B     		cmp	r3, #1
 6470 00cc 01D1     		bne	.L300
 6471              		.loc 1 3081 52 is_stmt 0 discriminator 1
 6472 00ce 0123     		movs	r3, #1
 6473 00d0 00E0     		b	.L301
 6474              	.L300:
 6475              		.loc 1 3081 52 discriminator 2
 6476 00d2 0023     		movs	r3, #0
 6477              	.L301:
 6478              		.loc 1 3081 18 is_stmt 1 discriminator 4
 6479 00d4 BB61     		str	r3, [r7, #24]
3082:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3083:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     count++;
 6480              		.loc 1 3083 10 discriminator 4
 6481 00d6 FB68     		ldr	r3, [r7, #12]
 6482 00d8 0133     		adds	r3, r3, #1
 6483 00da FB60     		str	r3, [r7, #12]
 6484              	.L297:
ARM GAS  /tmp/ccRis3lg.s 			page 170


3060:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6485              		.loc 1 3060 17
 6486 00dc FB68     		ldr	r3, [r7, #12]
3060:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6487              		.loc 1 3060 9
 6488 00de 4FF6FE72 		movw	r2, #65534
 6489 00e2 9342     		cmp	r3, r2
 6490 00e4 02D8     		bhi	.L302
3060:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6491              		.loc 1 3060 41 discriminator 1
 6492 00e6 BB69     		ldr	r3, [r7, #24]
 6493 00e8 002B     		cmp	r3, #0
 6494 00ea CCD0     		beq	.L303
 6495              	.L302:
3084:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3085:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3086:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (count >= SDMMC_MAX_VOLT_TRIAL)
 6496              		.loc 1 3086 13
 6497 00ec FB68     		ldr	r3, [r7, #12]
 6498              		.loc 1 3086 6
 6499 00ee 4FF6FE72 		movw	r2, #65534
 6500 00f2 9342     		cmp	r3, r2
 6501 00f4 02D9     		bls	.L304
3087:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3088:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_INVALID_VOLTRANGE;
 6502              		.loc 1 3088 12
 6503 00f6 4FF08073 		mov	r3, #16777216
 6504 00fa 83E0     		b	.L293
 6505              	.L304:
3089:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3090:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3091:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((response & SDMMC_HIGH_CAPACITY) == SDMMC_HIGH_CAPACITY) /* (response &= SD_HIGH_CAPACITY) */
 6506              		.loc 1 3091 17
 6507 00fc FB69     		ldr	r3, [r7, #28]
 6508 00fe 03F08043 		and	r3, r3, #1073741824
 6509              		.loc 1 3091 6
 6510 0102 002B     		cmp	r3, #0
 6511 0104 7DD0     		beq	.L305
3092:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3093:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDHC_SDXC;
 6512              		.loc 1 3093 26
 6513 0106 7B68     		ldr	r3, [r7, #4]
 6514 0108 0122     		movs	r2, #1
 6515 010a DA63     		str	r2, [r3, #60]
3094:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3095:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (hsd->Init.TranceiverPresent == SDMMC_TRANSCEIVER_PRESENT)
 6516              		.loc 1 3095 18
 6517 010c 7B68     		ldr	r3, [r7, #4]
 6518 010e 9B69     		ldr	r3, [r3, #24]
 6519              		.loc 1 3095 8
 6520 0110 022B     		cmp	r3, #2
 6521 0112 76D1     		bne	.L305
3096:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3097:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((response & SD_SWITCH_1_8V_CAPACITY) == SD_SWITCH_1_8V_CAPACITY)
 6522              		.loc 1 3097 21
 6523 0114 FB69     		ldr	r3, [r7, #28]
 6524 0116 03F08073 		and	r3, r3, #16777216
ARM GAS  /tmp/ccRis3lg.s 			page 171


 6525              		.loc 1 3097 10
 6526 011a 002B     		cmp	r3, #0
 6527 011c 71D0     		beq	.L305
3098:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3099:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->SdCard.CardSpeed = CARD_ULTRA_HIGH_SPEED;
 6528              		.loc 1 3099 31
 6529 011e 7B68     		ldr	r3, [r7, #4]
 6530 0120 4FF40072 		mov	r2, #512
 6531 0124 DA65     		str	r2, [r3, #92]
3100:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3101:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Start switching procedue */
3102:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->POWER |= SDMMC_POWER_VSWITCHEN;
 6532              		.loc 1 3102 12
 6533 0126 7B68     		ldr	r3, [r7, #4]
 6534 0128 1B68     		ldr	r3, [r3]
 6535              		.loc 1 3102 30
 6536 012a 1A68     		ldr	r2, [r3]
 6537              		.loc 1 3102 12
 6538 012c 7B68     		ldr	r3, [r7, #4]
 6539 012e 1B68     		ldr	r3, [r3]
 6540              		.loc 1 3102 30
 6541 0130 42F00802 		orr	r2, r2, #8
 6542 0134 1A60     		str	r2, [r3]
3103:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3104:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Send CMD11 to switch 1.8V mode */
3105:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         errorstate = SDMMC_CmdVoltageSwitch(hsd->Instance);
 6543              		.loc 1 3105 22
 6544 0136 7B68     		ldr	r3, [r7, #4]
 6545 0138 1B68     		ldr	r3, [r3]
 6546 013a 1846     		mov	r0, r3
 6547 013c FFF7FEFF 		bl	SDMMC_CmdVoltageSwitch
 6548 0140 3861     		str	r0, [r7, #16]
3106:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if (errorstate != HAL_SD_ERROR_NONE)
 6549              		.loc 1 3106 12
 6550 0142 3B69     		ldr	r3, [r7, #16]
 6551 0144 002B     		cmp	r3, #0
 6552 0146 0CD0     		beq	.L307
3107:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3108:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return errorstate;
 6553              		.loc 1 3108 18
 6554 0148 3B69     		ldr	r3, [r7, #16]
 6555 014a 5BE0     		b	.L293
 6556              	.L308:
3109:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3110:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3111:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Check to CKSTOP */
3112:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         while ((hsd->Instance->STA & SDMMC_FLAG_CKSTOP) != SDMMC_FLAG_CKSTOP)
3113:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3114:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 6557              		.loc 1 3114 16
 6558 014c FFF7FEFF 		bl	HAL_GetTick
 6559 0150 0246     		mov	r2, r0
 6560              		.loc 1 3114 30
 6561 0152 7B69     		ldr	r3, [r7, #20]
 6562 0154 D31A     		subs	r3, r2, r3
 6563              		.loc 1 3114 14
 6564 0156 B3F1FF3F 		cmp	r3, #-1
ARM GAS  /tmp/ccRis3lg.s 			page 172


 6565 015a 02D1     		bne	.L307
3115:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3116:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_SD_ERROR_TIMEOUT;
 6566              		.loc 1 3116 20
 6567 015c 4FF00043 		mov	r3, #-2147483648
 6568 0160 50E0     		b	.L293
 6569              	.L307:
3112:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6570              		.loc 1 3112 20
 6571 0162 7B68     		ldr	r3, [r7, #4]
 6572 0164 1B68     		ldr	r3, [r3]
3112:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6573              		.loc 1 3112 30
 6574 0166 5B6B     		ldr	r3, [r3, #52]
3112:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6575              		.loc 1 3112 36
 6576 0168 03F08063 		and	r3, r3, #67108864
3112:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 6577              		.loc 1 3112 15
 6578 016c B3F1806F 		cmp	r3, #67108864
 6579 0170 ECD1     		bne	.L308
3117:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3118:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3119:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3120:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Clear CKSTOP Flag */
3121:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->Instance->ICR = SDMMC_FLAG_CKSTOP;
 6580              		.loc 1 3121 12
 6581 0172 7B68     		ldr	r3, [r7, #4]
 6582 0174 1B68     		ldr	r3, [r3]
 6583              		.loc 1 3121 28
 6584 0176 4FF08062 		mov	r2, #67108864
 6585 017a 9A63     		str	r2, [r3, #56]
3122:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3123:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         /* Check to BusyD0 */
3124:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         if ((hsd->Instance->STA & SDMMC_FLAG_BUSYD0) != SDMMC_FLAG_BUSYD0)
 6586              		.loc 1 3124 17
 6587 017c 7B68     		ldr	r3, [r7, #4]
 6588 017e 1B68     		ldr	r3, [r3]
 6589              		.loc 1 3124 27
 6590 0180 5B6B     		ldr	r3, [r3, #52]
 6591              		.loc 1 3124 33
 6592 0182 03F48013 		and	r3, r3, #1048576
 6593              		.loc 1 3124 12
 6594 0186 B3F5801F 		cmp	r3, #1048576
 6595 018a 02D0     		beq	.L309
3125:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3126:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Error when activate Voltage Switch in SDMMC Peripheral */
3127:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           return SDMMC_ERROR_UNSUPPORTED_FEATURE;
 6596              		.loc 1 3127 18
 6597 018c 4FF08053 		mov	r3, #268435456
 6598 0190 38E0     		b	.L293
 6599              	.L309:
3128:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3129:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         else
3130:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3131:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Enable Transceiver Switch PIN */
3132:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
ARM GAS  /tmp/ccRis3lg.s 			page 173


3133:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->DriveTransceiver_1_8V_Callback(SET);
3134:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3135:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           HAL_SD_DriveTransceiver_1_8V_Callback(SET);
 6600              		.loc 1 3135 11
 6601 0192 0120     		movs	r0, #1
 6602 0194 FFF7FEFF 		bl	HAL_SD_DriveTransceiver_1_8V_Callback
3136:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3137:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3138:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Switch ready */
3139:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->POWER |= SDMMC_POWER_VSWITCH;
 6603              		.loc 1 3139 14
 6604 0198 7B68     		ldr	r3, [r7, #4]
 6605 019a 1B68     		ldr	r3, [r3]
 6606              		.loc 1 3139 32
 6607 019c 1A68     		ldr	r2, [r3]
 6608              		.loc 1 3139 14
 6609 019e 7B68     		ldr	r3, [r7, #4]
 6610 01a0 1B68     		ldr	r3, [r3]
 6611              		.loc 1 3139 32
 6612 01a2 42F00402 		orr	r2, r2, #4
 6613 01a6 1A60     		str	r2, [r3]
3140:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3141:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Check VSWEND Flag */
3142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           while ((hsd->Instance->STA & SDMMC_FLAG_VSWEND) != SDMMC_FLAG_VSWEND)
 6614              		.loc 1 3142 17
 6615 01a8 0AE0     		b	.L310
 6616              	.L311:
3143:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3144:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 6617              		.loc 1 3144 18
 6618 01aa FFF7FEFF 		bl	HAL_GetTick
 6619 01ae 0246     		mov	r2, r0
 6620              		.loc 1 3144 32
 6621 01b0 7B69     		ldr	r3, [r7, #20]
 6622 01b2 D31A     		subs	r3, r2, r3
 6623              		.loc 1 3144 16
 6624 01b4 B3F1FF3F 		cmp	r3, #-1
 6625 01b8 02D1     		bne	.L310
3145:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             {
3146:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****               return HAL_SD_ERROR_TIMEOUT;
 6626              		.loc 1 3146 22
 6627 01ba 4FF00043 		mov	r3, #-2147483648
 6628 01be 21E0     		b	.L293
 6629              	.L310:
3142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6630              		.loc 1 3142 22
 6631 01c0 7B68     		ldr	r3, [r7, #4]
 6632 01c2 1B68     		ldr	r3, [r3]
3142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6633              		.loc 1 3142 32
 6634 01c4 5B6B     		ldr	r3, [r3, #52]
3142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6635              		.loc 1 3142 38
 6636 01c6 03F00073 		and	r3, r3, #33554432
3142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
 6637              		.loc 1 3142 17
 6638 01ca B3F1007F 		cmp	r3, #33554432
ARM GAS  /tmp/ccRis3lg.s 			page 174


 6639 01ce ECD1     		bne	.L311
3147:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             }
3148:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3149:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3150:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clear VSWEND Flag */
3151:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->ICR = SDMMC_FLAG_VSWEND;
 6640              		.loc 1 3151 14
 6641 01d0 7B68     		ldr	r3, [r7, #4]
 6642 01d2 1B68     		ldr	r3, [r3]
 6643              		.loc 1 3151 30
 6644 01d4 4FF00072 		mov	r2, #33554432
 6645 01d8 9A63     		str	r2, [r3, #56]
3152:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3153:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Check BusyD0 status */
3154:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           if ((hsd->Instance->STA & SDMMC_FLAG_BUSYD0) == SDMMC_FLAG_BUSYD0)
 6646              		.loc 1 3154 19
 6647 01da 7B68     		ldr	r3, [r7, #4]
 6648 01dc 1B68     		ldr	r3, [r3]
 6649              		.loc 1 3154 29
 6650 01de 5B6B     		ldr	r3, [r3, #52]
 6651              		.loc 1 3154 35
 6652 01e0 03F48013 		and	r3, r3, #1048576
 6653              		.loc 1 3154 14
 6654 01e4 B3F5801F 		cmp	r3, #1048576
 6655 01e8 02D1     		bne	.L312
3155:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           {
3156:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             /* Error when enabling 1.8V mode */
3157:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             return HAL_SD_ERROR_INVALID_VOLTRANGE;
 6656              		.loc 1 3157 20
 6657 01ea 4FF08073 		mov	r3, #16777216
 6658 01ee 09E0     		b	.L293
 6659              	.L312:
3158:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           }
3159:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Switch to 1.8V OK */
3160:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3161:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Disable VSWITCH FLAG from SDMMC Peripheral */
3162:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->POWER = 0x13U;
 6660              		.loc 1 3162 14
 6661 01f0 7B68     		ldr	r3, [r7, #4]
 6662 01f2 1B68     		ldr	r3, [r3]
 6663              		.loc 1 3162 32
 6664 01f4 1322     		movs	r2, #19
 6665 01f6 1A60     		str	r2, [r3]
3163:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3164:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           /* Clean Status flags */
3165:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           hsd->Instance->ICR = 0xFFFFFFFFU;
 6666              		.loc 1 3165 14
 6667 01f8 7B68     		ldr	r3, [r7, #4]
 6668 01fa 1B68     		ldr	r3, [r3]
 6669              		.loc 1 3165 30
 6670 01fc 4FF0FF32 		mov	r2, #-1
 6671 0200 9A63     		str	r2, [r3, #56]
 6672              	.L305:
3166:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3167:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3168:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3169:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER  */
ARM GAS  /tmp/ccRis3lg.s 			page 175


3170:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3171:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3172:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
 6673              		.loc 1 3172 10
 6674 0202 0023     		movs	r3, #0
 6675              	.L293:
3173:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6676              		.loc 1 3173 1
 6677 0204 1846     		mov	r0, r3
 6678 0206 2037     		adds	r7, r7, #32
 6679              	.LCFI165:
 6680              		.cfi_def_cfa_offset 8
 6681 0208 BD46     		mov	sp, r7
 6682              	.LCFI166:
 6683              		.cfi_def_cfa_register 13
 6684              		@ sp needed
 6685 020a 80BD     		pop	{r7, pc}
 6686              	.L314:
 6687              		.align	2
 6688              	.L313:
 6689 020c 000010C1 		.word	-1055916032
 6690              		.cfi_endproc
 6691              	.LFE361:
 6693              		.section	.text.SD_PowerOFF,"ax",%progbits
 6694              		.align	1
 6695              		.syntax unified
 6696              		.thumb
 6697              		.thumb_func
 6698              		.fpu fpv5-d16
 6700              	SD_PowerOFF:
 6701              	.LFB362:
3174:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3175:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3176:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Turns the SDMMC output signals off.
3177:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3178:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3179:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3180:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_PowerOFF(SD_HandleTypeDef *hsd)
3181:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6702              		.loc 1 3181 1
 6703              		.cfi_startproc
 6704              		@ args = 0, pretend = 0, frame = 8
 6705              		@ frame_needed = 1, uses_anonymous_args = 0
 6706 0000 80B5     		push	{r7, lr}
 6707              	.LCFI167:
 6708              		.cfi_def_cfa_offset 8
 6709              		.cfi_offset 7, -8
 6710              		.cfi_offset 14, -4
 6711 0002 82B0     		sub	sp, sp, #8
 6712              	.LCFI168:
 6713              		.cfi_def_cfa_offset 16
 6714 0004 00AF     		add	r7, sp, #0
 6715              	.LCFI169:
 6716              		.cfi_def_cfa_register 7
 6717 0006 7860     		str	r0, [r7, #4]
3182:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Power State to OFF */
3183:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_PowerState_OFF(hsd->Instance);
ARM GAS  /tmp/ccRis3lg.s 			page 176


 6718              		.loc 1 3183 9
 6719 0008 7B68     		ldr	r3, [r7, #4]
 6720 000a 1B68     		ldr	r3, [r3]
 6721 000c 1846     		mov	r0, r3
 6722 000e FFF7FEFF 		bl	SDMMC_PowerState_OFF
3184:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 6723              		.loc 1 3184 1
 6724 0012 00BF     		nop
 6725 0014 0837     		adds	r7, r7, #8
 6726              	.LCFI170:
 6727              		.cfi_def_cfa_offset 8
 6728 0016 BD46     		mov	sp, r7
 6729              	.LCFI171:
 6730              		.cfi_def_cfa_register 13
 6731              		@ sp needed
 6732 0018 80BD     		pop	{r7, pc}
 6733              		.cfi_endproc
 6734              	.LFE362:
 6736              		.section	.text.SD_SendSDStatus,"ax",%progbits
 6737              		.align	1
 6738              		.syntax unified
 6739              		.thumb
 6740              		.thumb_func
 6741              		.fpu fpv5-d16
 6743              	SD_SendSDStatus:
 6744              	.LFB363:
3185:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3186:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3187:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Send Status info command.
3188:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
3189:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pSDstatus: Pointer to the buffer that will contain the SD card status
3190:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         SD Status register)
3191:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3192:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3193:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
3194:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 6745              		.loc 1 3194 1
 6746              		.cfi_startproc
 6747              		@ args = 0, pretend = 0, frame = 48
 6748              		@ frame_needed = 1, uses_anonymous_args = 0
 6749 0000 80B5     		push	{r7, lr}
 6750              	.LCFI172:
 6751              		.cfi_def_cfa_offset 8
 6752              		.cfi_offset 7, -8
 6753              		.cfi_offset 14, -4
 6754 0002 8CB0     		sub	sp, sp, #48
 6755              	.LCFI173:
 6756              		.cfi_def_cfa_offset 56
 6757 0004 00AF     		add	r7, sp, #0
 6758              	.LCFI174:
 6759              		.cfi_def_cfa_register 7
 6760 0006 7860     		str	r0, [r7, #4]
 6761 0008 3960     		str	r1, [r7]
3195:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3196:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3197:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 6762              		.loc 1 3197 24
ARM GAS  /tmp/ccRis3lg.s 			page 177


 6763 000a FFF7FEFF 		bl	HAL_GetTick
 6764 000e 7862     		str	r0, [r7, #36]
3198:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3199:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
 6765              		.loc 1 3199 13
 6766 0010 3B68     		ldr	r3, [r7]
 6767 0012 BB62     		str	r3, [r7, #40]
3200:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3201:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Check SD response */
3202:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
 6768              		.loc 1 3202 8
 6769 0014 7B68     		ldr	r3, [r7, #4]
 6770 0016 1B68     		ldr	r3, [r3]
 6771 0018 0021     		movs	r1, #0
 6772 001a 1846     		mov	r0, r3
 6773 001c FFF7FEFF 		bl	SDMMC_GetResponse
 6774 0020 0346     		mov	r3, r0
 6775              		.loc 1 3202 54
 6776 0022 03F00073 		and	r3, r3, #33554432
 6777              		.loc 1 3202 6
 6778 0026 B3F1007F 		cmp	r3, #33554432
 6779 002a 02D1     		bne	.L317
3203:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3204:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 6780              		.loc 1 3204 12
 6781 002c 4FF40063 		mov	r3, #2048
 6782 0030 B0E0     		b	.L332
 6783              	.L317:
3205:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3206:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3207:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
3208:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 6784              		.loc 1 3208 16
 6785 0032 7B68     		ldr	r3, [r7, #4]
 6786 0034 1B68     		ldr	r3, [r3]
 6787 0036 4021     		movs	r1, #64
 6788 0038 1846     		mov	r0, r3
 6789 003a FFF7FEFF 		bl	SDMMC_CmdBlockLength
 6790 003e 3862     		str	r0, [r7, #32]
3209:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6791              		.loc 1 3209 6
 6792 0040 3B6A     		ldr	r3, [r7, #32]
 6793 0042 002B     		cmp	r3, #0
 6794 0044 05D0     		beq	.L319
3210:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3211:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
 6795              		.loc 1 3211 20
 6796 0046 7B68     		ldr	r3, [r7, #4]
 6797 0048 9A6B     		ldr	r2, [r3, #56]
 6798 004a 7B68     		ldr	r3, [r7, #4]
 6799 004c 9A63     		str	r2, [r3, #56]
3212:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 6800              		.loc 1 3212 12
 6801 004e 3B6A     		ldr	r3, [r7, #32]
 6802 0050 A0E0     		b	.L332
 6803              	.L319:
3213:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /tmp/ccRis3lg.s 			page 178


3214:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3215:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send CMD55 */
3216:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
 6804              		.loc 1 3216 16
 6805 0052 7B68     		ldr	r3, [r7, #4]
 6806 0054 1A68     		ldr	r2, [r3]
 6807              		.loc 1 3216 73
 6808 0056 7B68     		ldr	r3, [r7, #4]
 6809 0058 9B6C     		ldr	r3, [r3, #72]
 6810              		.loc 1 3216 85
 6811 005a 1B04     		lsls	r3, r3, #16
 6812              		.loc 1 3216 16
 6813 005c 1946     		mov	r1, r3
 6814 005e 1046     		mov	r0, r2
 6815 0060 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 6816 0064 3862     		str	r0, [r7, #32]
3217:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6817              		.loc 1 3217 6
 6818 0066 3B6A     		ldr	r3, [r7, #32]
 6819 0068 002B     		cmp	r3, #0
 6820 006a 05D0     		beq	.L320
3218:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3219:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
 6821              		.loc 1 3219 20
 6822 006c 7B68     		ldr	r3, [r7, #4]
 6823 006e 9A6B     		ldr	r2, [r3, #56]
 6824 0070 7B68     		ldr	r3, [r7, #4]
 6825 0072 9A63     		str	r2, [r3, #56]
3220:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 6826              		.loc 1 3220 12
 6827 0074 3B6A     		ldr	r3, [r7, #32]
 6828 0076 8DE0     		b	.L332
 6829              	.L320:
3221:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3222:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3223:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
3224:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
 6830              		.loc 1 3224 24
 6831 0078 4FF0FF33 		mov	r3, #-1
 6832 007c BB60     		str	r3, [r7, #8]
3225:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 64U;
 6833              		.loc 1 3225 24
 6834 007e 4023     		movs	r3, #64
 6835 0080 FB60     		str	r3, [r7, #12]
3226:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B;
 6836              		.loc 1 3226 24
 6837 0082 6023     		movs	r3, #96
 6838 0084 3B61     		str	r3, [r7, #16]
3227:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 6839              		.loc 1 3227 24
 6840 0086 0223     		movs	r3, #2
 6841 0088 7B61     		str	r3, [r7, #20]
3228:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 6842              		.loc 1 3228 24
 6843 008a 0023     		movs	r3, #0
 6844 008c BB61     		str	r3, [r7, #24]
3229:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
ARM GAS  /tmp/ccRis3lg.s 			page 179


 6845              		.loc 1 3229 24
 6846 008e 0123     		movs	r3, #1
 6847 0090 FB61     		str	r3, [r7, #28]
3230:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 6848              		.loc 1 3230 9
 6849 0092 7B68     		ldr	r3, [r7, #4]
 6850 0094 1B68     		ldr	r3, [r3]
 6851 0096 07F10802 		add	r2, r7, #8
 6852 009a 1146     		mov	r1, r2
 6853 009c 1846     		mov	r0, r3
 6854 009e FFF7FEFF 		bl	SDMMC_ConfigData
3231:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3232:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STAUS)  with argument as card's RCA */
3233:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdStatusRegister(hsd->Instance);
 6855              		.loc 1 3233 16
 6856 00a2 7B68     		ldr	r3, [r7, #4]
 6857 00a4 1B68     		ldr	r3, [r3]
 6858 00a6 1846     		mov	r0, r3
 6859 00a8 FFF7FEFF 		bl	SDMMC_CmdStatusRegister
 6860 00ac 3862     		str	r0, [r7, #32]
3234:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 6861              		.loc 1 3234 6
 6862 00ae 3B6A     		ldr	r3, [r7, #32]
 6863 00b0 002B     		cmp	r3, #0
 6864 00b2 2BD0     		beq	.L322
3235:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3236:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
 6865              		.loc 1 3236 20
 6866 00b4 7B68     		ldr	r3, [r7, #4]
 6867 00b6 9A6B     		ldr	r2, [r3, #56]
 6868 00b8 7B68     		ldr	r3, [r7, #4]
 6869 00ba 9A63     		str	r2, [r3, #56]
3237:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 6870              		.loc 1 3237 12
 6871 00bc 3B6A     		ldr	r3, [r7, #32]
 6872 00be 69E0     		b	.L332
 6873              	.L326:
3238:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3239:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3240:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get status data */
3241:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | S
3242:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3243:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
 6874              		.loc 1 3243 9
 6875 00c0 7B68     		ldr	r3, [r7, #4]
 6876 00c2 1B68     		ldr	r3, [r3]
 6877 00c4 5B6B     		ldr	r3, [r3, #52]
 6878 00c6 03F40043 		and	r3, r3, #32768
 6879              		.loc 1 3243 8
 6880 00ca 002B     		cmp	r3, #0
 6881 00cc 13D0     		beq	.L323
3244:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       for (count = 0U; count < 8U; count++)
 6882              		.loc 1 3245 18
 6883 00ce 0023     		movs	r3, #0
 6884 00d0 FB62     		str	r3, [r7, #44]
 6885              		.loc 1 3245 7
ARM GAS  /tmp/ccRis3lg.s 			page 180


 6886 00d2 0DE0     		b	.L324
 6887              	.L325:
3246:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3247:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         *pData = SDMMC_ReadFIFO(hsd->Instance);
 6888              		.loc 1 3247 18 discriminator 3
 6889 00d4 7B68     		ldr	r3, [r7, #4]
 6890 00d6 1B68     		ldr	r3, [r3]
 6891 00d8 1846     		mov	r0, r3
 6892 00da FFF7FEFF 		bl	SDMMC_ReadFIFO
 6893 00de 0246     		mov	r2, r0
 6894              		.loc 1 3247 16 discriminator 3
 6895 00e0 BB6A     		ldr	r3, [r7, #40]
 6896 00e2 1A60     		str	r2, [r3]
3248:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         pData++;
 6897              		.loc 1 3248 14 discriminator 3
 6898 00e4 BB6A     		ldr	r3, [r7, #40]
 6899 00e6 0433     		adds	r3, r3, #4
 6900 00e8 BB62     		str	r3, [r7, #40]
3245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6901              		.loc 1 3245 41 discriminator 3
 6902 00ea FB6A     		ldr	r3, [r7, #44]
 6903 00ec 0133     		adds	r3, r3, #1
 6904 00ee FB62     		str	r3, [r7, #44]
 6905              	.L324:
3245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
 6906              		.loc 1 3245 7 discriminator 1
 6907 00f0 FB6A     		ldr	r3, [r7, #44]
 6908 00f2 072B     		cmp	r3, #7
 6909 00f4 EED9     		bls	.L325
 6910              	.L323:
3249:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3250:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3251:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3252:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 6911              		.loc 1 3252 10
 6912 00f6 FFF7FEFF 		bl	HAL_GetTick
 6913 00fa 0246     		mov	r2, r0
 6914              		.loc 1 3252 24
 6915 00fc 7B6A     		ldr	r3, [r7, #36]
 6916 00fe D31A     		subs	r3, r2, r3
 6917              		.loc 1 3252 8
 6918 0100 B3F1FF3F 		cmp	r3, #-1
 6919 0104 02D1     		bne	.L322
3253:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3254:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
 6920              		.loc 1 3254 14
 6921 0106 4FF00043 		mov	r3, #-2147483648
 6922 010a 43E0     		b	.L332
 6923              	.L322:
3241:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6924              		.loc 1 3241 11
 6925 010c 7B68     		ldr	r3, [r7, #4]
 6926 010e 1B68     		ldr	r3, [r3]
 6927 0110 5B6B     		ldr	r3, [r3, #52]
 6928 0112 03F49573 		and	r3, r3, #298
3241:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6929              		.loc 1 3241 9
ARM GAS  /tmp/ccRis3lg.s 			page 181


 6930 0116 002B     		cmp	r3, #0
 6931 0118 D2D0     		beq	.L326
3255:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3256:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3257:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3258:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 6932              		.loc 1 3258 7
 6933 011a 7B68     		ldr	r3, [r7, #4]
 6934 011c 1B68     		ldr	r3, [r3]
 6935 011e 5B6B     		ldr	r3, [r3, #52]
 6936 0120 03F00803 		and	r3, r3, #8
 6937              		.loc 1 3258 6
 6938 0124 002B     		cmp	r3, #0
 6939 0126 01D0     		beq	.L327
3259:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3260:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
 6940              		.loc 1 3260 12
 6941 0128 0823     		movs	r3, #8
 6942 012a 33E0     		b	.L332
 6943              	.L327:
3261:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3262:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 6944              		.loc 1 3262 12
 6945 012c 7B68     		ldr	r3, [r7, #4]
 6946 012e 1B68     		ldr	r3, [r3]
 6947 0130 5B6B     		ldr	r3, [r3, #52]
 6948 0132 03F00203 		and	r3, r3, #2
 6949              		.loc 1 3262 11
 6950 0136 002B     		cmp	r3, #0
 6951 0138 01D0     		beq	.L328
3263:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3264:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
 6952              		.loc 1 3264 12
 6953 013a 0223     		movs	r3, #2
 6954 013c 2AE0     		b	.L332
 6955              	.L328:
3265:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3266:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 6956              		.loc 1 3266 12
 6957 013e 7B68     		ldr	r3, [r7, #4]
 6958 0140 1B68     		ldr	r3, [r3]
 6959 0142 5B6B     		ldr	r3, [r3, #52]
 6960 0144 03F02003 		and	r3, r3, #32
 6961              		.loc 1 3266 11
 6962 0148 002B     		cmp	r3, #0
 6963 014a 17D0     		beq	.L330
3267:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3268:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
 6964              		.loc 1 3268 12
 6965 014c 2023     		movs	r3, #32
 6966 014e 21E0     		b	.L332
 6967              	.L331:
3269:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3270:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3271:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3272:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Nothing to do */
3273:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
ARM GAS  /tmp/ccRis3lg.s 			page 182


3274:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3275:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while ((__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DPSMACT)))
3276:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3277:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *pData = SDMMC_ReadFIFO(hsd->Instance);
 6968              		.loc 1 3277 14
 6969 0150 7B68     		ldr	r3, [r7, #4]
 6970 0152 1B68     		ldr	r3, [r3]
 6971 0154 1846     		mov	r0, r3
 6972 0156 FFF7FEFF 		bl	SDMMC_ReadFIFO
 6973 015a 0246     		mov	r2, r0
 6974              		.loc 1 3277 12
 6975 015c BB6A     		ldr	r3, [r7, #40]
 6976 015e 1A60     		str	r2, [r3]
3278:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     pData++;
 6977              		.loc 1 3278 10
 6978 0160 BB6A     		ldr	r3, [r7, #40]
 6979 0162 0433     		adds	r3, r3, #4
 6980 0164 BB62     		str	r3, [r7, #40]
3279:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3280:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 6981              		.loc 1 3280 10
 6982 0166 FFF7FEFF 		bl	HAL_GetTick
 6983 016a 0246     		mov	r2, r0
 6984              		.loc 1 3280 24
 6985 016c 7B6A     		ldr	r3, [r7, #36]
 6986 016e D31A     		subs	r3, r2, r3
 6987              		.loc 1 3280 8
 6988 0170 B3F1FF3F 		cmp	r3, #-1
 6989 0174 02D1     		bne	.L330
3281:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3282:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
 6990              		.loc 1 3282 14
 6991 0176 4FF00043 		mov	r3, #-2147483648
 6992 017a 0BE0     		b	.L332
 6993              	.L330:
3275:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6994              		.loc 1 3275 11
 6995 017c 7B68     		ldr	r3, [r7, #4]
 6996 017e 1B68     		ldr	r3, [r3]
 6997 0180 5B6B     		ldr	r3, [r3, #52]
 6998 0182 03F48053 		and	r3, r3, #4096
3275:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
 6999              		.loc 1 3275 9
 7000 0186 002B     		cmp	r3, #0
 7001 0188 E2D1     		bne	.L331
3283:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3284:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3285:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3286:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Clear all the static status flags*/
3287:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 7002              		.loc 1 3287 3
 7003 018a 7B68     		ldr	r3, [r7, #4]
 7004 018c 1B68     		ldr	r3, [r3]
 7005 018e 034A     		ldr	r2, .L333
 7006 0190 9A63     		str	r2, [r3, #56]
3288:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3289:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
ARM GAS  /tmp/ccRis3lg.s 			page 183


 7007              		.loc 1 3289 10
 7008 0192 0023     		movs	r3, #0
 7009              	.L332:
3290:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 7010              		.loc 1 3290 1 discriminator 1
 7011 0194 1846     		mov	r0, r3
 7012 0196 3037     		adds	r7, r7, #48
 7013              	.LCFI175:
 7014              		.cfi_def_cfa_offset 8
 7015 0198 BD46     		mov	sp, r7
 7016              	.LCFI176:
 7017              		.cfi_def_cfa_register 13
 7018              		@ sp needed
 7019 019a 80BD     		pop	{r7, pc}
 7020              	.L334:
 7021              		.align	2
 7022              	.L333:
 7023 019c 3A0F0018 		.word	402657082
 7024              		.cfi_endproc
 7025              	.LFE363:
 7027              		.section	.text.SD_SendStatus,"ax",%progbits
 7028              		.align	1
 7029              		.syntax unified
 7030              		.thumb
 7031              		.thumb_func
 7032              		.fpu fpv5-d16
 7034              	SD_SendStatus:
 7035              	.LFB364:
3291:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3292:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3293:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Returns the current card's status.
3294:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3295:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pCardStatus: pointer to the buffer that will contain the SD card
3296:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         status (Card Status register)
3297:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3298:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3299:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
3300:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 7036              		.loc 1 3300 1
 7037              		.cfi_startproc
 7038              		@ args = 0, pretend = 0, frame = 16
 7039              		@ frame_needed = 1, uses_anonymous_args = 0
 7040 0000 80B5     		push	{r7, lr}
 7041              	.LCFI177:
 7042              		.cfi_def_cfa_offset 8
 7043              		.cfi_offset 7, -8
 7044              		.cfi_offset 14, -4
 7045 0002 84B0     		sub	sp, sp, #16
 7046              	.LCFI178:
 7047              		.cfi_def_cfa_offset 24
 7048 0004 00AF     		add	r7, sp, #0
 7049              	.LCFI179:
 7050              		.cfi_def_cfa_register 7
 7051 0006 7860     		str	r0, [r7, #4]
 7052 0008 3960     		str	r1, [r7]
3301:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3302:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 184


3303:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (pCardStatus == NULL)
 7053              		.loc 1 3303 6
 7054 000a 3B68     		ldr	r3, [r7]
 7055 000c 002B     		cmp	r3, #0
 7056 000e 02D1     		bne	.L336
3304:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3305:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_PARAM;
 7057              		.loc 1 3305 12
 7058 0010 4FF00063 		mov	r3, #134217728
 7059 0014 18E0     		b	.L337
 7060              	.L336:
3306:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3307:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3308:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send Status command */
3309:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSendStatus(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
 7061              		.loc 1 3309 16
 7062 0016 7B68     		ldr	r3, [r7, #4]
 7063 0018 1A68     		ldr	r2, [r3]
 7064              		.loc 1 3309 73
 7065 001a 7B68     		ldr	r3, [r7, #4]
 7066 001c 9B6C     		ldr	r3, [r3, #72]
 7067              		.loc 1 3309 85
 7068 001e 1B04     		lsls	r3, r3, #16
 7069              		.loc 1 3309 16
 7070 0020 1946     		mov	r1, r3
 7071 0022 1046     		mov	r0, r2
 7072 0024 FFF7FEFF 		bl	SDMMC_CmdSendStatus
 7073 0028 F860     		str	r0, [r7, #12]
3310:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 7074              		.loc 1 3310 6
 7075 002a FB68     		ldr	r3, [r7, #12]
 7076 002c 002B     		cmp	r3, #0
 7077 002e 01D0     		beq	.L338
3311:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3312:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 7078              		.loc 1 3312 12
 7079 0030 FB68     		ldr	r3, [r7, #12]
 7080 0032 09E0     		b	.L337
 7081              	.L338:
3313:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3314:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3315:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SD card status */
3316:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *pCardStatus = SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1);
 7082              		.loc 1 3316 18
 7083 0034 7B68     		ldr	r3, [r7, #4]
 7084 0036 1B68     		ldr	r3, [r3]
 7085 0038 0021     		movs	r1, #0
 7086 003a 1846     		mov	r0, r3
 7087 003c FFF7FEFF 		bl	SDMMC_GetResponse
 7088 0040 0246     		mov	r2, r0
 7089              		.loc 1 3316 16
 7090 0042 3B68     		ldr	r3, [r7]
 7091 0044 1A60     		str	r2, [r3]
3317:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3318:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
 7092              		.loc 1 3318 10
 7093 0046 0023     		movs	r3, #0
ARM GAS  /tmp/ccRis3lg.s 			page 185


 7094              	.L337:
3319:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 7095              		.loc 1 3319 1
 7096 0048 1846     		mov	r0, r3
 7097 004a 1037     		adds	r7, r7, #16
 7098              	.LCFI180:
 7099              		.cfi_def_cfa_offset 8
 7100 004c BD46     		mov	sp, r7
 7101              	.LCFI181:
 7102              		.cfi_def_cfa_register 13
 7103              		@ sp needed
 7104 004e 80BD     		pop	{r7, pc}
 7105              		.cfi_endproc
 7106              	.LFE364:
 7108              		.section	.text.SD_WideBus_Enable,"ax",%progbits
 7109              		.align	1
 7110              		.syntax unified
 7111              		.thumb
 7112              		.thumb_func
 7113              		.fpu fpv5-d16
 7115              	SD_WideBus_Enable:
 7116              	.LFB365:
3320:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3321:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3322:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Enables the SDMMC wide bus mode.
3323:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
3324:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3325:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3326:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd)
3327:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 7117              		.loc 1 3327 1
 7118              		.cfi_startproc
 7119              		@ args = 0, pretend = 0, frame = 24
 7120              		@ frame_needed = 1, uses_anonymous_args = 0
 7121 0000 80B5     		push	{r7, lr}
 7122              	.LCFI182:
 7123              		.cfi_def_cfa_offset 8
 7124              		.cfi_offset 7, -8
 7125              		.cfi_offset 14, -4
 7126 0002 86B0     		sub	sp, sp, #24
 7127              	.LCFI183:
 7128              		.cfi_def_cfa_offset 32
 7129 0004 00AF     		add	r7, sp, #0
 7130              	.LCFI184:
 7131              		.cfi_def_cfa_register 7
 7132 0006 7860     		str	r0, [r7, #4]
3328:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 7133              		.loc 1 3328 12
 7134 0008 0023     		movs	r3, #0
 7135 000a FB60     		str	r3, [r7, #12]
 7136 000c 0023     		movs	r3, #0
 7137 000e 3B61     		str	r3, [r7, #16]
3329:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3330:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3331:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
 7138              		.loc 1 3331 8
 7139 0010 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRis3lg.s 			page 186


 7140 0012 1B68     		ldr	r3, [r3]
 7141 0014 0021     		movs	r1, #0
 7142 0016 1846     		mov	r0, r3
 7143 0018 FFF7FEFF 		bl	SDMMC_GetResponse
 7144 001c 0346     		mov	r3, r0
 7145              		.loc 1 3331 54
 7146 001e 03F00073 		and	r3, r3, #33554432
 7147              		.loc 1 3331 6
 7148 0022 B3F1007F 		cmp	r3, #33554432
 7149 0026 02D1     		bne	.L340
3332:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3333:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 7150              		.loc 1 3333 12
 7151 0028 4FF40063 		mov	r3, #2048
 7152 002c 2FE0     		b	.L346
 7153              	.L340:
3334:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3335:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3336:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SCR Register */
3337:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
 7154              		.loc 1 3337 16
 7155 002e 07F10C03 		add	r3, r7, #12
 7156 0032 1946     		mov	r1, r3
 7157 0034 7868     		ldr	r0, [r7, #4]
 7158 0036 FFF7FEFF 		bl	SD_FindSCR
 7159 003a 7861     		str	r0, [r7, #20]
3338:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 7160              		.loc 1 3338 6
 7161 003c 7B69     		ldr	r3, [r7, #20]
 7162 003e 002B     		cmp	r3, #0
 7163 0040 01D0     		beq	.L342
3339:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3340:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 7164              		.loc 1 3340 12
 7165 0042 7B69     		ldr	r3, [r7, #20]
 7166 0044 23E0     		b	.L346
 7167              	.L342:
3341:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3342:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3343:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If requested card supports wide bus operation */
3344:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((scr[1U] & SDMMC_WIDE_BUS_SUPPORT) != SDMMC_ALLZERO)
 7168              		.loc 1 3344 11
 7169 0046 3B69     		ldr	r3, [r7, #16]
 7170              		.loc 1 3344 16
 7171 0048 03F48023 		and	r3, r3, #262144
 7172              		.loc 1 3344 6
 7173 004c 002B     		cmp	r3, #0
 7174 004e 1CD0     		beq	.L343
3345:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3346:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
3347:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
 7175              		.loc 1 3347 18
 7176 0050 7B68     		ldr	r3, [r7, #4]
 7177 0052 1A68     		ldr	r2, [r3]
 7178              		.loc 1 3347 75
 7179 0054 7B68     		ldr	r3, [r7, #4]
 7180 0056 9B6C     		ldr	r3, [r3, #72]
ARM GAS  /tmp/ccRis3lg.s 			page 187


 7181              		.loc 1 3347 87
 7182 0058 1B04     		lsls	r3, r3, #16
 7183              		.loc 1 3347 18
 7184 005a 1946     		mov	r1, r3
 7185 005c 1046     		mov	r0, r2
 7186 005e FFF7FEFF 		bl	SDMMC_CmdAppCommand
 7187 0062 7861     		str	r0, [r7, #20]
3348:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 7188              		.loc 1 3348 8
 7189 0064 7B69     		ldr	r3, [r7, #20]
 7190 0066 002B     		cmp	r3, #0
 7191 0068 01D0     		beq	.L344
3349:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3350:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 7192              		.loc 1 3350 14
 7193 006a 7B69     		ldr	r3, [r7, #20]
 7194 006c 0FE0     		b	.L346
 7195              	.L344:
3351:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3352:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3353:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
3354:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 2U);
 7196              		.loc 1 3354 18
 7197 006e 7B68     		ldr	r3, [r7, #4]
 7198 0070 1B68     		ldr	r3, [r3]
 7199 0072 0221     		movs	r1, #2
 7200 0074 1846     		mov	r0, r3
 7201 0076 FFF7FEFF 		bl	SDMMC_CmdBusWidth
 7202 007a 7861     		str	r0, [r7, #20]
3355:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 7203              		.loc 1 3355 8
 7204 007c 7B69     		ldr	r3, [r7, #20]
 7205 007e 002B     		cmp	r3, #0
 7206 0080 01D0     		beq	.L345
3356:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3357:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 7207              		.loc 1 3357 14
 7208 0082 7B69     		ldr	r3, [r7, #20]
 7209 0084 03E0     		b	.L346
 7210              	.L345:
3358:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3359:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3360:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
 7211              		.loc 1 3360 12
 7212 0086 0023     		movs	r3, #0
 7213 0088 01E0     		b	.L346
 7214              	.L343:
3361:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3362:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3363:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3364:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 7215              		.loc 1 3364 12
 7216 008a 4FF08063 		mov	r3, #67108864
 7217              	.L346:
3365:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3366:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 7218              		.loc 1 3366 1 discriminator 1
ARM GAS  /tmp/ccRis3lg.s 			page 188


 7219 008e 1846     		mov	r0, r3
 7220 0090 1837     		adds	r7, r7, #24
 7221              	.LCFI185:
 7222              		.cfi_def_cfa_offset 8
 7223 0092 BD46     		mov	sp, r7
 7224              	.LCFI186:
 7225              		.cfi_def_cfa_register 13
 7226              		@ sp needed
 7227 0094 80BD     		pop	{r7, pc}
 7228              		.cfi_endproc
 7229              	.LFE365:
 7231              		.section	.text.SD_WideBus_Disable,"ax",%progbits
 7232              		.align	1
 7233              		.syntax unified
 7234              		.thumb
 7235              		.thumb_func
 7236              		.fpu fpv5-d16
 7238              	SD_WideBus_Disable:
 7239              	.LFB366:
3367:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3368:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3369:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Disables the SDMMC wide bus mode.
3370:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3371:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3372:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3373:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd)
3374:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 7240              		.loc 1 3374 1
 7241              		.cfi_startproc
 7242              		@ args = 0, pretend = 0, frame = 24
 7243              		@ frame_needed = 1, uses_anonymous_args = 0
 7244 0000 80B5     		push	{r7, lr}
 7245              	.LCFI187:
 7246              		.cfi_def_cfa_offset 8
 7247              		.cfi_offset 7, -8
 7248              		.cfi_offset 14, -4
 7249 0002 86B0     		sub	sp, sp, #24
 7250              	.LCFI188:
 7251              		.cfi_def_cfa_offset 32
 7252 0004 00AF     		add	r7, sp, #0
 7253              	.LCFI189:
 7254              		.cfi_def_cfa_register 7
 7255 0006 7860     		str	r0, [r7, #4]
3375:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t scr[2U] = {0UL, 0UL};
 7256              		.loc 1 3375 12
 7257 0008 0023     		movs	r3, #0
 7258 000a FB60     		str	r3, [r7, #12]
 7259 000c 0023     		movs	r3, #0
 7260 000e 3B61     		str	r3, [r7, #16]
3376:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3377:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3378:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((SDMMC_GetResponse(hsd->Instance, SDMMC_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
 7261              		.loc 1 3378 8
 7262 0010 7B68     		ldr	r3, [r7, #4]
 7263 0012 1B68     		ldr	r3, [r3]
 7264 0014 0021     		movs	r1, #0
 7265 0016 1846     		mov	r0, r3
ARM GAS  /tmp/ccRis3lg.s 			page 189


 7266 0018 FFF7FEFF 		bl	SDMMC_GetResponse
 7267 001c 0346     		mov	r3, r0
 7268              		.loc 1 3378 54
 7269 001e 03F00073 		and	r3, r3, #33554432
 7270              		.loc 1 3378 6
 7271 0022 B3F1007F 		cmp	r3, #33554432
 7272 0026 02D1     		bne	.L348
3379:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3380:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 7273              		.loc 1 3380 12
 7274 0028 4FF40063 		mov	r3, #2048
 7275 002c 2FE0     		b	.L354
 7276              	.L348:
3381:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3382:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3383:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Get SCR Register */
3384:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
 7277              		.loc 1 3384 16
 7278 002e 07F10C03 		add	r3, r7, #12
 7279 0032 1946     		mov	r1, r3
 7280 0034 7868     		ldr	r0, [r7, #4]
 7281 0036 FFF7FEFF 		bl	SD_FindSCR
 7282 003a 7861     		str	r0, [r7, #20]
3385:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 7283              		.loc 1 3385 6
 7284 003c 7B69     		ldr	r3, [r7, #20]
 7285 003e 002B     		cmp	r3, #0
 7286 0040 01D0     		beq	.L350
3386:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3387:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 7287              		.loc 1 3387 12
 7288 0042 7B69     		ldr	r3, [r7, #20]
 7289 0044 23E0     		b	.L354
 7290              	.L350:
3388:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3389:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3390:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3391:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if ((scr[1U] & SDMMC_SINGLE_BUS_SUPPORT) != SDMMC_ALLZERO)
 7291              		.loc 1 3391 11
 7292 0046 3B69     		ldr	r3, [r7, #16]
 7293              		.loc 1 3391 16
 7294 0048 03F48033 		and	r3, r3, #65536
 7295              		.loc 1 3391 6
 7296 004c 002B     		cmp	r3, #0
 7297 004e 1CD0     		beq	.L351
3392:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3393:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3394:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
 7298              		.loc 1 3394 18
 7299 0050 7B68     		ldr	r3, [r7, #4]
 7300 0052 1A68     		ldr	r2, [r3]
 7301              		.loc 1 3394 75
 7302 0054 7B68     		ldr	r3, [r7, #4]
 7303 0056 9B6C     		ldr	r3, [r3, #72]
 7304              		.loc 1 3394 87
 7305 0058 1B04     		lsls	r3, r3, #16
 7306              		.loc 1 3394 18
ARM GAS  /tmp/ccRis3lg.s 			page 190


 7307 005a 1946     		mov	r1, r3
 7308 005c 1046     		mov	r0, r2
 7309 005e FFF7FEFF 		bl	SDMMC_CmdAppCommand
 7310 0062 7861     		str	r0, [r7, #20]
3395:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 7311              		.loc 1 3395 8
 7312 0064 7B69     		ldr	r3, [r7, #20]
 7313 0066 002B     		cmp	r3, #0
 7314 0068 01D0     		beq	.L352
3396:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3397:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 7315              		.loc 1 3397 14
 7316 006a 7B69     		ldr	r3, [r7, #20]
 7317 006c 0FE0     		b	.L354
 7318              	.L352:
3398:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3399:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3400:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3401:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 0U);
 7319              		.loc 1 3401 18
 7320 006e 7B68     		ldr	r3, [r7, #4]
 7321 0070 1B68     		ldr	r3, [r3]
 7322 0072 0021     		movs	r1, #0
 7323 0074 1846     		mov	r0, r3
 7324 0076 FFF7FEFF 		bl	SDMMC_CmdBusWidth
 7325 007a 7861     		str	r0, [r7, #20]
3402:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 7326              		.loc 1 3402 8
 7327 007c 7B69     		ldr	r3, [r7, #20]
 7328 007e 002B     		cmp	r3, #0
 7329 0080 01D0     		beq	.L353
3403:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3404:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 7330              		.loc 1 3404 14
 7331 0082 7B69     		ldr	r3, [r7, #20]
 7332 0084 03E0     		b	.L354
 7333              	.L353:
3405:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3406:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3407:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
 7334              		.loc 1 3407 12
 7335 0086 0023     		movs	r3, #0
 7336 0088 01E0     		b	.L354
 7337              	.L351:
3408:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3409:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3410:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3411:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 7338              		.loc 1 3411 12
 7339 008a 4FF08063 		mov	r3, #67108864
 7340              	.L354:
3412:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3413:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 7341              		.loc 1 3413 1 discriminator 1
 7342 008e 1846     		mov	r0, r3
 7343 0090 1837     		adds	r7, r7, #24
 7344              	.LCFI190:
ARM GAS  /tmp/ccRis3lg.s 			page 191


 7345              		.cfi_def_cfa_offset 8
 7346 0092 BD46     		mov	sp, r7
 7347              	.LCFI191:
 7348              		.cfi_def_cfa_register 13
 7349              		@ sp needed
 7350 0094 80BD     		pop	{r7, pc}
 7351              		.cfi_endproc
 7352              	.LFE366:
 7354              		.section	.text.SD_FindSCR,"ax",%progbits
 7355              		.align	1
 7356              		.syntax unified
 7357              		.thumb
 7358              		.thumb_func
 7359              		.fpu fpv5-d16
 7361              	SD_FindSCR:
 7362              	.LFB367:
3414:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3415:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3416:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3417:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3418:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3419:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  pSCR: pointer to the buffer that will contain the SCR value
3420:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval error state
3421:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3422:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
3423:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 7363              		.loc 1 3423 1
 7364              		.cfi_startproc
 7365              		@ args = 0, pretend = 0, frame = 56
 7366              		@ frame_needed = 1, uses_anonymous_args = 0
 7367 0000 80B5     		push	{r7, lr}
 7368              	.LCFI192:
 7369              		.cfi_def_cfa_offset 8
 7370              		.cfi_offset 7, -8
 7371              		.cfi_offset 14, -4
 7372 0002 8EB0     		sub	sp, sp, #56
 7373              	.LCFI193:
 7374              		.cfi_def_cfa_offset 64
 7375 0004 00AF     		add	r7, sp, #0
 7376              	.LCFI194:
 7377              		.cfi_def_cfa_register 7
 7378 0006 7860     		str	r0, [r7, #4]
 7379 0008 3960     		str	r1, [r7]
3424:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef config;
3425:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate;
3426:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 7380              		.loc 1 3426 24
 7381 000a FFF7FEFF 		bl	HAL_GetTick
 7382 000e 3863     		str	r0, [r7, #48]
3427:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t index = 0U;
 7383              		.loc 1 3427 12
 7384 0010 0023     		movs	r3, #0
 7385 0012 7B63     		str	r3, [r7, #52]
3428:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t tempscr[2U] = {0UL, 0UL};
 7386              		.loc 1 3428 12
 7387 0014 0023     		movs	r3, #0
 7388 0016 BB60     		str	r3, [r7, #8]
ARM GAS  /tmp/ccRis3lg.s 			page 192


 7389 0018 0023     		movs	r3, #0
 7390 001a FB60     		str	r3, [r7, #12]
3429:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t *scr = pSCR;
 7391              		.loc 1 3429 13
 7392 001c 3B68     		ldr	r3, [r7]
 7393 001e FB62     		str	r3, [r7, #44]
3430:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3431:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3432:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 8U);
 7394              		.loc 1 3432 16
 7395 0020 7B68     		ldr	r3, [r7, #4]
 7396 0022 1B68     		ldr	r3, [r3]
 7397 0024 0821     		movs	r1, #8
 7398 0026 1846     		mov	r0, r3
 7399 0028 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 7400 002c B862     		str	r0, [r7, #40]
3433:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 7401              		.loc 1 3433 6
 7402 002e BB6A     		ldr	r3, [r7, #40]
 7403 0030 002B     		cmp	r3, #0
 7404 0032 01D0     		beq	.L356
3434:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3435:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 7405              		.loc 1 3435 12
 7406 0034 BB6A     		ldr	r3, [r7, #40]
 7407 0036 ADE0     		b	.L366
 7408              	.L356:
3436:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3437:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3438:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3439:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)((hsd->SdCard.RelCardAdd) << 16U));
 7409              		.loc 1 3439 16
 7410 0038 7B68     		ldr	r3, [r7, #4]
 7411 003a 1A68     		ldr	r2, [r3]
 7412              		.loc 1 3439 74
 7413 003c 7B68     		ldr	r3, [r7, #4]
 7414 003e 9B6C     		ldr	r3, [r3, #72]
 7415              		.loc 1 3439 87
 7416 0040 1B04     		lsls	r3, r3, #16
 7417              		.loc 1 3439 16
 7418 0042 1946     		mov	r1, r3
 7419 0044 1046     		mov	r0, r2
 7420 0046 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 7421 004a B862     		str	r0, [r7, #40]
3440:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 7422              		.loc 1 3440 6
 7423 004c BB6A     		ldr	r3, [r7, #40]
 7424 004e 002B     		cmp	r3, #0
 7425 0050 01D0     		beq	.L358
3441:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3442:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 7426              		.loc 1 3442 12
 7427 0052 BB6A     		ldr	r3, [r7, #40]
 7428 0054 9EE0     		b	.L366
 7429              	.L358:
3443:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3444:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 193


3445:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
 7430              		.loc 1 3445 24
 7431 0056 4FF0FF33 		mov	r3, #-1
 7432 005a 3B61     		str	r3, [r7, #16]
3446:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataLength    = 8U;
 7433              		.loc 1 3446 24
 7434 005c 0823     		movs	r3, #8
 7435 005e 7B61     		str	r3, [r7, #20]
3447:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DataBlockSize = SDMMC_DATABLOCK_SIZE_8B;
 7436              		.loc 1 3447 24
 7437 0060 3023     		movs	r3, #48
 7438 0062 BB61     		str	r3, [r7, #24]
3448:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 7439              		.loc 1 3448 24
 7440 0064 0223     		movs	r3, #2
 7441 0066 FB61     		str	r3, [r7, #28]
3449:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 7442              		.loc 1 3449 24
 7443 0068 0023     		movs	r3, #0
 7444 006a 3B62     		str	r3, [r7, #32]
3450:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   config.DPSM          = SDMMC_DPSM_ENABLE;
 7445              		.loc 1 3450 24
 7446 006c 0123     		movs	r3, #1
 7447 006e 7B62     		str	r3, [r7, #36]
3451:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   (void)SDMMC_ConfigData(hsd->Instance, &config);
 7448              		.loc 1 3451 9
 7449 0070 7B68     		ldr	r3, [r7, #4]
 7450 0072 1B68     		ldr	r3, [r3]
 7451 0074 07F11002 		add	r2, r7, #16
 7452 0078 1146     		mov	r1, r2
 7453 007a 1846     		mov	r0, r3
 7454 007c FFF7FEFF 		bl	SDMMC_ConfigData
3452:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3453:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3454:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   errorstate = SDMMC_CmdSendSCR(hsd->Instance);
 7455              		.loc 1 3454 16
 7456 0080 7B68     		ldr	r3, [r7, #4]
 7457 0082 1B68     		ldr	r3, [r3]
 7458 0084 1846     		mov	r0, r3
 7459 0086 FFF7FEFF 		bl	SDMMC_CmdSendSCR
 7460 008a B862     		str	r0, [r7, #40]
3455:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (errorstate != HAL_SD_ERROR_NONE)
 7461              		.loc 1 3455 6
 7462 008c BB6A     		ldr	r3, [r7, #40]
 7463 008e 002B     		cmp	r3, #0
 7464 0090 27D0     		beq	.L360
3456:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3457:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return errorstate;
 7465              		.loc 1 3457 12
 7466 0092 BB6A     		ldr	r3, [r7, #40]
 7467 0094 7EE0     		b	.L366
 7468              	.L362:
3458:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3459:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3460:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT | S
3461:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
3462:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
ARM GAS  /tmp/ccRis3lg.s 			page 194


3463:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOE)) && (index == 0U))
 7469              		.loc 1 3463 11
 7470 0096 7B68     		ldr	r3, [r7, #4]
 7471 0098 1B68     		ldr	r3, [r3]
 7472 009a 5B6B     		ldr	r3, [r3, #52]
 7473 009c 03F40023 		and	r3, r3, #524288
 7474              		.loc 1 3463 8
 7475 00a0 002B     		cmp	r3, #0
 7476 00a2 13D1     		bne	.L361
 7477              		.loc 1 3463 55 discriminator 1
 7478 00a4 7B6B     		ldr	r3, [r7, #52]
 7479 00a6 002B     		cmp	r3, #0
 7480 00a8 10D1     		bne	.L361
3464:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3465:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[0] = SDMMC_ReadFIFO(hsd->Instance);
 7481              		.loc 1 3465 20
 7482 00aa 7B68     		ldr	r3, [r7, #4]
 7483 00ac 1B68     		ldr	r3, [r3]
 7484 00ae 1846     		mov	r0, r3
 7485 00b0 FFF7FEFF 		bl	SDMMC_ReadFIFO
 7486 00b4 0346     		mov	r3, r0
 7487              		.loc 1 3465 18
 7488 00b6 BB60     		str	r3, [r7, #8]
3466:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tempscr[1] = SDMMC_ReadFIFO(hsd->Instance);
 7489              		.loc 1 3466 20
 7490 00b8 7B68     		ldr	r3, [r7, #4]
 7491 00ba 1B68     		ldr	r3, [r3]
 7492 00bc 1846     		mov	r0, r3
 7493 00be FFF7FEFF 		bl	SDMMC_ReadFIFO
 7494 00c2 0346     		mov	r3, r0
 7495              		.loc 1 3466 18
 7496 00c4 FB60     		str	r3, [r7, #12]
3467:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       index++;
 7497              		.loc 1 3467 12
 7498 00c6 7B6B     		ldr	r3, [r7, #52]
 7499 00c8 0133     		adds	r3, r3, #1
 7500 00ca 7B63     		str	r3, [r7, #52]
 7501              	.L361:
3468:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3469:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3470:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3471:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
 7502              		.loc 1 3471 10
 7503 00cc FFF7FEFF 		bl	HAL_GetTick
 7504 00d0 0246     		mov	r2, r0
 7505              		.loc 1 3471 24
 7506 00d2 3B6B     		ldr	r3, [r7, #48]
 7507 00d4 D31A     		subs	r3, r2, r3
 7508              		.loc 1 3471 8
 7509 00d6 B3F1FF3F 		cmp	r3, #-1
 7510 00da 02D1     		bne	.L360
3472:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3473:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
 7511              		.loc 1 3473 14
 7512 00dc 4FF00043 		mov	r3, #-2147483648
 7513 00e0 58E0     		b	.L366
 7514              	.L360:
ARM GAS  /tmp/ccRis3lg.s 			page 195


3460:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 7515              		.loc 1 3460 11
 7516 00e2 7B68     		ldr	r3, [r7, #4]
 7517 00e4 1B68     		ldr	r3, [r3]
 7518 00e6 5A6B     		ldr	r2, [r3, #52]
 7519 00e8 40F22A53 		movw	r3, #1322
 7520 00ec 1340     		ands	r3, r3, r2
3460:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                             SDMMC_FLAG_DATAEND))
 7521              		.loc 1 3460 9
 7522 00ee 002B     		cmp	r3, #0
 7523 00f0 D1D0     		beq	.L362
3474:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3475:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3476:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3477:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 7524              		.loc 1 3477 7
 7525 00f2 7B68     		ldr	r3, [r7, #4]
 7526 00f4 1B68     		ldr	r3, [r3]
 7527 00f6 5B6B     		ldr	r3, [r3, #52]
 7528 00f8 03F00803 		and	r3, r3, #8
 7529              		.loc 1 3477 6
 7530 00fc 002B     		cmp	r3, #0
 7531 00fe 05D0     		beq	.L363
3478:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3479:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
 7532              		.loc 1 3479 5
 7533 0100 7B68     		ldr	r3, [r7, #4]
 7534 0102 1B68     		ldr	r3, [r3]
 7535 0104 0822     		movs	r2, #8
 7536 0106 9A63     		str	r2, [r3, #56]
3480:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3481:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
 7537              		.loc 1 3481 12
 7538 0108 0823     		movs	r3, #8
 7539 010a 43E0     		b	.L366
 7540              	.L363:
3482:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3483:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 7541              		.loc 1 3483 12
 7542 010c 7B68     		ldr	r3, [r7, #4]
 7543 010e 1B68     		ldr	r3, [r3]
 7544 0110 5B6B     		ldr	r3, [r3, #52]
 7545 0112 03F00203 		and	r3, r3, #2
 7546              		.loc 1 3483 11
 7547 0116 002B     		cmp	r3, #0
 7548 0118 05D0     		beq	.L364
3484:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3485:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
 7549              		.loc 1 3485 5
 7550 011a 7B68     		ldr	r3, [r7, #4]
 7551 011c 1B68     		ldr	r3, [r3]
 7552 011e 0222     		movs	r2, #2
 7553 0120 9A63     		str	r2, [r3, #56]
3486:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3487:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
 7554              		.loc 1 3487 12
 7555 0122 0223     		movs	r3, #2
ARM GAS  /tmp/ccRis3lg.s 			page 196


 7556 0124 36E0     		b	.L366
 7557              	.L364:
3488:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3489:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 7558              		.loc 1 3489 12
 7559 0126 7B68     		ldr	r3, [r7, #4]
 7560 0128 1B68     		ldr	r3, [r3]
 7561 012a 5B6B     		ldr	r3, [r3, #52]
 7562 012c 03F02003 		and	r3, r3, #32
 7563              		.loc 1 3489 11
 7564 0130 002B     		cmp	r3, #0
 7565 0132 05D0     		beq	.L365
3490:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3491:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
 7566              		.loc 1 3491 5
 7567 0134 7B68     		ldr	r3, [r7, #4]
 7568 0136 1B68     		ldr	r3, [r3]
 7569 0138 2022     		movs	r2, #32
 7570 013a 9A63     		str	r2, [r3, #56]
3492:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3493:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
 7571              		.loc 1 3493 12
 7572 013c 2023     		movs	r3, #32
 7573 013e 29E0     		b	.L366
 7574              	.L365:
3494:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3495:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   else
3496:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3497:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* No error flag set */
3498:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3499:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 7575              		.loc 1 3499 5
 7576 0140 7B68     		ldr	r3, [r7, #4]
 7577 0142 1B68     		ldr	r3, [r3]
 7578 0144 154A     		ldr	r2, .L367
 7579 0146 9A63     		str	r2, [r3, #56]
3500:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3501:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[1] & SDMMC_0TO7BITS) << 24)  | ((tempscr[1] & SDMMC_8TO15BITS) << 8) | \
 7580              		.loc 1 3501 22
 7581 0148 FB68     		ldr	r3, [r7, #12]
 7582              		.loc 1 3501 44
 7583 014a 1A06     		lsls	r2, r3, #24
 7584              		.loc 1 3501 63
 7585 014c FB68     		ldr	r3, [r7, #12]
 7586              		.loc 1 3501 86
 7587 014e 1B02     		lsls	r3, r3, #8
 7588 0150 03F47F03 		and	r3, r3, #16711680
 7589              		.loc 1 3501 52
 7590 0154 1A43     		orrs	r2, r2, r3
3502:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 7591              		.loc 1 3502 22
 7592 0156 FB68     		ldr	r3, [r7, #12]
 7593              		.loc 1 3502 46
 7594 0158 1B0A     		lsrs	r3, r3, #8
 7595 015a 03F47F43 		and	r3, r3, #65280
3501:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 7596              		.loc 1 3501 92
ARM GAS  /tmp/ccRis3lg.s 			page 197


 7597 015e 1A43     		orrs	r2, r2, r3
 7598              		.loc 1 3502 63
 7599 0160 FB68     		ldr	r3, [r7, #12]
 7600              		.loc 1 3502 87
 7601 0162 1B0E     		lsrs	r3, r3, #24
 7602              		.loc 1 3502 52
 7603 0164 1A43     		orrs	r2, r2, r3
3501:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 7604              		.loc 1 3501 10
 7605 0166 FB6A     		ldr	r3, [r7, #44]
 7606 0168 1A60     		str	r2, [r3]
3503:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     scr++;
 7607              		.loc 1 3503 8
 7608 016a FB6A     		ldr	r3, [r7, #44]
 7609 016c 0433     		adds	r3, r3, #4
 7610 016e FB62     		str	r3, [r7, #44]
3504:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) | \
 7611              		.loc 1 3504 22
 7612 0170 BB68     		ldr	r3, [r7, #8]
 7613              		.loc 1 3504 44
 7614 0172 1A06     		lsls	r2, r3, #24
 7615              		.loc 1 3504 63
 7616 0174 BB68     		ldr	r3, [r7, #8]
 7617              		.loc 1 3504 86
 7618 0176 1B02     		lsls	r3, r3, #8
 7619 0178 03F47F03 		and	r3, r3, #16711680
 7620              		.loc 1 3504 52
 7621 017c 1A43     		orrs	r2, r2, r3
3505:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 7622              		.loc 1 3505 22
 7623 017e BB68     		ldr	r3, [r7, #8]
 7624              		.loc 1 3505 46
 7625 0180 1B0A     		lsrs	r3, r3, #8
 7626 0182 03F47F43 		and	r3, r3, #65280
3504:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) | \
 7627              		.loc 1 3504 92
 7628 0186 1A43     		orrs	r2, r2, r3
 7629              		.loc 1 3505 63
 7630 0188 BB68     		ldr	r3, [r7, #8]
 7631              		.loc 1 3505 87
 7632 018a 1B0E     		lsrs	r3, r3, #24
 7633              		.loc 1 3505 52
 7634 018c 1A43     		orrs	r2, r2, r3
3504:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) | \
 7635              		.loc 1 3504 10
 7636 018e FB6A     		ldr	r3, [r7, #44]
 7637 0190 1A60     		str	r2, [r3]
3506:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3507:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3508:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3509:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
 7638              		.loc 1 3509 10
 7639 0192 0023     		movs	r3, #0
 7640              	.L366:
3510:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 7641              		.loc 1 3510 1 discriminator 1
 7642 0194 1846     		mov	r0, r3
ARM GAS  /tmp/ccRis3lg.s 			page 198


 7643 0196 3837     		adds	r7, r7, #56
 7644              	.LCFI195:
 7645              		.cfi_def_cfa_offset 8
 7646 0198 BD46     		mov	sp, r7
 7647              	.LCFI196:
 7648              		.cfi_def_cfa_register 13
 7649              		@ sp needed
 7650 019a 80BD     		pop	{r7, pc}
 7651              	.L368:
 7652              		.align	2
 7653              	.L367:
 7654 019c 3A0F0018 		.word	402657082
 7655              		.cfi_endproc
 7656              	.LFE367:
 7658              		.section	.text.SD_Read_IT,"ax",%progbits
 7659              		.align	1
 7660              		.syntax unified
 7661              		.thumb
 7662              		.thumb_func
 7663              		.fpu fpv5-d16
 7665              	SD_Read_IT:
 7666              	.LFB368:
3511:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3512:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3513:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Wrap up reading in non-blocking mode.
3514:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3515:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
3516:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3517:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3518:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_Read_IT(SD_HandleTypeDef *hsd)
3519:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 7667              		.loc 1 3519 1
 7668              		.cfi_startproc
 7669              		@ args = 0, pretend = 0, frame = 24
 7670              		@ frame_needed = 1, uses_anonymous_args = 0
 7671 0000 80B5     		push	{r7, lr}
 7672              	.LCFI197:
 7673              		.cfi_def_cfa_offset 8
 7674              		.cfi_offset 7, -8
 7675              		.cfi_offset 14, -4
 7676 0002 86B0     		sub	sp, sp, #24
 7677              	.LCFI198:
 7678              		.cfi_def_cfa_offset 32
 7679 0004 00AF     		add	r7, sp, #0
 7680              	.LCFI199:
 7681              		.cfi_def_cfa_register 7
 7682 0006 7860     		str	r0, [r7, #4]
3520:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3521:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
3522:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tmp;
3523:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3524:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tmp = hsd->pRxBuffPtr;
 7683              		.loc 1 3524 7
 7684 0008 7B68     		ldr	r3, [r7, #4]
 7685 000a 9B6A     		ldr	r3, [r3, #40]
 7686 000c 3B61     		str	r3, [r7, #16]
3525:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 199


3526:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->RxXferSize >= 32U)
 7687              		.loc 1 3526 10
 7688 000e 7B68     		ldr	r3, [r7, #4]
 7689 0010 DB6A     		ldr	r3, [r3, #44]
 7690              		.loc 1 3526 6
 7691 0012 1F2B     		cmp	r3, #31
 7692 0014 36D9     		bls	.L373
3527:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3528:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Read data from SDMMC Rx FIFO */
3529:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     for (count = 0U; count < 8U; count++)
 7693              		.loc 1 3529 16
 7694 0016 0023     		movs	r3, #0
 7695 0018 7B61     		str	r3, [r7, #20]
 7696              		.loc 1 3529 5
 7697 001a 27E0     		b	.L371
 7698              	.L372:
3530:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3531:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data = SDMMC_ReadFIFO(hsd->Instance);
 7699              		.loc 1 3531 14 discriminator 3
 7700 001c 7B68     		ldr	r3, [r7, #4]
 7701 001e 1B68     		ldr	r3, [r3]
 7702 0020 1846     		mov	r0, r3
 7703 0022 FFF7FEFF 		bl	SDMMC_ReadFIFO
 7704 0026 F860     		str	r0, [r7, #12]
3532:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 7705              		.loc 1 3532 14 discriminator 3
 7706 0028 FB68     		ldr	r3, [r7, #12]
 7707 002a DAB2     		uxtb	r2, r3
 7708              		.loc 1 3532 12 discriminator 3
 7709 002c 3B69     		ldr	r3, [r7, #16]
 7710 002e 1A70     		strb	r2, [r3]
3533:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 7711              		.loc 1 3533 10 discriminator 3
 7712 0030 3B69     		ldr	r3, [r7, #16]
 7713 0032 0133     		adds	r3, r3, #1
 7714 0034 3B61     		str	r3, [r7, #16]
3534:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
 7715              		.loc 1 3534 30 discriminator 3
 7716 0036 FB68     		ldr	r3, [r7, #12]
 7717 0038 1B0A     		lsrs	r3, r3, #8
 7718              		.loc 1 3534 14 discriminator 3
 7719 003a DAB2     		uxtb	r2, r3
 7720              		.loc 1 3534 12 discriminator 3
 7721 003c 3B69     		ldr	r3, [r7, #16]
 7722 003e 1A70     		strb	r2, [r3]
3535:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 7723              		.loc 1 3535 10 discriminator 3
 7724 0040 3B69     		ldr	r3, [r7, #16]
 7725 0042 0133     		adds	r3, r3, #1
 7726 0044 3B61     		str	r3, [r7, #16]
3536:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
 7727              		.loc 1 3536 30 discriminator 3
 7728 0046 FB68     		ldr	r3, [r7, #12]
 7729 0048 1B0C     		lsrs	r3, r3, #16
 7730              		.loc 1 3536 14 discriminator 3
 7731 004a DAB2     		uxtb	r2, r3
 7732              		.loc 1 3536 12 discriminator 3
ARM GAS  /tmp/ccRis3lg.s 			page 200


 7733 004c 3B69     		ldr	r3, [r7, #16]
 7734 004e 1A70     		strb	r2, [r3]
3537:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 7735              		.loc 1 3537 10 discriminator 3
 7736 0050 3B69     		ldr	r3, [r7, #16]
 7737 0052 0133     		adds	r3, r3, #1
 7738 0054 3B61     		str	r3, [r7, #16]
3538:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
 7739              		.loc 1 3538 30 discriminator 3
 7740 0056 FB68     		ldr	r3, [r7, #12]
 7741 0058 1B0E     		lsrs	r3, r3, #24
 7742              		.loc 1 3538 14 discriminator 3
 7743 005a DAB2     		uxtb	r2, r3
 7744              		.loc 1 3538 12 discriminator 3
 7745 005c 3B69     		ldr	r3, [r7, #16]
 7746 005e 1A70     		strb	r2, [r3]
3539:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 7747              		.loc 1 3539 10 discriminator 3
 7748 0060 3B69     		ldr	r3, [r7, #16]
 7749 0062 0133     		adds	r3, r3, #1
 7750 0064 3B61     		str	r3, [r7, #16]
3529:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 7751              		.loc 1 3529 39 discriminator 3
 7752 0066 7B69     		ldr	r3, [r7, #20]
 7753 0068 0133     		adds	r3, r3, #1
 7754 006a 7B61     		str	r3, [r7, #20]
 7755              	.L371:
3529:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 7756              		.loc 1 3529 5 discriminator 1
 7757 006c 7B69     		ldr	r3, [r7, #20]
 7758 006e 072B     		cmp	r3, #7
 7759 0070 D4D9     		bls	.L372
3540:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3541:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3542:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pRxBuffPtr = tmp;
 7760              		.loc 1 3542 21
 7761 0072 7B68     		ldr	r3, [r7, #4]
 7762 0074 3A69     		ldr	r2, [r7, #16]
 7763 0076 9A62     		str	r2, [r3, #40]
3543:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->RxXferSize -= 32U;
 7764              		.loc 1 3543 21
 7765 0078 7B68     		ldr	r3, [r7, #4]
 7766 007a DB6A     		ldr	r3, [r3, #44]
 7767 007c A3F12002 		sub	r2, r3, #32
 7768 0080 7B68     		ldr	r3, [r7, #4]
 7769 0082 DA62     		str	r2, [r3, #44]
 7770              	.L373:
3544:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3545:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 7771              		.loc 1 3545 1
 7772 0084 00BF     		nop
 7773 0086 1837     		adds	r7, r7, #24
 7774              	.LCFI200:
 7775              		.cfi_def_cfa_offset 8
 7776 0088 BD46     		mov	sp, r7
 7777              	.LCFI201:
 7778              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccRis3lg.s 			page 201


 7779              		@ sp needed
 7780 008a 80BD     		pop	{r7, pc}
 7781              		.cfi_endproc
 7782              	.LFE368:
 7784              		.section	.text.SD_Write_IT,"ax",%progbits
 7785              		.align	1
 7786              		.syntax unified
 7787              		.thumb
 7788              		.thumb_func
 7789              		.fpu fpv5-d16
 7791              	SD_Write_IT:
 7792              	.LFB369:
3546:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3547:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3548:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Wrap up writing in non-blocking mode.
3549:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3550:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *              the configuration information.
3551:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3552:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3553:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static void SD_Write_IT(SD_HandleTypeDef *hsd)
3554:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 7793              		.loc 1 3554 1
 7794              		.cfi_startproc
 7795              		@ args = 0, pretend = 0, frame = 24
 7796              		@ frame_needed = 1, uses_anonymous_args = 0
 7797 0000 80B5     		push	{r7, lr}
 7798              	.LCFI202:
 7799              		.cfi_def_cfa_offset 8
 7800              		.cfi_offset 7, -8
 7801              		.cfi_offset 14, -4
 7802 0002 86B0     		sub	sp, sp, #24
 7803              	.LCFI203:
 7804              		.cfi_def_cfa_offset 32
 7805 0004 00AF     		add	r7, sp, #0
 7806              	.LCFI204:
 7807              		.cfi_def_cfa_register 7
 7808 0006 7860     		str	r0, [r7, #4]
3555:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3556:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t data;
3557:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint8_t *tmp;
3558:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3559:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   tmp = hsd->pTxBuffPtr;
 7809              		.loc 1 3559 7
 7810 0008 7B68     		ldr	r3, [r7, #4]
 7811 000a 1B6A     		ldr	r3, [r3, #32]
 7812 000c 3B61     		str	r3, [r7, #16]
3560:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3561:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->TxXferSize >= 32U)
 7813              		.loc 1 3561 10
 7814 000e 7B68     		ldr	r3, [r7, #4]
 7815 0010 5B6A     		ldr	r3, [r3, #36]
 7816              		.loc 1 3561 6
 7817 0012 1F2B     		cmp	r3, #31
 7818 0014 3AD9     		bls	.L378
3562:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3563:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Write data to SDMMC Tx FIFO */
3564:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     for (count = 0U; count < 8U; count++)
ARM GAS  /tmp/ccRis3lg.s 			page 202


 7819              		.loc 1 3564 16
 7820 0016 0023     		movs	r3, #0
 7821 0018 7B61     		str	r3, [r7, #20]
 7822              		.loc 1 3564 5
 7823 001a 2BE0     		b	.L376
 7824              	.L377:
3565:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3566:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data = (uint32_t)(*tmp);
 7825              		.loc 1 3566 25 discriminator 3
 7826 001c 3B69     		ldr	r3, [r7, #16]
 7827 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7828              		.loc 1 3566 12 discriminator 3
 7829 0020 FB60     		str	r3, [r7, #12]
3567:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 7830              		.loc 1 3567 10 discriminator 3
 7831 0022 3B69     		ldr	r3, [r7, #16]
 7832 0024 0133     		adds	r3, r3, #1
 7833 0026 3B61     		str	r3, [r7, #16]
3568:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
 7834              		.loc 1 3568 27 discriminator 3
 7835 0028 3B69     		ldr	r3, [r7, #16]
 7836 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7837              		.loc 1 3568 33 discriminator 3
 7838 002c 1A02     		lsls	r2, r3, #8
 7839              		.loc 1 3568 12 discriminator 3
 7840 002e FB68     		ldr	r3, [r7, #12]
 7841 0030 1343     		orrs	r3, r3, r2
 7842 0032 FB60     		str	r3, [r7, #12]
3569:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 7843              		.loc 1 3569 10 discriminator 3
 7844 0034 3B69     		ldr	r3, [r7, #16]
 7845 0036 0133     		adds	r3, r3, #1
 7846 0038 3B61     		str	r3, [r7, #16]
3570:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
 7847              		.loc 1 3570 27 discriminator 3
 7848 003a 3B69     		ldr	r3, [r7, #16]
 7849 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7850              		.loc 1 3570 33 discriminator 3
 7851 003e 1A04     		lsls	r2, r3, #16
 7852              		.loc 1 3570 12 discriminator 3
 7853 0040 FB68     		ldr	r3, [r7, #12]
 7854 0042 1343     		orrs	r3, r3, r2
 7855 0044 FB60     		str	r3, [r7, #12]
3571:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 7856              		.loc 1 3571 10 discriminator 3
 7857 0046 3B69     		ldr	r3, [r7, #16]
 7858 0048 0133     		adds	r3, r3, #1
 7859 004a 3B61     		str	r3, [r7, #16]
3572:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
 7860              		.loc 1 3572 27 discriminator 3
 7861 004c 3B69     		ldr	r3, [r7, #16]
 7862 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 7863              		.loc 1 3572 33 discriminator 3
 7864 0050 1A06     		lsls	r2, r3, #24
 7865              		.loc 1 3572 12 discriminator 3
 7866 0052 FB68     		ldr	r3, [r7, #12]
 7867 0054 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/ccRis3lg.s 			page 203


 7868 0056 FB60     		str	r3, [r7, #12]
3573:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       tmp++;
 7869              		.loc 1 3573 10 discriminator 3
 7870 0058 3B69     		ldr	r3, [r7, #16]
 7871 005a 0133     		adds	r3, r3, #1
 7872 005c 3B61     		str	r3, [r7, #16]
3574:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       (void)SDMMC_WriteFIFO(hsd->Instance, &data);
 7873              		.loc 1 3574 13 discriminator 3
 7874 005e 7B68     		ldr	r3, [r7, #4]
 7875 0060 1B68     		ldr	r3, [r3]
 7876 0062 07F10C02 		add	r2, r7, #12
 7877 0066 1146     		mov	r1, r2
 7878 0068 1846     		mov	r0, r3
 7879 006a FFF7FEFF 		bl	SDMMC_WriteFIFO
3564:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 7880              		.loc 1 3564 39 discriminator 3
 7881 006e 7B69     		ldr	r3, [r7, #20]
 7882 0070 0133     		adds	r3, r3, #1
 7883 0072 7B61     		str	r3, [r7, #20]
 7884              	.L376:
3564:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
 7885              		.loc 1 3564 5 discriminator 1
 7886 0074 7B69     		ldr	r3, [r7, #20]
 7887 0076 072B     		cmp	r3, #7
 7888 0078 D0D9     		bls	.L377
3575:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3576:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3577:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->pTxBuffPtr = tmp;
 7889              		.loc 1 3577 21
 7890 007a 7B68     		ldr	r3, [r7, #4]
 7891 007c 3A69     		ldr	r2, [r7, #16]
 7892 007e 1A62     		str	r2, [r3, #32]
3578:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->TxXferSize -= 32U;
 7893              		.loc 1 3578 21
 7894 0080 7B68     		ldr	r3, [r7, #4]
 7895 0082 5B6A     		ldr	r3, [r3, #36]
 7896 0084 A3F12002 		sub	r2, r3, #32
 7897 0088 7B68     		ldr	r3, [r7, #4]
 7898 008a 5A62     		str	r2, [r3, #36]
 7899              	.L378:
3579:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3580:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 7900              		.loc 1 3580 1
 7901 008c 00BF     		nop
 7902 008e 1837     		adds	r7, r7, #24
 7903              	.LCFI205:
 7904              		.cfi_def_cfa_offset 8
 7905 0090 BD46     		mov	sp, r7
 7906              	.LCFI206:
 7907              		.cfi_def_cfa_register 13
 7908              		@ sp needed
 7909 0092 80BD     		pop	{r7, pc}
 7910              		.cfi_endproc
 7911              	.LFE369:
 7913              		.section	.text.SD_HighSpeed,"ax",%progbits
 7914              		.align	1
 7915              		.syntax unified
ARM GAS  /tmp/ccRis3lg.s 			page 204


 7916              		.thumb
 7917              		.thumb_func
 7918              		.fpu fpv5-d16
 7920              	SD_HighSpeed:
 7921              	.LFB370:
3581:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3582:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3583:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to High Speed mode.
3584:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3585:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3586:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock between 50 and 120 MHz
3587:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3588:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3589:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3590:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** uint32_t SD_HighSpeed(SD_HandleTypeDef *hsd)
3591:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 7922              		.loc 1 3591 1
 7923              		.cfi_startproc
 7924              		@ args = 0, pretend = 0, frame = 112
 7925              		@ frame_needed = 1, uses_anonymous_args = 0
 7926 0000 90B5     		push	{r4, r7, lr}
 7927              	.LCFI207:
 7928              		.cfi_def_cfa_offset 12
 7929              		.cfi_offset 4, -12
 7930              		.cfi_offset 7, -8
 7931              		.cfi_offset 14, -4
 7932 0002 9DB0     		sub	sp, sp, #116
 7933              	.LCFI208:
 7934              		.cfi_def_cfa_offset 128
 7935 0004 00AF     		add	r7, sp, #0
 7936              	.LCFI209:
 7937              		.cfi_def_cfa_register 7
 7938 0006 7860     		str	r0, [r7, #4]
3592:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
 7939              		.loc 1 3592 12
 7940 0008 0023     		movs	r3, #0
 7941 000a FB66     		str	r3, [r7, #108]
3593:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
3594:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
 7942              		.loc 1 3594 12
 7943 000c 07F10803 		add	r3, r7, #8
 7944 0010 4022     		movs	r2, #64
 7945 0012 0021     		movs	r1, #0
 7946 0014 1846     		mov	r0, r3
 7947 0016 FFF7FEFF 		bl	memset
3595:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3596:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
 7948              		.loc 1 3596 12
 7949 001a 0023     		movs	r3, #0
 7950 001c 7B66     		str	r3, [r7, #100]
3597:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 7951              		.loc 1 3597 22
 7952 001e FFF7FEFF 		bl	HAL_GetTick
 7953 0022 3866     		str	r0, [r7, #96]
3598:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3599:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
 7954              		.loc 1 3599 18
ARM GAS  /tmp/ccRis3lg.s 			page 205


 7955 0024 7B68     		ldr	r3, [r7, #4]
 7956 0026 DB6D     		ldr	r3, [r3, #92]
 7957              		.loc 1 3599 6
 7958 0028 002B     		cmp	r3, #0
 7959 002a 02D1     		bne	.L380
3600:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3601:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3602:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 7960              		.loc 1 3602 12
 7961 002c 4FF08063 		mov	r3, #67108864
 7962 0030 AFE0     		b	.L393
 7963              	.L380:
3603:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3604:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3605:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_HIGH_SPEED)
 7964              		.loc 1 3605 18
 7965 0032 7B68     		ldr	r3, [r7, #4]
 7966 0034 DB6D     		ldr	r3, [r3, #92]
 7967              		.loc 1 3605 6
 7968 0036 B3F5807F 		cmp	r3, #256
 7969 003a 40F0A980 		bne	.L382
3606:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3607:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3608:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
 7970              		.loc 1 3608 8
 7971 003e 7B68     		ldr	r3, [r7, #4]
 7972 0040 1B68     		ldr	r3, [r3]
 7973              		.loc 1 3608 26
 7974 0042 0022     		movs	r2, #0
 7975 0044 DA62     		str	r2, [r3, #44]
3609:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 7976              		.loc 1 3609 18
 7977 0046 7B68     		ldr	r3, [r7, #4]
 7978 0048 1B68     		ldr	r3, [r3]
 7979 004a 4021     		movs	r1, #64
 7980 004c 1846     		mov	r0, r3
 7981 004e FFF7FEFF 		bl	SDMMC_CmdBlockLength
 7982 0052 F866     		str	r0, [r7, #108]
3610:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3611:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 7983              		.loc 1 3611 8
 7984 0054 FB6E     		ldr	r3, [r7, #108]
 7985 0056 002B     		cmp	r3, #0
 7986 0058 01D0     		beq	.L383
3612:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3613:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 7987              		.loc 1 3613 14
 7988 005a FB6E     		ldr	r3, [r7, #108]
 7989 005c 99E0     		b	.L393
 7990              	.L383:
3614:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3615:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3616:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3617:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
 7991              		.loc 1 3617 43
 7992 005e 4FF0FF33 		mov	r3, #-1
 7993 0062 BB64     		str	r3, [r7, #72]
ARM GAS  /tmp/ccRis3lg.s 			page 206


3618:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 7994              		.loc 1 3618 43
 7995 0064 4023     		movs	r3, #64
 7996 0066 FB64     		str	r3, [r7, #76]
3619:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 7997              		.loc 1 3619 43
 7998 0068 6023     		movs	r3, #96
 7999 006a 3B65     		str	r3, [r7, #80]
3620:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 8000              		.loc 1 3620 43
 8001 006c 0223     		movs	r3, #2
 8002 006e 7B65     		str	r3, [r7, #84]
3621:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 8003              		.loc 1 3621 43
 8004 0070 0023     		movs	r3, #0
 8005 0072 BB65     		str	r3, [r7, #88]
3622:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 8006              		.loc 1 3622 43
 8007 0074 0123     		movs	r3, #1
 8008 0076 FB65     		str	r3, [r7, #92]
3623:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3624:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     (void)SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure);
 8009              		.loc 1 3624 11
 8010 0078 7B68     		ldr	r3, [r7, #4]
 8011 007a 1B68     		ldr	r3, [r3]
 8012 007c 07F14802 		add	r2, r7, #72
 8013 0080 1146     		mov	r1, r2
 8014 0082 1846     		mov	r0, r3
 8015 0084 FFF7FEFF 		bl	SDMMC_ConfigData
3625:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3626:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3627:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SDMMC_SDR25_SWITCH_PATTERN);
 8016              		.loc 1 3627 18
 8017 0088 7B68     		ldr	r3, [r7, #4]
 8018 008a 1B68     		ldr	r3, [r3]
 8019 008c 4349     		ldr	r1, .L394
 8020 008e 1846     		mov	r0, r3
 8021 0090 FFF7FEFF 		bl	SDMMC_CmdSwitch
 8022 0094 F866     		str	r0, [r7, #108]
3628:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 8023              		.loc 1 3628 8
 8024 0096 FB6E     		ldr	r3, [r7, #108]
 8025 0098 002B     		cmp	r3, #0
 8026 009a 37D0     		beq	.L385
3629:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3630:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8027              		.loc 1 3630 14
 8028 009c FB6E     		ldr	r3, [r7, #108]
 8029 009e 78E0     		b	.L393
 8030              	.L389:
3631:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3632:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3633:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3634:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
3635:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3636:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
 8031              		.loc 1 3636 11
ARM GAS  /tmp/ccRis3lg.s 			page 207


 8032 00a0 7B68     		ldr	r3, [r7, #4]
 8033 00a2 1B68     		ldr	r3, [r3]
 8034 00a4 5B6B     		ldr	r3, [r3, #52]
 8035 00a6 03F40043 		and	r3, r3, #32768
 8036              		.loc 1 3636 10
 8037 00aa 002B     		cmp	r3, #0
 8038 00ac 1BD0     		beq	.L386
3637:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3638:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 8039              		.loc 1 3638 20
 8040 00ae 0023     		movs	r3, #0
 8041 00b0 BB66     		str	r3, [r7, #104]
 8042              		.loc 1 3638 9
 8043 00b2 12E0     		b	.L387
 8044              	.L388:
3639:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3640:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
 8045              		.loc 1 3640 41 discriminator 3
 8046 00b4 7B68     		ldr	r3, [r7, #4]
 8047 00b6 1968     		ldr	r1, [r3]
 8048              		.loc 1 3640 21 discriminator 3
 8049 00b8 7B6E     		ldr	r3, [r7, #100]
 8050 00ba DA00     		lsls	r2, r3, #3
 8051              		.loc 1 3640 29 discriminator 3
 8052 00bc BB6E     		ldr	r3, [r7, #104]
 8053 00be D418     		adds	r4, r2, r3
 8054              		.loc 1 3640 41 discriminator 3
 8055 00c0 0846     		mov	r0, r1
 8056 00c2 FFF7FEFF 		bl	SDMMC_ReadFIFO
 8057 00c6 0246     		mov	r2, r0
 8058              		.loc 1 3640 39 discriminator 3
 8059 00c8 A300     		lsls	r3, r4, #2
 8060 00ca 07F17001 		add	r1, r7, #112
 8061 00ce 0B44     		add	r3, r3, r1
 8062 00d0 43F8682C 		str	r2, [r3, #-104]
3638:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 8063              		.loc 1 3638 43 discriminator 3
 8064 00d4 BB6E     		ldr	r3, [r7, #104]
 8065 00d6 0133     		adds	r3, r3, #1
 8066 00d8 BB66     		str	r3, [r7, #104]
 8067              	.L387:
3638:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 8068              		.loc 1 3638 9 discriminator 1
 8069 00da BB6E     		ldr	r3, [r7, #104]
 8070 00dc 072B     		cmp	r3, #7
 8071 00de E9D9     		bls	.L388
3641:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3642:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
 8072              		.loc 1 3642 14
 8073 00e0 7B6E     		ldr	r3, [r7, #100]
 8074 00e2 0133     		adds	r3, r3, #1
 8075 00e4 7B66     		str	r3, [r7, #100]
 8076              	.L386:
3643:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3644:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3645:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_DATATIMEOUT)
 8077              		.loc 1 3645 12
ARM GAS  /tmp/ccRis3lg.s 			page 208


 8078 00e6 FFF7FEFF 		bl	HAL_GetTick
 8079 00ea 0246     		mov	r2, r0
 8080              		.loc 1 3645 26
 8081 00ec 3B6E     		ldr	r3, [r7, #96]
 8082 00ee D31A     		subs	r3, r2, r3
 8083              		.loc 1 3645 10
 8084 00f0 B3F1FF3F 		cmp	r3, #-1
 8085 00f4 0AD1     		bne	.L385
3646:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3647:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 8086              		.loc 1 3647 24
 8087 00f6 7B68     		ldr	r3, [r7, #4]
 8088 00f8 4FF00042 		mov	r2, #-2147483648
 8089 00fc 9A63     		str	r2, [r3, #56]
3648:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 8090              		.loc 1 3648 20
 8091 00fe 7B68     		ldr	r3, [r7, #4]
 8092 0100 0122     		movs	r2, #1
 8093 0102 83F83420 		strb	r2, [r3, #52]
3649:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 8094              		.loc 1 3649 16
 8095 0106 4FF00043 		mov	r3, #-2147483648
 8096 010a 42E0     		b	.L393
 8097              	.L385:
3633:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 8098              		.loc 1 3633 13
 8099 010c 7B68     		ldr	r3, [r7, #4]
 8100 010e 1B68     		ldr	r3, [r3]
 8101 0110 5A6B     		ldr	r2, [r3, #52]
 8102 0112 40F22A53 		movw	r3, #1322
 8103 0116 1340     		ands	r3, r3, r2
3633:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 8104              		.loc 1 3633 11
 8105 0118 002B     		cmp	r3, #0
 8106 011a C1D0     		beq	.L389
3650:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3651:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3652:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3653:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 8107              		.loc 1 3653 9
 8108 011c 7B68     		ldr	r3, [r7, #4]
 8109 011e 1B68     		ldr	r3, [r3]
 8110 0120 5B6B     		ldr	r3, [r3, #52]
 8111 0122 03F00803 		and	r3, r3, #8
 8112              		.loc 1 3653 8
 8113 0126 002B     		cmp	r3, #0
 8114 0128 05D0     		beq	.L390
3654:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3655:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
 8115              		.loc 1 3655 7
 8116 012a 7B68     		ldr	r3, [r7, #4]
 8117 012c 1B68     		ldr	r3, [r3]
 8118 012e 0822     		movs	r2, #8
 8119 0130 9A63     		str	r2, [r3, #56]
3656:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3657:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8120              		.loc 1 3657 14
ARM GAS  /tmp/ccRis3lg.s 			page 209


 8121 0132 FB6E     		ldr	r3, [r7, #108]
 8122 0134 2DE0     		b	.L393
 8123              	.L390:
3658:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3659:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 8124              		.loc 1 3659 14
 8125 0136 7B68     		ldr	r3, [r7, #4]
 8126 0138 1B68     		ldr	r3, [r3]
 8127 013a 5B6B     		ldr	r3, [r3, #52]
 8128 013c 03F00203 		and	r3, r3, #2
 8129              		.loc 1 3659 13
 8130 0140 002B     		cmp	r3, #0
 8131 0142 07D0     		beq	.L391
3660:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3661:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
 8132              		.loc 1 3661 7
 8133 0144 7B68     		ldr	r3, [r7, #4]
 8134 0146 1B68     		ldr	r3, [r3]
 8135 0148 0222     		movs	r2, #2
 8136 014a 9A63     		str	r2, [r3, #56]
3662:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3663:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
 8137              		.loc 1 3663 18
 8138 014c 0223     		movs	r3, #2
 8139 014e FB66     		str	r3, [r7, #108]
3664:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3665:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8140              		.loc 1 3665 14
 8141 0150 FB6E     		ldr	r3, [r7, #108]
 8142 0152 1EE0     		b	.L393
 8143              	.L391:
3666:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3667:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 8144              		.loc 1 3667 14
 8145 0154 7B68     		ldr	r3, [r7, #4]
 8146 0156 1B68     		ldr	r3, [r3]
 8147 0158 5B6B     		ldr	r3, [r3, #52]
 8148 015a 03F02003 		and	r3, r3, #32
 8149              		.loc 1 3667 13
 8150 015e 002B     		cmp	r3, #0
 8151 0160 07D0     		beq	.L392
3668:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3669:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
 8152              		.loc 1 3669 7
 8153 0162 7B68     		ldr	r3, [r7, #4]
 8154 0164 1B68     		ldr	r3, [r3]
 8155 0166 2022     		movs	r2, #32
 8156 0168 9A63     		str	r2, [r3, #56]
3670:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3671:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
 8157              		.loc 1 3671 18
 8158 016a 2023     		movs	r3, #32
 8159 016c FB66     		str	r3, [r7, #108]
3672:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3673:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8160              		.loc 1 3673 14
 8161 016e FB6E     		ldr	r3, [r7, #108]
ARM GAS  /tmp/ccRis3lg.s 			page 210


 8162 0170 0FE0     		b	.L393
 8163              	.L392:
3674:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3675:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3676:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3677:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
3678:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3679:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3680:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3681:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 8164              		.loc 1 3681 5
 8165 0172 7B68     		ldr	r3, [r7, #4]
 8166 0174 1B68     		ldr	r3, [r3]
 8167 0176 0A4A     		ldr	r2, .L394+4
 8168 0178 9A63     		str	r2, [r3, #56]
3682:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3683:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
3684:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
 8169              		.loc 1 3684 28
 8170 017a 07F10803 		add	r3, r7, #8
 8171 017e 0D33     		adds	r3, r3, #13
 8172 0180 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 8173              		.loc 1 3684 33
 8174 0182 03F00203 		and	r3, r3, #2
 8175              		.loc 1 3684 8
 8176 0186 002B     		cmp	r3, #0
 8177 0188 02D1     		bne	.L382
3685:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3686:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
 8178              		.loc 1 3686 18
 8179 018a 4FF08053 		mov	r3, #268435456
 8180 018e FB66     		str	r3, [r7, #108]
 8181              	.L382:
3687:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3688:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3689:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3690:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3691:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
 8182              		.loc 1 3691 10
 8183 0190 FB6E     		ldr	r3, [r7, #108]
 8184              	.L393:
3692:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 8185              		.loc 1 3692 1 discriminator 1
 8186 0192 1846     		mov	r0, r3
 8187 0194 7437     		adds	r7, r7, #116
 8188              	.LCFI210:
 8189              		.cfi_def_cfa_offset 12
 8190 0196 BD46     		mov	sp, r7
 8191              	.LCFI211:
 8192              		.cfi_def_cfa_register 13
 8193              		@ sp needed
 8194 0198 90BD     		pop	{r4, r7, pc}
 8195              	.L395:
 8196 019a 00BF     		.align	2
 8197              	.L394:
 8198 019c 01FFFF80 		.word	-2130706687
 8199 01a0 3A0F0018 		.word	402657082
ARM GAS  /tmp/ccRis3lg.s 			page 211


 8200              		.cfi_endproc
 8201              	.LFE370:
 8203              		.section	.text.SD_UltraHighSpeed,"ax",%progbits
 8204              		.align	1
 8205              		.syntax unified
 8206              		.thumb
 8207              		.thumb_func
 8208              		.fpu fpv5-d16
 8210              	SD_UltraHighSpeed:
 8211              	.LFB371:
3693:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3694:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if (USE_SD_TRANSCEIVER != 0U)
3695:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3696:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to Ultra High Speed mode.
3697:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3698:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3699:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock between 50 and 120 MHz
3700:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3701:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3702:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3703:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_UltraHighSpeed(SD_HandleTypeDef *hsd)
3704:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 8212              		.loc 1 3704 1
 8213              		.cfi_startproc
 8214              		@ args = 0, pretend = 0, frame = 112
 8215              		@ frame_needed = 1, uses_anonymous_args = 0
 8216 0000 90B5     		push	{r4, r7, lr}
 8217              	.LCFI212:
 8218              		.cfi_def_cfa_offset 12
 8219              		.cfi_offset 4, -12
 8220              		.cfi_offset 7, -8
 8221              		.cfi_offset 14, -4
 8222 0002 9DB0     		sub	sp, sp, #116
 8223              	.LCFI213:
 8224              		.cfi_def_cfa_offset 128
 8225 0004 00AF     		add	r7, sp, #0
 8226              	.LCFI214:
 8227              		.cfi_def_cfa_register 7
 8228 0006 7860     		str	r0, [r7, #4]
3705:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
 8229              		.loc 1 3705 12
 8230 0008 0023     		movs	r3, #0
 8231 000a FB66     		str	r3, [r7, #108]
3706:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
3707:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
 8232              		.loc 1 3707 12
 8233 000c 07F10803 		add	r3, r7, #8
 8234 0010 4022     		movs	r2, #64
 8235 0012 0021     		movs	r1, #0
 8236 0014 1846     		mov	r0, r3
 8237 0016 FFF7FEFF 		bl	memset
3708:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3709:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
 8238              		.loc 1 3709 12
 8239 001a 0023     		movs	r3, #0
 8240 001c 7B66     		str	r3, [r7, #100]
3710:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
ARM GAS  /tmp/ccRis3lg.s 			page 212


 8241              		.loc 1 3710 22
 8242 001e FFF7FEFF 		bl	HAL_GetTick
 8243 0022 3866     		str	r0, [r7, #96]
3711:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3712:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
 8244              		.loc 1 3712 18
 8245 0024 7B68     		ldr	r3, [r7, #4]
 8246 0026 DB6D     		ldr	r3, [r3, #92]
 8247              		.loc 1 3712 6
 8248 0028 002B     		cmp	r3, #0
 8249 002a 02D1     		bne	.L397
3713:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3714:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3715:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 8250              		.loc 1 3715 12
 8251 002c 4FF08063 		mov	r3, #67108864
 8252 0030 D4E0     		b	.L414
 8253              	.L397:
3716:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3717:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3718:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
 8254              		.loc 1 3718 18
 8255 0032 7B68     		ldr	r3, [r7, #4]
 8256 0034 DB6D     		ldr	r3, [r3, #92]
 8257              		.loc 1 3718 6
 8258 0036 B3F5007F 		cmp	r3, #512
 8259 003a 40F0CE80 		bne	.L399
3719:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3720:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3721:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
 8260              		.loc 1 3721 8
 8261 003e 7B68     		ldr	r3, [r7, #4]
 8262 0040 1B68     		ldr	r3, [r3]
 8263              		.loc 1 3721 26
 8264 0042 0022     		movs	r2, #0
 8265 0044 DA62     		str	r2, [r3, #44]
3722:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 8266              		.loc 1 3722 18
 8267 0046 7B68     		ldr	r3, [r7, #4]
 8268 0048 1B68     		ldr	r3, [r3]
 8269 004a 4021     		movs	r1, #64
 8270 004c 1846     		mov	r0, r3
 8271 004e FFF7FEFF 		bl	SDMMC_CmdBlockLength
 8272 0052 F866     		str	r0, [r7, #108]
3723:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3724:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 8273              		.loc 1 3724 8
 8274 0054 FB6E     		ldr	r3, [r7, #108]
 8275 0056 002B     		cmp	r3, #0
 8276 0058 01D0     		beq	.L400
3725:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3726:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8277              		.loc 1 3726 14
 8278 005a FB6E     		ldr	r3, [r7, #108]
 8279 005c BEE0     		b	.L414
 8280              	.L400:
3727:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
ARM GAS  /tmp/ccRis3lg.s 			page 213


3728:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3729:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3730:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
 8281              		.loc 1 3730 43
 8282 005e 4FF0FF33 		mov	r3, #-1
 8283 0062 BB64     		str	r3, [r7, #72]
3731:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 8284              		.loc 1 3731 43
 8285 0064 4023     		movs	r3, #64
 8286 0066 FB64     		str	r3, [r7, #76]
3732:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 8287              		.loc 1 3732 43
 8288 0068 6023     		movs	r3, #96
 8289 006a 3B65     		str	r3, [r7, #80]
3733:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 8290              		.loc 1 3733 43
 8291 006c 0223     		movs	r3, #2
 8292 006e 7B65     		str	r3, [r7, #84]
3734:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 8293              		.loc 1 3734 43
 8294 0070 0023     		movs	r3, #0
 8295 0072 BB65     		str	r3, [r7, #88]
3735:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 8296              		.loc 1 3735 43
 8297 0074 0123     		movs	r3, #1
 8298 0076 FB65     		str	r3, [r7, #92]
3736:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3737:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure) != HAL_OK)
 8299              		.loc 1 3737 9
 8300 0078 7B68     		ldr	r3, [r7, #4]
 8301 007a 1B68     		ldr	r3, [r3]
 8302 007c 07F14802 		add	r2, r7, #72
 8303 0080 1146     		mov	r1, r2
 8304 0082 1846     		mov	r0, r3
 8305 0084 FFF7FEFF 		bl	SDMMC_ConfigData
 8306 0088 0346     		mov	r3, r0
 8307              		.loc 1 3737 8
 8308 008a 002B     		cmp	r3, #0
 8309 008c 02D0     		beq	.L401
3738:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3739:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
 8310              		.loc 1 3739 14
 8311 008e 4FF48033 		mov	r3, #65536
 8312 0092 A3E0     		b	.L414
 8313              	.L401:
3740:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3741:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3742:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SDMMC_SDR104_SWITCH_PATTERN);
 8314              		.loc 1 3742 18
 8315 0094 7B68     		ldr	r3, [r7, #4]
 8316 0096 1B68     		ldr	r3, [r3]
 8317 0098 5249     		ldr	r1, .L415
 8318 009a 1846     		mov	r0, r3
 8319 009c FFF7FEFF 		bl	SDMMC_CmdSwitch
 8320 00a0 F866     		str	r0, [r7, #108]
3743:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 8321              		.loc 1 3743 8
ARM GAS  /tmp/ccRis3lg.s 			page 214


 8322 00a2 FB6E     		ldr	r3, [r7, #108]
 8323 00a4 002B     		cmp	r3, #0
 8324 00a6 37D0     		beq	.L403
3744:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3745:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8325              		.loc 1 3745 14
 8326 00a8 FB6E     		ldr	r3, [r7, #108]
 8327 00aa 97E0     		b	.L414
 8328              	.L407:
3746:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3747:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3748:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3749:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
3750:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3751:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
 8329              		.loc 1 3751 11
 8330 00ac 7B68     		ldr	r3, [r7, #4]
 8331 00ae 1B68     		ldr	r3, [r3]
 8332 00b0 5B6B     		ldr	r3, [r3, #52]
 8333 00b2 03F40043 		and	r3, r3, #32768
 8334              		.loc 1 3751 10
 8335 00b6 002B     		cmp	r3, #0
 8336 00b8 1BD0     		beq	.L404
3752:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3753:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 8337              		.loc 1 3753 20
 8338 00ba 0023     		movs	r3, #0
 8339 00bc BB66     		str	r3, [r7, #104]
 8340              		.loc 1 3753 9
 8341 00be 12E0     		b	.L405
 8342              	.L406:
3754:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3755:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
 8343              		.loc 1 3755 41 discriminator 3
 8344 00c0 7B68     		ldr	r3, [r7, #4]
 8345 00c2 1968     		ldr	r1, [r3]
 8346              		.loc 1 3755 21 discriminator 3
 8347 00c4 7B6E     		ldr	r3, [r7, #100]
 8348 00c6 DA00     		lsls	r2, r3, #3
 8349              		.loc 1 3755 29 discriminator 3
 8350 00c8 BB6E     		ldr	r3, [r7, #104]
 8351 00ca D418     		adds	r4, r2, r3
 8352              		.loc 1 3755 41 discriminator 3
 8353 00cc 0846     		mov	r0, r1
 8354 00ce FFF7FEFF 		bl	SDMMC_ReadFIFO
 8355 00d2 0246     		mov	r2, r0
 8356              		.loc 1 3755 39 discriminator 3
 8357 00d4 A300     		lsls	r3, r4, #2
 8358 00d6 07F17001 		add	r1, r7, #112
 8359 00da 0B44     		add	r3, r3, r1
 8360 00dc 43F8682C 		str	r2, [r3, #-104]
3753:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 8361              		.loc 1 3753 43 discriminator 3
 8362 00e0 BB6E     		ldr	r3, [r7, #104]
 8363 00e2 0133     		adds	r3, r3, #1
 8364 00e4 BB66     		str	r3, [r7, #104]
 8365              	.L405:
ARM GAS  /tmp/ccRis3lg.s 			page 215


3753:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 8366              		.loc 1 3753 9 discriminator 1
 8367 00e6 BB6E     		ldr	r3, [r7, #104]
 8368 00e8 072B     		cmp	r3, #7
 8369 00ea E9D9     		bls	.L406
3756:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3757:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
 8370              		.loc 1 3757 14
 8371 00ec 7B6E     		ldr	r3, [r7, #100]
 8372 00ee 0133     		adds	r3, r3, #1
 8373 00f0 7B66     		str	r3, [r7, #100]
 8374              	.L404:
3758:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3759:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3760:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_DATATIMEOUT)
 8375              		.loc 1 3760 12
 8376 00f2 FFF7FEFF 		bl	HAL_GetTick
 8377 00f6 0246     		mov	r2, r0
 8378              		.loc 1 3760 26
 8379 00f8 3B6E     		ldr	r3, [r7, #96]
 8380 00fa D31A     		subs	r3, r2, r3
 8381              		.loc 1 3760 10
 8382 00fc B3F1FF3F 		cmp	r3, #-1
 8383 0100 0AD1     		bne	.L403
3761:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3762:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 8384              		.loc 1 3762 24
 8385 0102 7B68     		ldr	r3, [r7, #4]
 8386 0104 4FF00042 		mov	r2, #-2147483648
 8387 0108 9A63     		str	r2, [r3, #56]
3763:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 8388              		.loc 1 3763 20
 8389 010a 7B68     		ldr	r3, [r7, #4]
 8390 010c 0122     		movs	r2, #1
 8391 010e 83F83420 		strb	r2, [r3, #52]
3764:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 8392              		.loc 1 3764 16
 8393 0112 4FF00043 		mov	r3, #-2147483648
 8394 0116 61E0     		b	.L414
 8395              	.L403:
3748:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 8396              		.loc 1 3748 13
 8397 0118 7B68     		ldr	r3, [r7, #4]
 8398 011a 1B68     		ldr	r3, [r3]
 8399 011c 5A6B     		ldr	r2, [r3, #52]
 8400 011e 40F22A53 		movw	r3, #1322
 8401 0122 1340     		ands	r3, r3, r2
3748:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 8402              		.loc 1 3748 11
 8403 0124 002B     		cmp	r3, #0
 8404 0126 C1D0     		beq	.L407
3765:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3766:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3767:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3768:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 8405              		.loc 1 3768 9
 8406 0128 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccRis3lg.s 			page 216


 8407 012a 1B68     		ldr	r3, [r3]
 8408 012c 5B6B     		ldr	r3, [r3, #52]
 8409 012e 03F00803 		and	r3, r3, #8
 8410              		.loc 1 3768 8
 8411 0132 002B     		cmp	r3, #0
 8412 0134 05D0     		beq	.L408
3769:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3770:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
 8413              		.loc 1 3770 7
 8414 0136 7B68     		ldr	r3, [r7, #4]
 8415 0138 1B68     		ldr	r3, [r3]
 8416 013a 0822     		movs	r2, #8
 8417 013c 9A63     		str	r2, [r3, #56]
3771:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3772:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8418              		.loc 1 3772 14
 8419 013e FB6E     		ldr	r3, [r7, #108]
 8420 0140 4CE0     		b	.L414
 8421              	.L408:
3773:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3774:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 8422              		.loc 1 3774 14
 8423 0142 7B68     		ldr	r3, [r7, #4]
 8424 0144 1B68     		ldr	r3, [r3]
 8425 0146 5B6B     		ldr	r3, [r3, #52]
 8426 0148 03F00203 		and	r3, r3, #2
 8427              		.loc 1 3774 13
 8428 014c 002B     		cmp	r3, #0
 8429 014e 07D0     		beq	.L409
3775:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3776:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
 8430              		.loc 1 3776 7
 8431 0150 7B68     		ldr	r3, [r7, #4]
 8432 0152 1B68     		ldr	r3, [r3]
 8433 0154 0222     		movs	r2, #2
 8434 0156 9A63     		str	r2, [r3, #56]
3777:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3778:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
 8435              		.loc 1 3778 18
 8436 0158 0223     		movs	r3, #2
 8437 015a FB66     		str	r3, [r7, #108]
3779:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3780:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8438              		.loc 1 3780 14
 8439 015c FB6E     		ldr	r3, [r7, #108]
 8440 015e 3DE0     		b	.L414
 8441              	.L409:
3781:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3782:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 8442              		.loc 1 3782 14
 8443 0160 7B68     		ldr	r3, [r7, #4]
 8444 0162 1B68     		ldr	r3, [r3]
 8445 0164 5B6B     		ldr	r3, [r3, #52]
 8446 0166 03F02003 		and	r3, r3, #32
 8447              		.loc 1 3782 13
 8448 016a 002B     		cmp	r3, #0
 8449 016c 07D0     		beq	.L410
ARM GAS  /tmp/ccRis3lg.s 			page 217


3783:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3784:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
 8450              		.loc 1 3784 7
 8451 016e 7B68     		ldr	r3, [r7, #4]
 8452 0170 1B68     		ldr	r3, [r3]
 8453 0172 2022     		movs	r2, #32
 8454 0174 9A63     		str	r2, [r3, #56]
3785:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3786:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
 8455              		.loc 1 3786 18
 8456 0176 2023     		movs	r3, #32
 8457 0178 FB66     		str	r3, [r7, #108]
3787:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3788:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8458              		.loc 1 3788 14
 8459 017a FB6E     		ldr	r3, [r7, #108]
 8460 017c 2EE0     		b	.L414
 8461              	.L410:
3789:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3790:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3791:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3792:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
3793:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3794:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3795:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3796:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 8462              		.loc 1 3796 5
 8463 017e 7B68     		ldr	r3, [r7, #4]
 8464 0180 1B68     		ldr	r3, [r3]
 8465 0182 194A     		ldr	r2, .L415+4
 8466 0184 9A63     		str	r2, [r3, #56]
3797:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3798:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode HS is ok */
3799:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
 8467              		.loc 1 3799 28
 8468 0186 07F10803 		add	r3, r7, #8
 8469 018a 0D33     		adds	r3, r3, #13
 8470 018c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 8471              		.loc 1 3799 33
 8472 018e 03F00203 		and	r3, r3, #2
 8473              		.loc 1 3799 8
 8474 0192 002B     		cmp	r3, #0
 8475 0194 03D1     		bne	.L411
3800:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3801:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
 8476              		.loc 1 3801 18
 8477 0196 4FF08053 		mov	r3, #268435456
 8478 019a FB66     		str	r3, [r7, #108]
 8479 019c 1DE0     		b	.L399
 8480              	.L411:
3802:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3803:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3804:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3805:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3806:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback(SET);
3807:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3808:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_DriveTransceiver_1_8V_Callback(SET);
ARM GAS  /tmp/ccRis3lg.s 			page 218


 8481              		.loc 1 3808 7
 8482 019e 0120     		movs	r0, #1
 8483 01a0 FFF7FEFF 		bl	HAL_SD_DriveTransceiver_1_8V_Callback
3809:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3810:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) || defined (DLYB_SDMMC2)
3811:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Enable DelayBlock Peripheral */
3812:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* SDMMC_FB_CLK tuned feedback clock selected as receive clock, for SDR104 */
3813:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       MODIFY_REG(hsd->Instance->CLKCR, SDMMC_CLKCR_SELCLKRX, SDMMC_CLKCR_SELCLKRX_1);
 8484              		.loc 1 3813 7
 8485 01a4 7B68     		ldr	r3, [r7, #4]
 8486 01a6 1B68     		ldr	r3, [r3]
 8487 01a8 5B68     		ldr	r3, [r3, #4]
 8488 01aa 23F44012 		bic	r2, r3, #3145728
 8489 01ae 7B68     		ldr	r3, [r7, #4]
 8490 01b0 1B68     		ldr	r3, [r3]
 8491 01b2 42F40012 		orr	r2, r2, #2097152
 8492 01b6 5A60     		str	r2, [r3, #4]
3814:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (DelayBlock_Enable(SD_GET_DLYB_INSTANCE(hsd->Instance)) != HAL_OK)
 8493              		.loc 1 3814 29
 8494 01b8 7B68     		ldr	r3, [r7, #4]
 8495 01ba 1B68     		ldr	r3, [r3]
 8496              		.loc 1 3814 11
 8497 01bc 0B4A     		ldr	r2, .L415+8
 8498 01be 9342     		cmp	r3, r2
 8499 01c0 01D1     		bne	.L412
 8500              		.loc 1 3814 11 is_stmt 0 discriminator 1
 8501 01c2 0B4B     		ldr	r3, .L415+12
 8502 01c4 00E0     		b	.L413
 8503              	.L412:
 8504              		.loc 1 3814 11 discriminator 2
 8505 01c6 0B4B     		ldr	r3, .L415+16
 8506              	.L413:
 8507              		.loc 1 3814 11 discriminator 4
 8508 01c8 1846     		mov	r0, r3
 8509 01ca FFF7FEFF 		bl	DelayBlock_Enable
 8510 01ce 0346     		mov	r3, r0
 8511              		.loc 1 3814 10 is_stmt 1 discriminator 4
 8512 01d0 002B     		cmp	r3, #0
 8513 01d2 02D0     		beq	.L399
3815:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3816:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
 8514              		.loc 1 3816 16
 8515 01d4 4FF48033 		mov	r3, #65536
 8516 01d8 00E0     		b	.L414
 8517              	.L399:
3817:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3818:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) || (DLYB_SDMMC2) */
3819:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3820:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3821:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3822:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
 8518              		.loc 1 3822 10
 8519 01da FB6E     		ldr	r3, [r7, #108]
 8520              	.L414:
3823:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 8521              		.loc 1 3823 1 discriminator 1
 8522 01dc 1846     		mov	r0, r3
ARM GAS  /tmp/ccRis3lg.s 			page 219


 8523 01de 7437     		adds	r7, r7, #116
 8524              	.LCFI215:
 8525              		.cfi_def_cfa_offset 12
 8526 01e0 BD46     		mov	sp, r7
 8527              	.LCFI216:
 8528              		.cfi_def_cfa_register 13
 8529              		@ sp needed
 8530 01e2 90BD     		pop	{r4, r7, pc}
 8531              	.L416:
 8532              		.align	2
 8533              	.L415:
 8534 01e4 031FFF80 		.word	-2130764029
 8535 01e8 3A0F0018 		.word	402657082
 8536 01ec 00700052 		.word	1375760384
 8537 01f0 00800052 		.word	1375764480
 8538 01f4 00280248 		.word	1208100864
 8539              		.cfi_endproc
 8540              	.LFE371:
 8542              		.section	.text.SD_DDR_Mode,"ax",%progbits
 8543              		.align	1
 8544              		.syntax unified
 8545              		.thumb
 8546              		.thumb_func
 8547              		.fpu fpv5-d16
 8549              	SD_DDR_Mode:
 8550              	.LFB372:
3824:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3825:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3826:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief  Switches the SD card to Double Data Rate (DDR) mode.
3827:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         This API must be used after "Transfer State"
3828:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @note   This operation should be followed by the configuration
3829:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   *         of PLL to have SDMMCCK clock less than 50MHz
3830:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param  hsd: SD handle
3831:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval SD Card error state
3832:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3833:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** static uint32_t SD_DDR_Mode(SD_HandleTypeDef *hsd)
3834:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 8551              		.loc 1 3834 1
 8552              		.cfi_startproc
 8553              		@ args = 0, pretend = 0, frame = 112
 8554              		@ frame_needed = 1, uses_anonymous_args = 0
 8555 0000 90B5     		push	{r4, r7, lr}
 8556              	.LCFI217:
 8557              		.cfi_def_cfa_offset 12
 8558              		.cfi_offset 4, -12
 8559              		.cfi_offset 7, -8
 8560              		.cfi_offset 14, -4
 8561 0002 9DB0     		sub	sp, sp, #116
 8562              	.LCFI218:
 8563              		.cfi_def_cfa_offset 128
 8564 0004 00AF     		add	r7, sp, #0
 8565              	.LCFI219:
 8566              		.cfi_def_cfa_register 7
 8567 0006 7860     		str	r0, [r7, #4]
3835:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t errorstate = HAL_SD_ERROR_NONE;
 8568              		.loc 1 3835 12
 8569 0008 0023     		movs	r3, #0
ARM GAS  /tmp/ccRis3lg.s 			page 220


 8570 000a FB66     		str	r3, [r7, #108]
3836:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   SDMMC_DataInitTypeDef sdmmc_datainitstructure;
3837:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t SD_hs[16]  = {0};
 8571              		.loc 1 3837 12
 8572 000c 07F10803 		add	r3, r7, #8
 8573 0010 4022     		movs	r2, #64
 8574 0012 0021     		movs	r1, #0
 8575 0014 1846     		mov	r0, r3
 8576 0016 FFF7FEFF 		bl	memset
3838:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t count;
3839:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t loop = 0 ;
 8577              		.loc 1 3839 12
 8578 001a 0023     		movs	r3, #0
 8579 001c 7B66     		str	r3, [r7, #100]
3840:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   uint32_t Timeout = HAL_GetTick();
 8580              		.loc 1 3840 22
 8581 001e FFF7FEFF 		bl	HAL_GetTick
 8582 0022 3866     		str	r0, [r7, #96]
3841:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3842:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_NORMAL_SPEED)
 8583              		.loc 1 3842 18
 8584 0024 7B68     		ldr	r3, [r7, #4]
 8585 0026 DB6D     		ldr	r3, [r3, #92]
 8586              		.loc 1 3842 6
 8587 0028 002B     		cmp	r3, #0
 8588 002a 02D1     		bne	.L418
3843:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3844:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Standard Speed Card <= 12.5Mhz  */
3845:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 8589              		.loc 1 3845 12
 8590 002c 4FF08063 		mov	r3, #67108864
 8591 0030 D4E0     		b	.L435
 8592              	.L418:
3846:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3847:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3848:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   if (hsd->SdCard.CardSpeed == CARD_ULTRA_HIGH_SPEED)
 8593              		.loc 1 3848 18
 8594 0032 7B68     		ldr	r3, [r7, #4]
 8595 0034 DB6D     		ldr	r3, [r3, #92]
 8596              		.loc 1 3848 6
 8597 0036 B3F5007F 		cmp	r3, #512
 8598 003a 40F0CE80 		bne	.L420
3849:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   {
3850:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Initialize the Data control register */
3851:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     hsd->Instance->DCTRL = 0;
 8599              		.loc 1 3851 8
 8600 003e 7B68     		ldr	r3, [r7, #4]
 8601 0040 1B68     		ldr	r3, [r3]
 8602              		.loc 1 3851 26
 8603 0042 0022     		movs	r2, #0
 8604 0044 DA62     		str	r2, [r3, #44]
3852:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
 8605              		.loc 1 3852 18
 8606 0046 7B68     		ldr	r3, [r7, #4]
 8607 0048 1B68     		ldr	r3, [r3]
 8608 004a 4021     		movs	r1, #64
 8609 004c 1846     		mov	r0, r3
ARM GAS  /tmp/ccRis3lg.s 			page 221


 8610 004e FFF7FEFF 		bl	SDMMC_CmdBlockLength
 8611 0052 F866     		str	r0, [r7, #108]
3853:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3854:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 8612              		.loc 1 3854 8
 8613 0054 FB6E     		ldr	r3, [r7, #108]
 8614 0056 002B     		cmp	r3, #0
 8615 0058 01D0     		beq	.L421
3855:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3856:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8616              		.loc 1 3856 14
 8617 005a FB6E     		ldr	r3, [r7, #108]
 8618 005c BEE0     		b	.L435
 8619              	.L421:
3857:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3858:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3859:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
3860:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataTimeOut   = SDMMC_DATATIMEOUT;
 8620              		.loc 1 3860 43
 8621 005e 4FF0FF33 		mov	r3, #-1
 8622 0062 BB64     		str	r3, [r7, #72]
3861:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataLength    = 64U;
 8623              		.loc 1 3861 43
 8624 0064 4023     		movs	r3, #64
 8625 0066 FB64     		str	r3, [r7, #76]
3862:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DataBlockSize = SDMMC_DATABLOCK_SIZE_64B ;
 8626              		.loc 1 3862 43
 8627 0068 6023     		movs	r3, #96
 8628 006a 3B65     		str	r3, [r7, #80]
3863:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 8629              		.loc 1 3863 43
 8630 006c 0223     		movs	r3, #2
 8631 006e 7B65     		str	r3, [r7, #84]
3864:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 8632              		.loc 1 3864 43
 8633 0070 0023     		movs	r3, #0
 8634 0072 BB65     		str	r3, [r7, #88]
3865:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     sdmmc_datainitstructure.DPSM          = SDMMC_DPSM_ENABLE;
 8635              		.loc 1 3865 43
 8636 0074 0123     		movs	r3, #1
 8637 0076 FB65     		str	r3, [r7, #92]
3866:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3867:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (SDMMC_ConfigData(hsd->Instance, &sdmmc_datainitstructure) != HAL_OK)
 8638              		.loc 1 3867 9
 8639 0078 7B68     		ldr	r3, [r7, #4]
 8640 007a 1B68     		ldr	r3, [r3]
 8641 007c 07F14802 		add	r2, r7, #72
 8642 0080 1146     		mov	r1, r2
 8643 0082 1846     		mov	r0, r3
 8644 0084 FFF7FEFF 		bl	SDMMC_ConfigData
 8645 0088 0346     		mov	r3, r0
 8646              		.loc 1 3867 8
 8647 008a 002B     		cmp	r3, #0
 8648 008c 02D0     		beq	.L422
3868:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3869:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
 8649              		.loc 1 3869 14
ARM GAS  /tmp/ccRis3lg.s 			page 222


 8650 008e 4FF48033 		mov	r3, #65536
 8651 0092 A3E0     		b	.L435
 8652              	.L422:
3870:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3871:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3872:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     errorstate = SDMMC_CmdSwitch(hsd->Instance, SDMMC_DDR50_SWITCH_PATTERN);
 8653              		.loc 1 3872 18
 8654 0094 7B68     		ldr	r3, [r7, #4]
 8655 0096 1B68     		ldr	r3, [r3]
 8656 0098 5249     		ldr	r1, .L436
 8657 009a 1846     		mov	r0, r3
 8658 009c FFF7FEFF 		bl	SDMMC_CmdSwitch
 8659 00a0 F866     		str	r0, [r7, #108]
3873:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 8660              		.loc 1 3873 8
 8661 00a2 FB6E     		ldr	r3, [r7, #108]
 8662 00a4 002B     		cmp	r3, #0
 8663 00a6 37D0     		beq	.L424
3874:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3875:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8664              		.loc 1 3875 14
 8665 00a8 FB6E     		ldr	r3, [r7, #108]
 8666 00aa 97E0     		b	.L435
 8667              	.L428:
3876:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3877:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3878:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     while (!__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR | SDMMC_FLAG_DCRCFAIL | SDMMC_FLAG_DTIMEOUT |
3879:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
3880:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3881:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXFIFOHF))
 8668              		.loc 1 3881 11
 8669 00ac 7B68     		ldr	r3, [r7, #4]
 8670 00ae 1B68     		ldr	r3, [r3]
 8671 00b0 5B6B     		ldr	r3, [r3, #52]
 8672 00b2 03F40043 		and	r3, r3, #32768
 8673              		.loc 1 3881 10
 8674 00b6 002B     		cmp	r3, #0
 8675 00b8 1BD0     		beq	.L425
3882:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3883:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         for (count = 0U; count < 8U; count++)
 8676              		.loc 1 3883 20
 8677 00ba 0023     		movs	r3, #0
 8678 00bc BB66     		str	r3, [r7, #104]
 8679              		.loc 1 3883 9
 8680 00be 12E0     		b	.L426
 8681              	.L427:
3884:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
3885:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****           SD_hs[(8U * loop) + count]  = SDMMC_ReadFIFO(hsd->Instance);
 8682              		.loc 1 3885 41 discriminator 3
 8683 00c0 7B68     		ldr	r3, [r7, #4]
 8684 00c2 1968     		ldr	r1, [r3]
 8685              		.loc 1 3885 21 discriminator 3
 8686 00c4 7B6E     		ldr	r3, [r7, #100]
 8687 00c6 DA00     		lsls	r2, r3, #3
 8688              		.loc 1 3885 29 discriminator 3
 8689 00c8 BB6E     		ldr	r3, [r7, #104]
 8690 00ca D418     		adds	r4, r2, r3
ARM GAS  /tmp/ccRis3lg.s 			page 223


 8691              		.loc 1 3885 41 discriminator 3
 8692 00cc 0846     		mov	r0, r1
 8693 00ce FFF7FEFF 		bl	SDMMC_ReadFIFO
 8694 00d2 0246     		mov	r2, r0
 8695              		.loc 1 3885 39 discriminator 3
 8696 00d4 A300     		lsls	r3, r4, #2
 8697 00d6 07F17001 		add	r1, r7, #112
 8698 00da 0B44     		add	r3, r3, r1
 8699 00dc 43F8682C 		str	r2, [r3, #-104]
3883:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 8700              		.loc 1 3883 43 discriminator 3
 8701 00e0 BB6E     		ldr	r3, [r7, #104]
 8702 00e2 0133     		adds	r3, r3, #1
 8703 00e4 BB66     		str	r3, [r7, #104]
 8704              	.L426:
3883:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         {
 8705              		.loc 1 3883 9 discriminator 1
 8706 00e6 BB6E     		ldr	r3, [r7, #104]
 8707 00e8 072B     		cmp	r3, #7
 8708 00ea E9D9     		bls	.L427
3886:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         }
3887:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         loop ++;
 8709              		.loc 1 3887 14
 8710 00ec 7B6E     		ldr	r3, [r7, #100]
 8711 00ee 0133     		adds	r3, r3, #1
 8712 00f0 7B66     		str	r3, [r7, #100]
 8713              	.L425:
3888:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3889:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3890:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if ((HAL_GetTick() - Timeout) >=  SDMMC_DATATIMEOUT)
 8714              		.loc 1 3890 12
 8715 00f2 FFF7FEFF 		bl	HAL_GetTick
 8716 00f6 0246     		mov	r2, r0
 8717              		.loc 1 3890 26
 8718 00f8 3B6E     		ldr	r3, [r7, #96]
 8719 00fa D31A     		subs	r3, r2, r3
 8720              		.loc 1 3890 10
 8721 00fc B3F1FF3F 		cmp	r3, #-1
 8722 0100 0AD1     		bne	.L424
3891:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3892:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_TIMEOUT;
 8723              		.loc 1 3892 24
 8724 0102 7B68     		ldr	r3, [r7, #4]
 8725 0104 4FF00042 		mov	r2, #-2147483648
 8726 0108 9A63     		str	r2, [r3, #56]
3893:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 8727              		.loc 1 3893 20
 8728 010a 7B68     		ldr	r3, [r7, #4]
 8729 010c 0122     		movs	r2, #1
 8730 010e 83F83420 		strb	r2, [r3, #52]
3894:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return HAL_SD_ERROR_TIMEOUT;
 8731              		.loc 1 3894 16
 8732 0112 4FF00043 		mov	r3, #-2147483648
 8733 0116 61E0     		b	.L435
 8734              	.L424:
3878:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 8735              		.loc 1 3878 13
ARM GAS  /tmp/ccRis3lg.s 			page 224


 8736 0118 7B68     		ldr	r3, [r7, #4]
 8737 011a 1B68     		ldr	r3, [r3]
 8738 011c 5A6B     		ldr	r2, [r3, #52]
 8739 011e 40F22A53 		movw	r3, #1322
 8740 0122 1340     		ands	r3, r3, r2
3878:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****                               SDMMC_FLAG_DATAEND))
 8741              		.loc 1 3878 11
 8742 0124 002B     		cmp	r3, #0
 8743 0126 C1D0     		beq	.L428
3895:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3896:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3897:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3898:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DTIMEOUT))
 8744              		.loc 1 3898 9
 8745 0128 7B68     		ldr	r3, [r7, #4]
 8746 012a 1B68     		ldr	r3, [r3]
 8747 012c 5B6B     		ldr	r3, [r3, #52]
 8748 012e 03F00803 		and	r3, r3, #8
 8749              		.loc 1 3898 8
 8750 0132 002B     		cmp	r3, #0
 8751 0134 05D0     		beq	.L429
3899:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3900:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DTIMEOUT);
 8752              		.loc 1 3900 7
 8753 0136 7B68     		ldr	r3, [r7, #4]
 8754 0138 1B68     		ldr	r3, [r3]
 8755 013a 0822     		movs	r2, #8
 8756 013c 9A63     		str	r2, [r3, #56]
3901:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3902:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8757              		.loc 1 3902 14
 8758 013e FB6E     		ldr	r3, [r7, #108]
 8759 0140 4CE0     		b	.L435
 8760              	.L429:
3903:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3904:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_DCRCFAIL))
 8761              		.loc 1 3904 14
 8762 0142 7B68     		ldr	r3, [r7, #4]
 8763 0144 1B68     		ldr	r3, [r3]
 8764 0146 5B6B     		ldr	r3, [r3, #52]
 8765 0148 03F00203 		and	r3, r3, #2
 8766              		.loc 1 3904 13
 8767 014c 002B     		cmp	r3, #0
 8768 014e 07D0     		beq	.L430
3905:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3906:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_DCRCFAIL);
 8769              		.loc 1 3906 7
 8770 0150 7B68     		ldr	r3, [r7, #4]
 8771 0152 1B68     		ldr	r3, [r3]
 8772 0154 0222     		movs	r2, #2
 8773 0156 9A63     		str	r2, [r3, #56]
3907:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3908:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_DATA_CRC_FAIL;
 8774              		.loc 1 3908 18
 8775 0158 0223     		movs	r3, #2
 8776 015a FB66     		str	r3, [r7, #108]
3909:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
ARM GAS  /tmp/ccRis3lg.s 			page 225


3910:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8777              		.loc 1 3910 14
 8778 015c FB6E     		ldr	r3, [r7, #108]
 8779 015e 3DE0     		b	.L435
 8780              	.L430:
3911:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3912:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else if (__HAL_SD_GET_FLAG(hsd, SDMMC_FLAG_RXOVERR))
 8781              		.loc 1 3912 14
 8782 0160 7B68     		ldr	r3, [r7, #4]
 8783 0162 1B68     		ldr	r3, [r3]
 8784 0164 5B6B     		ldr	r3, [r3, #52]
 8785 0166 03F02003 		and	r3, r3, #32
 8786              		.loc 1 3912 13
 8787 016a 002B     		cmp	r3, #0
 8788 016c 07D0     		beq	.L431
3913:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3914:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDMMC_FLAG_RXOVERR);
 8789              		.loc 1 3914 7
 8790 016e 7B68     		ldr	r3, [r7, #4]
 8791 0170 1B68     		ldr	r3, [r3]
 8792 0172 2022     		movs	r2, #32
 8793 0174 9A63     		str	r2, [r3, #56]
3915:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3916:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_RX_OVERRUN;
 8794              		.loc 1 3916 18
 8795 0176 2023     		movs	r3, #32
 8796 0178 FB66     		str	r3, [r7, #108]
3917:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3918:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       return errorstate;
 8797              		.loc 1 3918 14
 8798 017a FB6E     		ldr	r3, [r7, #108]
 8799 017c 2EE0     		b	.L435
 8800              	.L431:
3919:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3920:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3921:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3922:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* No error flag set */
3923:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3924:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3925:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Clear all the static flags */
3926:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 8801              		.loc 1 3926 5
 8802 017e 7B68     		ldr	r3, [r7, #4]
 8803 0180 1B68     		ldr	r3, [r3]
 8804 0182 194A     		ldr	r2, .L436+4
 8805 0184 9A63     		str	r2, [r3, #56]
3927:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3928:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     /* Test if the switch mode  is ok */
3929:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     if ((((uint8_t *)SD_hs)[13] & 2U) != 2U)
 8806              		.loc 1 3929 28
 8807 0186 07F10803 		add	r3, r7, #8
 8808 018a 0D33     		adds	r3, r3, #13
 8809 018c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 8810              		.loc 1 3929 33
 8811 018e 03F00203 		and	r3, r3, #2
 8812              		.loc 1 3929 8
 8813 0192 002B     		cmp	r3, #0
ARM GAS  /tmp/ccRis3lg.s 			page 226


 8814 0194 03D1     		bne	.L432
3930:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3931:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       errorstate = SDMMC_ERROR_UNSUPPORTED_FEATURE;
 8815              		.loc 1 3931 18
 8816 0196 4FF08053 		mov	r3, #268435456
 8817 019a FB66     		str	r3, [r7, #108]
 8818 019c 1DE0     		b	.L420
 8819              	.L432:
3932:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3933:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     else
3934:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     {
3935:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
3936:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       hsd->DriveTransceiver_1_8V_Callback(SET);
3937:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #else
3938:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       HAL_SD_DriveTransceiver_1_8V_Callback(SET);
 8820              		.loc 1 3938 7
 8821 019e 0120     		movs	r0, #1
 8822 01a0 FFF7FEFF 		bl	HAL_SD_DriveTransceiver_1_8V_Callback
3939:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
3940:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #if defined (DLYB_SDMMC1) || defined (DLYB_SDMMC2)
3941:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* Enable DelayBlock Peripheral */
3942:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       /* SDMMC_CKin feedback clock selected as receive clock, for DDR50 */
3943:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       MODIFY_REG(hsd->Instance->CLKCR, SDMMC_CLKCR_SELCLKRX, SDMMC_CLKCR_SELCLKRX_0);
 8823              		.loc 1 3943 7
 8824 01a4 7B68     		ldr	r3, [r7, #4]
 8825 01a6 1B68     		ldr	r3, [r3]
 8826 01a8 5B68     		ldr	r3, [r3, #4]
 8827 01aa 23F44012 		bic	r2, r3, #3145728
 8828 01ae 7B68     		ldr	r3, [r7, #4]
 8829 01b0 1B68     		ldr	r3, [r3]
 8830 01b2 42F48012 		orr	r2, r2, #1048576
 8831 01b6 5A60     		str	r2, [r3, #4]
3944:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       if (DelayBlock_Enable(SD_GET_DLYB_INSTANCE(hsd->Instance)) != HAL_OK)
 8832              		.loc 1 3944 29
 8833 01b8 7B68     		ldr	r3, [r7, #4]
 8834 01ba 1B68     		ldr	r3, [r3]
 8835              		.loc 1 3944 11
 8836 01bc 0B4A     		ldr	r2, .L436+8
 8837 01be 9342     		cmp	r3, r2
 8838 01c0 01D1     		bne	.L433
 8839              		.loc 1 3944 11 is_stmt 0 discriminator 1
 8840 01c2 0B4B     		ldr	r3, .L436+12
 8841 01c4 00E0     		b	.L434
 8842              	.L433:
 8843              		.loc 1 3944 11 discriminator 2
 8844 01c6 0B4B     		ldr	r3, .L436+16
 8845              	.L434:
 8846              		.loc 1 3944 11 discriminator 4
 8847 01c8 1846     		mov	r0, r3
 8848 01ca FFF7FEFF 		bl	DelayBlock_Enable
 8849 01ce 0346     		mov	r3, r0
 8850              		.loc 1 3944 10 is_stmt 1 discriminator 4
 8851 01d0 002B     		cmp	r3, #0
 8852 01d2 02D0     		beq	.L420
3945:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       {
3946:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****         return (HAL_SD_ERROR_GENERAL_UNKNOWN_ERR);
 8853              		.loc 1 3946 16
ARM GAS  /tmp/ccRis3lg.s 			page 227


 8854 01d4 4FF48033 		mov	r3, #65536
 8855 01d8 00E0     		b	.L435
 8856              	.L420:
3947:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****       }
3948:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* (DLYB_SDMMC1) || (DLYB_SDMMC2) */
3949:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****     }
3950:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   }
3951:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3952:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   return errorstate;
 8857              		.loc 1 3952 10
 8858 01da FB6E     		ldr	r3, [r7, #108]
 8859              	.L435:
3953:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 8860              		.loc 1 3953 1 discriminator 1
 8861 01dc 1846     		mov	r0, r3
 8862 01de 7437     		adds	r7, r7, #116
 8863              	.LCFI220:
 8864              		.cfi_def_cfa_offset 12
 8865 01e0 BD46     		mov	sp, r7
 8866              	.LCFI221:
 8867              		.cfi_def_cfa_register 13
 8868              		@ sp needed
 8869 01e2 90BD     		pop	{r4, r7, pc}
 8870              	.L437:
 8871              		.align	2
 8872              	.L436:
 8873 01e4 04FFFF80 		.word	-2130706684
 8874 01e8 3A0F0018 		.word	402657082
 8875 01ec 00700052 		.word	1375760384
 8876 01f0 00800052 		.word	1375764480
 8877 01f4 00280248 		.word	1208100864
 8878              		.cfi_endproc
 8879              	.LFE372:
 8881              		.section	.text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback,"ax",%progbits
 8882              		.align	1
 8883              		.weak	HAL_SDEx_Read_DMADoubleBuf0CpltCallback
 8884              		.syntax unified
 8885              		.thumb
 8886              		.thumb_func
 8887              		.fpu fpv5-d16
 8889              	HAL_SDEx_Read_DMADoubleBuf0CpltCallback:
 8890              	.LFB373:
3954:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3955:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** #endif /* USE_SD_TRANSCEIVER */
3956:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3957:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3958:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Read DMA Buffer 0 Transfer completed callbacks
3959:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
3960:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3961:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3962:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Read_DMADoubleBuf0CpltCallback(SD_HandleTypeDef *hsd)
3963:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 8891              		.loc 1 3963 1
 8892              		.cfi_startproc
 8893              		@ args = 0, pretend = 0, frame = 8
 8894              		@ frame_needed = 1, uses_anonymous_args = 0
 8895              		@ link register save eliminated.
ARM GAS  /tmp/ccRis3lg.s 			page 228


 8896 0000 80B4     		push	{r7}
 8897              	.LCFI222:
 8898              		.cfi_def_cfa_offset 4
 8899              		.cfi_offset 7, -4
 8900 0002 83B0     		sub	sp, sp, #12
 8901              	.LCFI223:
 8902              		.cfi_def_cfa_offset 16
 8903 0004 00AF     		add	r7, sp, #0
 8904              	.LCFI224:
 8905              		.cfi_def_cfa_register 7
 8906 0006 7860     		str	r0, [r7, #4]
3964:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
3965:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
3966:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3967:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
3968:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Read_DMADoubleBuf0CpltCallback can be implemented in the user file
3969:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
3970:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 8907              		.loc 1 3970 1
 8908 0008 00BF     		nop
 8909 000a 0C37     		adds	r7, r7, #12
 8910              	.LCFI225:
 8911              		.cfi_def_cfa_offset 4
 8912 000c BD46     		mov	sp, r7
 8913              	.LCFI226:
 8914              		.cfi_def_cfa_register 13
 8915              		@ sp needed
 8916 000e 5DF8047B 		ldr	r7, [sp], #4
 8917              	.LCFI227:
 8918              		.cfi_restore 7
 8919              		.cfi_def_cfa_offset 0
 8920 0012 7047     		bx	lr
 8921              		.cfi_endproc
 8922              	.LFE373:
 8924              		.section	.text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback,"ax",%progbits
 8925              		.align	1
 8926              		.weak	HAL_SDEx_Read_DMADoubleBuf1CpltCallback
 8927              		.syntax unified
 8928              		.thumb
 8929              		.thumb_func
 8930              		.fpu fpv5-d16
 8932              	HAL_SDEx_Read_DMADoubleBuf1CpltCallback:
 8933              	.LFB374:
3971:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3972:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3973:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Read DMA Buffer 1 Transfer completed callbacks
3974:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
3975:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3976:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3977:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Read_DMADoubleBuf1CpltCallback(SD_HandleTypeDef *hsd)
3978:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 8934              		.loc 1 3978 1
 8935              		.cfi_startproc
 8936              		@ args = 0, pretend = 0, frame = 8
 8937              		@ frame_needed = 1, uses_anonymous_args = 0
 8938              		@ link register save eliminated.
 8939 0000 80B4     		push	{r7}
ARM GAS  /tmp/ccRis3lg.s 			page 229


 8940              	.LCFI228:
 8941              		.cfi_def_cfa_offset 4
 8942              		.cfi_offset 7, -4
 8943 0002 83B0     		sub	sp, sp, #12
 8944              	.LCFI229:
 8945              		.cfi_def_cfa_offset 16
 8946 0004 00AF     		add	r7, sp, #0
 8947              	.LCFI230:
 8948              		.cfi_def_cfa_register 7
 8949 0006 7860     		str	r0, [r7, #4]
3979:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
3980:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
3981:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3982:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
3983:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Read_DMADoubleBuf1CpltCallback can be implemented in the user file
3984:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
3985:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 8950              		.loc 1 3985 1
 8951 0008 00BF     		nop
 8952 000a 0C37     		adds	r7, r7, #12
 8953              	.LCFI231:
 8954              		.cfi_def_cfa_offset 4
 8955 000c BD46     		mov	sp, r7
 8956              	.LCFI232:
 8957              		.cfi_def_cfa_register 13
 8958              		@ sp needed
 8959 000e 5DF8047B 		ldr	r7, [sp], #4
 8960              	.LCFI233:
 8961              		.cfi_restore 7
 8962              		.cfi_def_cfa_offset 0
 8963 0012 7047     		bx	lr
 8964              		.cfi_endproc
 8965              	.LFE374:
 8967              		.section	.text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback,"ax",%progbits
 8968              		.align	1
 8969              		.weak	HAL_SDEx_Write_DMADoubleBuf0CpltCallback
 8970              		.syntax unified
 8971              		.thumb
 8972              		.thumb_func
 8973              		.fpu fpv5-d16
 8975              	HAL_SDEx_Write_DMADoubleBuf0CpltCallback:
 8976              	.LFB375:
3986:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3987:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
3988:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Write DMA Buffer 0 Transfer completed callbacks
3989:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
3990:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
3991:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
3992:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Write_DMADoubleBuf0CpltCallback(SD_HandleTypeDef *hsd)
3993:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 8977              		.loc 1 3993 1
 8978              		.cfi_startproc
 8979              		@ args = 0, pretend = 0, frame = 8
 8980              		@ frame_needed = 1, uses_anonymous_args = 0
 8981              		@ link register save eliminated.
 8982 0000 80B4     		push	{r7}
 8983              	.LCFI234:
ARM GAS  /tmp/ccRis3lg.s 			page 230


 8984              		.cfi_def_cfa_offset 4
 8985              		.cfi_offset 7, -4
 8986 0002 83B0     		sub	sp, sp, #12
 8987              	.LCFI235:
 8988              		.cfi_def_cfa_offset 16
 8989 0004 00AF     		add	r7, sp, #0
 8990              	.LCFI236:
 8991              		.cfi_def_cfa_register 7
 8992 0006 7860     		str	r0, [r7, #4]
3994:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
3995:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
3996:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
3997:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
3998:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Write_DMADoubleBuf0CpltCallback can be implemented in the user file
3999:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4000:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 8993              		.loc 1 4000 1
 8994 0008 00BF     		nop
 8995 000a 0C37     		adds	r7, r7, #12
 8996              	.LCFI237:
 8997              		.cfi_def_cfa_offset 4
 8998 000c BD46     		mov	sp, r7
 8999              	.LCFI238:
 9000              		.cfi_def_cfa_register 13
 9001              		@ sp needed
 9002 000e 5DF8047B 		ldr	r7, [sp], #4
 9003              	.LCFI239:
 9004              		.cfi_restore 7
 9005              		.cfi_def_cfa_offset 0
 9006 0012 7047     		bx	lr
 9007              		.cfi_endproc
 9008              	.LFE375:
 9010              		.section	.text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback,"ax",%progbits
 9011              		.align	1
 9012              		.weak	HAL_SDEx_Write_DMADoubleBuf1CpltCallback
 9013              		.syntax unified
 9014              		.thumb
 9015              		.thumb_func
 9016              		.fpu fpv5-d16
 9018              	HAL_SDEx_Write_DMADoubleBuf1CpltCallback:
 9019              	.LFB376:
4001:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4002:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** /**
4003:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @brief Write DMA Buffer 1 Transfer completed callbacks
4004:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @param hsd: SD handle
4005:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   * @retval None
4006:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   */
4007:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** __weak void HAL_SDEx_Write_DMADoubleBuf1CpltCallback(SD_HandleTypeDef *hsd)
4008:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** {
 9020              		.loc 1 4008 1
 9021              		.cfi_startproc
 9022              		@ args = 0, pretend = 0, frame = 8
 9023              		@ frame_needed = 1, uses_anonymous_args = 0
 9024              		@ link register save eliminated.
 9025 0000 80B4     		push	{r7}
 9026              	.LCFI240:
 9027              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccRis3lg.s 			page 231


 9028              		.cfi_offset 7, -4
 9029 0002 83B0     		sub	sp, sp, #12
 9030              	.LCFI241:
 9031              		.cfi_def_cfa_offset 16
 9032 0004 00AF     		add	r7, sp, #0
 9033              	.LCFI242:
 9034              		.cfi_def_cfa_register 7
 9035 0006 7860     		str	r0, [r7, #4]
4009:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
4010:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   UNUSED(hsd);
4011:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** 
4012:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
4013:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****             the HAL_SDEx_Write_DMADoubleBuf1CpltCallback can be implemented in the user file
4014:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c ****    */
4015:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd.c **** }
 9036              		.loc 1 4015 1
 9037 0008 00BF     		nop
 9038 000a 0C37     		adds	r7, r7, #12
 9039              	.LCFI243:
 9040              		.cfi_def_cfa_offset 4
 9041 000c BD46     		mov	sp, r7
 9042              	.LCFI244:
 9043              		.cfi_def_cfa_register 13
 9044              		@ sp needed
 9045 000e 5DF8047B 		ldr	r7, [sp], #4
 9046              	.LCFI245:
 9047              		.cfi_restore 7
 9048              		.cfi_def_cfa_offset 0
 9049 0012 7047     		bx	lr
 9050              		.cfi_endproc
 9051              	.LFE376:
 9053              		.text
 9054              	.Letext0:
 9055              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 9056              		.file 3 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 9057              		.file 4 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 9058              		.file 5 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/stm32h747xx.h"
 9059              		.file 6 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/stm32h7xx.h"
 9060              		.file 7 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 9061              		.file 8 "/usr/include/newlib/sys/_types.h"
 9062              		.file 9 "/usr/include/newlib/sys/reent.h"
 9063              		.file 10 "/usr/include/newlib/sys/lock.h"
 9064              		.file 11 "/usr/include/newlib/math.h"
 9065              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 9066              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 9067              		.file 14 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_ll_sdmmc.h"
 9068              		.file 15 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_sd.h"
 9069              		.file 16 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 9070              		.file 17 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
ARM GAS  /tmp/ccRis3lg.s 			page 232


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32h7xx_hal_sd.c
     /tmp/ccRis3lg.s:17     .text.HAL_SD_Init:0000000000000000 $t
     /tmp/ccRis3lg.s:25     .text.HAL_SD_Init:0000000000000000 HAL_SD_Init
     /tmp/ccRis3lg.s:538    .text.HAL_SD_MspInit:0000000000000000 HAL_SD_MspInit
     /tmp/ccRis3lg.s:238    .text.HAL_SD_InitCard:0000000000000000 HAL_SD_InitCard
     /tmp/ccRis3lg.s:4524   .text.HAL_SD_GetCardStatus:0000000000000000 HAL_SD_GetCardStatus
     /tmp/ccRis3lg.s:4893   .text.HAL_SD_ConfigWideBusOperation:0000000000000000 HAL_SD_ConfigWideBusOperation
     /tmp/ccRis3lg.s:5794   .text.HAL_SD_GetCardState:0000000000000000 HAL_SD_GetCardState
     /tmp/ccRis3lg.s:231    .text.HAL_SD_InitCard:0000000000000000 $t
     /tmp/ccRis3lg.s:6330   .text.SD_PowerON:0000000000000000 SD_PowerON
     /tmp/ccRis3lg.s:6072   .text.SD_InitCard:0000000000000000 SD_InitCard
     /tmp/ccRis3lg.s:446    .text.HAL_SD_InitCard:0000000000000138 $d
     /tmp/ccRis3lg.s:453    .text.HAL_SD_DeInit:0000000000000000 $t
     /tmp/ccRis3lg.s:460    .text.HAL_SD_DeInit:0000000000000000 HAL_SD_DeInit
     /tmp/ccRis3lg.s:3735   .text.HAL_SD_DriveTransceiver_1_8V_Callback:0000000000000000 HAL_SD_DriveTransceiver_1_8V_Callback
     /tmp/ccRis3lg.s:6700   .text.SD_PowerOFF:0000000000000000 SD_PowerOFF
     /tmp/ccRis3lg.s:581    .text.HAL_SD_MspDeInit:0000000000000000 HAL_SD_MspDeInit
     /tmp/ccRis3lg.s:531    .text.HAL_SD_MspInit:0000000000000000 $t
     /tmp/ccRis3lg.s:574    .text.HAL_SD_MspDeInit:0000000000000000 $t
     /tmp/ccRis3lg.s:617    .text.HAL_SD_ReadBlocks:0000000000000000 $t
     /tmp/ccRis3lg.s:624    .text.HAL_SD_ReadBlocks:0000000000000000 HAL_SD_ReadBlocks
     /tmp/ccRis3lg.s:1136   .text.HAL_SD_ReadBlocks:000000000000030c $d
     /tmp/ccRis3lg.s:1142   .text.HAL_SD_WriteBlocks:0000000000000000 $t
     /tmp/ccRis3lg.s:1149   .text.HAL_SD_WriteBlocks:0000000000000000 HAL_SD_WriteBlocks
     /tmp/ccRis3lg.s:1665   .text.HAL_SD_WriteBlocks:0000000000000314 $d
     /tmp/ccRis3lg.s:1671   .text.HAL_SD_ReadBlocks_IT:0000000000000000 $t
     /tmp/ccRis3lg.s:1678   .text.HAL_SD_ReadBlocks_IT:0000000000000000 HAL_SD_ReadBlocks_IT
     /tmp/ccRis3lg.s:1899   .text.HAL_SD_ReadBlocks_IT:000000000000013c $d
     /tmp/ccRis3lg.s:1904   .text.HAL_SD_WriteBlocks_IT:0000000000000000 $t
     /tmp/ccRis3lg.s:1911   .text.HAL_SD_WriteBlocks_IT:0000000000000000 HAL_SD_WriteBlocks_IT
     /tmp/ccRis3lg.s:2132   .text.HAL_SD_WriteBlocks_IT:000000000000013c $d
     /tmp/ccRis3lg.s:2137   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 $t
     /tmp/ccRis3lg.s:2144   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 HAL_SD_ReadBlocks_DMA
     /tmp/ccRis3lg.s:2377   .text.HAL_SD_ReadBlocks_DMA:000000000000014c $d
     /tmp/ccRis3lg.s:2382   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 $t
     /tmp/ccRis3lg.s:2389   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 HAL_SD_WriteBlocks_DMA
     /tmp/ccRis3lg.s:2622   .text.HAL_SD_WriteBlocks_DMA:000000000000014c $d
     /tmp/ccRis3lg.s:2627   .text.HAL_SD_Erase:0000000000000000 $t
     /tmp/ccRis3lg.s:2634   .text.HAL_SD_Erase:0000000000000000 HAL_SD_Erase
     /tmp/ccRis3lg.s:2903   .text.HAL_SD_Erase:0000000000000194 $d
     /tmp/ccRis3lg.s:2908   .text.HAL_SD_IRQHandler:0000000000000000 $t
     /tmp/ccRis3lg.s:2915   .text.HAL_SD_IRQHandler:0000000000000000 HAL_SD_IRQHandler
     /tmp/ccRis3lg.s:7665   .text.SD_Read_IT:0000000000000000 SD_Read_IT
     /tmp/ccRis3lg.s:3649   .text.HAL_SD_ErrorCallback:0000000000000000 HAL_SD_ErrorCallback
     /tmp/ccRis3lg.s:3606   .text.HAL_SD_RxCpltCallback:0000000000000000 HAL_SD_RxCpltCallback
     /tmp/ccRis3lg.s:3563   .text.HAL_SD_TxCpltCallback:0000000000000000 HAL_SD_TxCpltCallback
     /tmp/ccRis3lg.s:7791   .text.SD_Write_IT:0000000000000000 SD_Write_IT
     /tmp/ccRis3lg.s:3353   .text.HAL_SD_IRQHandler:00000000000002c8 $d
     /tmp/ccRis3lg.s:3357   .text.HAL_SD_IRQHandler:00000000000002d0 $t
     /tmp/ccRis3lg.s:9018   .text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback:0000000000000000 HAL_SDEx_Write_DMADoubleBuf1CpltCallback
     /tmp/ccRis3lg.s:8932   .text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback:0000000000000000 HAL_SDEx_Read_DMADoubleBuf1CpltCallback
     /tmp/ccRis3lg.s:8975   .text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback:0000000000000000 HAL_SDEx_Write_DMADoubleBuf0CpltCallback
     /tmp/ccRis3lg.s:8889   .text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback:0000000000000000 HAL_SDEx_Read_DMADoubleBuf0CpltCallback
     /tmp/ccRis3lg.s:3463   .text.HAL_SD_GetState:0000000000000000 $t
     /tmp/ccRis3lg.s:3470   .text.HAL_SD_GetState:0000000000000000 HAL_SD_GetState
     /tmp/ccRis3lg.s:3510   .text.HAL_SD_GetError:0000000000000000 $t
ARM GAS  /tmp/ccRis3lg.s 			page 233


     /tmp/ccRis3lg.s:3517   .text.HAL_SD_GetError:0000000000000000 HAL_SD_GetError
     /tmp/ccRis3lg.s:3556   .text.HAL_SD_TxCpltCallback:0000000000000000 $t
     /tmp/ccRis3lg.s:3599   .text.HAL_SD_RxCpltCallback:0000000000000000 $t
     /tmp/ccRis3lg.s:3642   .text.HAL_SD_ErrorCallback:0000000000000000 $t
     /tmp/ccRis3lg.s:3685   .text.HAL_SD_AbortCallback:0000000000000000 $t
     /tmp/ccRis3lg.s:3692   .text.HAL_SD_AbortCallback:0000000000000000 HAL_SD_AbortCallback
     /tmp/ccRis3lg.s:3728   .text.HAL_SD_DriveTransceiver_1_8V_Callback:0000000000000000 $t
     /tmp/ccRis3lg.s:3772   .text.HAL_SD_GetCardCID:0000000000000000 $t
     /tmp/ccRis3lg.s:3779   .text.HAL_SD_GetCardCID:0000000000000000 HAL_SD_GetCardCID
     /tmp/ccRis3lg.s:3926   .text.HAL_SD_GetCardCSD:0000000000000000 $t
     /tmp/ccRis3lg.s:3933   .text.HAL_SD_GetCardCSD:0000000000000000 HAL_SD_GetCardCSD
     /tmp/ccRis3lg.s:4512   .text.HAL_SD_GetCardCSD:0000000000000344 $d
     /tmp/ccRis3lg.s:4517   .text.HAL_SD_GetCardStatus:0000000000000000 $t
     /tmp/ccRis3lg.s:6743   .text.SD_SendSDStatus:0000000000000000 SD_SendSDStatus
     /tmp/ccRis3lg.s:4787   .text.HAL_SD_GetCardStatus:0000000000000168 $d
     /tmp/ccRis3lg.s:4792   .text.HAL_SD_GetCardInfo:0000000000000000 $t
     /tmp/ccRis3lg.s:4799   .text.HAL_SD_GetCardInfo:0000000000000000 HAL_SD_GetCardInfo
     /tmp/ccRis3lg.s:4886   .text.HAL_SD_ConfigWideBusOperation:0000000000000000 $t
     /tmp/ccRis3lg.s:7115   .text.SD_WideBus_Enable:0000000000000000 SD_WideBus_Enable
     /tmp/ccRis3lg.s:7238   .text.SD_WideBus_Disable:0000000000000000 SD_WideBus_Disable
     /tmp/ccRis3lg.s:5250   .text.HAL_SD_ConfigWideBusOperation:0000000000000218 $d
     /tmp/ccRis3lg.s:5258   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000000 $t
     /tmp/ccRis3lg.s:5265   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000000 HAL_SD_ConfigSpeedBusOperation
     /tmp/ccRis3lg.s:5304   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000030 $d
     /tmp/ccRis3lg.s:5309   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000044 $t
     /tmp/ccRis3lg.s:8210   .text.SD_UltraHighSpeed:0000000000000000 SD_UltraHighSpeed
     /tmp/ccRis3lg.s:7920   .text.SD_HighSpeed:0000000000000000 SD_HighSpeed
     /tmp/ccRis3lg.s:8549   .text.SD_DDR_Mode:0000000000000000 SD_DDR_Mode
     /tmp/ccRis3lg.s:5782   .text.HAL_SD_ConfigSpeedBusOperation:0000000000000300 $d
     /tmp/ccRis3lg.s:5787   .text.HAL_SD_GetCardState:0000000000000000 $t
     /tmp/ccRis3lg.s:7034   .text.SD_SendStatus:0000000000000000 SD_SendStatus
     /tmp/ccRis3lg.s:5855   .text.HAL_SD_Abort:0000000000000000 $t
     /tmp/ccRis3lg.s:5862   .text.HAL_SD_Abort:0000000000000000 HAL_SD_Abort
     /tmp/ccRis3lg.s:5956   .text.HAL_SD_Abort:0000000000000070 $d
     /tmp/ccRis3lg.s:5961   .text.HAL_SD_Abort_IT:0000000000000000 $t
     /tmp/ccRis3lg.s:5968   .text.HAL_SD_Abort_IT:0000000000000000 HAL_SD_Abort_IT
     /tmp/ccRis3lg.s:6061   .text.HAL_SD_Abort_IT:0000000000000070 $d
     /tmp/ccRis3lg.s:6066   .text.SD_InitCard:0000000000000000 $t
     /tmp/ccRis3lg.s:6324   .text.SD_PowerON:0000000000000000 $t
     /tmp/ccRis3lg.s:6689   .text.SD_PowerON:000000000000020c $d
     /tmp/ccRis3lg.s:6694   .text.SD_PowerOFF:0000000000000000 $t
     /tmp/ccRis3lg.s:6737   .text.SD_SendSDStatus:0000000000000000 $t
     /tmp/ccRis3lg.s:7023   .text.SD_SendSDStatus:000000000000019c $d
     /tmp/ccRis3lg.s:7028   .text.SD_SendStatus:0000000000000000 $t
     /tmp/ccRis3lg.s:7109   .text.SD_WideBus_Enable:0000000000000000 $t
     /tmp/ccRis3lg.s:7361   .text.SD_FindSCR:0000000000000000 SD_FindSCR
     /tmp/ccRis3lg.s:7232   .text.SD_WideBus_Disable:0000000000000000 $t
     /tmp/ccRis3lg.s:7355   .text.SD_FindSCR:0000000000000000 $t
     /tmp/ccRis3lg.s:7654   .text.SD_FindSCR:000000000000019c $d
     /tmp/ccRis3lg.s:7659   .text.SD_Read_IT:0000000000000000 $t
     /tmp/ccRis3lg.s:7785   .text.SD_Write_IT:0000000000000000 $t
     /tmp/ccRis3lg.s:7914   .text.SD_HighSpeed:0000000000000000 $t
     /tmp/ccRis3lg.s:8198   .text.SD_HighSpeed:000000000000019c $d
     /tmp/ccRis3lg.s:8204   .text.SD_UltraHighSpeed:0000000000000000 $t
     /tmp/ccRis3lg.s:8534   .text.SD_UltraHighSpeed:00000000000001e4 $d
     /tmp/ccRis3lg.s:8543   .text.SD_DDR_Mode:0000000000000000 $t
     /tmp/ccRis3lg.s:8873   .text.SD_DDR_Mode:00000000000001e4 $d
ARM GAS  /tmp/ccRis3lg.s 			page 234


     /tmp/ccRis3lg.s:8882   .text.HAL_SDEx_Read_DMADoubleBuf0CpltCallback:0000000000000000 $t
     /tmp/ccRis3lg.s:8925   .text.HAL_SDEx_Read_DMADoubleBuf1CpltCallback:0000000000000000 $t
     /tmp/ccRis3lg.s:8968   .text.HAL_SDEx_Write_DMADoubleBuf0CpltCallback:0000000000000000 $t
     /tmp/ccRis3lg.s:9011   .text.HAL_SDEx_Write_DMADoubleBuf1CpltCallback:0000000000000000 $t

UNDEFINED SYMBOLS
HAL_GetTick
HAL_RCCEx_GetPeriphCLKFreq
SDMMC_Init
SDMMC_PowerState_ON
HAL_Delay
SDMMC_CmdBlockLength
SDMMC_ConfigData
SDMMC_CmdReadMultiBlock
SDMMC_CmdReadSingleBlock
SDMMC_ReadFIFO
SDMMC_CmdStopTransfer
SDMMC_CmdWriteMultiBlock
SDMMC_CmdWriteSingleBlock
SDMMC_WriteFIFO
SDMMC_GetResponse
SDMMC_CmdSDEraseStartAdd
SDMMC_CmdSDEraseEndAdd
SDMMC_CmdErase
SDMMC_GetPowerState
SDMMC_CmdSendCID
SDMMC_CmdSetRelAdd
SDMMC_CmdSendCSD
SDMMC_CmdSelDesel
SDMMC_CmdGoIdleState
SDMMC_CmdOperCond
SDMMC_CmdAppCommand
SDMMC_CmdAppOperCommand
SDMMC_CmdVoltageSwitch
SDMMC_PowerState_OFF
SDMMC_CmdStatusRegister
SDMMC_CmdSendStatus
SDMMC_CmdBusWidth
SDMMC_CmdSendSCR
memset
SDMMC_CmdSwitch
DelayBlock_Enable
