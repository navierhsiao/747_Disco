ARM GAS  /tmp/ccEARXAy.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"stm32h7xx_hal_usart_ex.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.HAL_USARTEx_RxFifoFullCallback,"ax",%progbits
  17              		.align	1
  18              		.weak	HAL_USARTEx_RxFifoFullCallback
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	HAL_USARTEx_RxFifoFullCallback:
  26              	.LFB331:
  27              		.file 1 "./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c"
   1:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
   2:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   ******************************************************************************
   3:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @file    stm32h7xx_hal_usart_ex.c
   4:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @author  MCD Application Team
   5:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief   Extended USART HAL module driver.
   6:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *          This file provides firmware functions to manage the following extended
   7:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *          functionalities of the Universal Synchronous Receiver Transmitter Peripheral (USART).
   8:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *           + Peripheral Control functions
   9:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *
  10:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *
  11:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   @verbatim
  12:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   ==============================================================================
  13:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                ##### USART peripheral extended features  #####
  14:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   ==============================================================================
  15:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  16:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     (#) FIFO mode enabling/disabling and RX/TX FIFO threshold programming.
  17:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  18:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****         -@- When USART operates in FIFO mode, FIFO mode must be enabled prior
  19:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****             starting RX/TX transfers. Also RX/TX FIFO thresholds must be
  20:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****             configured prior starting RX/TX transfers.
  21:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  22:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     (#) Slave mode enabling/disabling and NSS pin configuration.
  23:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  24:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****         -@- When USART operates in Slave mode, Slave mode must be enabled prior
  25:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****             starting RX/TX transfers.
  26:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  27:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   @endverbatim
  28:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   ******************************************************************************
  29:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @attention
  30:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *
  31:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * <h2><center>&copy; Copyright (c) 2017 STMicroelectronics.
ARM GAS  /tmp/ccEARXAy.s 			page 2


  32:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * All rights reserved.</center></h2>
  33:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *
  34:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  35:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * the "License"; You may not use this file except in compliance with the
  36:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * License. You may obtain a copy of the License at:
  37:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *                        opensource.org/licenses/BSD-3-Clause
  38:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *
  39:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   ******************************************************************************
  40:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
  41:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  42:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /* Includes ------------------------------------------------------------------*/
  43:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** #include "stm32h7xx_hal.h"
  44:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  45:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /** @addtogroup STM32H7xx_HAL_Driver
  46:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @{
  47:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
  48:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  49:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /** @defgroup USARTEx USARTEx
  50:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief USART Extended HAL module driver
  51:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @{
  52:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
  53:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  54:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** #ifdef HAL_USART_MODULE_ENABLED
  55:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  56:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /* Private typedef -----------------------------------------------------------*/
  57:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /** @defgroup USARTEx_Private_Constants USARTEx Private Constants
  58:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @{
  59:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
  60:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /* USART RX FIFO depth */
  61:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** #define RX_FIFO_DEPTH 16U
  62:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  63:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /* USART TX FIFO depth */
  64:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** #define TX_FIFO_DEPTH 16U
  65:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
  66:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @}
  67:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
  68:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  69:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /* Private define ------------------------------------------------------------*/
  70:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /* Private macros ------------------------------------------------------------*/
  71:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /* Private variables ---------------------------------------------------------*/
  72:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /* Private function prototypes -----------------------------------------------*/
  73:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /** @defgroup USARTEx_Private_Functions USARTEx Private Functions
  74:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @{
  75:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
  76:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** static void USARTEx_SetNbDataToProcess(USART_HandleTypeDef *husart);
  77:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
  78:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @}
  79:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
  80:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  81:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /* Exported functions --------------------------------------------------------*/
  82:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  83:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /** @defgroup USARTEx_Exported_Functions  USARTEx Exported Functions
  84:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @{
  85:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
  86:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  87:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /** @defgroup USARTEx_Exported_Functions_Group1 IO operation functions
  88:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief Extended USART Transmit/Receive functions
ARM GAS  /tmp/ccEARXAy.s 			page 3


  89:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *
  90:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** @verbatim
  91:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****  ===============================================================================
  92:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                       ##### IO operation functions #####
  93:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****  ===============================================================================
  94:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     This subsection provides a set of FIFO mode related callback functions.
  95:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
  96:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     (#) TX/RX Fifos Callbacks:
  97:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****         (+) HAL_USARTEx_RxFifoFullCallback()
  98:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****         (+) HAL_USARTEx_TxFifoEmptyCallback()
  99:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 100:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** @endverbatim
 101:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @{
 102:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 103:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 104:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 105:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief  USART RX Fifo full callback.
 106:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param  husart USART handle.
 107:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @retval None
 108:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 109:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** __weak void HAL_USARTEx_RxFifoFullCallback(USART_HandleTypeDef *husart)
 110:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** {
  28              		.loc 1 110 1
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33 0000 80B4     		push	{r7}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 7, -4
  37 0002 83B0     		sub	sp, sp, #12
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 16
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 7860     		str	r0, [r7, #4]
 111:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Prevent unused argument(s) compilation warning */
 112:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   UNUSED(husart);
 113:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 114:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 115:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****             the HAL_USARTEx_RxFifoFullCallback can be implemented in the user file.
 116:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****    */
 117:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** }
  44              		.loc 1 117 1
  45 0008 00BF     		nop
  46 000a 0C37     		adds	r7, r7, #12
  47              	.LCFI3:
  48              		.cfi_def_cfa_offset 4
  49 000c BD46     		mov	sp, r7
  50              	.LCFI4:
  51              		.cfi_def_cfa_register 13
  52              		@ sp needed
  53 000e 5DF8047B 		ldr	r7, [sp], #4
  54              	.LCFI5:
  55              		.cfi_restore 7
ARM GAS  /tmp/ccEARXAy.s 			page 4


  56              		.cfi_def_cfa_offset 0
  57 0012 7047     		bx	lr
  58              		.cfi_endproc
  59              	.LFE331:
  61              		.section	.text.HAL_USARTEx_TxFifoEmptyCallback,"ax",%progbits
  62              		.align	1
  63              		.weak	HAL_USARTEx_TxFifoEmptyCallback
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  67              		.fpu fpv5-d16
  69              	HAL_USARTEx_TxFifoEmptyCallback:
  70              	.LFB332:
 118:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 119:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 120:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief  USART TX Fifo empty callback.
 121:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param  husart USART handle.
 122:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @retval None
 123:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 124:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** __weak void HAL_USARTEx_TxFifoEmptyCallback(USART_HandleTypeDef *husart)
 125:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** {
  71              		.loc 1 125 1
  72              		.cfi_startproc
  73              		@ args = 0, pretend = 0, frame = 8
  74              		@ frame_needed = 1, uses_anonymous_args = 0
  75              		@ link register save eliminated.
  76 0000 80B4     		push	{r7}
  77              	.LCFI6:
  78              		.cfi_def_cfa_offset 4
  79              		.cfi_offset 7, -4
  80 0002 83B0     		sub	sp, sp, #12
  81              	.LCFI7:
  82              		.cfi_def_cfa_offset 16
  83 0004 00AF     		add	r7, sp, #0
  84              	.LCFI8:
  85              		.cfi_def_cfa_register 7
  86 0006 7860     		str	r0, [r7, #4]
 126:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Prevent unused argument(s) compilation warning */
 127:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   UNUSED(husart);
 128:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 129:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 130:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****             the HAL_USARTEx_TxFifoEmptyCallback can be implemented in the user file.
 131:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****    */
 132:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** }
  87              		.loc 1 132 1
  88 0008 00BF     		nop
  89 000a 0C37     		adds	r7, r7, #12
  90              	.LCFI9:
  91              		.cfi_def_cfa_offset 4
  92 000c BD46     		mov	sp, r7
  93              	.LCFI10:
  94              		.cfi_def_cfa_register 13
  95              		@ sp needed
  96 000e 5DF8047B 		ldr	r7, [sp], #4
  97              	.LCFI11:
  98              		.cfi_restore 7
  99              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/ccEARXAy.s 			page 5


 100 0012 7047     		bx	lr
 101              		.cfi_endproc
 102              	.LFE332:
 104              		.section	.text.HAL_USARTEx_EnableSlaveMode,"ax",%progbits
 105              		.align	1
 106              		.global	HAL_USARTEx_EnableSlaveMode
 107              		.syntax unified
 108              		.thumb
 109              		.thumb_func
 110              		.fpu fpv5-d16
 112              	HAL_USARTEx_EnableSlaveMode:
 113              	.LFB333:
 133:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 134:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 135:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @}
 136:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 137:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 138:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /** @defgroup USARTEx_Exported_Functions_Group2 Peripheral Control functions
 139:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief    Extended Peripheral Control functions
 140:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *
 141:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** @verbatim
 142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****  ===============================================================================
 143:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                       ##### Peripheral Control functions #####
 144:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****  ===============================================================================
 145:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     [..] This section provides the following functions:
 146:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****      (+) HAL_USARTEx_EnableSPISlaveMode() API enables the SPI slave mode
 147:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****      (+) HAL_USARTEx_DisableSPISlaveMode() API disables the SPI slave mode
 148:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****      (+) HAL_USARTEx_ConfigNSS API configures the Slave Select input pin (NSS)
 149:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****      (+) HAL_USARTEx_EnableFifoMode() API enables the FIFO mode
 150:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****      (+) HAL_USARTEx_DisableFifoMode() API disables the FIFO mode
 151:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****      (+) HAL_USARTEx_SetTxFifoThreshold() API sets the TX FIFO threshold
 152:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****      (+) HAL_USARTEx_SetRxFifoThreshold() API sets the RX FIFO threshold
 153:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 154:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 155:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** @endverbatim
 156:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @{
 157:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 158:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 159:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 160:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief  Enable the SPI slave mode.
 161:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @note When the USART operates in SPI slave mode, it handles data flow using
 162:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       the serial interface clock derived from the external SCLK signal
 163:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       provided by the external master SPI device.
 164:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @note In SPI slave mode, the USART must be enabled before starting the master
 165:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       communications (or between frames while the clock is stable). Otherwise,
 166:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       if the USART slave is enabled while the master is in the middle of a
 167:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       frame, it will become desynchronized with the master.
 168:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @note The data register of the slave needs to be ready before the first edge
 169:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       of the communication clock or before the end of the ongoing communication,
 170:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       otherwise the SPI slave will transmit zeros.
 171:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param husart      USART handle.
 172:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @retval HAL status
 173:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 174:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** HAL_StatusTypeDef HAL_USARTEx_EnableSlaveMode(USART_HandleTypeDef *husart)
 175:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** {
 114              		.loc 1 175 1
 115              		.cfi_startproc
ARM GAS  /tmp/ccEARXAy.s 			page 6


 116              		@ args = 0, pretend = 0, frame = 16
 117              		@ frame_needed = 1, uses_anonymous_args = 0
 118              		@ link register save eliminated.
 119 0000 80B4     		push	{r7}
 120              	.LCFI12:
 121              		.cfi_def_cfa_offset 4
 122              		.cfi_offset 7, -4
 123 0002 85B0     		sub	sp, sp, #20
 124              	.LCFI13:
 125              		.cfi_def_cfa_offset 24
 126 0004 00AF     		add	r7, sp, #0
 127              	.LCFI14:
 128              		.cfi_def_cfa_register 7
 129 0006 7860     		str	r0, [r7, #4]
 176:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint32_t tmpcr1;
 177:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 178:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Check parameters */
 179:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   assert_param(IS_UART_SPI_SLAVE_INSTANCE(husart->Instance));
 180:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 181:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Locked */
 182:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_LOCK(husart);
 130              		.loc 1 182 3
 131 0008 7B68     		ldr	r3, [r7, #4]
 132 000a 93F85830 		ldrb	r3, [r3, #88]	@ zero_extendqisi2
 133 000e 012B     		cmp	r3, #1
 134 0010 01D1     		bne	.L4
 135              		.loc 1 182 3 is_stmt 0 discriminator 1
 136 0012 0223     		movs	r3, #2
 137 0014 43E0     		b	.L5
 138              	.L4:
 139              		.loc 1 182 3 discriminator 2
 140 0016 7B68     		ldr	r3, [r7, #4]
 141 0018 0122     		movs	r2, #1
 142 001a 83F85820 		strb	r2, [r3, #88]
 183:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 184:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_BUSY;
 143              		.loc 1 184 17 is_stmt 1 discriminator 2
 144 001e 7B68     		ldr	r3, [r7, #4]
 145 0020 0222     		movs	r2, #2
 146 0022 83F85920 		strb	r2, [r3, #89]
 185:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 186:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Save actual USART configuration */
 187:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   tmpcr1 = READ_REG(husart->Instance->CR1);
 147              		.loc 1 187 12 discriminator 2
 148 0026 7B68     		ldr	r3, [r7, #4]
 149 0028 1B68     		ldr	r3, [r3]
 150              		.loc 1 187 10 discriminator 2
 151 002a 1B68     		ldr	r3, [r3]
 152 002c FB60     		str	r3, [r7, #12]
 188:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 189:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Disable USART */
 190:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_USART_DISABLE(husart);
 153              		.loc 1 190 3 discriminator 2
 154 002e 7B68     		ldr	r3, [r7, #4]
 155 0030 1B68     		ldr	r3, [r3]
 156 0032 1A68     		ldr	r2, [r3]
 157 0034 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccEARXAy.s 			page 7


 158 0036 1B68     		ldr	r3, [r3]
 159 0038 22F00102 		bic	r2, r2, #1
 160 003c 1A60     		str	r2, [r3]
 191:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 192:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* In SPI slave mode mode, the following bits must be kept cleared:
 193:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   - LINEN and CLKEN bit in the USART_CR2 register
 194:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   - HDSEL, SCEN and IREN bits in the USART_CR3 register.*/
 195:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   CLEAR_BIT(husart->Instance->CR2, (USART_CR2_LINEN | USART_CR2_CLKEN));
 161              		.loc 1 195 3 discriminator 2
 162 003e 7B68     		ldr	r3, [r7, #4]
 163 0040 1B68     		ldr	r3, [r3]
 164 0042 5A68     		ldr	r2, [r3, #4]
 165 0044 7B68     		ldr	r3, [r7, #4]
 166 0046 1B68     		ldr	r3, [r3]
 167 0048 22F49042 		bic	r2, r2, #18432
 168 004c 5A60     		str	r2, [r3, #4]
 196:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   CLEAR_BIT(husart->Instance->CR3, (USART_CR3_SCEN | USART_CR3_HDSEL | USART_CR3_IREN));
 169              		.loc 1 196 3 discriminator 2
 170 004e 7B68     		ldr	r3, [r7, #4]
 171 0050 1B68     		ldr	r3, [r3]
 172 0052 9A68     		ldr	r2, [r3, #8]
 173 0054 7B68     		ldr	r3, [r7, #4]
 174 0056 1B68     		ldr	r3, [r3]
 175 0058 22F02A02 		bic	r2, r2, #42
 176 005c 9A60     		str	r2, [r3, #8]
 197:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 198:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Enable SPI slave mode */
 199:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   SET_BIT(husart->Instance->CR2, USART_CR2_SLVEN);
 177              		.loc 1 199 3 discriminator 2
 178 005e 7B68     		ldr	r3, [r7, #4]
 179 0060 1B68     		ldr	r3, [r3]
 180 0062 5A68     		ldr	r2, [r3, #4]
 181 0064 7B68     		ldr	r3, [r7, #4]
 182 0066 1B68     		ldr	r3, [r3]
 183 0068 42F00102 		orr	r2, r2, #1
 184 006c 5A60     		str	r2, [r3, #4]
 200:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 201:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Restore USART configuration */
 202:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   WRITE_REG(husart->Instance->CR1, tmpcr1);
 185              		.loc 1 202 3 discriminator 2
 186 006e 7B68     		ldr	r3, [r7, #4]
 187 0070 1B68     		ldr	r3, [r3]
 188 0072 FA68     		ldr	r2, [r7, #12]
 189 0074 1A60     		str	r2, [r3]
 203:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 204:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->SlaveMode = USART_SLAVEMODE_ENABLE;
 190              		.loc 1 204 21 discriminator 2
 191 0076 7B68     		ldr	r3, [r7, #4]
 192 0078 0122     		movs	r2, #1
 193 007a 1A64     		str	r2, [r3, #64]
 205:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 206:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_READY;
 194              		.loc 1 206 17 discriminator 2
 195 007c 7B68     		ldr	r3, [r7, #4]
 196 007e 0122     		movs	r2, #1
 197 0080 83F85920 		strb	r2, [r3, #89]
 207:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
ARM GAS  /tmp/ccEARXAy.s 			page 8


 208:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Enable USART */
 209:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_USART_ENABLE(husart);
 198              		.loc 1 209 3 discriminator 2
 199 0084 7B68     		ldr	r3, [r7, #4]
 200 0086 1B68     		ldr	r3, [r3]
 201 0088 1A68     		ldr	r2, [r3]
 202 008a 7B68     		ldr	r3, [r7, #4]
 203 008c 1B68     		ldr	r3, [r3]
 204 008e 42F00102 		orr	r2, r2, #1
 205 0092 1A60     		str	r2, [r3]
 210:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 211:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Unlocked */
 212:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_UNLOCK(husart);
 206              		.loc 1 212 3 discriminator 2
 207 0094 7B68     		ldr	r3, [r7, #4]
 208 0096 0022     		movs	r2, #0
 209 0098 83F85820 		strb	r2, [r3, #88]
 213:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 214:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   return HAL_OK;
 210              		.loc 1 214 10 discriminator 2
 211 009c 0023     		movs	r3, #0
 212              	.L5:
 215:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** }
 213              		.loc 1 215 1
 214 009e 1846     		mov	r0, r3
 215 00a0 1437     		adds	r7, r7, #20
 216              	.LCFI15:
 217              		.cfi_def_cfa_offset 4
 218 00a2 BD46     		mov	sp, r7
 219              	.LCFI16:
 220              		.cfi_def_cfa_register 13
 221              		@ sp needed
 222 00a4 5DF8047B 		ldr	r7, [sp], #4
 223              	.LCFI17:
 224              		.cfi_restore 7
 225              		.cfi_def_cfa_offset 0
 226 00a8 7047     		bx	lr
 227              		.cfi_endproc
 228              	.LFE333:
 230              		.section	.text.HAL_USARTEx_DisableSlaveMode,"ax",%progbits
 231              		.align	1
 232              		.global	HAL_USARTEx_DisableSlaveMode
 233              		.syntax unified
 234              		.thumb
 235              		.thumb_func
 236              		.fpu fpv5-d16
 238              	HAL_USARTEx_DisableSlaveMode:
 239              	.LFB334:
 216:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 217:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 218:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief  Disable the SPI slave mode.
 219:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param husart      USART handle.
 220:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @retval HAL status
 221:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 222:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** HAL_StatusTypeDef HAL_USARTEx_DisableSlaveMode(USART_HandleTypeDef *husart)
 223:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** {
 240              		.loc 1 223 1
ARM GAS  /tmp/ccEARXAy.s 			page 9


 241              		.cfi_startproc
 242              		@ args = 0, pretend = 0, frame = 16
 243              		@ frame_needed = 1, uses_anonymous_args = 0
 244              		@ link register save eliminated.
 245 0000 80B4     		push	{r7}
 246              	.LCFI18:
 247              		.cfi_def_cfa_offset 4
 248              		.cfi_offset 7, -4
 249 0002 85B0     		sub	sp, sp, #20
 250              	.LCFI19:
 251              		.cfi_def_cfa_offset 24
 252 0004 00AF     		add	r7, sp, #0
 253              	.LCFI20:
 254              		.cfi_def_cfa_register 7
 255 0006 7860     		str	r0, [r7, #4]
 224:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint32_t tmpcr1;
 225:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 226:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Check parameters */
 227:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   assert_param(IS_UART_SPI_SLAVE_INSTANCE(husart->Instance));
 228:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 229:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Locked */
 230:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_LOCK(husart);
 256              		.loc 1 230 3
 257 0008 7B68     		ldr	r3, [r7, #4]
 258 000a 93F85830 		ldrb	r3, [r3, #88]	@ zero_extendqisi2
 259 000e 012B     		cmp	r3, #1
 260 0010 01D1     		bne	.L7
 261              		.loc 1 230 3 is_stmt 0 discriminator 1
 262 0012 0223     		movs	r3, #2
 263 0014 2BE0     		b	.L8
 264              	.L7:
 265              		.loc 1 230 3 discriminator 2
 266 0016 7B68     		ldr	r3, [r7, #4]
 267 0018 0122     		movs	r2, #1
 268 001a 83F85820 		strb	r2, [r3, #88]
 231:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 232:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_BUSY;
 269              		.loc 1 232 17 is_stmt 1 discriminator 2
 270 001e 7B68     		ldr	r3, [r7, #4]
 271 0020 0222     		movs	r2, #2
 272 0022 83F85920 		strb	r2, [r3, #89]
 233:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 234:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Save actual USART configuration */
 235:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   tmpcr1 = READ_REG(husart->Instance->CR1);
 273              		.loc 1 235 12 discriminator 2
 274 0026 7B68     		ldr	r3, [r7, #4]
 275 0028 1B68     		ldr	r3, [r3]
 276              		.loc 1 235 10 discriminator 2
 277 002a 1B68     		ldr	r3, [r3]
 278 002c FB60     		str	r3, [r7, #12]
 236:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 237:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Disable USART */
 238:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_USART_DISABLE(husart);
 279              		.loc 1 238 3 discriminator 2
 280 002e 7B68     		ldr	r3, [r7, #4]
 281 0030 1B68     		ldr	r3, [r3]
 282 0032 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccEARXAy.s 			page 10


 283 0034 7B68     		ldr	r3, [r7, #4]
 284 0036 1B68     		ldr	r3, [r3]
 285 0038 22F00102 		bic	r2, r2, #1
 286 003c 1A60     		str	r2, [r3]
 239:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 240:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Disable SPI slave mode */
 241:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   CLEAR_BIT(husart->Instance->CR2, USART_CR2_SLVEN);
 287              		.loc 1 241 3 discriminator 2
 288 003e 7B68     		ldr	r3, [r7, #4]
 289 0040 1B68     		ldr	r3, [r3]
 290 0042 5A68     		ldr	r2, [r3, #4]
 291 0044 7B68     		ldr	r3, [r7, #4]
 292 0046 1B68     		ldr	r3, [r3]
 293 0048 22F00102 		bic	r2, r2, #1
 294 004c 5A60     		str	r2, [r3, #4]
 242:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 243:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Restore USART configuration */
 244:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   WRITE_REG(husart->Instance->CR1, tmpcr1);
 295              		.loc 1 244 3 discriminator 2
 296 004e 7B68     		ldr	r3, [r7, #4]
 297 0050 1B68     		ldr	r3, [r3]
 298 0052 FA68     		ldr	r2, [r7, #12]
 299 0054 1A60     		str	r2, [r3]
 245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 246:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->SlaveMode = USART_SLAVEMODE_DISABLE;
 300              		.loc 1 246 21 discriminator 2
 301 0056 7B68     		ldr	r3, [r7, #4]
 302 0058 0022     		movs	r2, #0
 303 005a 1A64     		str	r2, [r3, #64]
 247:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 248:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_READY;
 304              		.loc 1 248 17 discriminator 2
 305 005c 7B68     		ldr	r3, [r7, #4]
 306 005e 0122     		movs	r2, #1
 307 0060 83F85920 		strb	r2, [r3, #89]
 249:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 250:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Unlocked */
 251:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_UNLOCK(husart);
 308              		.loc 1 251 3 discriminator 2
 309 0064 7B68     		ldr	r3, [r7, #4]
 310 0066 0022     		movs	r2, #0
 311 0068 83F85820 		strb	r2, [r3, #88]
 252:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 253:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   return HAL_OK;
 312              		.loc 1 253 10 discriminator 2
 313 006c 0023     		movs	r3, #0
 314              	.L8:
 254:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** }
 315              		.loc 1 254 1
 316 006e 1846     		mov	r0, r3
 317 0070 1437     		adds	r7, r7, #20
 318              	.LCFI21:
 319              		.cfi_def_cfa_offset 4
 320 0072 BD46     		mov	sp, r7
 321              	.LCFI22:
 322              		.cfi_def_cfa_register 13
 323              		@ sp needed
ARM GAS  /tmp/ccEARXAy.s 			page 11


 324 0074 5DF8047B 		ldr	r7, [sp], #4
 325              	.LCFI23:
 326              		.cfi_restore 7
 327              		.cfi_def_cfa_offset 0
 328 0078 7047     		bx	lr
 329              		.cfi_endproc
 330              	.LFE334:
 332              		.section	.text.HAL_USARTEx_ConfigNSS,"ax",%progbits
 333              		.align	1
 334              		.global	HAL_USARTEx_ConfigNSS
 335              		.syntax unified
 336              		.thumb
 337              		.thumb_func
 338              		.fpu fpv5-d16
 340              	HAL_USARTEx_ConfigNSS:
 341              	.LFB335:
 255:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 256:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 257:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief  Configure the Slave Select input pin (NSS).
 258:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @note Software NSS management: SPI slave will always be selected and NSS
 259:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       input pin will be ignored.
 260:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @note Hardware NSS management: the SPI slave selection depends on NSS
 261:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       input pin. The slave is selected when NSS is low and deselected when
 262:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       NSS is high.
 263:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param husart      USART handle.
 264:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param NSSConfig   NSS configuration.
 265:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *          This parameter can be one of the following values:
 266:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_NSS_HARD
 267:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_NSS_SOFT
 268:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @retval HAL status
 269:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 270:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** HAL_StatusTypeDef HAL_USARTEx_ConfigNSS(USART_HandleTypeDef *husart, uint32_t NSSConfig)
 271:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** {
 342              		.loc 1 271 1
 343              		.cfi_startproc
 344              		@ args = 0, pretend = 0, frame = 16
 345              		@ frame_needed = 1, uses_anonymous_args = 0
 346              		@ link register save eliminated.
 347 0000 80B4     		push	{r7}
 348              	.LCFI24:
 349              		.cfi_def_cfa_offset 4
 350              		.cfi_offset 7, -4
 351 0002 85B0     		sub	sp, sp, #20
 352              	.LCFI25:
 353              		.cfi_def_cfa_offset 24
 354 0004 00AF     		add	r7, sp, #0
 355              	.LCFI26:
 356              		.cfi_def_cfa_register 7
 357 0006 7860     		str	r0, [r7, #4]
 358 0008 3960     		str	r1, [r7]
 272:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint32_t tmpcr1;
 273:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 274:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Check parameters */
 275:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   assert_param(IS_UART_SPI_SLAVE_INSTANCE(husart->Instance));
 276:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   assert_param(IS_USART_NSS(NSSConfig));
 277:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 278:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Locked */
ARM GAS  /tmp/ccEARXAy.s 			page 12


 279:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_LOCK(husart);
 359              		.loc 1 279 3
 360 000a 7B68     		ldr	r3, [r7, #4]
 361 000c 93F85830 		ldrb	r3, [r3, #88]	@ zero_extendqisi2
 362 0010 012B     		cmp	r3, #1
 363 0012 01D1     		bne	.L10
 364              		.loc 1 279 3 is_stmt 0 discriminator 1
 365 0014 0223     		movs	r3, #2
 366 0016 2AE0     		b	.L11
 367              	.L10:
 368              		.loc 1 279 3 discriminator 2
 369 0018 7B68     		ldr	r3, [r7, #4]
 370 001a 0122     		movs	r2, #1
 371 001c 83F85820 		strb	r2, [r3, #88]
 280:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 281:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_BUSY;
 372              		.loc 1 281 17 is_stmt 1 discriminator 2
 373 0020 7B68     		ldr	r3, [r7, #4]
 374 0022 0222     		movs	r2, #2
 375 0024 83F85920 		strb	r2, [r3, #89]
 282:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 283:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Save actual USART configuration */
 284:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   tmpcr1 = READ_REG(husart->Instance->CR1);
 376              		.loc 1 284 12 discriminator 2
 377 0028 7B68     		ldr	r3, [r7, #4]
 378 002a 1B68     		ldr	r3, [r3]
 379              		.loc 1 284 10 discriminator 2
 380 002c 1B68     		ldr	r3, [r3]
 381 002e FB60     		str	r3, [r7, #12]
 285:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 286:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Disable USART */
 287:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_USART_DISABLE(husart);
 382              		.loc 1 287 3 discriminator 2
 383 0030 7B68     		ldr	r3, [r7, #4]
 384 0032 1B68     		ldr	r3, [r3]
 385 0034 1A68     		ldr	r2, [r3]
 386 0036 7B68     		ldr	r3, [r7, #4]
 387 0038 1B68     		ldr	r3, [r3]
 388 003a 22F00102 		bic	r2, r2, #1
 389 003e 1A60     		str	r2, [r3]
 288:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 289:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Program DIS_NSS bit in the USART_CR2 register */
 290:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   MODIFY_REG(husart->Instance->CR2, USART_CR2_DIS_NSS, NSSConfig);
 390              		.loc 1 290 3 discriminator 2
 391 0040 7B68     		ldr	r3, [r7, #4]
 392 0042 1B68     		ldr	r3, [r3]
 393 0044 5B68     		ldr	r3, [r3, #4]
 394 0046 23F00801 		bic	r1, r3, #8
 395 004a 7B68     		ldr	r3, [r7, #4]
 396 004c 1B68     		ldr	r3, [r3]
 397 004e 3A68     		ldr	r2, [r7]
 398 0050 0A43     		orrs	r2, r2, r1
 399 0052 5A60     		str	r2, [r3, #4]
 291:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 292:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Restore USART configuration */
 293:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   WRITE_REG(husart->Instance->CR1, tmpcr1);
 400              		.loc 1 293 3 discriminator 2
ARM GAS  /tmp/ccEARXAy.s 			page 13


 401 0054 7B68     		ldr	r3, [r7, #4]
 402 0056 1B68     		ldr	r3, [r3]
 403 0058 FA68     		ldr	r2, [r7, #12]
 404 005a 1A60     		str	r2, [r3]
 294:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 295:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_READY;
 405              		.loc 1 295 17 discriminator 2
 406 005c 7B68     		ldr	r3, [r7, #4]
 407 005e 0122     		movs	r2, #1
 408 0060 83F85920 		strb	r2, [r3, #89]
 296:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 297:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Unlocked */
 298:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_UNLOCK(husart);
 409              		.loc 1 298 3 discriminator 2
 410 0064 7B68     		ldr	r3, [r7, #4]
 411 0066 0022     		movs	r2, #0
 412 0068 83F85820 		strb	r2, [r3, #88]
 299:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 300:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   return HAL_OK;
 413              		.loc 1 300 10 discriminator 2
 414 006c 0023     		movs	r3, #0
 415              	.L11:
 301:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** }
 416              		.loc 1 301 1
 417 006e 1846     		mov	r0, r3
 418 0070 1437     		adds	r7, r7, #20
 419              	.LCFI27:
 420              		.cfi_def_cfa_offset 4
 421 0072 BD46     		mov	sp, r7
 422              	.LCFI28:
 423              		.cfi_def_cfa_register 13
 424              		@ sp needed
 425 0074 5DF8047B 		ldr	r7, [sp], #4
 426              	.LCFI29:
 427              		.cfi_restore 7
 428              		.cfi_def_cfa_offset 0
 429 0078 7047     		bx	lr
 430              		.cfi_endproc
 431              	.LFE335:
 433              		.section	.text.HAL_USARTEx_EnableFifoMode,"ax",%progbits
 434              		.align	1
 435              		.global	HAL_USARTEx_EnableFifoMode
 436              		.syntax unified
 437              		.thumb
 438              		.thumb_func
 439              		.fpu fpv5-d16
 441              	HAL_USARTEx_EnableFifoMode:
 442              	.LFB336:
 302:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 303:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 304:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief  Enable the FIFO mode.
 305:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param husart      USART handle.
 306:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @retval HAL status
 307:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 308:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** HAL_StatusTypeDef HAL_USARTEx_EnableFifoMode(USART_HandleTypeDef *husart)
 309:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** {
 443              		.loc 1 309 1
ARM GAS  /tmp/ccEARXAy.s 			page 14


 444              		.cfi_startproc
 445              		@ args = 0, pretend = 0, frame = 16
 446              		@ frame_needed = 1, uses_anonymous_args = 0
 447 0000 80B5     		push	{r7, lr}
 448              	.LCFI30:
 449              		.cfi_def_cfa_offset 8
 450              		.cfi_offset 7, -8
 451              		.cfi_offset 14, -4
 452 0002 84B0     		sub	sp, sp, #16
 453              	.LCFI31:
 454              		.cfi_def_cfa_offset 24
 455 0004 00AF     		add	r7, sp, #0
 456              	.LCFI32:
 457              		.cfi_def_cfa_register 7
 458 0006 7860     		str	r0, [r7, #4]
 310:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint32_t tmpcr1;
 311:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 312:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Check parameters */
 313:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   assert_param(IS_UART_FIFO_INSTANCE(husart->Instance));
 314:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 315:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Locked */
 316:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_LOCK(husart);
 459              		.loc 1 316 3
 460 0008 7B68     		ldr	r3, [r7, #4]
 461 000a 93F85830 		ldrb	r3, [r3, #88]	@ zero_extendqisi2
 462 000e 012B     		cmp	r3, #1
 463 0010 01D1     		bne	.L13
 464              		.loc 1 316 3 is_stmt 0 discriminator 1
 465 0012 0223     		movs	r3, #2
 466 0014 2BE0     		b	.L14
 467              	.L13:
 468              		.loc 1 316 3 discriminator 2
 469 0016 7B68     		ldr	r3, [r7, #4]
 470 0018 0122     		movs	r2, #1
 471 001a 83F85820 		strb	r2, [r3, #88]
 317:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 318:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_BUSY;
 472              		.loc 1 318 17 is_stmt 1 discriminator 2
 473 001e 7B68     		ldr	r3, [r7, #4]
 474 0020 0222     		movs	r2, #2
 475 0022 83F85920 		strb	r2, [r3, #89]
 319:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 320:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Save actual USART configuration */
 321:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   tmpcr1 = READ_REG(husart->Instance->CR1);
 476              		.loc 1 321 12 discriminator 2
 477 0026 7B68     		ldr	r3, [r7, #4]
 478 0028 1B68     		ldr	r3, [r3]
 479              		.loc 1 321 10 discriminator 2
 480 002a 1B68     		ldr	r3, [r3]
 481 002c FB60     		str	r3, [r7, #12]
 322:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 323:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Disable USART */
 324:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_USART_DISABLE(husart);
 482              		.loc 1 324 3 discriminator 2
 483 002e 7B68     		ldr	r3, [r7, #4]
 484 0030 1B68     		ldr	r3, [r3]
 485 0032 1A68     		ldr	r2, [r3]
ARM GAS  /tmp/ccEARXAy.s 			page 15


 486 0034 7B68     		ldr	r3, [r7, #4]
 487 0036 1B68     		ldr	r3, [r3]
 488 0038 22F00102 		bic	r2, r2, #1
 489 003c 1A60     		str	r2, [r3]
 325:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 326:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Enable FIFO mode */
 327:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   SET_BIT(tmpcr1, USART_CR1_FIFOEN);
 490              		.loc 1 327 3 discriminator 2
 491 003e FB68     		ldr	r3, [r7, #12]
 492 0040 43F00053 		orr	r3, r3, #536870912
 493 0044 FB60     		str	r3, [r7, #12]
 328:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->FifoMode = USART_FIFOMODE_ENABLE;
 494              		.loc 1 328 20 discriminator 2
 495 0046 7B68     		ldr	r3, [r7, #4]
 496 0048 4FF00052 		mov	r2, #536870912
 497 004c 5A64     		str	r2, [r3, #68]
 329:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 330:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Restore USART configuration */
 331:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   WRITE_REG(husart->Instance->CR1, tmpcr1);
 498              		.loc 1 331 3 discriminator 2
 499 004e 7B68     		ldr	r3, [r7, #4]
 500 0050 1B68     		ldr	r3, [r3]
 501 0052 FA68     		ldr	r2, [r7, #12]
 502 0054 1A60     		str	r2, [r3]
 332:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 333:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Determine the number of data to process during RX/TX ISR execution */
 334:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   USARTEx_SetNbDataToProcess(husart);
 503              		.loc 1 334 3 discriminator 2
 504 0056 7868     		ldr	r0, [r7, #4]
 505 0058 FFF7FEFF 		bl	USARTEx_SetNbDataToProcess
 335:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 336:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_READY;
 506              		.loc 1 336 17 discriminator 2
 507 005c 7B68     		ldr	r3, [r7, #4]
 508 005e 0122     		movs	r2, #1
 509 0060 83F85920 		strb	r2, [r3, #89]
 337:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 338:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Unlocked */
 339:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_UNLOCK(husart);
 510              		.loc 1 339 3 discriminator 2
 511 0064 7B68     		ldr	r3, [r7, #4]
 512 0066 0022     		movs	r2, #0
 513 0068 83F85820 		strb	r2, [r3, #88]
 340:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 341:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   return HAL_OK;
 514              		.loc 1 341 10 discriminator 2
 515 006c 0023     		movs	r3, #0
 516              	.L14:
 342:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** }
 517              		.loc 1 342 1
 518 006e 1846     		mov	r0, r3
 519 0070 1037     		adds	r7, r7, #16
 520              	.LCFI33:
 521              		.cfi_def_cfa_offset 8
 522 0072 BD46     		mov	sp, r7
 523              	.LCFI34:
 524              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccEARXAy.s 			page 16


 525              		@ sp needed
 526 0074 80BD     		pop	{r7, pc}
 527              		.cfi_endproc
 528              	.LFE336:
 530              		.section	.text.HAL_USARTEx_DisableFifoMode,"ax",%progbits
 531              		.align	1
 532              		.global	HAL_USARTEx_DisableFifoMode
 533              		.syntax unified
 534              		.thumb
 535              		.thumb_func
 536              		.fpu fpv5-d16
 538              	HAL_USARTEx_DisableFifoMode:
 539              	.LFB337:
 343:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 344:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 345:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief  Disable the FIFO mode.
 346:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param husart      USART handle.
 347:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @retval HAL status
 348:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 349:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** HAL_StatusTypeDef HAL_USARTEx_DisableFifoMode(USART_HandleTypeDef *husart)
 350:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** {
 540              		.loc 1 350 1
 541              		.cfi_startproc
 542              		@ args = 0, pretend = 0, frame = 16
 543              		@ frame_needed = 1, uses_anonymous_args = 0
 544              		@ link register save eliminated.
 545 0000 80B4     		push	{r7}
 546              	.LCFI35:
 547              		.cfi_def_cfa_offset 4
 548              		.cfi_offset 7, -4
 549 0002 85B0     		sub	sp, sp, #20
 550              	.LCFI36:
 551              		.cfi_def_cfa_offset 24
 552 0004 00AF     		add	r7, sp, #0
 553              	.LCFI37:
 554              		.cfi_def_cfa_register 7
 555 0006 7860     		str	r0, [r7, #4]
 351:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint32_t tmpcr1;
 352:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 353:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Check parameters */
 354:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   assert_param(IS_UART_FIFO_INSTANCE(husart->Instance));
 355:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 356:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Locked */
 357:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_LOCK(husart);
 556              		.loc 1 357 3
 557 0008 7B68     		ldr	r3, [r7, #4]
 558 000a 93F85830 		ldrb	r3, [r3, #88]	@ zero_extendqisi2
 559 000e 012B     		cmp	r3, #1
 560 0010 01D1     		bne	.L16
 561              		.loc 1 357 3 is_stmt 0 discriminator 1
 562 0012 0223     		movs	r3, #2
 563 0014 27E0     		b	.L17
 564              	.L16:
 565              		.loc 1 357 3 discriminator 2
 566 0016 7B68     		ldr	r3, [r7, #4]
 567 0018 0122     		movs	r2, #1
 568 001a 83F85820 		strb	r2, [r3, #88]
ARM GAS  /tmp/ccEARXAy.s 			page 17


 358:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 359:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_BUSY;
 569              		.loc 1 359 17 is_stmt 1 discriminator 2
 570 001e 7B68     		ldr	r3, [r7, #4]
 571 0020 0222     		movs	r2, #2
 572 0022 83F85920 		strb	r2, [r3, #89]
 360:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 361:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Save actual USART configuration */
 362:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   tmpcr1 = READ_REG(husart->Instance->CR1);
 573              		.loc 1 362 12 discriminator 2
 574 0026 7B68     		ldr	r3, [r7, #4]
 575 0028 1B68     		ldr	r3, [r3]
 576              		.loc 1 362 10 discriminator 2
 577 002a 1B68     		ldr	r3, [r3]
 578 002c FB60     		str	r3, [r7, #12]
 363:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 364:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Disable USART */
 365:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_USART_DISABLE(husart);
 579              		.loc 1 365 3 discriminator 2
 580 002e 7B68     		ldr	r3, [r7, #4]
 581 0030 1B68     		ldr	r3, [r3]
 582 0032 1A68     		ldr	r2, [r3]
 583 0034 7B68     		ldr	r3, [r7, #4]
 584 0036 1B68     		ldr	r3, [r3]
 585 0038 22F00102 		bic	r2, r2, #1
 586 003c 1A60     		str	r2, [r3]
 366:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 367:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Enable FIFO mode */
 368:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   CLEAR_BIT(tmpcr1, USART_CR1_FIFOEN);
 587              		.loc 1 368 3 discriminator 2
 588 003e FB68     		ldr	r3, [r7, #12]
 589 0040 23F00053 		bic	r3, r3, #536870912
 590 0044 FB60     		str	r3, [r7, #12]
 369:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->FifoMode = USART_FIFOMODE_DISABLE;
 591              		.loc 1 369 20 discriminator 2
 592 0046 7B68     		ldr	r3, [r7, #4]
 593 0048 0022     		movs	r2, #0
 594 004a 5A64     		str	r2, [r3, #68]
 370:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 371:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Restore USART configuration */
 372:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   WRITE_REG(husart->Instance->CR1, tmpcr1);
 595              		.loc 1 372 3 discriminator 2
 596 004c 7B68     		ldr	r3, [r7, #4]
 597 004e 1B68     		ldr	r3, [r3]
 598 0050 FA68     		ldr	r2, [r7, #12]
 599 0052 1A60     		str	r2, [r3]
 373:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 374:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_READY;
 600              		.loc 1 374 17 discriminator 2
 601 0054 7B68     		ldr	r3, [r7, #4]
 602 0056 0122     		movs	r2, #1
 603 0058 83F85920 		strb	r2, [r3, #89]
 375:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 376:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Unlocked */
 377:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_UNLOCK(husart);
 604              		.loc 1 377 3 discriminator 2
 605 005c 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccEARXAy.s 			page 18


 606 005e 0022     		movs	r2, #0
 607 0060 83F85820 		strb	r2, [r3, #88]
 378:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 379:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   return HAL_OK;
 608              		.loc 1 379 10 discriminator 2
 609 0064 0023     		movs	r3, #0
 610              	.L17:
 380:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** }
 611              		.loc 1 380 1
 612 0066 1846     		mov	r0, r3
 613 0068 1437     		adds	r7, r7, #20
 614              	.LCFI38:
 615              		.cfi_def_cfa_offset 4
 616 006a BD46     		mov	sp, r7
 617              	.LCFI39:
 618              		.cfi_def_cfa_register 13
 619              		@ sp needed
 620 006c 5DF8047B 		ldr	r7, [sp], #4
 621              	.LCFI40:
 622              		.cfi_restore 7
 623              		.cfi_def_cfa_offset 0
 624 0070 7047     		bx	lr
 625              		.cfi_endproc
 626              	.LFE337:
 628              		.section	.text.HAL_USARTEx_SetTxFifoThreshold,"ax",%progbits
 629              		.align	1
 630              		.global	HAL_USARTEx_SetTxFifoThreshold
 631              		.syntax unified
 632              		.thumb
 633              		.thumb_func
 634              		.fpu fpv5-d16
 636              	HAL_USARTEx_SetTxFifoThreshold:
 637              	.LFB338:
 381:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 382:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 383:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief  Set the TXFIFO threshold.
 384:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param husart      USART handle.
 385:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param Threshold  TX FIFO threshold value
 386:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *          This parameter can be one of the following values:
 387:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_TXFIFO_THRESHOLD_1_8
 388:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_TXFIFO_THRESHOLD_1_4
 389:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_TXFIFO_THRESHOLD_1_2
 390:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_TXFIFO_THRESHOLD_3_4
 391:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_TXFIFO_THRESHOLD_7_8
 392:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_TXFIFO_THRESHOLD_8_8
 393:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @retval HAL status
 394:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 395:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** HAL_StatusTypeDef HAL_USARTEx_SetTxFifoThreshold(USART_HandleTypeDef *husart, uint32_t Threshold)
 396:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** {
 638              		.loc 1 396 1
 639              		.cfi_startproc
 640              		@ args = 0, pretend = 0, frame = 16
 641              		@ frame_needed = 1, uses_anonymous_args = 0
 642 0000 80B5     		push	{r7, lr}
 643              	.LCFI41:
 644              		.cfi_def_cfa_offset 8
 645              		.cfi_offset 7, -8
ARM GAS  /tmp/ccEARXAy.s 			page 19


 646              		.cfi_offset 14, -4
 647 0002 84B0     		sub	sp, sp, #16
 648              	.LCFI42:
 649              		.cfi_def_cfa_offset 24
 650 0004 00AF     		add	r7, sp, #0
 651              	.LCFI43:
 652              		.cfi_def_cfa_register 7
 653 0006 7860     		str	r0, [r7, #4]
 654 0008 3960     		str	r1, [r7]
 397:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint32_t tmpcr1;
 398:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 399:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Check parameters */
 400:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   assert_param(IS_UART_FIFO_INSTANCE(husart->Instance));
 401:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   assert_param(IS_USART_TXFIFO_THRESHOLD(Threshold));
 402:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 403:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Locked */
 404:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_LOCK(husart);
 655              		.loc 1 404 3
 656 000a 7B68     		ldr	r3, [r7, #4]
 657 000c 93F85830 		ldrb	r3, [r3, #88]	@ zero_extendqisi2
 658 0010 012B     		cmp	r3, #1
 659 0012 01D1     		bne	.L19
 660              		.loc 1 404 3 is_stmt 0 discriminator 1
 661 0014 0223     		movs	r3, #2
 662 0016 2DE0     		b	.L20
 663              	.L19:
 664              		.loc 1 404 3 discriminator 2
 665 0018 7B68     		ldr	r3, [r7, #4]
 666 001a 0122     		movs	r2, #1
 667 001c 83F85820 		strb	r2, [r3, #88]
 405:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 406:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_BUSY;
 668              		.loc 1 406 17 is_stmt 1 discriminator 2
 669 0020 7B68     		ldr	r3, [r7, #4]
 670 0022 0222     		movs	r2, #2
 671 0024 83F85920 		strb	r2, [r3, #89]
 407:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 408:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Save actual USART configuration */
 409:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   tmpcr1 = READ_REG(husart->Instance->CR1);
 672              		.loc 1 409 12 discriminator 2
 673 0028 7B68     		ldr	r3, [r7, #4]
 674 002a 1B68     		ldr	r3, [r3]
 675              		.loc 1 409 10 discriminator 2
 676 002c 1B68     		ldr	r3, [r3]
 677 002e FB60     		str	r3, [r7, #12]
 410:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 411:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Disable USART */
 412:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_USART_DISABLE(husart);
 678              		.loc 1 412 3 discriminator 2
 679 0030 7B68     		ldr	r3, [r7, #4]
 680 0032 1B68     		ldr	r3, [r3]
 681 0034 1A68     		ldr	r2, [r3]
 682 0036 7B68     		ldr	r3, [r7, #4]
 683 0038 1B68     		ldr	r3, [r3]
 684 003a 22F00102 		bic	r2, r2, #1
 685 003e 1A60     		str	r2, [r3]
 413:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
ARM GAS  /tmp/ccEARXAy.s 			page 20


 414:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Update TX threshold configuration */
 415:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   MODIFY_REG(husart->Instance->CR3, USART_CR3_TXFTCFG, Threshold);
 686              		.loc 1 415 3 discriminator 2
 687 0040 7B68     		ldr	r3, [r7, #4]
 688 0042 1B68     		ldr	r3, [r3]
 689 0044 9B68     		ldr	r3, [r3, #8]
 690 0046 23F06041 		bic	r1, r3, #-536870912
 691 004a 7B68     		ldr	r3, [r7, #4]
 692 004c 1B68     		ldr	r3, [r3]
 693 004e 3A68     		ldr	r2, [r7]
 694 0050 0A43     		orrs	r2, r2, r1
 695 0052 9A60     		str	r2, [r3, #8]
 416:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 417:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Determine the number of data to process during RX/TX ISR execution */
 418:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   USARTEx_SetNbDataToProcess(husart);
 696              		.loc 1 418 3 discriminator 2
 697 0054 7868     		ldr	r0, [r7, #4]
 698 0056 FFF7FEFF 		bl	USARTEx_SetNbDataToProcess
 419:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 420:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Restore USART configuration */
 421:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   WRITE_REG(husart->Instance->CR1, tmpcr1);
 699              		.loc 1 421 3 discriminator 2
 700 005a 7B68     		ldr	r3, [r7, #4]
 701 005c 1B68     		ldr	r3, [r3]
 702 005e FA68     		ldr	r2, [r7, #12]
 703 0060 1A60     		str	r2, [r3]
 422:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 423:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_READY;
 704              		.loc 1 423 17 discriminator 2
 705 0062 7B68     		ldr	r3, [r7, #4]
 706 0064 0122     		movs	r2, #1
 707 0066 83F85920 		strb	r2, [r3, #89]
 424:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 425:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Unlocked */
 426:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_UNLOCK(husart);
 708              		.loc 1 426 3 discriminator 2
 709 006a 7B68     		ldr	r3, [r7, #4]
 710 006c 0022     		movs	r2, #0
 711 006e 83F85820 		strb	r2, [r3, #88]
 427:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 428:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   return HAL_OK;
 712              		.loc 1 428 10 discriminator 2
 713 0072 0023     		movs	r3, #0
 714              	.L20:
 429:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** }
 715              		.loc 1 429 1
 716 0074 1846     		mov	r0, r3
 717 0076 1037     		adds	r7, r7, #16
 718              	.LCFI44:
 719              		.cfi_def_cfa_offset 8
 720 0078 BD46     		mov	sp, r7
 721              	.LCFI45:
 722              		.cfi_def_cfa_register 13
 723              		@ sp needed
 724 007a 80BD     		pop	{r7, pc}
 725              		.cfi_endproc
 726              	.LFE338:
ARM GAS  /tmp/ccEARXAy.s 			page 21


 728              		.section	.text.HAL_USARTEx_SetRxFifoThreshold,"ax",%progbits
 729              		.align	1
 730              		.global	HAL_USARTEx_SetRxFifoThreshold
 731              		.syntax unified
 732              		.thumb
 733              		.thumb_func
 734              		.fpu fpv5-d16
 736              	HAL_USARTEx_SetRxFifoThreshold:
 737              	.LFB339:
 430:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 431:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 432:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief  Set the RXFIFO threshold.
 433:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param husart      USART handle.
 434:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param Threshold  RX FIFO threshold value
 435:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *          This parameter can be one of the following values:
 436:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_RXFIFO_THRESHOLD_1_8
 437:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_RXFIFO_THRESHOLD_1_4
 438:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_RXFIFO_THRESHOLD_1_2
 439:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_RXFIFO_THRESHOLD_3_4
 440:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_RXFIFO_THRESHOLD_7_8
 441:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *            @arg @ref USART_RXFIFO_THRESHOLD_8_8
 442:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @retval HAL status
 443:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 444:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** HAL_StatusTypeDef HAL_USARTEx_SetRxFifoThreshold(USART_HandleTypeDef *husart, uint32_t Threshold)
 445:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** {
 738              		.loc 1 445 1
 739              		.cfi_startproc
 740              		@ args = 0, pretend = 0, frame = 16
 741              		@ frame_needed = 1, uses_anonymous_args = 0
 742 0000 80B5     		push	{r7, lr}
 743              	.LCFI46:
 744              		.cfi_def_cfa_offset 8
 745              		.cfi_offset 7, -8
 746              		.cfi_offset 14, -4
 747 0002 84B0     		sub	sp, sp, #16
 748              	.LCFI47:
 749              		.cfi_def_cfa_offset 24
 750 0004 00AF     		add	r7, sp, #0
 751              	.LCFI48:
 752              		.cfi_def_cfa_register 7
 753 0006 7860     		str	r0, [r7, #4]
 754 0008 3960     		str	r1, [r7]
 446:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint32_t tmpcr1;
 447:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 448:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Check the parameters */
 449:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   assert_param(IS_UART_FIFO_INSTANCE(husart->Instance));
 450:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   assert_param(IS_USART_RXFIFO_THRESHOLD(Threshold));
 451:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 452:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Locked */
 453:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_LOCK(husart);
 755              		.loc 1 453 3
 756 000a 7B68     		ldr	r3, [r7, #4]
 757 000c 93F85830 		ldrb	r3, [r3, #88]	@ zero_extendqisi2
 758 0010 012B     		cmp	r3, #1
 759 0012 01D1     		bne	.L22
 760              		.loc 1 453 3 is_stmt 0 discriminator 1
 761 0014 0223     		movs	r3, #2
ARM GAS  /tmp/ccEARXAy.s 			page 22


 762 0016 2DE0     		b	.L23
 763              	.L22:
 764              		.loc 1 453 3 discriminator 2
 765 0018 7B68     		ldr	r3, [r7, #4]
 766 001a 0122     		movs	r2, #1
 767 001c 83F85820 		strb	r2, [r3, #88]
 454:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 455:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_BUSY;
 768              		.loc 1 455 17 is_stmt 1 discriminator 2
 769 0020 7B68     		ldr	r3, [r7, #4]
 770 0022 0222     		movs	r2, #2
 771 0024 83F85920 		strb	r2, [r3, #89]
 456:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 457:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Save actual USART configuration */
 458:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   tmpcr1 = READ_REG(husart->Instance->CR1);
 772              		.loc 1 458 12 discriminator 2
 773 0028 7B68     		ldr	r3, [r7, #4]
 774 002a 1B68     		ldr	r3, [r3]
 775              		.loc 1 458 10 discriminator 2
 776 002c 1B68     		ldr	r3, [r3]
 777 002e FB60     		str	r3, [r7, #12]
 459:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 460:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Disable USART */
 461:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_USART_DISABLE(husart);
 778              		.loc 1 461 3 discriminator 2
 779 0030 7B68     		ldr	r3, [r7, #4]
 780 0032 1B68     		ldr	r3, [r3]
 781 0034 1A68     		ldr	r2, [r3]
 782 0036 7B68     		ldr	r3, [r7, #4]
 783 0038 1B68     		ldr	r3, [r3]
 784 003a 22F00102 		bic	r2, r2, #1
 785 003e 1A60     		str	r2, [r3]
 462:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 463:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Update RX threshold configuration */
 464:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   MODIFY_REG(husart->Instance->CR3, USART_CR3_RXFTCFG, Threshold);
 786              		.loc 1 464 3 discriminator 2
 787 0040 7B68     		ldr	r3, [r7, #4]
 788 0042 1B68     		ldr	r3, [r3]
 789 0044 9B68     		ldr	r3, [r3, #8]
 790 0046 23F06061 		bic	r1, r3, #234881024
 791 004a 7B68     		ldr	r3, [r7, #4]
 792 004c 1B68     		ldr	r3, [r3]
 793 004e 3A68     		ldr	r2, [r7]
 794 0050 0A43     		orrs	r2, r2, r1
 795 0052 9A60     		str	r2, [r3, #8]
 465:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 466:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Determine the number of data to process during RX/TX ISR execution */
 467:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   USARTEx_SetNbDataToProcess(husart);
 796              		.loc 1 467 3 discriminator 2
 797 0054 7868     		ldr	r0, [r7, #4]
 798 0056 FFF7FEFF 		bl	USARTEx_SetNbDataToProcess
 468:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 469:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Restore USART configuration */
 470:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   WRITE_REG(husart->Instance->CR1, tmpcr1);
 799              		.loc 1 470 3 discriminator 2
 800 005a 7B68     		ldr	r3, [r7, #4]
 801 005c 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccEARXAy.s 			page 23


 802 005e FA68     		ldr	r2, [r7, #12]
 803 0060 1A60     		str	r2, [r3]
 471:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 472:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   husart->State = HAL_USART_STATE_READY;
 804              		.loc 1 472 17 discriminator 2
 805 0062 7B68     		ldr	r3, [r7, #4]
 806 0064 0122     		movs	r2, #1
 807 0066 83F85920 		strb	r2, [r3, #89]
 473:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 474:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* Process Unlocked */
 475:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   __HAL_UNLOCK(husart);
 808              		.loc 1 475 3 discriminator 2
 809 006a 7B68     		ldr	r3, [r7, #4]
 810 006c 0022     		movs	r2, #0
 811 006e 83F85820 		strb	r2, [r3, #88]
 476:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 477:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   return HAL_OK;
 812              		.loc 1 477 10 discriminator 2
 813 0072 0023     		movs	r3, #0
 814              	.L23:
 478:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** }
 815              		.loc 1 478 1
 816 0074 1846     		mov	r0, r3
 817 0076 1037     		adds	r7, r7, #16
 818              	.LCFI49:
 819              		.cfi_def_cfa_offset 8
 820 0078 BD46     		mov	sp, r7
 821              	.LCFI50:
 822              		.cfi_def_cfa_register 13
 823              		@ sp needed
 824 007a 80BD     		pop	{r7, pc}
 825              		.cfi_endproc
 826              	.LFE339:
 828              		.section	.text.USARTEx_SetNbDataToProcess,"ax",%progbits
 829              		.align	1
 830              		.syntax unified
 831              		.thumb
 832              		.thumb_func
 833              		.fpu fpv5-d16
 835              	USARTEx_SetNbDataToProcess:
 836              	.LFB340:
 479:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 480:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 481:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @}
 482:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 483:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 484:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 485:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @}
 486:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 487:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 488:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /** @addtogroup USARTEx_Private_Functions
 489:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @{
 490:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 491:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 492:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** /**
 493:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @brief Calculate the number of data to process in RX/TX ISR.
 494:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @note The RX FIFO depth and the TX FIFO depth is extracted from
ARM GAS  /tmp/ccEARXAy.s 			page 24


 495:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   *       the USART configuration registers.
 496:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @param husart USART handle.
 497:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   * @retval None
 498:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   */
 499:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** static void USARTEx_SetNbDataToProcess(USART_HandleTypeDef *husart)
 500:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** {
 837              		.loc 1 500 1
 838              		.cfi_startproc
 839              		@ args = 0, pretend = 0, frame = 16
 840              		@ frame_needed = 1, uses_anonymous_args = 0
 841              		@ link register save eliminated.
 842 0000 80B4     		push	{r7}
 843              	.LCFI51:
 844              		.cfi_def_cfa_offset 4
 845              		.cfi_offset 7, -4
 846 0002 85B0     		sub	sp, sp, #20
 847              	.LCFI52:
 848              		.cfi_def_cfa_offset 24
 849 0004 00AF     		add	r7, sp, #0
 850              	.LCFI53:
 851              		.cfi_def_cfa_register 7
 852 0006 7860     		str	r0, [r7, #4]
 501:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint8_t rx_fifo_depth;
 502:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint8_t tx_fifo_depth;
 503:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint8_t rx_fifo_threshold;
 504:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   uint8_t tx_fifo_threshold;
 505:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   /* 2 0U/1U added for MISRAC2012-Rule-18.1_b and MISRAC2012-Rule-18.1_d */
 506:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   static const uint8_t numerator[]   = {1U, 1U, 1U, 3U, 7U, 1U, 0U, 0U};
 507:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   static const uint8_t denominator[] = {8U, 4U, 2U, 4U, 8U, 1U, 1U, 1U};
 508:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** 
 509:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   if (husart->FifoMode == USART_FIFOMODE_DISABLE)
 853              		.loc 1 509 13
 854 0008 7B68     		ldr	r3, [r7, #4]
 855 000a 5B6C     		ldr	r3, [r3, #68]
 856              		.loc 1 509 6
 857 000c 002B     		cmp	r3, #0
 858 000e 06D1     		bne	.L25
 510:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   {
 511:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     husart->NbTxDataToProcess = 1U;
 859              		.loc 1 511 31
 860 0010 7B68     		ldr	r3, [r7, #4]
 861 0012 0122     		movs	r2, #1
 862 0014 9A87     		strh	r2, [r3, #60]	@ movhi
 512:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     husart->NbRxDataToProcess = 1U;
 863              		.loc 1 512 31
 864 0016 7B68     		ldr	r3, [r7, #4]
 865 0018 0122     		movs	r2, #1
 866 001a 5A87     		strh	r2, [r3, #58]	@ movhi
 513:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   }
 514:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   else
 515:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   {
 516:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     rx_fifo_depth = RX_FIFO_DEPTH;
 517:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     tx_fifo_depth = TX_FIFO_DEPTH;
 518:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     rx_fifo_threshold = (uint8_t)((READ_BIT(husart->Instance->CR3,
 519:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                             USART_CR3_RXFTCFG) >> USART_CR3_RXFTCFG_Pos) & 0xFFU);
 520:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     tx_fifo_threshold = (uint8_t)((READ_BIT(husart->Instance->CR3,
 521:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                             USART_CR3_TXFTCFG) >> USART_CR3_TXFTCFG_Pos) & 0xFFU);
ARM GAS  /tmp/ccEARXAy.s 			page 25


 522:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     husart->NbTxDataToProcess = ((uint16_t)tx_fifo_depth * numerator[tx_fifo_threshold]) /
 523:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[tx_fifo_threshold];
 524:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     husart->NbRxDataToProcess = ((uint16_t)rx_fifo_depth * numerator[rx_fifo_threshold]) /
 525:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[rx_fifo_threshold];
 526:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   }
 527:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c **** }
 867              		.loc 1 527 1
 868 001c 2FE0     		b	.L27
 869              	.L25:
 516:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     tx_fifo_depth = TX_FIFO_DEPTH;
 870              		.loc 1 516 19
 871 001e 1023     		movs	r3, #16
 872 0020 FB73     		strb	r3, [r7, #15]
 517:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     rx_fifo_threshold = (uint8_t)((READ_BIT(husart->Instance->CR3,
 873              		.loc 1 517 19
 874 0022 1023     		movs	r3, #16
 875 0024 BB73     		strb	r3, [r7, #14]
 518:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                             USART_CR3_RXFTCFG) >> USART_CR3_RXFTCFG_Pos) & 0xFFU);
 876              		.loc 1 518 36
 877 0026 7B68     		ldr	r3, [r7, #4]
 878 0028 1B68     		ldr	r3, [r3]
 879 002a 9B68     		ldr	r3, [r3, #8]
 519:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     tx_fifo_threshold = (uint8_t)((READ_BIT(husart->Instance->CR3,
 880              		.loc 1 519 64
 881 002c 5B0E     		lsrs	r3, r3, #25
 518:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                             USART_CR3_RXFTCFG) >> USART_CR3_RXFTCFG_Pos) & 0xFFU);
 882              		.loc 1 518 25
 883 002e DBB2     		uxtb	r3, r3
 518:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                             USART_CR3_RXFTCFG) >> USART_CR3_RXFTCFG_Pos) & 0xFFU);
 884              		.loc 1 518 23
 885 0030 03F00703 		and	r3, r3, #7
 886 0034 7B73     		strb	r3, [r7, #13]
 520:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                             USART_CR3_TXFTCFG) >> USART_CR3_TXFTCFG_Pos) & 0xFFU);
 887              		.loc 1 520 36
 888 0036 7B68     		ldr	r3, [r7, #4]
 889 0038 1B68     		ldr	r3, [r3]
 890 003a 9B68     		ldr	r3, [r3, #8]
 521:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     husart->NbTxDataToProcess = ((uint16_t)tx_fifo_depth * numerator[tx_fifo_threshold]) /
 891              		.loc 1 521 64
 892 003c 5B0F     		lsrs	r3, r3, #29
 520:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                             USART_CR3_TXFTCFG) >> USART_CR3_TXFTCFG_Pos) & 0xFFU);
 893              		.loc 1 520 25
 894 003e DBB2     		uxtb	r3, r3
 520:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                             USART_CR3_TXFTCFG) >> USART_CR3_TXFTCFG_Pos) & 0xFFU);
 895              		.loc 1 520 23
 896 0040 03F00703 		and	r3, r3, #7
 897 0044 3B73     		strb	r3, [r7, #12]
 522:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[tx_fifo_threshold];
 898              		.loc 1 522 34
 899 0046 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 522:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[tx_fifo_threshold];
 900              		.loc 1 522 69
 901 0048 3A7B     		ldrb	r2, [r7, #12]	@ zero_extendqisi2
 902 004a 1049     		ldr	r1, .L28
 903 004c 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 522:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[tx_fifo_threshold];
 904              		.loc 1 522 58
ARM GAS  /tmp/ccEARXAy.s 			page 26


 905 004e 02FB03F3 		mul	r3, r2, r3
 523:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****     husart->NbRxDataToProcess = ((uint16_t)rx_fifo_depth * numerator[rx_fifo_threshold]) /
 906              		.loc 1 523 54
 907 0052 3A7B     		ldrb	r2, [r7, #12]	@ zero_extendqisi2
 908 0054 0E49     		ldr	r1, .L28+4
 909 0056 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 522:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[tx_fifo_threshold];
 910              		.loc 1 522 90
 911 0058 93FBF2F3 		sdiv	r3, r3, r2
 522:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[tx_fifo_threshold];
 912              		.loc 1 522 31
 913 005c 9AB2     		uxth	r2, r3
 914 005e 7B68     		ldr	r3, [r7, #4]
 915 0060 9A87     		strh	r2, [r3, #60]	@ movhi
 524:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[rx_fifo_threshold];
 916              		.loc 1 524 34
 917 0062 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 524:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[rx_fifo_threshold];
 918              		.loc 1 524 69
 919 0064 7A7B     		ldrb	r2, [r7, #13]	@ zero_extendqisi2
 920 0066 0949     		ldr	r1, .L28
 921 0068 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 524:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[rx_fifo_threshold];
 922              		.loc 1 524 58
 923 006a 02FB03F3 		mul	r3, r2, r3
 525:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****   }
 924              		.loc 1 525 54
 925 006e 7A7B     		ldrb	r2, [r7, #13]	@ zero_extendqisi2
 926 0070 0749     		ldr	r1, .L28+4
 927 0072 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
 524:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[rx_fifo_threshold];
 928              		.loc 1 524 90
 929 0074 93FBF2F3 		sdiv	r3, r3, r2
 524:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_usart_ex.c ****                                 (uint16_t)denominator[rx_fifo_threshold];
 930              		.loc 1 524 31
 931 0078 9AB2     		uxth	r2, r3
 932 007a 7B68     		ldr	r3, [r7, #4]
 933 007c 5A87     		strh	r2, [r3, #58]	@ movhi
 934              	.L27:
 935              		.loc 1 527 1
 936 007e 00BF     		nop
 937 0080 1437     		adds	r7, r7, #20
 938              	.LCFI54:
 939              		.cfi_def_cfa_offset 4
 940 0082 BD46     		mov	sp, r7
 941              	.LCFI55:
 942              		.cfi_def_cfa_register 13
 943              		@ sp needed
 944 0084 5DF8047B 		ldr	r7, [sp], #4
 945              	.LCFI56:
 946              		.cfi_restore 7
 947              		.cfi_def_cfa_offset 0
 948 0088 7047     		bx	lr
 949              	.L29:
 950 008a 00BF     		.align	2
 951              	.L28:
 952 008c 00000000 		.word	numerator.14113
ARM GAS  /tmp/ccEARXAy.s 			page 27


 953 0090 00000000 		.word	denominator.14114
 954              		.cfi_endproc
 955              	.LFE340:
 957              		.section	.rodata.numerator.14113,"a"
 958              		.align	2
 961              	numerator.14113:
 962 0000 01010103 		.ascii	"\001\001\001\003\007\001\000\000"
 962      07010000 
 963              		.section	.rodata.denominator.14114,"a"
 964              		.align	2
 967              	denominator.14114:
 968 0000 08040204 		.ascii	"\010\004\002\004\010\001\001\001"
 968      08010101 
 969              		.text
 970              	.Letext0:
 971              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 972              		.file 3 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 973              		.file 4 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 974              		.file 5 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/stm32h747xx.h"
 975              		.file 6 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 976              		.file 7 "/usr/include/newlib/sys/_types.h"
 977              		.file 8 "/usr/include/newlib/sys/reent.h"
 978              		.file 9 "/usr/include/newlib/sys/lock.h"
 979              		.file 10 "/usr/include/newlib/math.h"
 980              		.file 11 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 981              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 982              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 983              		.file 14 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 984              		.file 15 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_usart.h"
 985              		.file 16 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
ARM GAS  /tmp/ccEARXAy.s 			page 28


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32h7xx_hal_usart_ex.c
     /tmp/ccEARXAy.s:17     .text.HAL_USARTEx_RxFifoFullCallback:0000000000000000 $t
     /tmp/ccEARXAy.s:25     .text.HAL_USARTEx_RxFifoFullCallback:0000000000000000 HAL_USARTEx_RxFifoFullCallback
     /tmp/ccEARXAy.s:62     .text.HAL_USARTEx_TxFifoEmptyCallback:0000000000000000 $t
     /tmp/ccEARXAy.s:69     .text.HAL_USARTEx_TxFifoEmptyCallback:0000000000000000 HAL_USARTEx_TxFifoEmptyCallback
     /tmp/ccEARXAy.s:105    .text.HAL_USARTEx_EnableSlaveMode:0000000000000000 $t
     /tmp/ccEARXAy.s:112    .text.HAL_USARTEx_EnableSlaveMode:0000000000000000 HAL_USARTEx_EnableSlaveMode
     /tmp/ccEARXAy.s:231    .text.HAL_USARTEx_DisableSlaveMode:0000000000000000 $t
     /tmp/ccEARXAy.s:238    .text.HAL_USARTEx_DisableSlaveMode:0000000000000000 HAL_USARTEx_DisableSlaveMode
     /tmp/ccEARXAy.s:333    .text.HAL_USARTEx_ConfigNSS:0000000000000000 $t
     /tmp/ccEARXAy.s:340    .text.HAL_USARTEx_ConfigNSS:0000000000000000 HAL_USARTEx_ConfigNSS
     /tmp/ccEARXAy.s:434    .text.HAL_USARTEx_EnableFifoMode:0000000000000000 $t
     /tmp/ccEARXAy.s:441    .text.HAL_USARTEx_EnableFifoMode:0000000000000000 HAL_USARTEx_EnableFifoMode
     /tmp/ccEARXAy.s:835    .text.USARTEx_SetNbDataToProcess:0000000000000000 USARTEx_SetNbDataToProcess
     /tmp/ccEARXAy.s:531    .text.HAL_USARTEx_DisableFifoMode:0000000000000000 $t
     /tmp/ccEARXAy.s:538    .text.HAL_USARTEx_DisableFifoMode:0000000000000000 HAL_USARTEx_DisableFifoMode
     /tmp/ccEARXAy.s:629    .text.HAL_USARTEx_SetTxFifoThreshold:0000000000000000 $t
     /tmp/ccEARXAy.s:636    .text.HAL_USARTEx_SetTxFifoThreshold:0000000000000000 HAL_USARTEx_SetTxFifoThreshold
     /tmp/ccEARXAy.s:729    .text.HAL_USARTEx_SetRxFifoThreshold:0000000000000000 $t
     /tmp/ccEARXAy.s:736    .text.HAL_USARTEx_SetRxFifoThreshold:0000000000000000 HAL_USARTEx_SetRxFifoThreshold
     /tmp/ccEARXAy.s:829    .text.USARTEx_SetNbDataToProcess:0000000000000000 $t
     /tmp/ccEARXAy.s:952    .text.USARTEx_SetNbDataToProcess:000000000000008c $d
     /tmp/ccEARXAy.s:961    .rodata.numerator.14113:0000000000000000 numerator.14113
     /tmp/ccEARXAy.s:967    .rodata.denominator.14114:0000000000000000 denominator.14114
     /tmp/ccEARXAy.s:958    .rodata.numerator.14113:0000000000000000 $d
     /tmp/ccEARXAy.s:964    .rodata.denominator.14114:0000000000000000 $d

NO UNDEFINED SYMBOLS
