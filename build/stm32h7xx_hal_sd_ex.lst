ARM GAS  /tmp/ccaq5c0B.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"stm32h7xx_hal_sd_ex.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.HAL_SDEx_ConfigDMAMultiBuffer,"ax",%progbits
  17              		.align	1
  18              		.p2align 2,,3
  19              		.global	HAL_SDEx_ConfigDMAMultiBuffer
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	HAL_SDEx_ConfigDMAMultiBuffer:
  27              	.LVL0:
  28              	.LFB331:
  29              		.file 1 "./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c"
   1:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /**
   2:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   ******************************************************************************
   3:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @file    stm32h7xx_hal_sd_ex.c
   4:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @author  MCD Application Team
   5:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @brief   SD card Extended HAL module driver.
   6:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *          This file provides firmware functions to manage the following
   7:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *          functionalities of the Secure Digital (SD) peripheral:
   8:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *           + Extended features functions
   9:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *
  10:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   @verbatim
  11:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   ==============================================================================
  12:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****                         ##### How to use this driver #####
  13:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   ==============================================================================
  14:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   [..]
  15:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****    The SD Extension HAL driver can be used as follows:
  16:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****    (+) Configure Buffer0 and Buffer1 start address and Buffer size using HAL_SDEx_ConfigDMAMultiBuf
  17:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****    (+) Start Read and Write for multibuffer mode using HAL_SDEx_ReadBlocksDMAMultiBuffer()
  18:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****        and HAL_SDEx_WriteBlocksDMAMultiBuffer() functions.
  19:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  20:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   @endverbatim
  21:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   ******************************************************************************
  22:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @attention
  23:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *
  24:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * <h2><center>&copy; Copyright (c) 2017 STMicroelectronics.
  25:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * All rights reserved.</center></h2>
  26:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *
  27:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  28:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * the "License"; You may not use this file except in compliance with the
  29:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * License. You may obtain a copy of the License at:
ARM GAS  /tmp/ccaq5c0B.s 			page 2


  30:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *                       opensource.org/licenses/BSD-3-Clause
  31:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *
  32:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   ******************************************************************************
  33:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   */
  34:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  35:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /* Includes ------------------------------------------------------------------*/
  36:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** #include "stm32h7xx_hal.h"
  37:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  38:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /** @addtogroup STM32H7xx_HAL_Driver
  39:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @{
  40:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   */
  41:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  42:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /** @defgroup SDEx SDEx
  43:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @brief SD Extended HAL module driver
  44:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @{
  45:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   */
  46:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  47:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** #ifdef HAL_SD_MODULE_ENABLED
  48:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  49:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /* Private typedef -----------------------------------------------------------*/
  50:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /* Private define ------------------------------------------------------------*/
  51:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /* Private macro -------------------------------------------------------------*/
  52:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /* Private variables ---------------------------------------------------------*/
  53:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /* Private function prototypes -----------------------------------------------*/
  54:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /* Private functions ---------------------------------------------------------*/
  55:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /* Exported functions --------------------------------------------------------*/
  56:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /** @addtogroup SDEx_Exported_Functions
  57:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @{
  58:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   */
  59:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  60:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /** @addtogroup SDEx_Exported_Functions_Group1
  61:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *  @brief   Multibuffer functions
  62:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *
  63:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** @verbatim
  64:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   ==============================================================================
  65:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****           ##### Multibuffer functions #####
  66:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   ==============================================================================
  67:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   [..]
  68:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     This section provides functions allowing to configure the multibuffer mode and start read and w
  69:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     multibuffer mode for SD HAL driver.
  70:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  71:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** @endverbatim
  72:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @{
  73:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   */
  74:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  75:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /**
  76:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @brief  Configure DMA Dual Buffer mode. The Data transfer is managed by an Internal DMA.
  77:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  hsd: SD handle
  78:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  pDataBuffer0: Pointer to the buffer0 that will contain/receive the transferred data
  79:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  pDataBuffer1: Pointer to the buffer1 that will contain/receive the transferred data
  80:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  BufferSize: Size of Buffer0 in Blocks. Buffer0 and Buffer1 must have the same size.
  81:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @retval HAL status
  82:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   */
  83:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** HAL_StatusTypeDef HAL_SDEx_ConfigDMAMultiBuffer(SD_HandleTypeDef *hsd, uint32_t *pDataBuffer0, uint
  84:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****                                                 uint32_t BufferSize)
  85:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** {
  30              		.loc 1 85 1 view -0
ARM GAS  /tmp/ccaq5c0B.s 			page 3


  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  86:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   if (hsd->State == HAL_SD_STATE_READY)
  35              		.loc 1 86 3 view .LVU1
  85:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   if (hsd->State == HAL_SD_STATE_READY)
  36              		.loc 1 85 1 is_stmt 0 view .LVU2
  37 0000 10B4     		push	{r4}
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 4
  40              		.cfi_offset 4, -4
  41              		.loc 1 86 10 view .LVU3
  42 0002 90F83440 		ldrb	r4, [r0, #52]	@ zero_extendqisi2
  43              		.loc 1 86 6 view .LVU4
  44 0006 012C     		cmp	r4, #1
  45 0008 03D0     		beq	.L6
  87:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   {
  88:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMABASE0 = (uint32_t) pDataBuffer0;
  89:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMABASE1 = (uint32_t) pDataBuffer1;
  90:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMABSIZE = (uint32_t)(BLOCKSIZE * BufferSize);
  91:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  92:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     return HAL_OK;
  93:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
  94:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   else
  95:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   {
  96:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     return HAL_BUSY;
  46              		.loc 1 96 12 view .LVU5
  47 000a 0220     		movs	r0, #2
  48              	.LVL1:
  97:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
  98:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** }
  49              		.loc 1 98 1 view .LVU6
  50 000c 5DF8044B 		ldr	r4, [sp], #4
  51              	.LCFI1:
  52              		.cfi_remember_state
  53              		.cfi_restore 4
  54              		.cfi_def_cfa_offset 0
  55 0010 7047     		bx	lr
  56              	.LVL2:
  57              	.L6:
  58              	.LCFI2:
  59              		.cfi_restore_state
  88:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMABASE1 = (uint32_t) pDataBuffer1;
  60              		.loc 1 88 5 is_stmt 1 view .LVU7
  88:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMABASE1 = (uint32_t) pDataBuffer1;
  61              		.loc 1 88 8 is_stmt 0 view .LVU8
  62 0012 0468     		ldr	r4, [r0]
  90:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  63              		.loc 1 90 32 view .LVU9
  64 0014 5B02     		lsls	r3, r3, #9
  65              	.LVL3:
  92:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
  66              		.loc 1 92 12 view .LVU10
  67 0016 0020     		movs	r0, #0
  68              	.LVL4:
  88:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMABASE1 = (uint32_t) pDataBuffer1;
ARM GAS  /tmp/ccaq5c0B.s 			page 4


  69              		.loc 1 88 30 view .LVU11
  70 0018 A165     		str	r1, [r4, #88]
  89:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMABSIZE = (uint32_t)(BLOCKSIZE * BufferSize);
  71              		.loc 1 89 5 is_stmt 1 view .LVU12
  89:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMABSIZE = (uint32_t)(BLOCKSIZE * BufferSize);
  72              		.loc 1 89 30 is_stmt 0 view .LVU13
  73 001a E265     		str	r2, [r4, #92]
  90:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  74              		.loc 1 90 5 is_stmt 1 view .LVU14
  90:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
  75              		.loc 1 90 30 is_stmt 0 view .LVU15
  76 001c 6365     		str	r3, [r4, #84]
  92:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
  77              		.loc 1 92 5 is_stmt 1 view .LVU16
  78              		.loc 1 98 1 is_stmt 0 view .LVU17
  79 001e 5DF8044B 		ldr	r4, [sp], #4
  80              	.LCFI3:
  81              		.cfi_restore 4
  82              		.cfi_def_cfa_offset 0
  83 0022 7047     		bx	lr
  84              		.cfi_endproc
  85              	.LFE331:
  87              		.section	.text.HAL_SDEx_ReadBlocksDMAMultiBuffer,"ax",%progbits
  88              		.align	1
  89              		.p2align 2,,3
  90              		.global	HAL_SDEx_ReadBlocksDMAMultiBuffer
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  94              		.fpu fpv5-d16
  96              	HAL_SDEx_ReadBlocksDMAMultiBuffer:
  97              	.LVL5:
  98              	.LFB332:
  99:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 100:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /**
 101:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @brief  Reads block(s) from a specified address in a card. The received Data will be stored in 
 102:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *         Buffer0, Buffer1 and BufferSize need to be configured by function HAL_SDEx_ConfigDMAMul
 103:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *         call this function.
 104:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  hsd: SD handle
 105:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  BlockAdd: Block Address from where data is to be read
 106:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  NumberOfBlocks: Total number of blocks to read
 107:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @retval HAL status
 108:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   */
 109:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** HAL_StatusTypeDef HAL_SDEx_ReadBlocksDMAMultiBuffer(SD_HandleTypeDef *hsd, uint32_t BlockAdd, uint3
 110:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** {
  99              		.loc 1 110 1 is_stmt 1 view -0
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 24
 102              		@ frame_needed = 0, uses_anonymous_args = 0
 111:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   SDMMC_DataInitTypeDef config;
 103              		.loc 1 111 3 view .LVU19
 112:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   uint32_t errorstate;
 104              		.loc 1 112 3 view .LVU20
 113:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   uint32_t DmaBase0_reg;
 105              		.loc 1 113 3 view .LVU21
 114:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   uint32_t DmaBase1_reg;
 106              		.loc 1 114 3 view .LVU22
ARM GAS  /tmp/ccaq5c0B.s 			page 5


 115:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   uint32_t add = BlockAdd;
 107              		.loc 1 115 3 view .LVU23
 116:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 117:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   if (hsd->State == HAL_SD_STATE_READY)
 108              		.loc 1 117 3 view .LVU24
 110:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   SDMMC_DataInitTypeDef config;
 109              		.loc 1 110 1 is_stmt 0 view .LVU25
 110 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 111              	.LCFI4:
 112              		.cfi_def_cfa_offset 20
 113              		.cfi_offset 4, -20
 114              		.cfi_offset 5, -16
 115              		.cfi_offset 6, -12
 116              		.cfi_offset 7, -8
 117              		.cfi_offset 14, -4
 118              		.loc 1 117 10 view .LVU26
 119 0002 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 110:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   SDMMC_DataInitTypeDef config;
 120              		.loc 1 110 1 view .LVU27
 121 0006 87B0     		sub	sp, sp, #28
 122              	.LCFI5:
 123              		.cfi_def_cfa_offset 48
 124              		.loc 1 117 6 view .LVU28
 125 0008 012B     		cmp	r3, #1
 126 000a 57D1     		bne	.L15
 127 000c 0D46     		mov	r5, r1
 128 000e DEB2     		uxtb	r6, r3
 118:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   {
 119:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 129              		.loc 1 119 5 is_stmt 1 view .LVU29
 130              		.loc 1 119 14 is_stmt 0 view .LVU30
 131 0010 8B18     		adds	r3, r1, r2
 132              		.loc 1 119 8 view .LVU31
 133 0012 416D     		ldr	r1, [r0, #84]
 134              	.LVL6:
 135              		.loc 1 119 8 view .LVU32
 136 0014 0446     		mov	r4, r0
 137 0016 8B42     		cmp	r3, r1
 138 0018 43D8     		bhi	.L23
 120:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 121:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 122:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 123:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 124:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 125:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     DmaBase0_reg = hsd->Instance->IDMABASE0;
 139              		.loc 1 125 5 is_stmt 1 view .LVU33
 140              		.loc 1 125 23 is_stmt 0 view .LVU34
 141 001a 0068     		ldr	r0, [r0]
 142              	.LVL7:
 143              		.loc 1 125 18 view .LVU35
 144 001c 876D     		ldr	r7, [r0, #88]
 145              	.LVL8:
 126:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     DmaBase1_reg = hsd->Instance->IDMABASE1;
 146              		.loc 1 126 5 is_stmt 1 view .LVU36
 147              		.loc 1 126 18 is_stmt 0 view .LVU37
 148 001e C16D     		ldr	r1, [r0, #92]
 149              	.LVL9:
ARM GAS  /tmp/ccaq5c0B.s 			page 6


 127:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 128:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     if ((hsd->Instance->IDMABSIZE == 0U) || (DmaBase0_reg == 0U) || (DmaBase1_reg == 0U))
 150              		.loc 1 128 5 is_stmt 1 view .LVU38
 151              		.loc 1 128 23 is_stmt 0 view .LVU39
 152 0020 436D     		ldr	r3, [r0, #84]
 153              		.loc 1 128 8 view .LVU40
 154 0022 002B     		cmp	r3, #0
 155 0024 44D0     		beq	.L10
 156              		.loc 1 128 66 discriminator 1 view .LVU41
 157 0026 002F     		cmp	r7, #0
 158 0028 42D0     		beq	.L10
 159 002a B1FA81F3 		clz	r3, r1
 160 002e 5B09     		lsrs	r3, r3, #5
 161 0030 0029     		cmp	r1, #0
 162 0032 3DD0     		beq	.L10
 129:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 130:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       hsd->ErrorCode = HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 131:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 132:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 133:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 134:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* Initialize data control register */
 135:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->DCTRL = 0;
 163              		.loc 1 135 5 is_stmt 1 view .LVU42
 136:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* Clear old Flags*/
 137:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDMMC_STATIC_DATA_FLAGS);
 164              		.loc 1 137 5 is_stmt 0 view .LVU43
 165 0034 DFF8A0C0 		ldr	ip, .L24+4
 138:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 139:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 140:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->State = HAL_SD_STATE_BUSY;
 141:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 143:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 144:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       add *= 512U;
 145:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 146:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 147:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 148:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 149:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 166              		.loc 1 149 38 view .LVU44
 167 0038 5202     		lsls	r2, r2, #9
 168              	.LVL10:
 142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 169              		.loc 1 142 8 view .LVU45
 170 003a E16B     		ldr	r1, [r4, #60]
 171              	.LVL11:
 140:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 172              		.loc 1 140 16 view .LVU46
 173 003c 0327     		movs	r7, #3
 174              	.LVL12:
 135:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* Clear old Flags*/
 175              		.loc 1 135 26 view .LVU47
 176 003e C362     		str	r3, [r0, #44]
 137:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 177              		.loc 1 137 5 is_stmt 1 view .LVU48
 178 0040 C0F838C0 		str	ip, [r0, #56]
 139:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->State = HAL_SD_STATE_BUSY;
ARM GAS  /tmp/ccaq5c0B.s 			page 7


 179              		.loc 1 139 5 view .LVU49
 142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 180              		.loc 1 142 8 is_stmt 0 view .LVU50
 181 0044 0129     		cmp	r1, #1
 139:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->State = HAL_SD_STATE_BUSY;
 182              		.loc 1 139 20 view .LVU51
 183 0046 A363     		str	r3, [r4, #56]
 140:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 184              		.loc 1 140 5 is_stmt 1 view .LVU52
 148:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 185              		.loc 1 148 26 is_stmt 0 view .LVU53
 186 0048 4FF0FF33 		mov	r3, #-1
 150:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 187              		.loc 1 150 26 view .LVU54
 188 004c 4FF09001 		mov	r1, #144
 149:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 189              		.loc 1 149 26 view .LVU55
 190 0050 0192     		str	r2, [sp, #4]
 148:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 191              		.loc 1 148 26 view .LVU56
 192 0052 0093     		str	r3, [sp]
 151:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 193              		.loc 1 151 26 view .LVU57
 194 0054 4FF00202 		mov	r2, #2
 152:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 195              		.loc 1 152 26 view .LVU58
 196 0058 4FF00003 		mov	r3, #0
 150:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 197              		.loc 1 150 26 view .LVU59
 198 005c 0291     		str	r1, [sp, #8]
 140:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 199              		.loc 1 140 16 view .LVU60
 200 005e 84F83470 		strb	r7, [r4, #52]
 142:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 201              		.loc 1 142 5 is_stmt 1 view .LVU61
 144:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 202              		.loc 1 144 7 view .LVU62
 153:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 154:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 203              		.loc 1 154 11 is_stmt 0 view .LVU63
 204 0062 6946     		mov	r1, sp
 144:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 205              		.loc 1 144 11 view .LVU64
 206 0064 18BF     		it	ne
 207 0066 6D02     		lslne	r5, r5, #9
 208              	.LVL13:
 148:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 209              		.loc 1 148 5 is_stmt 1 view .LVU65
 149:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 210              		.loc 1 149 5 view .LVU66
 150:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_SDMMC;
 211              		.loc 1 150 5 view .LVU67
 151:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 212              		.loc 1 151 5 view .LVU68
 153:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 213              		.loc 1 153 26 is_stmt 0 view .LVU69
 214 0068 0593     		str	r3, [sp, #20]
ARM GAS  /tmp/ccaq5c0B.s 			page 8


 152:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 215              		.loc 1 152 26 view .LVU70
 216 006a CDE90323 		strd	r2, r3, [sp, #12]
 153:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 217              		.loc 1 153 5 is_stmt 1 view .LVU71
 218              		.loc 1 154 5 view .LVU72
 219              		.loc 1 154 11 is_stmt 0 view .LVU73
 220 006e FFF7FEFF 		bl	SDMMC_ConfigData
 221              	.LVL14:
 155:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 156:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->DCTRL |= SDMMC_DCTRL_FIFORST;
 222              		.loc 1 156 5 is_stmt 1 view .LVU74
 223              		.loc 1 156 8 is_stmt 0 view .LVU75
 224 0072 2068     		ldr	r0, [r4]
 157:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 158:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 159:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 160:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMACTRL = SDMMC_ENABLE_IDMA_DOUBLE_BUFF0;
 161:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 162:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* Read Blocks in DMA mode */
 163:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
 164:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 165:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* Read Multi Block command */
 166:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 225              		.loc 1 166 18 view .LVU76
 226 0074 2946     		mov	r1, r5
 163:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 227              		.loc 1 163 18 view .LVU77
 228 0076 8222     		movs	r2, #130
 156:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 229              		.loc 1 156 26 view .LVU78
 230 0078 C36A     		ldr	r3, [r0, #44]
 160:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 231              		.loc 1 160 29 view .LVU79
 232 007a 0325     		movs	r5, #3
 233              	.LVL15:
 156:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 234              		.loc 1 156 26 view .LVU80
 235 007c 43F40053 		orr	r3, r3, #8192
 236 0080 C362     		str	r3, [r0, #44]
 158:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 237              		.loc 1 158 5 is_stmt 1 view .LVU81
 238 0082 C368     		ldr	r3, [r0, #12]
 239 0084 43F04003 		orr	r3, r3, #64
 240 0088 C360     		str	r3, [r0, #12]
 160:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 241              		.loc 1 160 5 view .LVU82
 160:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 242              		.loc 1 160 29 is_stmt 0 view .LVU83
 243 008a 0565     		str	r5, [r0, #80]
 163:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 244              		.loc 1 163 5 is_stmt 1 view .LVU84
 163:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 245              		.loc 1 163 18 is_stmt 0 view .LVU85
 246 008c 2263     		str	r2, [r4, #48]
 247              		.loc 1 166 5 is_stmt 1 view .LVU86
 248              		.loc 1 166 18 is_stmt 0 view .LVU87
ARM GAS  /tmp/ccaq5c0B.s 			page 9


 249 008e FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 250              	.LVL16:
 167:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 251              		.loc 1 167 5 is_stmt 1 view .LVU88
 252              		.loc 1 167 8 is_stmt 0 view .LVU89
 253 0092 B8B1     		cbz	r0, .L14
 168:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 169:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       hsd->State = HAL_SD_STATE_READY;
 254              		.loc 1 169 7 is_stmt 1 view .LVU90
 255              		.loc 1 169 18 is_stmt 0 view .LVU91
 256 0094 0123     		movs	r3, #1
 257 0096 84F83430 		strb	r3, [r4, #52]
 170:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       hsd->ErrorCode |= errorstate;
 258              		.loc 1 170 7 is_stmt 1 view .LVU92
 259              		.loc 1 170 22 is_stmt 0 view .LVU93
 260 009a A36B     		ldr	r3, [r4, #56]
 261 009c 1843     		orrs	r0, r0, r3
 262              	.LVL17:
 263              		.loc 1 170 22 view .LVU94
 264 009e A063     		str	r0, [r4, #56]
 171:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 265              		.loc 1 171 7 is_stmt 1 view .LVU95
 266              		.loc 1 171 14 is_stmt 0 view .LVU96
 267 00a0 03E0     		b	.L8
 268              	.LVL18:
 269              	.L23:
 121:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 270              		.loc 1 121 7 is_stmt 1 view .LVU97
 121:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 271              		.loc 1 121 22 is_stmt 0 view .LVU98
 272 00a2 836B     		ldr	r3, [r0, #56]
 273 00a4 43F00073 		orr	r3, r3, #33554432
 274 00a8 8363     		str	r3, [r0, #56]
 122:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 275              		.loc 1 122 7 is_stmt 1 view .LVU99
 276              	.LVL19:
 277              	.L8:
 172:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 173:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 174:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_RXOVERR | SDMMC_IT_DA
 175:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****                              SDMMC_IT_IDMABTC));
 176:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 177:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     return HAL_OK;
 178:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 179:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   else
 180:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   {
 181:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     return HAL_BUSY;
 182:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 183:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 184:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** }
 278              		.loc 1 184 1 is_stmt 0 view .LVU100
 279 00aa 3046     		mov	r0, r6
 280 00ac 07B0     		add	sp, sp, #28
 281              	.LCFI6:
 282              		.cfi_remember_state
 283              		.cfi_def_cfa_offset 20
 284              		@ sp needed
ARM GAS  /tmp/ccaq5c0B.s 			page 10


 285 00ae F0BD     		pop	{r4, r5, r6, r7, pc}
 286              	.LVL20:
 287              	.L10:
 288              	.LCFI7:
 289              		.cfi_restore_state
 130:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 290              		.loc 1 130 7 is_stmt 1 view .LVU101
 130:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 291              		.loc 1 130 22 is_stmt 0 view .LVU102
 292 00b0 4FF00073 		mov	r3, #33554432
 293              		.loc 1 184 1 view .LVU103
 294 00b4 3046     		mov	r0, r6
 130:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 295              		.loc 1 130 22 view .LVU104
 296 00b6 A363     		str	r3, [r4, #56]
 131:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 297              		.loc 1 131 7 is_stmt 1 view .LVU105
 298              		.loc 1 184 1 is_stmt 0 view .LVU106
 299 00b8 07B0     		add	sp, sp, #28
 300              	.LCFI8:
 301              		.cfi_remember_state
 302              		.cfi_def_cfa_offset 20
 303              		@ sp needed
 304 00ba F0BD     		pop	{r4, r5, r6, r7, pc}
 305              	.LVL21:
 306              	.L15:
 307              	.LCFI9:
 308              		.cfi_restore_state
 181:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 309              		.loc 1 181 12 view .LVU107
 310 00bc 0226     		movs	r6, #2
 311              		.loc 1 184 1 view .LVU108
 312 00be 3046     		mov	r0, r6
 313              	.LVL22:
 314              		.loc 1 184 1 view .LVU109
 315 00c0 07B0     		add	sp, sp, #28
 316              	.LCFI10:
 317              		.cfi_remember_state
 318              		.cfi_def_cfa_offset 20
 319              		@ sp needed
 320 00c2 F0BD     		pop	{r4, r5, r6, r7, pc}
 321              	.LVL23:
 322              	.L14:
 323              	.LCFI11:
 324              		.cfi_restore_state
 174:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****                              SDMMC_IT_IDMABTC));
 325              		.loc 1 174 5 is_stmt 1 view .LVU110
 326 00c4 2268     		ldr	r2, [r4]
 177:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 327              		.loc 1 177 12 is_stmt 0 view .LVU111
 328 00c6 0646     		mov	r6, r0
 174:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****                              SDMMC_IT_IDMABTC));
 329              		.loc 1 174 5 view .LVU112
 330 00c8 024B     		ldr	r3, .L24
 331 00ca D16B     		ldr	r1, [r2, #60]
 332 00cc 0B43     		orrs	r3, r3, r1
 333 00ce D363     		str	r3, [r2, #60]
ARM GAS  /tmp/ccaq5c0B.s 			page 11


 177:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 334              		.loc 1 177 5 is_stmt 1 view .LVU113
 177:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 335              		.loc 1 177 12 is_stmt 0 view .LVU114
 336 00d0 EBE7     		b	.L8
 337              	.L25:
 338 00d2 00BF     		.align	2
 339              	.L24:
 340 00d4 2A010010 		.word	268435754
 341 00d8 3A0F0018 		.word	402657082
 342              		.cfi_endproc
 343              	.LFE332:
 345              		.section	.text.HAL_SDEx_WriteBlocksDMAMultiBuffer,"ax",%progbits
 346              		.align	1
 347              		.p2align 2,,3
 348              		.global	HAL_SDEx_WriteBlocksDMAMultiBuffer
 349              		.syntax unified
 350              		.thumb
 351              		.thumb_func
 352              		.fpu fpv5-d16
 354              	HAL_SDEx_WriteBlocksDMAMultiBuffer:
 355              	.LVL24:
 356              	.LFB333:
 185:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 186:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /**
 187:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @brief  Write block(s) to a specified address in a card. The transferred Data are stored in Buf
 188:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *         Buffer0, Buffer1 and BufferSize need to be configured by function HAL_SDEx_ConfigDMAMul
 189:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *   call this function.
 190:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  hsd: SD handle
 191:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  BlockAdd: Block Address from where data is to be read
 192:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  NumberOfBlocks: Total number of blocks to read
 193:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @retval HAL status
 194:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   */
 195:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** HAL_StatusTypeDef HAL_SDEx_WriteBlocksDMAMultiBuffer(SD_HandleTypeDef *hsd, uint32_t BlockAdd, uint
 196:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** {
 357              		.loc 1 196 1 is_stmt 1 view -0
 358              		.cfi_startproc
 359              		@ args = 0, pretend = 0, frame = 24
 360              		@ frame_needed = 0, uses_anonymous_args = 0
 197:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   SDMMC_DataInitTypeDef config;
 361              		.loc 1 197 3 view .LVU116
 198:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   uint32_t errorstate;
 362              		.loc 1 198 3 view .LVU117
 199:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   uint32_t DmaBase0_reg;
 363              		.loc 1 199 3 view .LVU118
 200:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   uint32_t DmaBase1_reg;
 364              		.loc 1 200 3 view .LVU119
 201:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   uint32_t add = BlockAdd;
 365              		.loc 1 201 3 view .LVU120
 202:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 203:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   if (hsd->State == HAL_SD_STATE_READY)
 366              		.loc 1 203 3 view .LVU121
 196:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   SDMMC_DataInitTypeDef config;
 367              		.loc 1 196 1 is_stmt 0 view .LVU122
 368 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 369              	.LCFI12:
 370              		.cfi_def_cfa_offset 20
ARM GAS  /tmp/ccaq5c0B.s 			page 12


 371              		.cfi_offset 4, -20
 372              		.cfi_offset 5, -16
 373              		.cfi_offset 6, -12
 374              		.cfi_offset 7, -8
 375              		.cfi_offset 14, -4
 376              		.loc 1 203 10 view .LVU123
 377 0002 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 196:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   SDMMC_DataInitTypeDef config;
 378              		.loc 1 196 1 view .LVU124
 379 0006 87B0     		sub	sp, sp, #28
 380              	.LCFI13:
 381              		.cfi_def_cfa_offset 48
 382              		.loc 1 203 6 view .LVU125
 383 0008 012B     		cmp	r3, #1
 384 000a 4DD1     		bne	.L34
 385 000c 0D46     		mov	r5, r1
 386 000e DEB2     		uxtb	r6, r3
 204:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   {
 205:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     if ((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 387              		.loc 1 205 5 is_stmt 1 view .LVU126
 388              		.loc 1 205 14 is_stmt 0 view .LVU127
 389 0010 8B18     		adds	r3, r1, r2
 390              		.loc 1 205 8 view .LVU128
 391 0012 416D     		ldr	r1, [r0, #84]
 392              	.LVL25:
 393              		.loc 1 205 8 view .LVU129
 394 0014 0446     		mov	r4, r0
 395 0016 8B42     		cmp	r3, r1
 396 0018 39D8     		bhi	.L42
 206:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 207:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 208:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 209:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 210:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 211:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     DmaBase0_reg = hsd->Instance->IDMABASE0;
 397              		.loc 1 211 5 is_stmt 1 view .LVU130
 398              		.loc 1 211 23 is_stmt 0 view .LVU131
 399 001a 0068     		ldr	r0, [r0]
 400              	.LVL26:
 401              		.loc 1 211 18 view .LVU132
 402 001c 876D     		ldr	r7, [r0, #88]
 403              	.LVL27:
 212:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     DmaBase1_reg = hsd->Instance->IDMABASE1;
 404              		.loc 1 212 5 is_stmt 1 view .LVU133
 405              		.loc 1 212 18 is_stmt 0 view .LVU134
 406 001e C16D     		ldr	r1, [r0, #92]
 407              	.LVL28:
 213:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     if ((hsd->Instance->IDMABSIZE == 0U) || (DmaBase0_reg == 0U) || (DmaBase1_reg == 0U))
 408              		.loc 1 213 5 is_stmt 1 view .LVU135
 409              		.loc 1 213 23 is_stmt 0 view .LVU136
 410 0020 436D     		ldr	r3, [r0, #84]
 411              		.loc 1 213 8 view .LVU137
 412 0022 002B     		cmp	r3, #0
 413 0024 3AD0     		beq	.L29
 414              		.loc 1 213 66 discriminator 1 view .LVU138
 415 0026 002F     		cmp	r7, #0
 416 0028 38D0     		beq	.L29
ARM GAS  /tmp/ccaq5c0B.s 			page 13


 417 002a B1FA81F3 		clz	r3, r1
 418 002e 5B09     		lsrs	r3, r3, #5
 419 0030 0029     		cmp	r1, #0
 420 0032 33D0     		beq	.L29
 214:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 215:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       hsd->ErrorCode = HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 216:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 217:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 218:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 219:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* Initialize data control register */
 220:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->DCTRL = 0;
 421              		.loc 1 220 5 is_stmt 1 view .LVU139
 221:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 222:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 223:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 224:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->State = HAL_SD_STATE_BUSY;
 225:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 226:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     if (hsd->SdCard.CardType != CARD_SDHC_SDXC)
 422              		.loc 1 226 8 is_stmt 0 view .LVU140
 423 0034 E16B     		ldr	r1, [r4, #60]
 424              	.LVL29:
 224:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 425              		.loc 1 224 16 view .LVU141
 426 0036 0327     		movs	r7, #3
 427              	.LVL30:
 220:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 428              		.loc 1 220 26 view .LVU142
 429 0038 C362     		str	r3, [r0, #44]
 222:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 430              		.loc 1 222 5 is_stmt 1 view .LVU143
 227:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 228:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       add *= 512U;
 229:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 230:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 231:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 232:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 233:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 431              		.loc 1 233 38 is_stmt 0 view .LVU144
 432 003a 5202     		lsls	r2, r2, #9
 433              	.LVL31:
 226:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 434              		.loc 1 226 8 view .LVU145
 435 003c 0129     		cmp	r1, #1
 232:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 436              		.loc 1 232 26 view .LVU146
 437 003e 4FF0FF31 		mov	r1, #-1
 222:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 438              		.loc 1 222 20 view .LVU147
 439 0042 A363     		str	r3, [r4, #56]
 224:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 440              		.loc 1 224 5 is_stmt 1 view .LVU148
 234:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 235:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 441              		.loc 1 235 26 is_stmt 0 view .LVU149
 442 0044 4FF00003 		mov	r3, #0
 224:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 443              		.loc 1 224 16 view .LVU150
ARM GAS  /tmp/ccaq5c0B.s 			page 14


 444 0048 84F83470 		strb	r7, [r4, #52]
 226:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 445              		.loc 1 226 5 is_stmt 1 view .LVU151
 228:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 446              		.loc 1 228 7 view .LVU152
 234:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 447              		.loc 1 234 26 is_stmt 0 view .LVU153
 448 004c 4FF09007 		mov	r7, #144
 232:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 449              		.loc 1 232 26 view .LVU154
 450 0050 0091     		str	r1, [sp]
 236:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 237:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 238:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 451              		.loc 1 238 11 view .LVU155
 452 0052 6946     		mov	r1, sp
 228:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 453              		.loc 1 228 11 view .LVU156
 454 0054 18BF     		it	ne
 455 0056 6D02     		lslne	r5, r5, #9
 456              	.LVL32:
 232:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 457              		.loc 1 232 5 is_stmt 1 view .LVU157
 233:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 458              		.loc 1 233 5 view .LVU158
 234:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.TransferDir   = SDMMC_TRANSFER_DIR_TO_CARD;
 459              		.loc 1 234 5 view .LVU159
 233:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DataBlockSize = SDMMC_DATABLOCK_SIZE_512B;
 460              		.loc 1 233 26 is_stmt 0 view .LVU160
 461 0058 0192     		str	r2, [sp, #4]
 235:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.TransferMode  = SDMMC_TRANSFER_MODE_BLOCK;
 462              		.loc 1 235 26 view .LVU161
 463 005a CDE90273 		strd	r7, r3, [sp, #8]
 236:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     config.DPSM          = SDMMC_DPSM_DISABLE;
 464              		.loc 1 236 5 is_stmt 1 view .LVU162
 237:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     (void)SDMMC_ConfigData(hsd->Instance, &config);
 465              		.loc 1 237 26 is_stmt 0 view .LVU163
 466 005e CDE90433 		strd	r3, r3, [sp, #16]
 467              		.loc 1 238 5 is_stmt 1 view .LVU164
 468              		.loc 1 238 11 is_stmt 0 view .LVU165
 469 0062 FFF7FEFF 		bl	SDMMC_ConfigData
 470              	.LVL33:
 239:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 240:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     __SDMMC_CMDTRANS_ENABLE(hsd->Instance);
 471              		.loc 1 240 5 is_stmt 1 view .LVU166
 472 0066 2068     		ldr	r0, [r4]
 241:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 242:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMACTRL = SDMMC_ENABLE_IDMA_DOUBLE_BUFF0;
 243:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 244:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* Write Blocks in DMA mode */
 245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
 246:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 247:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* Write Multi Block command */
 248:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 473              		.loc 1 248 18 is_stmt 0 view .LVU167
 474 0068 2946     		mov	r1, r5
 245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
ARM GAS  /tmp/ccaq5c0B.s 			page 15


 475              		.loc 1 245 18 view .LVU168
 476 006a A022     		movs	r2, #160
 240:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 477              		.loc 1 240 5 view .LVU169
 478 006c C368     		ldr	r3, [r0, #12]
 242:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 479              		.loc 1 242 29 view .LVU170
 480 006e 0325     		movs	r5, #3
 481              	.LVL34:
 240:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 482              		.loc 1 240 5 view .LVU171
 483 0070 43F04003 		orr	r3, r3, #64
 484 0074 C360     		str	r3, [r0, #12]
 242:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 485              		.loc 1 242 5 is_stmt 1 view .LVU172
 242:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 486              		.loc 1 242 29 is_stmt 0 view .LVU173
 487 0076 0565     		str	r5, [r0, #80]
 245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 488              		.loc 1 245 5 is_stmt 1 view .LVU174
 245:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 489              		.loc 1 245 18 is_stmt 0 view .LVU175
 490 0078 2263     		str	r2, [r4, #48]
 491              		.loc 1 248 5 is_stmt 1 view .LVU176
 492              		.loc 1 248 18 is_stmt 0 view .LVU177
 493 007a FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 494              	.LVL35:
 249:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     if (errorstate != HAL_SD_ERROR_NONE)
 495              		.loc 1 249 5 is_stmt 1 view .LVU178
 496              		.loc 1 249 8 is_stmt 0 view .LVU179
 497 007e B8B1     		cbz	r0, .L33
 250:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     {
 251:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       hsd->State = HAL_SD_STATE_READY;
 498              		.loc 1 251 7 is_stmt 1 view .LVU180
 499              		.loc 1 251 18 is_stmt 0 view .LVU181
 500 0080 0123     		movs	r3, #1
 501 0082 84F83430 		strb	r3, [r4, #52]
 252:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       hsd->ErrorCode |= errorstate;
 502              		.loc 1 252 7 is_stmt 1 view .LVU182
 503              		.loc 1 252 22 is_stmt 0 view .LVU183
 504 0086 A36B     		ldr	r3, [r4, #56]
 505 0088 1843     		orrs	r0, r0, r3
 506              	.LVL36:
 507              		.loc 1 252 22 view .LVU184
 508 008a A063     		str	r0, [r4, #56]
 253:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 509              		.loc 1 253 7 is_stmt 1 view .LVU185
 510              		.loc 1 253 14 is_stmt 0 view .LVU186
 511 008c 03E0     		b	.L27
 512              	.LVL37:
 513              	.L42:
 207:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 514              		.loc 1 207 7 is_stmt 1 view .LVU187
 207:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 515              		.loc 1 207 22 is_stmt 0 view .LVU188
 516 008e 836B     		ldr	r3, [r0, #56]
 517 0090 43F00073 		orr	r3, r3, #33554432
ARM GAS  /tmp/ccaq5c0B.s 			page 16


 518 0094 8363     		str	r3, [r0, #56]
 208:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 519              		.loc 1 208 7 is_stmt 1 view .LVU189
 520              	.LVL38:
 521              	.L27:
 254:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 255:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 256:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     __HAL_SD_ENABLE_IT(hsd, (SDMMC_IT_DCRCFAIL | SDMMC_IT_DTIMEOUT | SDMMC_IT_TXUNDERR | SDMMC_IT_D
 257:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****                              SDMMC_IT_IDMABTC));
 258:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 259:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     return HAL_OK;
 260:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 261:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   else
 262:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   {
 263:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     return HAL_BUSY;
 264:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 265:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** }
 522              		.loc 1 265 1 is_stmt 0 view .LVU190
 523 0096 3046     		mov	r0, r6
 524 0098 07B0     		add	sp, sp, #28
 525              	.LCFI14:
 526              		.cfi_remember_state
 527              		.cfi_def_cfa_offset 20
 528              		@ sp needed
 529 009a F0BD     		pop	{r4, r5, r6, r7, pc}
 530              	.LVL39:
 531              	.L29:
 532              	.LCFI15:
 533              		.cfi_restore_state
 215:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 534              		.loc 1 215 7 is_stmt 1 view .LVU191
 215:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 535              		.loc 1 215 22 is_stmt 0 view .LVU192
 536 009c 4FF00073 		mov	r3, #33554432
 537              		.loc 1 265 1 view .LVU193
 538 00a0 3046     		mov	r0, r6
 215:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****       return HAL_ERROR;
 539              		.loc 1 215 22 view .LVU194
 540 00a2 A363     		str	r3, [r4, #56]
 216:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     }
 541              		.loc 1 216 7 is_stmt 1 view .LVU195
 542              		.loc 1 265 1 is_stmt 0 view .LVU196
 543 00a4 07B0     		add	sp, sp, #28
 544              	.LCFI16:
 545              		.cfi_remember_state
 546              		.cfi_def_cfa_offset 20
 547              		@ sp needed
 548 00a6 F0BD     		pop	{r4, r5, r6, r7, pc}
 549              	.LVL40:
 550              	.L34:
 551              	.LCFI17:
 552              		.cfi_restore_state
 263:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 553              		.loc 1 263 12 view .LVU197
 554 00a8 0226     		movs	r6, #2
 555              		.loc 1 265 1 view .LVU198
 556 00aa 3046     		mov	r0, r6
ARM GAS  /tmp/ccaq5c0B.s 			page 17


 557              	.LVL41:
 558              		.loc 1 265 1 view .LVU199
 559 00ac 07B0     		add	sp, sp, #28
 560              	.LCFI18:
 561              		.cfi_remember_state
 562              		.cfi_def_cfa_offset 20
 563              		@ sp needed
 564 00ae F0BD     		pop	{r4, r5, r6, r7, pc}
 565              	.LVL42:
 566              	.L33:
 567              	.LCFI19:
 568              		.cfi_restore_state
 256:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****                              SDMMC_IT_IDMABTC));
 569              		.loc 1 256 5 is_stmt 1 view .LVU200
 570 00b0 2268     		ldr	r2, [r4]
 259:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 571              		.loc 1 259 12 is_stmt 0 view .LVU201
 572 00b2 0646     		mov	r6, r0
 256:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****                              SDMMC_IT_IDMABTC));
 573              		.loc 1 256 5 view .LVU202
 574 00b4 024B     		ldr	r3, .L43
 575 00b6 D16B     		ldr	r1, [r2, #60]
 576 00b8 0B43     		orrs	r3, r3, r1
 577 00ba D363     		str	r3, [r2, #60]
 259:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 578              		.loc 1 259 5 is_stmt 1 view .LVU203
 259:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 579              		.loc 1 259 12 is_stmt 0 view .LVU204
 580 00bc EBE7     		b	.L27
 581              	.L44:
 582 00be 00BF     		.align	2
 583              	.L43:
 584 00c0 1A010010 		.word	268435738
 585              		.cfi_endproc
 586              	.LFE333:
 588              		.section	.text.HAL_SDEx_ChangeDMABuffer,"ax",%progbits
 589              		.align	1
 590              		.p2align 2,,3
 591              		.global	HAL_SDEx_ChangeDMABuffer
 592              		.syntax unified
 593              		.thumb
 594              		.thumb_func
 595              		.fpu fpv5-d16
 597              	HAL_SDEx_ChangeDMABuffer:
 598              	.LVL43:
 599              	.LFB334:
 266:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 267:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 268:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** /**
 269:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @brief  Change the DMA Buffer0 or Buffer1 address on the fly.
 270:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  hsd:           pointer to a SD_HandleTypeDef structure.
 271:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  Buffer:        the buffer to be changed, This parameter can be one of
 272:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *                        the following values: SD_DMA_BUFFER0 or SD_DMA_BUFFER1
 273:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @param  pDataBuffer:   The new address
 274:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @note   The BUFFER0 address can be changed only when the current transfer use
 275:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *         BUFFER1 and the BUFFER1 address can be changed only when the current
 276:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   *         transfer use BUFFER0.
ARM GAS  /tmp/ccaq5c0B.s 			page 18


 277:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   * @retval HAL status
 278:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   */
 279:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** HAL_StatusTypeDef HAL_SDEx_ChangeDMABuffer(SD_HandleTypeDef *hsd, HAL_SDEx_DMABuffer_MemoryTypeDef 
 280:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****                                            uint32_t *pDataBuffer)
 281:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** {
 600              		.loc 1 281 1 is_stmt 1 view -0
 601              		.cfi_startproc
 602              		@ args = 0, pretend = 0, frame = 0
 603              		@ frame_needed = 0, uses_anonymous_args = 0
 604              		@ link register save eliminated.
 282:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   if (Buffer == SD_DMA_BUFFER0)
 605              		.loc 1 282 3 view .LVU206
 283:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   {
 284:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* change the buffer0 address */
 285:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMABASE0 = (uint32_t)pDataBuffer;
 606              		.loc 1 285 8 is_stmt 0 view .LVU207
 607 0000 0368     		ldr	r3, [r0]
 282:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   if (Buffer == SD_DMA_BUFFER0)
 608              		.loc 1 282 6 view .LVU208
 609 0002 11B9     		cbnz	r1, .L46
 610              		.loc 1 285 5 is_stmt 1 view .LVU209
 286:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 287:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   else
 288:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   {
 289:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     /* change the memory1 address */
 290:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****     hsd->Instance->IDMABASE1 = (uint32_t)pDataBuffer;
 291:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 292:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** 
 293:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   return HAL_OK;
 294:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** }
 611              		.loc 1 294 1 is_stmt 0 view .LVU210
 612 0004 0020     		movs	r0, #0
 613              	.LVL44:
 285:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 614              		.loc 1 285 30 view .LVU211
 615 0006 9A65     		str	r2, [r3, #88]
 293:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** }
 616              		.loc 1 293 3 is_stmt 1 view .LVU212
 617              		.loc 1 294 1 is_stmt 0 view .LVU213
 618 0008 7047     		bx	lr
 619              	.LVL45:
 620              	.L46:
 290:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 621              		.loc 1 290 5 is_stmt 1 view .LVU214
 622              		.loc 1 294 1 is_stmt 0 view .LVU215
 623 000a 0020     		movs	r0, #0
 624              	.LVL46:
 290:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c ****   }
 625              		.loc 1 290 30 view .LVU216
 626 000c DA65     		str	r2, [r3, #92]
 293:./Libraries/STM32H7xx_HAL_Driver/Src/stm32h7xx_hal_sd_ex.c **** }
 627              		.loc 1 293 3 is_stmt 1 view .LVU217
 628              		.loc 1 294 1 is_stmt 0 view .LVU218
 629 000e 7047     		bx	lr
 630              		.cfi_endproc
 631              	.LFE334:
 633              		.text
ARM GAS  /tmp/ccaq5c0B.s 			page 19


 634              	.Letext0:
 635              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 636              		.file 3 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 637              		.file 4 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 638              		.file 5 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/stm32h747xx.h"
 639              		.file 6 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 640              		.file 7 "/usr/include/newlib/sys/_types.h"
 641              		.file 8 "/usr/include/newlib/sys/reent.h"
 642              		.file 9 "/usr/include/newlib/sys/lock.h"
 643              		.file 10 "/usr/include/newlib/math.h"
 644              		.file 11 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 645              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 646              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_ll_sdmmc.h"
 647              		.file 14 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_sd.h"
 648              		.file 15 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_sd_ex.h"
 649              		.file 16 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 650              		.file 17 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
ARM GAS  /tmp/ccaq5c0B.s 			page 20


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32h7xx_hal_sd_ex.c
     /tmp/ccaq5c0B.s:17     .text.HAL_SDEx_ConfigDMAMultiBuffer:0000000000000000 $t
     /tmp/ccaq5c0B.s:26     .text.HAL_SDEx_ConfigDMAMultiBuffer:0000000000000000 HAL_SDEx_ConfigDMAMultiBuffer
     /tmp/ccaq5c0B.s:88     .text.HAL_SDEx_ReadBlocksDMAMultiBuffer:0000000000000000 $t
     /tmp/ccaq5c0B.s:96     .text.HAL_SDEx_ReadBlocksDMAMultiBuffer:0000000000000000 HAL_SDEx_ReadBlocksDMAMultiBuffer
     /tmp/ccaq5c0B.s:340    .text.HAL_SDEx_ReadBlocksDMAMultiBuffer:00000000000000d4 $d
     /tmp/ccaq5c0B.s:346    .text.HAL_SDEx_WriteBlocksDMAMultiBuffer:0000000000000000 $t
     /tmp/ccaq5c0B.s:354    .text.HAL_SDEx_WriteBlocksDMAMultiBuffer:0000000000000000 HAL_SDEx_WriteBlocksDMAMultiBuffer
     /tmp/ccaq5c0B.s:584    .text.HAL_SDEx_WriteBlocksDMAMultiBuffer:00000000000000c0 $d
     /tmp/ccaq5c0B.s:589    .text.HAL_SDEx_ChangeDMABuffer:0000000000000000 $t
     /tmp/ccaq5c0B.s:597    .text.HAL_SDEx_ChangeDMABuffer:0000000000000000 HAL_SDEx_ChangeDMABuffer

UNDEFINED SYMBOLS
SDMMC_ConfigData
SDMMC_CmdReadMultiBlock
SDMMC_CmdWriteMultiBlock
