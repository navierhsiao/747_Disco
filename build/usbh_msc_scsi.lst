ARM GAS  /tmp/ccODvP2T.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"usbh_msc_scsi.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.USBH_MSC_SCSI_TestUnitReady,"ax",%progbits
  17              		.align	1
  18              		.global	USBH_MSC_SCSI_TestUnitReady
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	USBH_MSC_SCSI_TestUnitReady:
  26              	.LFB338:
  27              		.file 1 "./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c"
   1:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
   2:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   ******************************************************************************
   3:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @file    usbh_msc_scsi.c
   4:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @author  MCD Application Team
   5:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief   This file implements the SCSI commands
   6:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   ******************************************************************************
   7:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @attention
   8:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *
   9:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * <h2><center>&copy; Copyright (c) 2015 STMicroelectronics.
  10:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * All rights reserved.</center></h2>
  11:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *
  12:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * This software component is licensed by ST under Ultimate Liberty license
  13:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  14:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * the License. You may obtain a copy of the License at:
  15:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *                      www.st.com/SLA0044
  16:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *
  17:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   ******************************************************************************
  18:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  19:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  20:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /* BSPDependencies
  21:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** - "stm32xxxxx_{eval}{discovery}{nucleo_144}.c"
  22:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** - "stm32xxxxx_{eval}{discovery}_io.c"
  23:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** - "stm32xxxxx_{eval}{discovery}{adafruit}_lcd.c"
  24:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** - "stm32xxxxx_{eval}{discovery}_sdram.c"
  25:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** EndBSPDependencies */
  26:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  27:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /* Includes ------------------------------------------------------------------*/
  28:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** #include "usbh_msc.h"
  29:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** #include "usbh_msc_scsi.h"
  30:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** #include "usbh_msc_bot.h"
  31:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
ARM GAS  /tmp/ccODvP2T.s 			page 2


  32:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  33:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @addtogroup USBH_LIB
  34:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  35:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  36:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  37:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @addtogroup USBH_CLASS
  38:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  39:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  40:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  41:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @addtogroup USBH_MSC_CLASS
  42:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  43:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  44:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  45:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI
  46:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief    This file includes the mass storage related functions
  47:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  48:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  49:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  50:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  51:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Private_TypesDefinitions
  52:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  53:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  54:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  55:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
  56:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @}
  57:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  58:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  59:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Private_Defines
  60:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  61:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  62:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
  63:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @}
  64:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  65:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  66:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Private_Macros
  67:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  68:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  69:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
  70:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @}
  71:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  72:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  73:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  74:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Private_FunctionPrototypes
  75:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  76:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  77:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
  78:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @}
  79:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  80:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  81:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  82:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Exported_Variables
  83:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  84:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  85:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  86:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
  87:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @}
  88:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
ARM GAS  /tmp/ccODvP2T.s 			page 3


  89:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  90:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  91:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /** @defgroup USBH_MSC_SCSI_Private_Functions
  92:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @{
  93:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
  94:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  95:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  96:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
  97:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_TestUnitReady
  98:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue TestUnitReady command.
  99:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 100:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 101:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 102:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 103:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_TestUnitReady(USBH_HandleTypeDef *phost,
 104:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                                uint8_t lun)
 105:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
  28              		.loc 1 105 1
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 16
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 80B5     		push	{r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 84B0     		sub	sp, sp, #16
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 24
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 7860     		str	r0, [r7, #4]
  44 0008 0B46     		mov	r3, r1
  45 000a FB70     		strb	r3, [r7, #3]
 106:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef    error = USBH_FAIL ;
  46              		.loc 1 106 25
  47 000c 0223     		movs	r3, #2
  48 000e FB73     		strb	r3, [r7, #15]
 107:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
  49              		.loc 1 107 62
  50 0010 7B68     		ldr	r3, [r7, #4]
  51 0012 D3F87C34 		ldr	r3, [r3, #1148]
  52              		.loc 1 107 22
  53 0016 DB69     		ldr	r3, [r3, #28]
  54 0018 BB60     		str	r3, [r7, #8]
 108:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 109:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch (MSC_Handle->hbot.cmd_state)
  55              		.loc 1 109 27
  56 001a BB68     		ldr	r3, [r7, #8]
  57 001c 93F85230 		ldrb	r3, [r3, #82]	@ zero_extendqisi2
  58              		.loc 1 109 3
  59 0020 012B     		cmp	r3, #1
  60 0022 02D0     		beq	.L2
  61 0024 022B     		cmp	r3, #2
  62 0026 21D0     		beq	.L3
 110:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
ARM GAS  /tmp/ccODvP2T.s 			page 4


 111:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_SEND:
 112:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 113:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*Prepare the CBW and relevent field*/
 114:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.DataTransferLength = DATA_LEN_MODE_TEST_UNIT_READY;
 115:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 116:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 117:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 118:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_CB_LENGTH);
 119:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_TEST_UNIT_READY;
 120:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 121:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.state = BOT_SEND_CBW;
 122:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 123:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 124:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 125:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 126:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_WAIT:
 127:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_MSC_BOT_Process(phost, lun);
 128:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 129:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 130:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     default:
 131:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
  63              		.loc 1 131 7
  64 0028 28E0     		b	.L5
  65              	.L2:
 114:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
  66              		.loc 1 114 53
  67 002a BB68     		ldr	r3, [r7, #8]
  68 002c 0022     		movs	r2, #0
  69 002e DA65     		str	r2, [r3, #92]
 115:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
  70              		.loc 1 115 40
  71 0030 BB68     		ldr	r3, [r7, #8]
  72 0032 0022     		movs	r2, #0
  73 0034 83F86020 		strb	r2, [r3, #96]
 116:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  74              		.loc 1 116 43
  75 0038 BB68     		ldr	r3, [r7, #8]
  76 003a 0A22     		movs	r2, #10
  77 003c 83F86220 		strb	r2, [r3, #98]
 118:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_TEST_UNIT_READY;
  78              		.loc 1 118 45
  79 0040 BB68     		ldr	r3, [r7, #8]
  80 0042 6333     		adds	r3, r3, #99
 118:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_TEST_UNIT_READY;
  81              		.loc 1 118 7
  82 0044 1022     		movs	r2, #16
  83 0046 0021     		movs	r1, #0
  84 0048 1846     		mov	r0, r3
  85 004a FFF7FEFF 		bl	memset
 119:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
  86              		.loc 1 119 41
  87 004e BB68     		ldr	r3, [r7, #8]
  88 0050 0022     		movs	r2, #0
  89 0052 83F86320 		strb	r2, [r3, #99]
 121:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
  90              		.loc 1 121 30
  91 0056 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccODvP2T.s 			page 5


  92 0058 0122     		movs	r2, #1
  93 005a 83F85020 		strb	r2, [r3, #80]
 122:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
  94              		.loc 1 122 34
  95 005e BB68     		ldr	r3, [r7, #8]
  96 0060 0222     		movs	r2, #2
  97 0062 83F85220 		strb	r2, [r3, #82]
 123:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
  98              		.loc 1 123 13
  99 0066 0123     		movs	r3, #1
 100 0068 FB73     		strb	r3, [r7, #15]
 124:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 101              		.loc 1 124 7
 102 006a 07E0     		b	.L5
 103              	.L3:
 127:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 104              		.loc 1 127 15
 105 006c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 106 006e 1946     		mov	r1, r3
 107 0070 7868     		ldr	r0, [r7, #4]
 108 0072 FFF7FEFF 		bl	USBH_MSC_BOT_Process
 109 0076 0346     		mov	r3, r0
 110 0078 FB73     		strb	r3, [r7, #15]
 128:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 111              		.loc 1 128 7
 112 007a 00BF     		nop
 113              	.L5:
 132:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 133:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 134:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 114              		.loc 1 134 10
 115 007c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 135:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
 116              		.loc 1 135 1
 117 007e 1846     		mov	r0, r3
 118 0080 1037     		adds	r7, r7, #16
 119              	.LCFI3:
 120              		.cfi_def_cfa_offset 8
 121 0082 BD46     		mov	sp, r7
 122              	.LCFI4:
 123              		.cfi_def_cfa_register 13
 124              		@ sp needed
 125 0084 80BD     		pop	{r7, pc}
 126              		.cfi_endproc
 127              	.LFE338:
 129              		.section	.text.USBH_MSC_SCSI_ReadCapacity,"ax",%progbits
 130              		.align	1
 131              		.global	USBH_MSC_SCSI_ReadCapacity
 132              		.syntax unified
 133              		.thumb
 134              		.thumb_func
 135              		.fpu fpv5-d16
 137              	USBH_MSC_SCSI_ReadCapacity:
 138              	.LFB339:
 136:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 137:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 138:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_ReadCapacity
ARM GAS  /tmp/ccODvP2T.s 			page 6


 139:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue Read Capacity command.
 140:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 141:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 142:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  capacity: pointer to the capacity structure
 143:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 144:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 145:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_ReadCapacity(USBH_HandleTypeDef *phost,
 146:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                               uint8_t lun,
 147:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                               SCSI_CapacityTypeDef *capacity)
 148:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
 139              		.loc 1 148 1
 140              		.cfi_startproc
 141              		@ args = 0, pretend = 0, frame = 24
 142              		@ frame_needed = 1, uses_anonymous_args = 0
 143 0000 80B5     		push	{r7, lr}
 144              	.LCFI5:
 145              		.cfi_def_cfa_offset 8
 146              		.cfi_offset 7, -8
 147              		.cfi_offset 14, -4
 148 0002 86B0     		sub	sp, sp, #24
 149              	.LCFI6:
 150              		.cfi_def_cfa_offset 32
 151 0004 00AF     		add	r7, sp, #0
 152              	.LCFI7:
 153              		.cfi_def_cfa_register 7
 154 0006 F860     		str	r0, [r7, #12]
 155 0008 0B46     		mov	r3, r1
 156 000a 7A60     		str	r2, [r7, #4]
 157 000c FB72     		strb	r3, [r7, #11]
 149:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef    error = USBH_BUSY ;
 158              		.loc 1 149 25
 159 000e 0123     		movs	r3, #1
 160 0010 FB75     		strb	r3, [r7, #23]
 150:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 161              		.loc 1 150 62
 162 0012 FB68     		ldr	r3, [r7, #12]
 163 0014 D3F87C34 		ldr	r3, [r3, #1148]
 164              		.loc 1 150 22
 165 0018 DB69     		ldr	r3, [r3, #28]
 166 001a 3B61     		str	r3, [r7, #16]
 151:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 152:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch (MSC_Handle->hbot.cmd_state)
 167              		.loc 1 152 27
 168 001c 3B69     		ldr	r3, [r7, #16]
 169 001e 93F85230 		ldrb	r3, [r3, #82]	@ zero_extendqisi2
 170              		.loc 1 152 3
 171 0022 012B     		cmp	r3, #1
 172 0024 02D0     		beq	.L8
 173 0026 022B     		cmp	r3, #2
 174 0028 27D0     		beq	.L9
 153:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 154:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_SEND:
 155:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 156:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*Prepare the CBW and relevent field*/
 157:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.DataTransferLength = DATA_LEN_READ_CAPACITY10;
 158:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 159:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
ARM GAS  /tmp/ccODvP2T.s 			page 7


 160:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 161:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_CB_LENGTH);
 162:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_READ_CAPACITY10;
 163:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 164:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.state = BOT_SEND_CBW;
 165:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 166:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 167:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 168:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 169:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 170:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 171:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_WAIT:
 172:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 173:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_MSC_BOT_Process(phost, lun);
 174:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 175:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       if (error == USBH_OK)
 176:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 177:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         /*assign the capacity*/
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         capacity->block_nbr = MSC_Handle->hbot.pbuf[3] | ((uint32_t)MSC_Handle->hbot.pbuf[2] << 8U)
 179:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                               ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->
 180:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 181:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         /*assign the page length*/
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         capacity->block_size = (uint16_t)(MSC_Handle->hbot.pbuf[7] | ((uint32_t)MSC_Handle->hbot.pb
 183:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 184:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 185:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 186:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     default:
 187:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 175              		.loc 1 187 7
 176 002a 5FE0     		b	.L11
 177              	.L8:
 157:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 178              		.loc 1 157 53
 179 002c 3B69     		ldr	r3, [r7, #16]
 180 002e 0822     		movs	r2, #8
 181 0030 DA65     		str	r2, [r3, #92]
 158:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 182              		.loc 1 158 40
 183 0032 3B69     		ldr	r3, [r7, #16]
 184 0034 8022     		movs	r2, #128
 185 0036 83F86020 		strb	r2, [r3, #96]
 159:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 186              		.loc 1 159 43
 187 003a 3B69     		ldr	r3, [r7, #16]
 188 003c 0A22     		movs	r2, #10
 189 003e 83F86220 		strb	r2, [r3, #98]
 161:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_READ_CAPACITY10;
 190              		.loc 1 161 45
 191 0042 3B69     		ldr	r3, [r7, #16]
 192 0044 6333     		adds	r3, r3, #99
 161:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_READ_CAPACITY10;
 193              		.loc 1 161 7
 194 0046 1022     		movs	r2, #16
 195 0048 0021     		movs	r1, #0
 196 004a 1846     		mov	r0, r3
 197 004c FFF7FEFF 		bl	memset
 162:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
ARM GAS  /tmp/ccODvP2T.s 			page 8


 198              		.loc 1 162 41
 199 0050 3B69     		ldr	r3, [r7, #16]
 200 0052 2522     		movs	r2, #37
 201 0054 83F86320 		strb	r2, [r3, #99]
 164:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 202              		.loc 1 164 30
 203 0058 3B69     		ldr	r3, [r7, #16]
 204 005a 0122     		movs	r2, #1
 205 005c 83F85020 		strb	r2, [r3, #80]
 166:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 206              		.loc 1 166 34
 207 0060 3B69     		ldr	r3, [r7, #16]
 208 0062 0222     		movs	r2, #2
 209 0064 83F85220 		strb	r2, [r3, #82]
 167:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 210              		.loc 1 167 50
 211 0068 3B69     		ldr	r3, [r7, #16]
 212 006a 03F11002 		add	r2, r3, #16
 167:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 213              		.loc 1 167 29
 214 006e 3B69     		ldr	r3, [r7, #16]
 215 0070 C3F88C20 		str	r2, [r3, #140]
 168:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 216              		.loc 1 168 13
 217 0074 0123     		movs	r3, #1
 218 0076 FB75     		strb	r3, [r7, #23]
 169:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 219              		.loc 1 169 7
 220 0078 38E0     		b	.L11
 221              	.L9:
 173:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 222              		.loc 1 173 15
 223 007a FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 224 007c 1946     		mov	r1, r3
 225 007e F868     		ldr	r0, [r7, #12]
 226 0080 FFF7FEFF 		bl	USBH_MSC_BOT_Process
 227 0084 0346     		mov	r3, r0
 228 0086 FB75     		strb	r3, [r7, #23]
 175:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 229              		.loc 1 175 10
 230 0088 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 231 008a 002B     		cmp	r3, #0
 232 008c 2DD1     		bne	.L14
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                               ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->
 233              		.loc 1 178 47
 234 008e 3B69     		ldr	r3, [r7, #16]
 235 0090 D3F88C30 		ldr	r3, [r3, #140]
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                               ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->
 236              		.loc 1 178 52
 237 0094 0333     		adds	r3, r3, #3
 238 0096 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 239 0098 1A46     		mov	r2, r3
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                               ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->
 240              		.loc 1 178 85
 241 009a 3B69     		ldr	r3, [r7, #16]
 242 009c D3F88C30 		ldr	r3, [r3, #140]
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                               ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->
ARM GAS  /tmp/ccODvP2T.s 			page 9


 243              		.loc 1 178 90
 244 00a0 0233     		adds	r3, r3, #2
 245 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                               ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->
 246              		.loc 1 178 94
 247 00a4 1B02     		lsls	r3, r3, #8
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                               ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->
 248              		.loc 1 178 56
 249 00a6 1A43     		orrs	r2, r2, r3
 179:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 250              		.loc 1 179 58
 251 00a8 3B69     		ldr	r3, [r7, #16]
 252 00aa D3F88C30 		ldr	r3, [r3, #140]
 179:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 253              		.loc 1 179 63
 254 00ae 0133     		adds	r3, r3, #1
 255 00b0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 179:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 256              		.loc 1 179 67
 257 00b2 1B04     		lsls	r3, r3, #16
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                               ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->
 258              		.loc 1 178 101
 259 00b4 1A43     		orrs	r2, r2, r3
 179:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 260              		.loc 1 179 104
 261 00b6 3B69     		ldr	r3, [r7, #16]
 262 00b8 D3F88C30 		ldr	r3, [r3, #140]
 179:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 263              		.loc 1 179 109
 264 00bc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 179:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 265              		.loc 1 179 113
 266 00be 1B06     		lsls	r3, r3, #24
 179:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 267              		.loc 1 179 75
 268 00c0 1A43     		orrs	r2, r2, r3
 178:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                               ((uint32_t)MSC_Handle->hbot.pbuf[1] << 16U) | ((uint32_t)MSC_Handle->
 269              		.loc 1 178 29
 270 00c2 7B68     		ldr	r3, [r7, #4]
 271 00c4 1A60     		str	r2, [r3]
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 272              		.loc 1 182 59
 273 00c6 3B69     		ldr	r3, [r7, #16]
 274 00c8 D3F88C30 		ldr	r3, [r3, #140]
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 275              		.loc 1 182 64
 276 00cc 0733     		adds	r3, r3, #7
 277 00ce 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 278 00d0 9AB2     		uxth	r2, r3
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 279              		.loc 1 182 97
 280 00d2 3B69     		ldr	r3, [r7, #16]
 281 00d4 D3F88C30 		ldr	r3, [r3, #140]
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 282              		.loc 1 182 102
 283 00d8 0633     		adds	r3, r3, #6
 284 00da 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccODvP2T.s 			page 10


 285 00dc 9BB2     		uxth	r3, r3
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 286              		.loc 1 182 106
 287 00de 1B02     		lsls	r3, r3, #8
 288 00e0 9BB2     		uxth	r3, r3
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 289              		.loc 1 182 32
 290 00e2 1343     		orrs	r3, r3, r2
 291 00e4 9AB2     		uxth	r2, r3
 182:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 292              		.loc 1 182 30
 293 00e6 7B68     		ldr	r3, [r7, #4]
 294 00e8 9A80     		strh	r2, [r3, #4]	@ movhi
 295              	.L14:
 184:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 296              		.loc 1 184 7
 297 00ea 00BF     		nop
 298              	.L11:
 188:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 189:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 190:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 299              		.loc 1 190 10
 300 00ec FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 191:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
 301              		.loc 1 191 1
 302 00ee 1846     		mov	r0, r3
 303 00f0 1837     		adds	r7, r7, #24
 304              	.LCFI8:
 305              		.cfi_def_cfa_offset 8
 306 00f2 BD46     		mov	sp, r7
 307              	.LCFI9:
 308              		.cfi_def_cfa_register 13
 309              		@ sp needed
 310 00f4 80BD     		pop	{r7, pc}
 311              		.cfi_endproc
 312              	.LFE339:
 314              		.section	.text.USBH_MSC_SCSI_Inquiry,"ax",%progbits
 315              		.align	1
 316              		.global	USBH_MSC_SCSI_Inquiry
 317              		.syntax unified
 318              		.thumb
 319              		.thumb_func
 320              		.fpu fpv5-d16
 322              	USBH_MSC_SCSI_Inquiry:
 323              	.LFB340:
 192:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 193:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 194:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_Inquiry
 195:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue Inquiry command.
 196:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 197:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 198:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  capacity: pointer to the inquiry structure
 199:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 200:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 201:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_Inquiry(USBH_HandleTypeDef *phost, uint8_t lun,
 202:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                          SCSI_StdInquiryDataTypeDef *inquiry)
 203:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
ARM GAS  /tmp/ccODvP2T.s 			page 11


 324              		.loc 1 203 1
 325              		.cfi_startproc
 326              		@ args = 0, pretend = 0, frame = 24
 327              		@ frame_needed = 1, uses_anonymous_args = 0
 328 0000 80B5     		push	{r7, lr}
 329              	.LCFI10:
 330              		.cfi_def_cfa_offset 8
 331              		.cfi_offset 7, -8
 332              		.cfi_offset 14, -4
 333 0002 86B0     		sub	sp, sp, #24
 334              	.LCFI11:
 335              		.cfi_def_cfa_offset 32
 336 0004 00AF     		add	r7, sp, #0
 337              	.LCFI12:
 338              		.cfi_def_cfa_register 7
 339 0006 F860     		str	r0, [r7, #12]
 340 0008 0B46     		mov	r3, r1
 341 000a 7A60     		str	r2, [r7, #4]
 342 000c FB72     		strb	r3, [r7, #11]
 204:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef error = USBH_FAIL;
 343              		.loc 1 204 22
 344 000e 0223     		movs	r3, #2
 345 0010 FB75     		strb	r3, [r7, #23]
 205:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 346              		.loc 1 205 62
 347 0012 FB68     		ldr	r3, [r7, #12]
 348 0014 D3F87C34 		ldr	r3, [r3, #1148]
 349              		.loc 1 205 22
 350 0018 DB69     		ldr	r3, [r3, #28]
 351 001a 3B61     		str	r3, [r7, #16]
 206:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 207:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch (MSC_Handle->hbot.cmd_state)
 352              		.loc 1 207 27
 353 001c 3B69     		ldr	r3, [r7, #16]
 354 001e 93F85230 		ldrb	r3, [r3, #82]	@ zero_extendqisi2
 355              		.loc 1 207 3
 356 0022 012B     		cmp	r3, #1
 357 0024 02D0     		beq	.L16
 358 0026 022B     		cmp	r3, #2
 359 0028 3DD0     		beq	.L17
 208:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 209:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_SEND:
 210:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 211:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*Prepare the CBW and relevent field*/
 212:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.DataTransferLength = DATA_LEN_INQUIRY;
 213:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 214:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 215:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 216:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_LENGTH);
 217:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_INQUIRY;
 218:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 219:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 220:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[3]  = 0U;
 221:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[4]  = 0x24U;
 222:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[5]  = 0U;
 223:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 224:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.state = BOT_SEND_CBW;
ARM GAS  /tmp/ccODvP2T.s 			page 12


 225:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 226:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 227:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 228:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 229:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 230:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 231:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_WAIT:
 232:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 233:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_MSC_BOT_Process(phost, lun);
 234:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 235:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       if (error == USBH_OK)
 236:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 237:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memset(inquiry, 0, sizeof(SCSI_StdInquiryDataTypeDef));
 238:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         /*assign Inquiry Data */
 239:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         inquiry->DeviceType = MSC_Handle->hbot.pbuf[0] & 0x1FU;
 240:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 241:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         if (((uint32_t)MSC_Handle->hbot.pbuf[1] & 0x80U) == 0x80U)
 243:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         {
 244:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****           inquiry->RemovableMedia = 1U;
 245:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         }
 246:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         else
 247:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         {
 248:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****           inquiry->RemovableMedia = 0U;
 249:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         }
 250:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 251:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->vendor_id, &MSC_Handle->hbot.pbuf[8], 8U);
 252:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->product_id, &MSC_Handle->hbot.pbuf[16], 16U);
 253:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->revision_id, &MSC_Handle->hbot.pbuf[32], 4U);
 254:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 255:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 256:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 257:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     default:
 258:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 360              		.loc 1 258 7
 361 002a 89E0     		b	.L19
 362              	.L16:
 212:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 363              		.loc 1 212 53
 364 002c 3B69     		ldr	r3, [r7, #16]
 365 002e 2422     		movs	r2, #36
 366 0030 DA65     		str	r2, [r3, #92]
 213:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 367              		.loc 1 213 40
 368 0032 3B69     		ldr	r3, [r7, #16]
 369 0034 8022     		movs	r2, #128
 370 0036 83F86020 		strb	r2, [r3, #96]
 214:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 371              		.loc 1 214 43
 372 003a 3B69     		ldr	r3, [r7, #16]
 373 003c 0A22     		movs	r2, #10
 374 003e 83F86220 		strb	r2, [r3, #98]
 216:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_INQUIRY;
 375              		.loc 1 216 45
 376 0042 3B69     		ldr	r3, [r7, #16]
 377 0044 6333     		adds	r3, r3, #99
 216:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_INQUIRY;
ARM GAS  /tmp/ccODvP2T.s 			page 13


 378              		.loc 1 216 7
 379 0046 0A22     		movs	r2, #10
 380 0048 0021     		movs	r1, #0
 381 004a 1846     		mov	r0, r3
 382 004c FFF7FEFF 		bl	memset
 217:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 383              		.loc 1 217 41
 384 0050 3B69     		ldr	r3, [r7, #16]
 385 0052 1222     		movs	r2, #18
 386 0054 83F86320 		strb	r2, [r3, #99]
 218:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 387              		.loc 1 218 48
 388 0058 FB7A     		ldrb	r3, [r7, #11]
 389 005a 5B01     		lsls	r3, r3, #5
 390 005c DAB2     		uxtb	r2, r3
 218:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 391              		.loc 1 218 41
 392 005e 3B69     		ldr	r3, [r7, #16]
 393 0060 83F86420 		strb	r2, [r3, #100]
 219:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[3]  = 0U;
 394              		.loc 1 219 41
 395 0064 3B69     		ldr	r3, [r7, #16]
 396 0066 0022     		movs	r2, #0
 397 0068 83F86520 		strb	r2, [r3, #101]
 220:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[4]  = 0x24U;
 398              		.loc 1 220 41
 399 006c 3B69     		ldr	r3, [r7, #16]
 400 006e 0022     		movs	r2, #0
 401 0070 83F86620 		strb	r2, [r3, #102]
 221:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[5]  = 0U;
 402              		.loc 1 221 41
 403 0074 3B69     		ldr	r3, [r7, #16]
 404 0076 2422     		movs	r2, #36
 405 0078 83F86720 		strb	r2, [r3, #103]
 222:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 406              		.loc 1 222 41
 407 007c 3B69     		ldr	r3, [r7, #16]
 408 007e 0022     		movs	r2, #0
 409 0080 83F86820 		strb	r2, [r3, #104]
 224:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 410              		.loc 1 224 30
 411 0084 3B69     		ldr	r3, [r7, #16]
 412 0086 0122     		movs	r2, #1
 413 0088 83F85020 		strb	r2, [r3, #80]
 226:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 414              		.loc 1 226 34
 415 008c 3B69     		ldr	r3, [r7, #16]
 416 008e 0222     		movs	r2, #2
 417 0090 83F85220 		strb	r2, [r3, #82]
 227:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 418              		.loc 1 227 50
 419 0094 3B69     		ldr	r3, [r7, #16]
 420 0096 03F11002 		add	r2, r3, #16
 227:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 421              		.loc 1 227 29
 422 009a 3B69     		ldr	r3, [r7, #16]
 423 009c C3F88C20 		str	r2, [r3, #140]
ARM GAS  /tmp/ccODvP2T.s 			page 14


 228:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 424              		.loc 1 228 13
 425 00a0 0123     		movs	r3, #1
 426 00a2 FB75     		strb	r3, [r7, #23]
 229:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 427              		.loc 1 229 7
 428 00a4 4CE0     		b	.L19
 429              	.L17:
 233:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 430              		.loc 1 233 15
 431 00a6 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 432 00a8 1946     		mov	r1, r3
 433 00aa F868     		ldr	r0, [r7, #12]
 434 00ac FFF7FEFF 		bl	USBH_MSC_BOT_Process
 435 00b0 0346     		mov	r3, r0
 436 00b2 FB75     		strb	r3, [r7, #23]
 235:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 437              		.loc 1 235 10
 438 00b4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 439 00b6 002B     		cmp	r3, #0
 440 00b8 41D1     		bne	.L24
 237:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         /*assign Inquiry Data */
 441              		.loc 1 237 9
 442 00ba 2222     		movs	r2, #34
 443 00bc 0021     		movs	r1, #0
 444 00be 7868     		ldr	r0, [r7, #4]
 445 00c0 FFF7FEFF 		bl	memset
 239:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 446              		.loc 1 239 47
 447 00c4 3B69     		ldr	r3, [r7, #16]
 448 00c6 D3F88C30 		ldr	r3, [r3, #140]
 239:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 449              		.loc 1 239 52
 450 00ca 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 239:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 451              		.loc 1 239 56
 452 00cc 03F01F03 		and	r3, r3, #31
 453 00d0 DAB2     		uxtb	r2, r3
 239:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         inquiry->PeripheralQualifier = MSC_Handle->hbot.pbuf[0] >> 5U;
 454              		.loc 1 239 29
 455 00d2 7B68     		ldr	r3, [r7, #4]
 456 00d4 5A70     		strb	r2, [r3, #1]
 240:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 457              		.loc 1 240 56
 458 00d6 3B69     		ldr	r3, [r7, #16]
 459 00d8 D3F88C30 		ldr	r3, [r3, #140]
 240:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 460              		.loc 1 240 61
 461 00dc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 240:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 462              		.loc 1 240 38
 463 00de 5B09     		lsrs	r3, r3, #5
 464 00e0 DAB2     		uxtb	r2, r3
 465 00e2 7B68     		ldr	r3, [r7, #4]
 466 00e4 1A70     		strb	r2, [r3]
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         {
 467              		.loc 1 242 40
ARM GAS  /tmp/ccODvP2T.s 			page 15


 468 00e6 3B69     		ldr	r3, [r7, #16]
 469 00e8 D3F88C30 		ldr	r3, [r3, #140]
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         {
 470              		.loc 1 242 45
 471 00ec 0133     		adds	r3, r3, #1
 472 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         {
 473              		.loc 1 242 58
 474 00f0 5BB2     		sxtb	r3, r3
 242:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         {
 475              		.loc 1 242 12
 476 00f2 002B     		cmp	r3, #0
 477 00f4 03DA     		bge	.L21
 244:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         }
 478              		.loc 1 244 35
 479 00f6 7B68     		ldr	r3, [r7, #4]
 480 00f8 0122     		movs	r2, #1
 481 00fa 9A70     		strb	r2, [r3, #2]
 482 00fc 02E0     		b	.L22
 483              	.L21:
 248:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         }
 484              		.loc 1 248 35
 485 00fe 7B68     		ldr	r3, [r7, #4]
 486 0100 0022     		movs	r2, #0
 487 0102 9A70     		strb	r2, [r3, #2]
 488              	.L22:
 251:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->product_id, &MSC_Handle->hbot.pbuf[16], 16U);
 489              		.loc 1 251 28
 490 0104 7B68     		ldr	r3, [r7, #4]
 491 0106 D81C     		adds	r0, r3, #3
 251:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->product_id, &MSC_Handle->hbot.pbuf[16], 16U);
 492              		.loc 1 251 58
 493 0108 3B69     		ldr	r3, [r7, #16]
 494 010a D3F88C30 		ldr	r3, [r3, #140]
 251:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->product_id, &MSC_Handle->hbot.pbuf[16], 16U);
 495              		.loc 1 251 41
 496 010e 0833     		adds	r3, r3, #8
 251:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->product_id, &MSC_Handle->hbot.pbuf[16], 16U);
 497              		.loc 1 251 9
 498 0110 0822     		movs	r2, #8
 499 0112 1946     		mov	r1, r3
 500 0114 FFF7FEFF 		bl	memcpy
 252:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->revision_id, &MSC_Handle->hbot.pbuf[32], 4U);
 501              		.loc 1 252 28
 502 0118 7B68     		ldr	r3, [r7, #4]
 503 011a 03F10C00 		add	r0, r3, #12
 252:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->revision_id, &MSC_Handle->hbot.pbuf[32], 4U);
 504              		.loc 1 252 59
 505 011e 3B69     		ldr	r3, [r7, #16]
 506 0120 D3F88C30 		ldr	r3, [r3, #140]
 252:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->revision_id, &MSC_Handle->hbot.pbuf[32], 4U);
 507              		.loc 1 252 42
 508 0124 1033     		adds	r3, r3, #16
 252:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         USBH_memcpy(inquiry->revision_id, &MSC_Handle->hbot.pbuf[32], 4U);
 509              		.loc 1 252 9
 510 0126 1022     		movs	r2, #16
 511 0128 1946     		mov	r1, r3
ARM GAS  /tmp/ccODvP2T.s 			page 16


 512 012a FFF7FEFF 		bl	memcpy
 253:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 513              		.loc 1 253 28
 514 012e 7B68     		ldr	r3, [r7, #4]
 515 0130 1D33     		adds	r3, r3, #29
 253:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 516              		.loc 1 253 60
 517 0132 3A69     		ldr	r2, [r7, #16]
 518 0134 D2F88C20 		ldr	r2, [r2, #140]
 253:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 519              		.loc 1 253 43
 520 0138 2032     		adds	r2, r2, #32
 521 013a 1268     		ldr	r2, [r2]	@ unaligned
 253:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 522              		.loc 1 253 9
 523 013c 1A60     		str	r2, [r3]	@ unaligned
 524              	.L24:
 255:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 525              		.loc 1 255 7
 526 013e 00BF     		nop
 527              	.L19:
 259:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 260:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 261:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 528              		.loc 1 261 10
 529 0140 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 262:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
 530              		.loc 1 262 1
 531 0142 1846     		mov	r0, r3
 532 0144 1837     		adds	r7, r7, #24
 533              	.LCFI13:
 534              		.cfi_def_cfa_offset 8
 535 0146 BD46     		mov	sp, r7
 536              	.LCFI14:
 537              		.cfi_def_cfa_register 13
 538              		@ sp needed
 539 0148 80BD     		pop	{r7, pc}
 540              		.cfi_endproc
 541              	.LFE340:
 543              		.section	.text.USBH_MSC_SCSI_RequestSense,"ax",%progbits
 544              		.align	1
 545              		.global	USBH_MSC_SCSI_RequestSense
 546              		.syntax unified
 547              		.thumb
 548              		.thumb_func
 549              		.fpu fpv5-d16
 551              	USBH_MSC_SCSI_RequestSense:
 552              	.LFB341:
 263:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 264:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 265:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_RequestSense
 266:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue RequestSense command.
 267:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 268:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 269:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  capacity: pointer to the sense data structure
 270:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 271:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
ARM GAS  /tmp/ccODvP2T.s 			page 17


 272:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_RequestSense(USBH_HandleTypeDef *phost,
 273:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                               uint8_t lun,
 274:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                               SCSI_SenseTypeDef *sense_data)
 275:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
 553              		.loc 1 275 1
 554              		.cfi_startproc
 555              		@ args = 0, pretend = 0, frame = 24
 556              		@ frame_needed = 1, uses_anonymous_args = 0
 557 0000 80B5     		push	{r7, lr}
 558              	.LCFI15:
 559              		.cfi_def_cfa_offset 8
 560              		.cfi_offset 7, -8
 561              		.cfi_offset 14, -4
 562 0002 86B0     		sub	sp, sp, #24
 563              	.LCFI16:
 564              		.cfi_def_cfa_offset 32
 565 0004 00AF     		add	r7, sp, #0
 566              	.LCFI17:
 567              		.cfi_def_cfa_register 7
 568 0006 F860     		str	r0, [r7, #12]
 569 0008 0B46     		mov	r3, r1
 570 000a 7A60     		str	r2, [r7, #4]
 571 000c FB72     		strb	r3, [r7, #11]
 276:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef    error = USBH_FAIL ;
 572              		.loc 1 276 25
 573 000e 0223     		movs	r3, #2
 574 0010 FB75     		strb	r3, [r7, #23]
 277:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 575              		.loc 1 277 62
 576 0012 FB68     		ldr	r3, [r7, #12]
 577 0014 D3F87C34 		ldr	r3, [r3, #1148]
 578              		.loc 1 277 22
 579 0018 DB69     		ldr	r3, [r3, #28]
 580 001a 3B61     		str	r3, [r7, #16]
 278:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 279:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch (MSC_Handle->hbot.cmd_state)
 581              		.loc 1 279 27
 582 001c 3B69     		ldr	r3, [r7, #16]
 583 001e 93F85230 		ldrb	r3, [r3, #82]	@ zero_extendqisi2
 584              		.loc 1 279 3
 585 0022 012B     		cmp	r3, #1
 586 0024 02D0     		beq	.L26
 587 0026 022B     		cmp	r3, #2
 588 0028 3DD0     		beq	.L27
 280:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 281:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_SEND:
 282:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 283:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*Prepare the CBW and relevent field*/
 284:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.DataTransferLength = DATA_LEN_REQUEST_SENSE;
 285:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 286:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 287:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 288:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_CB_LENGTH);
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_REQUEST_SENSE;
 290:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 291:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[3]  = 0U;
ARM GAS  /tmp/ccODvP2T.s 			page 18


 293:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[4]  = DATA_LEN_REQUEST_SENSE;
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[5]  = 0U;
 295:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 296:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.state = BOT_SEND_CBW;
 297:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 298:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 299:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 300:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 301:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 302:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_WAIT:
 303:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 304:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_MSC_BOT_Process(phost, lun);
 305:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 306:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       if (error == USBH_OK)
 307:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 308:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         sense_data->key  = MSC_Handle->hbot.pbuf[2] & 0x0FU;
 309:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 310:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         sense_data->ascq = MSC_Handle->hbot.pbuf[13];
 311:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 312:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 313:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 314:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     default:
 315:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 589              		.loc 1 315 7
 590 002a 5DE0     		b	.L29
 591              	.L26:
 284:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 592              		.loc 1 284 53
 593 002c 3B69     		ldr	r3, [r7, #16]
 594 002e 0E22     		movs	r2, #14
 595 0030 DA65     		str	r2, [r3, #92]
 285:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 596              		.loc 1 285 40
 597 0032 3B69     		ldr	r3, [r7, #16]
 598 0034 8022     		movs	r2, #128
 599 0036 83F86020 		strb	r2, [r3, #96]
 286:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 600              		.loc 1 286 43
 601 003a 3B69     		ldr	r3, [r7, #16]
 602 003c 0A22     		movs	r2, #10
 603 003e 83F86220 		strb	r2, [r3, #98]
 288:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_REQUEST_SENSE;
 604              		.loc 1 288 45
 605 0042 3B69     		ldr	r3, [r7, #16]
 606 0044 6333     		adds	r3, r3, #99
 288:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_REQUEST_SENSE;
 607              		.loc 1 288 7
 608 0046 1022     		movs	r2, #16
 609 0048 0021     		movs	r1, #0
 610 004a 1846     		mov	r0, r3
 611 004c FFF7FEFF 		bl	memset
 289:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[1]  = (lun << 5);
 612              		.loc 1 289 41
 613 0050 3B69     		ldr	r3, [r7, #16]
 614 0052 0322     		movs	r2, #3
 615 0054 83F86320 		strb	r2, [r3, #99]
 290:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
ARM GAS  /tmp/ccODvP2T.s 			page 19


 616              		.loc 1 290 48
 617 0058 FB7A     		ldrb	r3, [r7, #11]
 618 005a 5B01     		lsls	r3, r3, #5
 619 005c DAB2     		uxtb	r2, r3
 290:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[2]  = 0U;
 620              		.loc 1 290 41
 621 005e 3B69     		ldr	r3, [r7, #16]
 622 0060 83F86420 		strb	r2, [r3, #100]
 291:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[3]  = 0U;
 623              		.loc 1 291 41
 624 0064 3B69     		ldr	r3, [r7, #16]
 625 0066 0022     		movs	r2, #0
 626 0068 83F86520 		strb	r2, [r3, #101]
 292:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[4]  = DATA_LEN_REQUEST_SENSE;
 627              		.loc 1 292 41
 628 006c 3B69     		ldr	r3, [r7, #16]
 629 006e 0022     		movs	r2, #0
 630 0070 83F86620 		strb	r2, [r3, #102]
 293:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[5]  = 0U;
 631              		.loc 1 293 41
 632 0074 3B69     		ldr	r3, [r7, #16]
 633 0076 0E22     		movs	r2, #14
 634 0078 83F86720 		strb	r2, [r3, #103]
 294:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 635              		.loc 1 294 41
 636 007c 3B69     		ldr	r3, [r7, #16]
 637 007e 0022     		movs	r2, #0
 638 0080 83F86820 		strb	r2, [r3, #104]
 296:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 639              		.loc 1 296 30
 640 0084 3B69     		ldr	r3, [r7, #16]
 641 0086 0122     		movs	r2, #1
 642 0088 83F85020 		strb	r2, [r3, #80]
 297:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.pbuf = (uint8_t *)(void *)MSC_Handle->hbot.data;
 643              		.loc 1 297 34
 644 008c 3B69     		ldr	r3, [r7, #16]
 645 008e 0222     		movs	r2, #2
 646 0090 83F85220 		strb	r2, [r3, #82]
 298:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 647              		.loc 1 298 50
 648 0094 3B69     		ldr	r3, [r7, #16]
 649 0096 03F11002 		add	r2, r3, #16
 298:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 650              		.loc 1 298 29
 651 009a 3B69     		ldr	r3, [r7, #16]
 652 009c C3F88C20 		str	r2, [r3, #140]
 299:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 653              		.loc 1 299 13
 654 00a0 0123     		movs	r3, #1
 655 00a2 FB75     		strb	r3, [r7, #23]
 300:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 656              		.loc 1 300 7
 657 00a4 20E0     		b	.L29
 658              	.L27:
 304:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 659              		.loc 1 304 15
 660 00a6 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
ARM GAS  /tmp/ccODvP2T.s 			page 20


 661 00a8 1946     		mov	r1, r3
 662 00aa F868     		ldr	r0, [r7, #12]
 663 00ac FFF7FEFF 		bl	USBH_MSC_BOT_Process
 664 00b0 0346     		mov	r3, r0
 665 00b2 FB75     		strb	r3, [r7, #23]
 306:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       {
 666              		.loc 1 306 10
 667 00b4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 668 00b6 002B     		cmp	r3, #0
 669 00b8 15D1     		bne	.L32
 308:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 670              		.loc 1 308 44
 671 00ba 3B69     		ldr	r3, [r7, #16]
 672 00bc D3F88C30 		ldr	r3, [r3, #140]
 308:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 673              		.loc 1 308 49
 674 00c0 0233     		adds	r3, r3, #2
 675 00c2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 308:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 676              		.loc 1 308 53
 677 00c4 03F00F03 		and	r3, r3, #15
 678 00c8 DAB2     		uxtb	r2, r3
 308:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         sense_data->asc  = MSC_Handle->hbot.pbuf[12];
 679              		.loc 1 308 26
 680 00ca 7B68     		ldr	r3, [r7, #4]
 681 00cc 1A70     		strb	r2, [r3]
 309:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         sense_data->ascq = MSC_Handle->hbot.pbuf[13];
 682              		.loc 1 309 44
 683 00ce 3B69     		ldr	r3, [r7, #16]
 684 00d0 D3F88C30 		ldr	r3, [r3, #140]
 309:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****         sense_data->ascq = MSC_Handle->hbot.pbuf[13];
 685              		.loc 1 309 26
 686 00d4 1A7B     		ldrb	r2, [r3, #12]	@ zero_extendqisi2
 687 00d6 7B68     		ldr	r3, [r7, #4]
 688 00d8 5A70     		strb	r2, [r3, #1]
 310:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 689              		.loc 1 310 44
 690 00da 3B69     		ldr	r3, [r7, #16]
 691 00dc D3F88C30 		ldr	r3, [r3, #140]
 310:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       }
 692              		.loc 1 310 26
 693 00e0 5A7B     		ldrb	r2, [r3, #13]	@ zero_extendqisi2
 694 00e2 7B68     		ldr	r3, [r7, #4]
 695 00e4 9A70     		strb	r2, [r3, #2]
 696              	.L32:
 312:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 697              		.loc 1 312 7
 698 00e6 00BF     		nop
 699              	.L29:
 316:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 317:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 318:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 700              		.loc 1 318 10
 701 00e8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 319:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
 702              		.loc 1 319 1
 703 00ea 1846     		mov	r0, r3
ARM GAS  /tmp/ccODvP2T.s 			page 21


 704 00ec 1837     		adds	r7, r7, #24
 705              	.LCFI18:
 706              		.cfi_def_cfa_offset 8
 707 00ee BD46     		mov	sp, r7
 708              	.LCFI19:
 709              		.cfi_def_cfa_register 13
 710              		@ sp needed
 711 00f0 80BD     		pop	{r7, pc}
 712              		.cfi_endproc
 713              	.LFE341:
 715              		.section	.text.USBH_MSC_SCSI_Write,"ax",%progbits
 716              		.align	1
 717              		.global	USBH_MSC_SCSI_Write
 718              		.syntax unified
 719              		.thumb
 720              		.thumb_func
 721              		.fpu fpv5-d16
 723              	USBH_MSC_SCSI_Write:
 724              	.LFB342:
 320:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 321:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 322:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_Write
 323:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue write10 command.
 324:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 325:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 326:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  address: sector address
 327:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  pbuf: pointer to data
 328:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  length: number of sector to write
 329:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 330:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 331:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_Write(USBH_HandleTypeDef *phost,
 332:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                        uint8_t lun,
 333:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                        uint32_t address,
 334:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                        uint8_t *pbuf,
 335:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                        uint32_t length)
 336:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
 725              		.loc 1 336 1
 726              		.cfi_startproc
 727              		@ args = 4, pretend = 0, frame = 24
 728              		@ frame_needed = 1, uses_anonymous_args = 0
 729 0000 80B5     		push	{r7, lr}
 730              	.LCFI20:
 731              		.cfi_def_cfa_offset 8
 732              		.cfi_offset 7, -8
 733              		.cfi_offset 14, -4
 734 0002 86B0     		sub	sp, sp, #24
 735              	.LCFI21:
 736              		.cfi_def_cfa_offset 32
 737 0004 00AF     		add	r7, sp, #0
 738              	.LCFI22:
 739              		.cfi_def_cfa_register 7
 740 0006 F860     		str	r0, [r7, #12]
 741 0008 7A60     		str	r2, [r7, #4]
 742 000a 3B60     		str	r3, [r7]
 743 000c 0B46     		mov	r3, r1
 744 000e FB72     		strb	r3, [r7, #11]
 337:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef    error = USBH_FAIL ;
ARM GAS  /tmp/ccODvP2T.s 			page 22


 745              		.loc 1 337 25
 746 0010 0223     		movs	r3, #2
 747 0012 FB75     		strb	r3, [r7, #23]
 338:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 339:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 748              		.loc 1 339 62
 749 0014 FB68     		ldr	r3, [r7, #12]
 750 0016 D3F87C34 		ldr	r3, [r3, #1148]
 751              		.loc 1 339 22
 752 001a DB69     		ldr	r3, [r3, #28]
 753 001c 3B61     		str	r3, [r7, #16]
 340:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 341:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch (MSC_Handle->hbot.cmd_state)
 754              		.loc 1 341 27
 755 001e 3B69     		ldr	r3, [r7, #16]
 756 0020 93F85230 		ldrb	r3, [r3, #82]	@ zero_extendqisi2
 757              		.loc 1 341 3
 758 0024 012B     		cmp	r3, #1
 759 0026 02D0     		beq	.L34
 760 0028 022B     		cmp	r3, #2
 761 002a 47D0     		beq	.L35
 342:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 343:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_SEND:
 344:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 345:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*Prepare the CBW and relevent field*/
 346:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.DataTransferLength = length * MSC_Handle->unit[0].capacity.block_s
 347:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 348:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 349:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 350:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_CB_LENGTH);
 351:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_WRITE10;
 352:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 353:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*logical block address*/
 354:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[2]  = (((uint8_t *)(void *)&address)[3]);
 355:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[3]  = (((uint8_t *)(void *)&address)[2]);
 356:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[4]  = (((uint8_t *)(void *)&address)[1]);
 357:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[5]  = (((uint8_t *)(void *)&address)[0]);
 358:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 359:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 360:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*Transfer length */
 361:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[7]  = (((uint8_t *)(void *)&length)[1]) ;
 362:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 363:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 364:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 365:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.state = BOT_SEND_CBW;
 366:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 367:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.pbuf = pbuf;
 368:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 369:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 370:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 371:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_WAIT:
 372:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_MSC_BOT_Process(phost, lun);
 373:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 374:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 375:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     default:
 376:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 762              		.loc 1 376 7
ARM GAS  /tmp/ccODvP2T.s 			page 23


 763 002c 4EE0     		b	.L37
 764              	.L34:
 346:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 765              		.loc 1 346 92
 766 002e 3B69     		ldr	r3, [r7, #16]
 767 0030 B3F89830 		ldrh	r3, [r3, #152]
 768 0034 1A46     		mov	r2, r3
 346:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 769              		.loc 1 346 62
 770 0036 3B6A     		ldr	r3, [r7, #32]
 771 0038 03FB02F2 		mul	r2, r3, r2
 346:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_OUT;
 772              		.loc 1 346 53
 773 003c 3B69     		ldr	r3, [r7, #16]
 774 003e DA65     		str	r2, [r3, #92]
 347:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 775              		.loc 1 347 40
 776 0040 3B69     		ldr	r3, [r7, #16]
 777 0042 0022     		movs	r2, #0
 778 0044 83F86020 		strb	r2, [r3, #96]
 348:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 779              		.loc 1 348 43
 780 0048 3B69     		ldr	r3, [r7, #16]
 781 004a 0A22     		movs	r2, #10
 782 004c 83F86220 		strb	r2, [r3, #98]
 350:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_WRITE10;
 783              		.loc 1 350 45
 784 0050 3B69     		ldr	r3, [r7, #16]
 785 0052 6333     		adds	r3, r3, #99
 350:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_WRITE10;
 786              		.loc 1 350 7
 787 0054 1022     		movs	r2, #16
 788 0056 0021     		movs	r1, #0
 789 0058 1846     		mov	r0, r3
 790 005a FFF7FEFF 		bl	memset
 351:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 791              		.loc 1 351 41
 792 005e 3B69     		ldr	r3, [r7, #16]
 793 0060 2A22     		movs	r2, #42
 794 0062 83F86320 		strb	r2, [r3, #99]
 354:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[3]  = (((uint8_t *)(void *)&address)[2]);
 795              		.loc 1 354 41
 796 0066 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 797 0068 3B69     		ldr	r3, [r7, #16]
 798 006a 83F86520 		strb	r2, [r3, #101]
 355:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[4]  = (((uint8_t *)(void *)&address)[1]);
 799              		.loc 1 355 41
 800 006e BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 801 0070 3B69     		ldr	r3, [r7, #16]
 802 0072 83F86620 		strb	r2, [r3, #102]
 356:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[5]  = (((uint8_t *)(void *)&address)[0]);
 803              		.loc 1 356 41
 804 0076 7A79     		ldrb	r2, [r7, #5]	@ zero_extendqisi2
 805 0078 3B69     		ldr	r3, [r7, #16]
 806 007a 83F86720 		strb	r2, [r3, #103]
 357:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 807              		.loc 1 357 64
ARM GAS  /tmp/ccODvP2T.s 			page 24


 808 007e 3B1D     		adds	r3, r7, #4
 357:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 809              		.loc 1 357 73
 810 0080 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 357:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 811              		.loc 1 357 41
 812 0082 3B69     		ldr	r3, [r7, #16]
 813 0084 83F86820 		strb	r2, [r3, #104]
 361:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 814              		.loc 1 361 41
 815 0088 97F82120 		ldrb	r2, [r7, #33]	@ zero_extendqisi2
 816 008c 3B69     		ldr	r3, [r7, #16]
 817 008e 83F86A20 		strb	r2, [r3, #106]
 362:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 818              		.loc 1 362 64
 819 0092 07F12003 		add	r3, r7, #32
 362:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 820              		.loc 1 362 72
 821 0096 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 362:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 822              		.loc 1 362 41
 823 0098 3B69     		ldr	r3, [r7, #16]
 824 009a 83F86B20 		strb	r2, [r3, #107]
 365:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 825              		.loc 1 365 30
 826 009e 3B69     		ldr	r3, [r7, #16]
 827 00a0 0122     		movs	r2, #1
 828 00a2 83F85020 		strb	r2, [r3, #80]
 366:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.pbuf = pbuf;
 829              		.loc 1 366 34
 830 00a6 3B69     		ldr	r3, [r7, #16]
 831 00a8 0222     		movs	r2, #2
 832 00aa 83F85220 		strb	r2, [r3, #82]
 367:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 833              		.loc 1 367 29
 834 00ae 3B69     		ldr	r3, [r7, #16]
 835 00b0 3A68     		ldr	r2, [r7]
 836 00b2 C3F88C20 		str	r2, [r3, #140]
 368:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 837              		.loc 1 368 13
 838 00b6 0123     		movs	r3, #1
 839 00b8 FB75     		strb	r3, [r7, #23]
 369:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 840              		.loc 1 369 7
 841 00ba 07E0     		b	.L37
 842              	.L35:
 372:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 843              		.loc 1 372 15
 844 00bc FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 845 00be 1946     		mov	r1, r3
 846 00c0 F868     		ldr	r0, [r7, #12]
 847 00c2 FFF7FEFF 		bl	USBH_MSC_BOT_Process
 848 00c6 0346     		mov	r3, r0
 849 00c8 FB75     		strb	r3, [r7, #23]
 373:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 850              		.loc 1 373 7
 851 00ca 00BF     		nop
ARM GAS  /tmp/ccODvP2T.s 			page 25


 852              	.L37:
 377:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 378:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 379:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 853              		.loc 1 379 10
 854 00cc FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 380:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
 855              		.loc 1 380 1
 856 00ce 1846     		mov	r0, r3
 857 00d0 1837     		adds	r7, r7, #24
 858              	.LCFI23:
 859              		.cfi_def_cfa_offset 8
 860 00d2 BD46     		mov	sp, r7
 861              	.LCFI24:
 862              		.cfi_def_cfa_register 13
 863              		@ sp needed
 864 00d4 80BD     		pop	{r7, pc}
 865              		.cfi_endproc
 866              	.LFE342:
 868              		.section	.text.USBH_MSC_SCSI_Read,"ax",%progbits
 869              		.align	1
 870              		.global	USBH_MSC_SCSI_Read
 871              		.syntax unified
 872              		.thumb
 873              		.thumb_func
 874              		.fpu fpv5-d16
 876              	USBH_MSC_SCSI_Read:
 877              	.LFB343:
 381:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 382:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** /**
 383:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @brief  USBH_MSC_SCSI_Read
 384:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   *         Issue Read10 command.
 385:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  phost: Host handle
 386:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  lun: Logical Unit Number
 387:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  address: sector address
 388:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  pbuf: pointer to data
 389:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @param  length: number of sector to read
 390:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   * @retval USBH Status
 391:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   */
 392:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** USBH_StatusTypeDef USBH_MSC_SCSI_Read(USBH_HandleTypeDef *phost,
 393:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                       uint8_t lun,
 394:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                       uint32_t address,
 395:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                       uint8_t *pbuf,
 396:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****                                       uint32_t length)
 397:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** {
 878              		.loc 1 397 1
 879              		.cfi_startproc
 880              		@ args = 4, pretend = 0, frame = 24
 881              		@ frame_needed = 1, uses_anonymous_args = 0
 882 0000 80B5     		push	{r7, lr}
 883              	.LCFI25:
 884              		.cfi_def_cfa_offset 8
 885              		.cfi_offset 7, -8
 886              		.cfi_offset 14, -4
 887 0002 86B0     		sub	sp, sp, #24
 888              	.LCFI26:
 889              		.cfi_def_cfa_offset 32
ARM GAS  /tmp/ccODvP2T.s 			page 26


 890 0004 00AF     		add	r7, sp, #0
 891              	.LCFI27:
 892              		.cfi_def_cfa_register 7
 893 0006 F860     		str	r0, [r7, #12]
 894 0008 7A60     		str	r2, [r7, #4]
 895 000a 3B60     		str	r3, [r7]
 896 000c 0B46     		mov	r3, r1
 897 000e FB72     		strb	r3, [r7, #11]
 398:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   USBH_StatusTypeDef    error = USBH_FAIL ;
 898              		.loc 1 398 25
 899 0010 0223     		movs	r3, #2
 900 0012 FB75     		strb	r3, [r7, #23]
 399:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 901              		.loc 1 399 62
 902 0014 FB68     		ldr	r3, [r7, #12]
 903 0016 D3F87C34 		ldr	r3, [r3, #1148]
 904              		.loc 1 399 22
 905 001a DB69     		ldr	r3, [r3, #28]
 906 001c 3B61     		str	r3, [r7, #16]
 400:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 401:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   switch (MSC_Handle->hbot.cmd_state)
 907              		.loc 1 401 27
 908 001e 3B69     		ldr	r3, [r7, #16]
 909 0020 93F85230 		ldrb	r3, [r3, #82]	@ zero_extendqisi2
 910              		.loc 1 401 3
 911 0024 012B     		cmp	r3, #1
 912 0026 02D0     		beq	.L40
 913 0028 022B     		cmp	r3, #2
 914 002a 47D0     		beq	.L41
 402:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   {
 403:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_SEND:
 404:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 405:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*Prepare the CBW and relevent field*/
 406:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.DataTransferLength = length * MSC_Handle->unit[0].capacity.block_s
 407:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 408:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 409:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 410:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       USBH_memset(MSC_Handle->hbot.cbw.field.CB, 0, CBW_CB_LENGTH);
 411:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_READ10;
 412:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 413:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*logical block address*/
 414:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[2]  = (((uint8_t *)(void *)&address)[3]);
 415:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[3]  = (((uint8_t *)(void *)&address)[2]);
 416:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[4]  = (((uint8_t *)(void *)&address)[1]);
 417:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[5]  = (((uint8_t *)(void *)&address)[0]);
 418:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 419:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 420:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       /*Transfer length */
 421:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[7]  = (((uint8_t *)(void *)&length)[1]) ;
 422:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 423:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 424:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 425:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.state = BOT_SEND_CBW;
 426:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 427:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.pbuf = pbuf;
 428:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 429:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
ARM GAS  /tmp/ccODvP2T.s 			page 27


 430:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 431:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     case BOT_CMD_WAIT:
 432:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_MSC_BOT_Process(phost, lun);
 433:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 434:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 435:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****     default:
 436:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 915              		.loc 1 436 7
 916 002c 4EE0     		b	.L43
 917              	.L40:
 406:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 918              		.loc 1 406 92
 919 002e 3B69     		ldr	r3, [r7, #16]
 920 0030 B3F89830 		ldrh	r3, [r3, #152]
 921 0034 1A46     		mov	r2, r3
 406:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 922              		.loc 1 406 62
 923 0036 3B6A     		ldr	r3, [r7, #32]
 924 0038 03FB02F2 		mul	r2, r3, r2
 406:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.Flags = USB_EP_DIR_IN;
 925              		.loc 1 406 53
 926 003c 3B69     		ldr	r3, [r7, #16]
 927 003e DA65     		str	r2, [r3, #92]
 407:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CBLength = CBW_LENGTH;
 928              		.loc 1 407 40
 929 0040 3B69     		ldr	r3, [r7, #16]
 930 0042 8022     		movs	r2, #128
 931 0044 83F86020 		strb	r2, [r3, #96]
 408:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 932              		.loc 1 408 43
 933 0048 3B69     		ldr	r3, [r7, #16]
 934 004a 0A22     		movs	r2, #10
 935 004c 83F86220 		strb	r2, [r3, #98]
 410:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_READ10;
 936              		.loc 1 410 45
 937 0050 3B69     		ldr	r3, [r7, #16]
 938 0052 6333     		adds	r3, r3, #99
 410:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[0]  = OPCODE_READ10;
 939              		.loc 1 410 7
 940 0054 1022     		movs	r2, #16
 941 0056 0021     		movs	r1, #0
 942 0058 1846     		mov	r0, r3
 943 005a FFF7FEFF 		bl	memset
 411:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 944              		.loc 1 411 41
 945 005e 3B69     		ldr	r3, [r7, #16]
 946 0060 2822     		movs	r2, #40
 947 0062 83F86320 		strb	r2, [r3, #99]
 414:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[3]  = (((uint8_t *)(void *)&address)[2]);
 948              		.loc 1 414 41
 949 0066 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 950 0068 3B69     		ldr	r3, [r7, #16]
 951 006a 83F86520 		strb	r2, [r3, #101]
 415:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[4]  = (((uint8_t *)(void *)&address)[1]);
 952              		.loc 1 415 41
 953 006e BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 954 0070 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/ccODvP2T.s 			page 28


 955 0072 83F86620 		strb	r2, [r3, #102]
 416:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[5]  = (((uint8_t *)(void *)&address)[0]);
 956              		.loc 1 416 41
 957 0076 7A79     		ldrb	r2, [r7, #5]	@ zero_extendqisi2
 958 0078 3B69     		ldr	r3, [r7, #16]
 959 007a 83F86720 		strb	r2, [r3, #103]
 417:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 960              		.loc 1 417 64
 961 007e 3B1D     		adds	r3, r7, #4
 417:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 962              		.loc 1 417 73
 963 0080 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 417:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 964              		.loc 1 417 41
 965 0082 3B69     		ldr	r3, [r7, #16]
 966 0084 83F86820 		strb	r2, [r3, #104]
 421:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cbw.field.CB[8]  = (((uint8_t *)(void *)&length)[0]) ;
 967              		.loc 1 421 41
 968 0088 97F82120 		ldrb	r2, [r7, #33]	@ zero_extendqisi2
 969 008c 3B69     		ldr	r3, [r7, #16]
 970 008e 83F86A20 		strb	r2, [r3, #106]
 422:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 971              		.loc 1 422 64
 972 0092 07F12003 		add	r3, r7, #32
 422:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 973              		.loc 1 422 72
 974 0096 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 422:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 975              		.loc 1 422 41
 976 0098 3B69     		ldr	r3, [r7, #16]
 977 009a 83F86B20 		strb	r2, [r3, #107]
 425:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.cmd_state = BOT_CMD_WAIT;
 978              		.loc 1 425 30
 979 009e 3B69     		ldr	r3, [r7, #16]
 980 00a0 0122     		movs	r2, #1
 981 00a2 83F85020 		strb	r2, [r3, #80]
 426:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       MSC_Handle->hbot.pbuf = pbuf;
 982              		.loc 1 426 34
 983 00a6 3B69     		ldr	r3, [r7, #16]
 984 00a8 0222     		movs	r2, #2
 985 00aa 83F85220 		strb	r2, [r3, #82]
 427:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       error = USBH_BUSY;
 986              		.loc 1 427 29
 987 00ae 3B69     		ldr	r3, [r7, #16]
 988 00b0 3A68     		ldr	r2, [r7]
 989 00b2 C3F88C20 		str	r2, [r3, #140]
 428:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 990              		.loc 1 428 13
 991 00b6 0123     		movs	r3, #1
 992 00b8 FB75     		strb	r3, [r7, #23]
 429:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 993              		.loc 1 429 7
 994 00ba 07E0     		b	.L43
 995              	.L41:
 432:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****       break;
 996              		.loc 1 432 15
 997 00bc FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
ARM GAS  /tmp/ccODvP2T.s 			page 29


 998 00be 1946     		mov	r1, r3
 999 00c0 F868     		ldr	r0, [r7, #12]
 1000 00c2 FFF7FEFF 		bl	USBH_MSC_BOT_Process
 1001 00c6 0346     		mov	r3, r0
 1002 00c8 FB75     		strb	r3, [r7, #23]
 433:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 1003              		.loc 1 433 7
 1004 00ca 00BF     		nop
 1005              	.L43:
 437:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   }
 438:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** 
 439:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c ****   return error;
 1006              		.loc 1 439 10
 1007 00cc FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 440:./Libraries/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc_scsi.c **** }
 1008              		.loc 1 440 1
 1009 00ce 1846     		mov	r0, r3
 1010 00d0 1837     		adds	r7, r7, #24
 1011              	.LCFI28:
 1012              		.cfi_def_cfa_offset 8
 1013 00d2 BD46     		mov	sp, r7
 1014              	.LCFI29:
 1015              		.cfi_def_cfa_register 13
 1016              		@ sp needed
 1017 00d4 80BD     		pop	{r7, pc}
 1018              		.cfi_endproc
 1019              	.LFE343:
 1021              		.text
 1022              	.Letext0:
 1023              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 1024              		.file 3 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 1025              		.file 4 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 1026              		.file 5 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 1027              		.file 6 "/usr/include/newlib/sys/_types.h"
 1028              		.file 7 "/usr/include/newlib/sys/reent.h"
 1029              		.file 8 "/usr/include/newlib/sys/lock.h"
 1030              		.file 9 "/usr/include/newlib/math.h"
 1031              		.file 10 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 1032              		.file 11 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 1033              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 1034              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 1035              		.file 14 "/usr/include/newlib/stdlib.h"
 1036              		.file 15 "./Libraries/FreeRTOS/Source/CMSIS_RTOS/cmsis_os2.h"
 1037              		.file 16 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 1038              		.file 17 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_ctlreq.h"
 1039              		.file 18 "./Libraries/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc_bot.h"
 1040              		.file 19 "./Libraries/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc_scsi.h"
 1041              		.file 20 "./Libraries/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc.h"
ARM GAS  /tmp/ccODvP2T.s 			page 30


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbh_msc_scsi.c
     /tmp/ccODvP2T.s:17     .text.USBH_MSC_SCSI_TestUnitReady:0000000000000000 $t
     /tmp/ccODvP2T.s:25     .text.USBH_MSC_SCSI_TestUnitReady:0000000000000000 USBH_MSC_SCSI_TestUnitReady
     /tmp/ccODvP2T.s:130    .text.USBH_MSC_SCSI_ReadCapacity:0000000000000000 $t
     /tmp/ccODvP2T.s:137    .text.USBH_MSC_SCSI_ReadCapacity:0000000000000000 USBH_MSC_SCSI_ReadCapacity
     /tmp/ccODvP2T.s:315    .text.USBH_MSC_SCSI_Inquiry:0000000000000000 $t
     /tmp/ccODvP2T.s:322    .text.USBH_MSC_SCSI_Inquiry:0000000000000000 USBH_MSC_SCSI_Inquiry
     /tmp/ccODvP2T.s:544    .text.USBH_MSC_SCSI_RequestSense:0000000000000000 $t
     /tmp/ccODvP2T.s:551    .text.USBH_MSC_SCSI_RequestSense:0000000000000000 USBH_MSC_SCSI_RequestSense
     /tmp/ccODvP2T.s:716    .text.USBH_MSC_SCSI_Write:0000000000000000 $t
     /tmp/ccODvP2T.s:723    .text.USBH_MSC_SCSI_Write:0000000000000000 USBH_MSC_SCSI_Write
     /tmp/ccODvP2T.s:869    .text.USBH_MSC_SCSI_Read:0000000000000000 $t
     /tmp/ccODvP2T.s:876    .text.USBH_MSC_SCSI_Read:0000000000000000 USBH_MSC_SCSI_Read

UNDEFINED SYMBOLS
memset
USBH_MSC_BOT_Process
memcpy
