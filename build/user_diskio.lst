ARM GAS  /tmp/cc6Ed3hn.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"user_diskio.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.USER_initialize,"ax",%progbits
  17              		.align	1
  18              		.p2align 2,,3
  19              		.global	USER_initialize
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	USER_initialize:
  27              	.LVL0:
  28              	.LFB335:
  29              		.file 1 "./User/code/Src/user_diskio.c"
   1:./User/code/Src/user_diskio.c **** /* USER CODE BEGIN Header */
   2:./User/code/Src/user_diskio.c **** /**
   3:./User/code/Src/user_diskio.c ****  ******************************************************************************
   4:./User/code/Src/user_diskio.c ****   * @file    user_diskio.c
   5:./User/code/Src/user_diskio.c ****   * @brief   This file includes a diskio driver skeleton to be completed by the user.
   6:./User/code/Src/user_diskio.c ****   ******************************************************************************
   7:./User/code/Src/user_diskio.c ****   * @attention
   8:./User/code/Src/user_diskio.c ****   *
   9:./User/code/Src/user_diskio.c ****   * <h2><center>&copy; Copyright (c) 2021 STMicroelectronics.
  10:./User/code/Src/user_diskio.c ****   * All rights reserved.</center></h2>
  11:./User/code/Src/user_diskio.c ****   *
  12:./User/code/Src/user_diskio.c ****   * This software component is licensed by ST under Ultimate Liberty license
  13:./User/code/Src/user_diskio.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  14:./User/code/Src/user_diskio.c ****   * the License. You may obtain a copy of the License at:
  15:./User/code/Src/user_diskio.c ****   *                             www.st.com/SLA0044
  16:./User/code/Src/user_diskio.c ****   *
  17:./User/code/Src/user_diskio.c ****   ******************************************************************************
  18:./User/code/Src/user_diskio.c ****   */
  19:./User/code/Src/user_diskio.c ****  /* USER CODE END Header */
  20:./User/code/Src/user_diskio.c **** 
  21:./User/code/Src/user_diskio.c **** #ifdef USE_OBSOLETE_USER_CODE_SECTION_0
  22:./User/code/Src/user_diskio.c **** /*
  23:./User/code/Src/user_diskio.c ****  * Warning: the user section 0 is no more in use (starting from CubeMx version 4.16.0)
  24:./User/code/Src/user_diskio.c ****  * To be suppressed in the future.
  25:./User/code/Src/user_diskio.c ****  * Kept to ensure backward compatibility with previous CubeMx versions when
  26:./User/code/Src/user_diskio.c ****  * migrating projects.
  27:./User/code/Src/user_diskio.c ****  * User code previously added there should be copied in the new user sections before
  28:./User/code/Src/user_diskio.c ****  * the section contents can be deleted.
  29:./User/code/Src/user_diskio.c ****  */
ARM GAS  /tmp/cc6Ed3hn.s 			page 2


  30:./User/code/Src/user_diskio.c **** /* USER CODE BEGIN 0 */
  31:./User/code/Src/user_diskio.c **** /* USER CODE END 0 */
  32:./User/code/Src/user_diskio.c **** #endif
  33:./User/code/Src/user_diskio.c **** 
  34:./User/code/Src/user_diskio.c **** /* USER CODE BEGIN DECL */
  35:./User/code/Src/user_diskio.c **** 
  36:./User/code/Src/user_diskio.c **** /* Includes ------------------------------------------------------------------*/
  37:./User/code/Src/user_diskio.c **** #include <string.h>
  38:./User/code/Src/user_diskio.c **** #include "ff_gen_drv.h"
  39:./User/code/Src/user_diskio.c **** 
  40:./User/code/Src/user_diskio.c **** /* Private typedef -----------------------------------------------------------*/
  41:./User/code/Src/user_diskio.c **** /* Private define ------------------------------------------------------------*/
  42:./User/code/Src/user_diskio.c **** 
  43:./User/code/Src/user_diskio.c **** /* Private variables ---------------------------------------------------------*/
  44:./User/code/Src/user_diskio.c **** /* Disk status */
  45:./User/code/Src/user_diskio.c **** static volatile DSTATUS Stat = STA_NOINIT;
  46:./User/code/Src/user_diskio.c **** 
  47:./User/code/Src/user_diskio.c **** /* USER CODE END DECL */
  48:./User/code/Src/user_diskio.c **** 
  49:./User/code/Src/user_diskio.c **** /* Private function prototypes -----------------------------------------------*/
  50:./User/code/Src/user_diskio.c **** DSTATUS USER_initialize (BYTE pdrv);
  51:./User/code/Src/user_diskio.c **** DSTATUS USER_status (BYTE pdrv);
  52:./User/code/Src/user_diskio.c **** DRESULT USER_read (BYTE pdrv, BYTE *buff, DWORD sector, UINT count);
  53:./User/code/Src/user_diskio.c **** #if _USE_WRITE == 1
  54:./User/code/Src/user_diskio.c ****   DRESULT USER_write (BYTE pdrv, const BYTE *buff, DWORD sector, UINT count);
  55:./User/code/Src/user_diskio.c **** #endif /* _USE_WRITE == 1 */
  56:./User/code/Src/user_diskio.c **** #if _USE_IOCTL == 1
  57:./User/code/Src/user_diskio.c ****   DRESULT USER_ioctl (BYTE pdrv, BYTE cmd, void *buff);
  58:./User/code/Src/user_diskio.c **** #endif /* _USE_IOCTL == 1 */
  59:./User/code/Src/user_diskio.c **** 
  60:./User/code/Src/user_diskio.c **** Diskio_drvTypeDef  USER_Driver =
  61:./User/code/Src/user_diskio.c **** {
  62:./User/code/Src/user_diskio.c ****   USER_initialize,
  63:./User/code/Src/user_diskio.c ****   USER_status,
  64:./User/code/Src/user_diskio.c ****   USER_read,
  65:./User/code/Src/user_diskio.c **** #if  _USE_WRITE
  66:./User/code/Src/user_diskio.c ****   USER_write,
  67:./User/code/Src/user_diskio.c **** #endif  /* _USE_WRITE == 1 */
  68:./User/code/Src/user_diskio.c **** #if  _USE_IOCTL == 1
  69:./User/code/Src/user_diskio.c ****   USER_ioctl,
  70:./User/code/Src/user_diskio.c **** #endif /* _USE_IOCTL == 1 */
  71:./User/code/Src/user_diskio.c **** };
  72:./User/code/Src/user_diskio.c **** 
  73:./User/code/Src/user_diskio.c **** /* Private functions ---------------------------------------------------------*/
  74:./User/code/Src/user_diskio.c **** 
  75:./User/code/Src/user_diskio.c **** /**
  76:./User/code/Src/user_diskio.c ****   * @brief  Initializes a Drive
  77:./User/code/Src/user_diskio.c ****   * @param  pdrv: Physical drive number (0..)
  78:./User/code/Src/user_diskio.c ****   * @retval DSTATUS: Operation status
  79:./User/code/Src/user_diskio.c ****   */
  80:./User/code/Src/user_diskio.c **** DSTATUS USER_initialize (
  81:./User/code/Src/user_diskio.c **** 	BYTE pdrv           /* Physical drive nmuber to identify the drive */
  82:./User/code/Src/user_diskio.c **** )
  83:./User/code/Src/user_diskio.c **** {
  30              		.loc 1 83 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc6Ed3hn.s 			page 3


  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  84:./User/code/Src/user_diskio.c ****   /* USER CODE BEGIN INIT */
  85:./User/code/Src/user_diskio.c ****     Stat = STA_NOINIT;
  35              		.loc 1 85 5 view .LVU1
  36              		.loc 1 85 10 is_stmt 0 view .LVU2
  37 0000 024B     		ldr	r3, .L3
  38 0002 0122     		movs	r2, #1
  39 0004 1A70     		strb	r2, [r3]
  86:./User/code/Src/user_diskio.c ****     return Stat;
  40              		.loc 1 86 5 is_stmt 1 view .LVU3
  41              		.loc 1 86 12 is_stmt 0 view .LVU4
  42 0006 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  43              	.LVL1:
  87:./User/code/Src/user_diskio.c ****   /* USER CODE END INIT */
  88:./User/code/Src/user_diskio.c **** }
  44              		.loc 1 88 1 view .LVU5
  45 0008 7047     		bx	lr
  46              	.L4:
  47 000a 00BF     		.align	2
  48              	.L3:
  49 000c 00000000 		.word	.LANCHOR0
  50              		.cfi_endproc
  51              	.LFE335:
  53              		.section	.text.USER_read,"ax",%progbits
  54              		.align	1
  55              		.p2align 2,,3
  56              		.global	USER_read
  57              		.syntax unified
  58              		.thumb
  59              		.thumb_func
  60              		.fpu fpv5-d16
  62              	USER_read:
  63              	.LVL2:
  64              	.LFB337:
  89:./User/code/Src/user_diskio.c **** 
  90:./User/code/Src/user_diskio.c **** /**
  91:./User/code/Src/user_diskio.c ****   * @brief  Gets Disk Status
  92:./User/code/Src/user_diskio.c ****   * @param  pdrv: Physical drive number (0..)
  93:./User/code/Src/user_diskio.c ****   * @retval DSTATUS: Operation status
  94:./User/code/Src/user_diskio.c ****   */
  95:./User/code/Src/user_diskio.c **** DSTATUS USER_status (
  96:./User/code/Src/user_diskio.c **** 	BYTE pdrv       /* Physical drive number to identify the drive */
  97:./User/code/Src/user_diskio.c **** )
  98:./User/code/Src/user_diskio.c **** {
  99:./User/code/Src/user_diskio.c ****   /* USER CODE BEGIN STATUS */
 100:./User/code/Src/user_diskio.c ****     Stat = STA_NOINIT;
 101:./User/code/Src/user_diskio.c ****     return Stat;
 102:./User/code/Src/user_diskio.c ****   /* USER CODE END STATUS */
 103:./User/code/Src/user_diskio.c **** }
 104:./User/code/Src/user_diskio.c **** 
 105:./User/code/Src/user_diskio.c **** /**
 106:./User/code/Src/user_diskio.c ****   * @brief  Reads Sector(s)
 107:./User/code/Src/user_diskio.c ****   * @param  pdrv: Physical drive number (0..)
 108:./User/code/Src/user_diskio.c ****   * @param  *buff: Data buffer to store read data
 109:./User/code/Src/user_diskio.c ****   * @param  sector: Sector address (LBA)
 110:./User/code/Src/user_diskio.c ****   * @param  count: Number of sectors to read (1..128)
ARM GAS  /tmp/cc6Ed3hn.s 			page 4


 111:./User/code/Src/user_diskio.c ****   * @retval DRESULT: Operation result
 112:./User/code/Src/user_diskio.c ****   */
 113:./User/code/Src/user_diskio.c **** DRESULT USER_read (
 114:./User/code/Src/user_diskio.c **** 	BYTE pdrv,      /* Physical drive nmuber to identify the drive */
 115:./User/code/Src/user_diskio.c **** 	BYTE *buff,     /* Data buffer to store read data */
 116:./User/code/Src/user_diskio.c **** 	DWORD sector,   /* Sector address in LBA */
 117:./User/code/Src/user_diskio.c **** 	UINT count      /* Number of sectors to read */
 118:./User/code/Src/user_diskio.c **** )
 119:./User/code/Src/user_diskio.c **** {
  65              		.loc 1 119 1 is_stmt 1 view -0
  66              		.cfi_startproc
  67              		@ args = 0, pretend = 0, frame = 0
  68              		@ frame_needed = 0, uses_anonymous_args = 0
  69              		@ link register save eliminated.
 120:./User/code/Src/user_diskio.c ****   /* USER CODE BEGIN READ */
 121:./User/code/Src/user_diskio.c ****     return RES_OK;
  70              		.loc 1 121 5 view .LVU7
 122:./User/code/Src/user_diskio.c ****   /* USER CODE END READ */
 123:./User/code/Src/user_diskio.c **** }
  71              		.loc 1 123 1 is_stmt 0 view .LVU8
  72 0000 0020     		movs	r0, #0
  73              	.LVL3:
  74              		.loc 1 123 1 view .LVU9
  75 0002 7047     		bx	lr
  76              		.cfi_endproc
  77              	.LFE337:
  79              		.section	.text.USER_ioctl,"ax",%progbits
  80              		.align	1
  81              		.p2align 2,,3
  82              		.global	USER_ioctl
  83              		.syntax unified
  84              		.thumb
  85              		.thumb_func
  86              		.fpu fpv5-d16
  88              	USER_ioctl:
  89              	.LVL4:
  90              	.LFB339:
 124:./User/code/Src/user_diskio.c **** 
 125:./User/code/Src/user_diskio.c **** /**
 126:./User/code/Src/user_diskio.c ****   * @brief  Writes Sector(s)
 127:./User/code/Src/user_diskio.c ****   * @param  pdrv: Physical drive number (0..)
 128:./User/code/Src/user_diskio.c ****   * @param  *buff: Data to be written
 129:./User/code/Src/user_diskio.c ****   * @param  sector: Sector address (LBA)
 130:./User/code/Src/user_diskio.c ****   * @param  count: Number of sectors to write (1..128)
 131:./User/code/Src/user_diskio.c ****   * @retval DRESULT: Operation result
 132:./User/code/Src/user_diskio.c ****   */
 133:./User/code/Src/user_diskio.c **** #if _USE_WRITE == 1
 134:./User/code/Src/user_diskio.c **** DRESULT USER_write (
 135:./User/code/Src/user_diskio.c **** 	BYTE pdrv,          /* Physical drive nmuber to identify the drive */
 136:./User/code/Src/user_diskio.c **** 	const BYTE *buff,   /* Data to be written */
 137:./User/code/Src/user_diskio.c **** 	DWORD sector,       /* Sector address in LBA */
 138:./User/code/Src/user_diskio.c **** 	UINT count          /* Number of sectors to write */
 139:./User/code/Src/user_diskio.c **** )
 140:./User/code/Src/user_diskio.c **** {
 141:./User/code/Src/user_diskio.c ****   /* USER CODE BEGIN WRITE */
 142:./User/code/Src/user_diskio.c ****   /* USER CODE HERE */
 143:./User/code/Src/user_diskio.c ****     return RES_OK;
ARM GAS  /tmp/cc6Ed3hn.s 			page 5


 144:./User/code/Src/user_diskio.c ****   /* USER CODE END WRITE */
 145:./User/code/Src/user_diskio.c **** }
 146:./User/code/Src/user_diskio.c **** #endif /* _USE_WRITE == 1 */
 147:./User/code/Src/user_diskio.c **** 
 148:./User/code/Src/user_diskio.c **** /**
 149:./User/code/Src/user_diskio.c ****   * @brief  I/O control operation
 150:./User/code/Src/user_diskio.c ****   * @param  pdrv: Physical drive number (0..)
 151:./User/code/Src/user_diskio.c ****   * @param  cmd: Control code
 152:./User/code/Src/user_diskio.c ****   * @param  *buff: Buffer to send/receive control data
 153:./User/code/Src/user_diskio.c ****   * @retval DRESULT: Operation result
 154:./User/code/Src/user_diskio.c ****   */
 155:./User/code/Src/user_diskio.c **** #if _USE_IOCTL == 1
 156:./User/code/Src/user_diskio.c **** DRESULT USER_ioctl (
 157:./User/code/Src/user_diskio.c **** 	BYTE pdrv,      /* Physical drive nmuber (0..) */
 158:./User/code/Src/user_diskio.c **** 	BYTE cmd,       /* Control code */
 159:./User/code/Src/user_diskio.c **** 	void *buff      /* Buffer to send/receive control data */
 160:./User/code/Src/user_diskio.c **** )
 161:./User/code/Src/user_diskio.c **** {
  91              		.loc 1 161 1 is_stmt 1 view -0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              		@ link register save eliminated.
 162:./User/code/Src/user_diskio.c ****   /* USER CODE BEGIN IOCTL */
 163:./User/code/Src/user_diskio.c ****     DRESULT res = RES_ERROR;
  96              		.loc 1 163 5 view .LVU11
 164:./User/code/Src/user_diskio.c ****     return res;
  97              		.loc 1 164 5 view .LVU12
 165:./User/code/Src/user_diskio.c ****   /* USER CODE END IOCTL */
 166:./User/code/Src/user_diskio.c **** }
  98              		.loc 1 166 1 is_stmt 0 view .LVU13
  99 0000 0120     		movs	r0, #1
 100              	.LVL5:
 101              		.loc 1 166 1 view .LVU14
 102 0002 7047     		bx	lr
 103              		.cfi_endproc
 104              	.LFE339:
 106              		.section	.text.USER_write,"ax",%progbits
 107              		.align	1
 108              		.p2align 2,,3
 109              		.global	USER_write
 110              		.syntax unified
 111              		.thumb
 112              		.thumb_func
 113              		.fpu fpv5-d16
 115              	USER_write:
 116              	.LFB343:
 117              		.cfi_startproc
 118              		@ args = 0, pretend = 0, frame = 0
 119              		@ frame_needed = 0, uses_anonymous_args = 0
 120              		@ link register save eliminated.
 121 0000 0020     		movs	r0, #0
 122 0002 7047     		bx	lr
 123              		.cfi_endproc
 124              	.LFE343:
 126              		.section	.text.USER_status,"ax",%progbits
 127              		.align	1
ARM GAS  /tmp/cc6Ed3hn.s 			page 6


 128              		.p2align 2,,3
 129              		.global	USER_status
 130              		.syntax unified
 131              		.thumb
 132              		.thumb_func
 133              		.fpu fpv5-d16
 135              	USER_status:
 136              	.LFB341:
 137              		.cfi_startproc
 138              		@ args = 0, pretend = 0, frame = 0
 139              		@ frame_needed = 0, uses_anonymous_args = 0
 140              		@ link register save eliminated.
 141 0000 024B     		ldr	r3, .L9
 142 0002 0122     		movs	r2, #1
 143 0004 1A70     		strb	r2, [r3]
 144 0006 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 145 0008 7047     		bx	lr
 146              	.L10:
 147 000a 00BF     		.align	2
 148              	.L9:
 149 000c 00000000 		.word	.LANCHOR0
 150              		.cfi_endproc
 151              	.LFE341:
 153              		.global	USER_Driver
 154              		.section	.data.Stat,"aw"
 155              		.set	.LANCHOR0,. + 0
 158              	Stat:
 159 0000 01       		.byte	1
 160              		.section	.data.USER_Driver,"aw"
 161              		.align	2
 164              	USER_Driver:
 165 0000 00000000 		.word	USER_initialize
 166 0004 00000000 		.word	USER_status
 167 0008 00000000 		.word	USER_read
 168 000c 00000000 		.word	USER_write
 169 0010 00000000 		.word	USER_ioctl
 170              		.text
 171              	.Letext0:
 172              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 173              		.file 3 "/usr/include/newlib/sys/_types.h"
 174              		.file 4 "/usr/include/newlib/sys/reent.h"
 175              		.file 5 "/usr/include/newlib/sys/lock.h"
 176              		.file 6 "./Libraries/FatFs/Inc/integer.h"
 177              		.file 7 "./Libraries/FatFs/Inc/diskio.h"
 178              		.file 8 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 179              		.file 9 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 180              		.file 10 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 181              		.file 11 "/usr/include/newlib/math.h"
 182              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 183              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 184              		.file 14 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 185              		.file 15 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 186              		.file 16 "./Libraries/FatFs/Inc/ff_gen_drv.h"
ARM GAS  /tmp/cc6Ed3hn.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 user_diskio.c
     /tmp/cc6Ed3hn.s:17     .text.USER_initialize:0000000000000000 $t
     /tmp/cc6Ed3hn.s:26     .text.USER_initialize:0000000000000000 USER_initialize
     /tmp/cc6Ed3hn.s:49     .text.USER_initialize:000000000000000c $d
     /tmp/cc6Ed3hn.s:54     .text.USER_read:0000000000000000 $t
     /tmp/cc6Ed3hn.s:62     .text.USER_read:0000000000000000 USER_read
     /tmp/cc6Ed3hn.s:80     .text.USER_ioctl:0000000000000000 $t
     /tmp/cc6Ed3hn.s:88     .text.USER_ioctl:0000000000000000 USER_ioctl
     /tmp/cc6Ed3hn.s:107    .text.USER_write:0000000000000000 $t
     /tmp/cc6Ed3hn.s:115    .text.USER_write:0000000000000000 USER_write
     /tmp/cc6Ed3hn.s:127    .text.USER_status:0000000000000000 $t
     /tmp/cc6Ed3hn.s:135    .text.USER_status:0000000000000000 USER_status
     /tmp/cc6Ed3hn.s:149    .text.USER_status:000000000000000c $d
     /tmp/cc6Ed3hn.s:164    .data.USER_Driver:0000000000000000 USER_Driver
     /tmp/cc6Ed3hn.s:158    .data.Stat:0000000000000000 Stat
     /tmp/cc6Ed3hn.s:161    .data.USER_Driver:0000000000000000 $d

NO UNDEFINED SYMBOLS
