ARM GAS  /tmp/ccBLa5G8.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"arm_softmax_q7.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.arm_softmax_q7,"ax",%progbits
  17              		.align	1
  18              		.p2align 2,,3
  19              		.global	arm_softmax_q7
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	arm_softmax_q7:
  27              	.LVL0:
  28              	.LFB149:
  29              		.file 1 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c"
   1:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** /*
   2:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Copyright (C) 2010-2018 Arm Limited or its affiliates. All rights reserved.
   3:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
   4:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * SPDX-License-Identifier: Apache-2.0
   5:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
   6:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Licensed under the Apache License, Version 2.0 (the License); you may
   7:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * not use this file except in compliance with the License.
   8:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * You may obtain a copy of the License at
   9:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
  10:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * www.apache.org/licenses/LICENSE-2.0
  11:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
  12:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Unless required by applicable law or agreed to in writing, software
  13:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  14:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * See the License for the specific language governing permissions and
  16:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * limitations under the License.
  17:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  */
  18:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  19:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** /* ----------------------------------------------------------------------
  20:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Project:      CMSIS NN Library
  21:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Title:        arm_softmax_q7.c
  22:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Description:  Q7 softmax function
  23:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
  24:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * $Date:        20. February 2018
  25:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * $Revision:    V.1.0.0
  26:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
  27:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * Target Processor:  Cortex-M cores
  28:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *
  29:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * -------------------------------------------------------------------- */
ARM GAS  /tmp/ccBLa5G8.s 			page 2


  30:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  31:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** #include "arm_math.h"
  32:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** #include "arm_nnfunctions.h"
  33:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  34:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** /**
  35:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  *  @ingroup groupNN
  36:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  */
  37:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  38:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** /**
  39:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * @addtogroup Softmax
  40:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  * @{
  41:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****  */
  42:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  43:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****   /**
  44:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @brief Q7 softmax function
  45:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @param[in]       vec_in      pointer to input vector
  46:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @param[in]       dim_vec     input vector dimention
  47:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @param[out]      p_out       pointer to output vector
  48:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @return none.
  49:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *
  50:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * @details
  51:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *
  52:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  Here, instead of typical natural logarithm e based softmax, we use
  53:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  2-based softmax here, i.e.,:
  54:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    * 
  55:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  y_i = 2^(x_i) / sum(2^x_j)
  56:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *
  57:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  The relative output will be different here.
  58:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  But mathematically, the gradient will be the same
  59:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *  with a log(2) scaling factor.
  60:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    *
  61:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****    */
  62:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  63:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** void arm_softmax_q7(const q7_t * vec_in, const uint16_t dim_vec, q7_t * p_out)
  64:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** {
  30              		.loc 1 64 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  65:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     q31_t     sum;
  34              		.loc 1 65 5 view .LVU1
  66:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     int16_t   i;
  35              		.loc 1 66 5 view .LVU2
  67:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     uint8_t   shift;
  36              		.loc 1 67 5 view .LVU3
  68:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     q15_t     base;
  37              		.loc 1 68 5 view .LVU4
  69:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     base = -257;
  38              		.loc 1 69 5 view .LVU5
  70:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  71:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     /* We first search for the maximum */
  72:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     for (i = 0; i < dim_vec; i++)
  39              		.loc 1 72 5 view .LVU6
  40              		.loc 1 72 17 view .LVU7
  41              		.loc 1 72 5 is_stmt 0 view .LVU8
  42 0000 0029     		cmp	r1, #0
  43 0002 41D0     		beq	.L2
ARM GAS  /tmp/ccBLa5G8.s 			page 3


  44              		.loc 1 72 12 view .LVU9
  45 0004 0023     		movs	r3, #0
  64:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     q31_t     sum;
  46              		.loc 1 64 1 view .LVU10
  47 0006 F0B5     		push	{r4, r5, r6, r7, lr}
  48              	.LCFI0:
  49              		.cfi_def_cfa_offset 20
  50              		.cfi_offset 4, -20
  51              		.cfi_offset 5, -16
  52              		.cfi_offset 6, -12
  53              		.cfi_offset 7, -8
  54              		.cfi_offset 14, -4
  69:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     base = -257;
  55              		.loc 1 69 10 view .LVU11
  56 0008 6FF48075 		mvn	r5, #256
  57              	.LVL1:
  58              	.L3:
  73:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  74:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         if (vec_in[i] > base)
  59              		.loc 1 74 9 is_stmt 1 view .LVU12
  60 000c C456     		ldrsb	r4, [r0, r3]
  61 000e 5E1C     		adds	r6, r3, #1
  62 0010 A542     		cmp	r5, r4
  63 0012 33B2     		sxth	r3, r6
  64              	.LVL2:
  65              		.loc 1 74 9 is_stmt 0 view .LVU13
  66 0014 B8BF     		it	lt
  67 0016 2546     		movlt	r5, r4
  68              	.LVL3:
  72:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  69              		.loc 1 72 30 is_stmt 1 view .LVU14
  72:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  70              		.loc 1 72 17 view .LVU15
  72:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  71              		.loc 1 72 5 is_stmt 0 view .LVU16
  72 0018 8B42     		cmp	r3, r1
  73 001a F7DB     		blt	.L3
  75:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
  76:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             base = vec_in[i];
  77:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         }
  78:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     }
  79:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  80:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     /* 
  81:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * So the base is set to max-8, meaning 
  82:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * that we ignore really small values. 
  83:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * anyway, they will be 0 after shrinking to q7_t.
  84:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      */
  85:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     base = base - 8;
  74              		.loc 1 85 5 is_stmt 1 view .LVU17
  75              		.loc 1 85 17 is_stmt 0 view .LVU18
  76 001c 083D     		subs	r5, r5, #8
  77              	.LVL4:
  78              		.loc 1 85 10 view .LVU19
  79 001e 0023     		movs	r3, #0
  80              	.LVL5:
  86:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  87:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     sum = 0;
ARM GAS  /tmp/ccBLa5G8.s 			page 4


  88:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     for (i = 0; i < dim_vec; i++)
  90:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  91:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         if (vec_in[i] > base) 
  92:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
  93:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             shift = (uint8_t)__USAT(vec_in[i] - base, 5);
  94:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             sum += 0x1 << shift;
  81              		.loc 1 94 24 view .LVU20
  82 0020 0127     		movs	r7, #1
  85:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  83              		.loc 1 85 10 view .LVU21
  84 0022 2DB2     		sxth	r5, r5
  85              	.LVL6:
  87:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  86              		.loc 1 87 5 is_stmt 1 view .LVU22
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  87              		.loc 1 89 5 view .LVU23
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
  88              		.loc 1 89 17 view .LVU24
  85:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  89              		.loc 1 85 10 is_stmt 0 view .LVU25
  90 0024 1E46     		mov	r6, r3
  91              	.LVL7:
  92              	.L6:
  91:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
  93              		.loc 1 91 9 is_stmt 1 view .LVU26
  91:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
  94              		.loc 1 91 12 is_stmt 0 view .LVU27
  95 0026 10F903C0 		ldrsb	ip, [r0, r3]
  96 002a AC45     		cmp	ip, r5
  91:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
  97              		.loc 1 91 19 view .LVU28
  98 002c 6446     		mov	r4, ip
  91:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
  99              		.loc 1 91 12 view .LVU29
 100 002e 06DD     		ble	.L5
  93:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             sum += 0x1 << shift;
 101              		.loc 1 93 13 is_stmt 1 view .LVU30
 102              	.LBB2:
  93:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             sum += 0x1 << shift;
 103              		.loc 1 93 30 view .LVU31
 104              	.LVL8:
  93:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             sum += 0x1 << shift;
 105              		.loc 1 93 30 view .LVU32
 106 0030 641B     		subs	r4, r4, r5
 107              	.LVL9:
  93:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             sum += 0x1 << shift;
 108              		.loc 1 93 30 is_stmt 0 view .LVU33
 109              		.syntax unified
 110              	@ 93 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c" 1
 111 0032 84F30504 		usat r4, #5, r4
 112              	@ 0 "" 2
 113              	.LVL10:
  93:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             sum += 0x1 << shift;
 114              		.loc 1 93 30 is_stmt 1 view .LVU34
  93:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             sum += 0x1 << shift;
 115              		.loc 1 93 30 is_stmt 0 view .LVU35
ARM GAS  /tmp/ccBLa5G8.s 			page 5


 116              		.thumb
 117              		.syntax unified
 118              	.LBE2:
 119              		.loc 1 94 13 is_stmt 1 view .LVU36
 120              		.loc 1 94 24 is_stmt 0 view .LVU37
 121 0036 E4B2     		uxtb	r4, r4
 122              	.LVL11:
 123              		.loc 1 94 24 view .LVU38
 124 0038 07FA04F4 		lsl	r4, r7, r4
 125              	.LVL12:
 126              		.loc 1 94 17 view .LVU39
 127 003c 2644     		add	r6, r6, r4
 128              	.LVL13:
 129              	.L5:
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 130              		.loc 1 89 30 is_stmt 1 discriminator 2 view .LVU40
 131 003e 0133     		adds	r3, r3, #1
 132              	.LVL14:
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 133              		.loc 1 89 30 is_stmt 0 discriminator 2 view .LVU41
 134 0040 1BB2     		sxth	r3, r3
 135              	.LVL15:
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 136              		.loc 1 89 17 is_stmt 1 discriminator 2 view .LVU42
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 137              		.loc 1 89 5 is_stmt 0 discriminator 2 view .LVU43
 138 0042 8B42     		cmp	r3, r1
 139 0044 EFDB     		blt	.L6
  95:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         }
  96:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     }
  97:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
  98:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     /* This is effectively (0x1 << 20) / sum */
  99:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     int output_base = 0x100000 / sum;
 140              		.loc 1 99 5 is_stmt 1 view .LVU44
 141              		.loc 1 99 9 is_stmt 0 view .LVU45
 142 0046 4FF48014 		mov	r4, #1048576
 143 004a 0023     		movs	r3, #0
 144              	.LVL16:
 145              	.LBB3:
 100:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
 101:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     /* 
 102:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * Final confidence will be output_base >> ( 13 - (vec_in[i] - base) )
 103:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * so 128 (0x1<<7) -> 100% confidence when sum = 0x1 << 8, output_base = 0x1 << 12 
 104:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      * and vec_in[i]-base = 8
 105:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****      */
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     for (i = 0; i < dim_vec; i++) 
 107:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 108:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         if (vec_in[i] > base) 
 109:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
 110:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             /* Here minimum value of 13+base-vec_in[i] will be 5 */
 111:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             shift = (uint8_t)__USAT(13+base-vec_in[i], 5);
 146              		.loc 1 111 30 view .LVU46
 147 004c 05F10D0C 		add	ip, r5, #13
 148              	.LBE3:
 112:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             p_out[i] = (q7_t) __SSAT((output_base >> shift), 8);
 113:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         } else {
 114:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             p_out[i] = 0;
ARM GAS  /tmp/ccBLa5G8.s 			page 6


 149              		.loc 1 114 22 view .LVU47
 150 0050 1F46     		mov	r7, r3
  99:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
 151              		.loc 1 99 9 view .LVU48
 152 0052 94FBF6F6 		sdiv	r6, r4, r6
 153              	.LVL17:
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 154              		.loc 1 106 5 is_stmt 1 view .LVU49
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 155              		.loc 1 106 17 view .LVU50
 156 0056 0DE0     		b	.L10
 157              	.LVL18:
 158              	.L22:
 111:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             p_out[i] = (q7_t) __SSAT((output_base >> shift), 8);
 159              		.loc 1 111 13 view .LVU51
 160              	.LBB4:
 111:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             p_out[i] = (q7_t) __SSAT((output_base >> shift), 8);
 161              		.loc 1 111 30 view .LVU52
 111:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             p_out[i] = (q7_t) __SSAT((output_base >> shift), 8);
 162              		.loc 1 111 30 view .LVU53
 163 0058 ACEB0E04 		sub	r4, ip, lr
 164              		.syntax unified
 165              	@ 111 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c" 1
 166 005c 84F30504 		usat r4, #5, r4
 167              	@ 0 "" 2
 168              	.LVL19:
 111:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             p_out[i] = (q7_t) __SSAT((output_base >> shift), 8);
 169              		.loc 1 111 30 view .LVU54
 111:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****             p_out[i] = (q7_t) __SSAT((output_base >> shift), 8);
 170              		.loc 1 111 30 is_stmt 0 view .LVU55
 171              		.thumb
 172              		.syntax unified
 173              	.LBE4:
 112:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         } else {
 174              		.loc 1 112 13 is_stmt 1 view .LVU56
 175              	.LBB5:
 112:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         } else {
 176              		.loc 1 112 31 view .LVU57
 112:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         } else {
 177              		.loc 1 112 31 view .LVU58
 178 0060 E4B2     		uxtb	r4, r4
 179              	.LVL20:
 112:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         } else {
 180              		.loc 1 112 31 is_stmt 0 view .LVU59
 181 0062 46FA04F4 		asr	r4, r6, r4
 182              	.LVL21:
 112:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         } else {
 183              		.loc 1 112 31 view .LVU60
 184              		.syntax unified
 185              	@ 112 "./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c" 1
 186 0066 04F30704 		ssat r4, #8, r4
 187              	@ 0 "" 2
 188              	.LVL22:
 112:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         } else {
 189              		.loc 1 112 31 is_stmt 1 view .LVU61
 190              		.thumb
 191              		.syntax unified
ARM GAS  /tmp/ccBLa5G8.s 			page 7


 192              	.LBE5:
 112:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         } else {
 193              		.loc 1 112 24 is_stmt 0 view .LVU62
 194 006a D454     		strb	r4, [r2, r3]
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 195              		.loc 1 106 30 is_stmt 1 view .LVU63
 196 006c 0133     		adds	r3, r3, #1
 197              	.LVL23:
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 198              		.loc 1 106 30 is_stmt 0 view .LVU64
 199 006e 1BB2     		sxth	r3, r3
 200              	.LVL24:
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 201              		.loc 1 106 17 is_stmt 1 view .LVU65
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 202              		.loc 1 106 5 is_stmt 0 view .LVU66
 203 0070 8B42     		cmp	r3, r1
 204 0072 08DA     		bge	.L21
 205              	.LVL25:
 206              	.L10:
 108:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
 207              		.loc 1 108 9 is_stmt 1 view .LVU67
 108:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         {
 208              		.loc 1 108 12 is_stmt 0 view .LVU68
 209 0074 10F903E0 		ldrsb	lr, [r0, r3]
 210 0078 7545     		cmp	r5, lr
 211 007a EDDB     		blt	.L22
 212              		.loc 1 114 13 is_stmt 1 view .LVU69
 213              		.loc 1 114 22 is_stmt 0 view .LVU70
 214 007c D754     		strb	r7, [r2, r3]
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 215              		.loc 1 106 30 is_stmt 1 view .LVU71
 216 007e 0133     		adds	r3, r3, #1
 217              	.LVL26:
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 218              		.loc 1 106 30 is_stmt 0 view .LVU72
 219 0080 1BB2     		sxth	r3, r3
 220              	.LVL27:
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 221              		.loc 1 106 17 is_stmt 1 view .LVU73
 106:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 222              		.loc 1 106 5 is_stmt 0 view .LVU74
 223 0082 8B42     		cmp	r3, r1
 224 0084 F6DB     		blt	.L10
 225              	.L21:
 115:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****         }
 116:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     }
 117:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** }
 226              		.loc 1 117 1 view .LVU75
 227 0086 F0BD     		pop	{r4, r5, r6, r7, pc}
 228              	.LVL28:
 229              	.L2:
 230              	.LCFI1:
 231              		.cfi_def_cfa_offset 0
 232              		.cfi_restore 4
 233              		.cfi_restore 5
 234              		.cfi_restore 6
ARM GAS  /tmp/ccBLa5G8.s 			page 8


 235              		.cfi_restore 7
 236              		.cfi_restore 14
  85:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
 237              		.loc 1 85 5 is_stmt 1 view .LVU76
  87:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
 238              		.loc 1 87 5 view .LVU77
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 239              		.loc 1 89 5 view .LVU78
  89:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c ****     {
 240              		.loc 1 89 17 view .LVU79
  99:./Libraries/CMSIS/NN/Source/SoftmaxFunctions/arm_softmax_q7.c **** 
 241              		.loc 1 99 5 view .LVU80
 242 0088 FFDE     		.inst	0xdeff
 243              		.cfi_endproc
 244              	.LFE149:
 246 008a 00BF     		.text
 247              	.Letext0:
 248              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 249              		.file 3 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 250              		.file 4 "/usr/include/newlib/sys/_types.h"
 251              		.file 5 "/usr/include/newlib/sys/reent.h"
 252              		.file 6 "/usr/include/newlib/sys/lock.h"
 253              		.file 7 "/usr/include/newlib/math.h"
 254              		.file 8 "./Libraries/CMSIS/DSP/Include/arm_math.h"
 255              		.file 9 "./Libraries/CMSIS/DSP/Include/arm_common_tables.h"
 256              		.file 10 "./Libraries/CMSIS/NN/Include/arm_nn_tables.h"
ARM GAS  /tmp/ccBLa5G8.s 			page 9


DEFINED SYMBOLS
                            *ABS*:0000000000000000 arm_softmax_q7.c
     /tmp/ccBLa5G8.s:17     .text.arm_softmax_q7:0000000000000000 $t
     /tmp/ccBLa5G8.s:26     .text.arm_softmax_q7:0000000000000000 arm_softmax_q7

NO UNDEFINED SYMBOLS
