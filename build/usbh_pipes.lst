ARM GAS  /tmp/cclyki4K.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"usbh_pipes.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.USBH_OpenPipe,"ax",%progbits
  17              		.align	1
  18              		.global	USBH_OpenPipe
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	USBH_OpenPipe:
  26              	.LFB338:
  27              		.file 1 "./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c"
   1:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /**
   2:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   ******************************************************************************
   3:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @file    usbh_pipes.c
   4:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @author  MCD Application Team
   5:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @brief   This file implements functions for opening and closing Pipes
   6:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   ******************************************************************************
   7:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @attention
   8:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   *
   9:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * <h2><center>&copy; Copyright (c) 2015 STMicroelectronics.
  10:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * All rights reserved.</center></h2>
  11:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   *
  12:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * This software component is licensed by ST under Ultimate Liberty license
  13:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * SLA0044, the "License"; You may not use this file except in compliance with
  14:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * the License. You may obtain a copy of the License at:
  15:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   *                      www.st.com/SLA0044
  16:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   *
  17:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   ******************************************************************************
  18:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  19:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  20:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /* Includes ------------------------------------------------------------------*/
  21:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** #include "usbh_pipes.h"
  22:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  23:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /** @addtogroup USBH_LIB
  24:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @{
  25:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  26:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  27:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /** @addtogroup USBH_LIB_CORE
  28:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** * @{
  29:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** */
  30:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  31:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /** @defgroup USBH_PIPES
ARM GAS  /tmp/cclyki4K.s 			page 2


  32:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @brief This file includes opening and closing Pipes
  33:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @{
  34:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  35:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  36:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /** @defgroup USBH_PIPES_Private_Defines
  37:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @{
  38:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  39:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /**
  40:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @}
  41:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  42:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  43:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /** @defgroup USBH_PIPES_Private_TypesDefinitions
  44:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @{
  45:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  46:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /**
  47:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @}
  48:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  49:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  50:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  51:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /** @defgroup USBH_PIPES_Private_Macros
  52:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @{
  53:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  54:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /**
  55:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @}
  56:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  57:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  58:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  59:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /** @defgroup USBH_PIPES_Private_Variables
  60:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @{
  61:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  62:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  63:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /**
  64:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @}
  65:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  66:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  67:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  68:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /** @defgroup USBH_PIPES_Private_Functions
  69:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @{
  70:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  71:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** static uint16_t USBH_GetFreePipe(USBH_HandleTypeDef *phost);
  72:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  73:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  74:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /**
  75:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @brief  USBH_Open_Pipe
  76:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   *         Open a  pipe
  77:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  phost: Host Handle
  78:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  pipe_num: Pipe Number
  79:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  dev_address: USB Device address allocated to attached device
  80:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  speed : USB device speed (Full/Low)
  81:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  ep_type: end point type (Bulk/int/ctl)
  82:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  mps: max pkt size
  83:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @retval USBH Status
  84:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
  85:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** USBH_StatusTypeDef USBH_OpenPipe(USBH_HandleTypeDef *phost, uint8_t pipe_num,
  86:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****                                  uint8_t epnum, uint8_t dev_address,
  87:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****                                  uint8_t speed, uint8_t ep_type, uint16_t mps)
  88:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** {
ARM GAS  /tmp/cclyki4K.s 			page 3


  28              		.loc 1 88 1
  29              		.cfi_startproc
  30              		@ args = 12, pretend = 0, frame = 8
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 80B5     		push	{r7, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 86B0     		sub	sp, sp, #24
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 32
  40 0004 04AF     		add	r7, sp, #16
  41              	.LCFI2:
  42              		.cfi_def_cfa 7, 16
  43 0006 7860     		str	r0, [r7, #4]
  44 0008 0846     		mov	r0, r1
  45 000a 1146     		mov	r1, r2
  46 000c 1A46     		mov	r2, r3
  47 000e 0346     		mov	r3, r0
  48 0010 FB70     		strb	r3, [r7, #3]
  49 0012 0B46     		mov	r3, r1
  50 0014 BB70     		strb	r3, [r7, #2]
  51 0016 1346     		mov	r3, r2
  52 0018 7B70     		strb	r3, [r7, #1]
  89:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   USBH_LL_OpenPipe(phost, pipe_num, epnum, dev_address, speed, ep_type, mps);
  53              		.loc 1 89 3
  54 001a 7878     		ldrb	r0, [r7, #1]	@ zero_extendqisi2
  55 001c BA78     		ldrb	r2, [r7, #2]	@ zero_extendqisi2
  56 001e F978     		ldrb	r1, [r7, #3]	@ zero_extendqisi2
  57 0020 3B8B     		ldrh	r3, [r7, #24]
  58 0022 0293     		str	r3, [sp, #8]
  59 0024 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
  60 0026 0193     		str	r3, [sp, #4]
  61 0028 3B7C     		ldrb	r3, [r7, #16]	@ zero_extendqisi2
  62 002a 0093     		str	r3, [sp]
  63 002c 0346     		mov	r3, r0
  64 002e 7868     		ldr	r0, [r7, #4]
  65 0030 FFF7FEFF 		bl	USBH_LL_OpenPipe
  90:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  91:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   return USBH_OK;
  66              		.loc 1 91 10
  67 0034 0023     		movs	r3, #0
  92:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** }
  68              		.loc 1 92 1
  69 0036 1846     		mov	r0, r3
  70 0038 0837     		adds	r7, r7, #8
  71              	.LCFI3:
  72              		.cfi_def_cfa_offset 8
  73 003a BD46     		mov	sp, r7
  74              	.LCFI4:
  75              		.cfi_def_cfa_register 13
  76              		@ sp needed
  77 003c 80BD     		pop	{r7, pc}
  78              		.cfi_endproc
  79              	.LFE338:
  81              		.section	.text.USBH_ClosePipe,"ax",%progbits
ARM GAS  /tmp/cclyki4K.s 			page 4


  82              		.align	1
  83              		.global	USBH_ClosePipe
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  87              		.fpu fpv5-d16
  89              	USBH_ClosePipe:
  90              	.LFB339:
  93:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  94:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
  95:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /**
  96:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @brief  USBH_ClosePipe
  97:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   *         Close a  pipe
  98:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  phost: Host Handle
  99:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  pipe_num: Pipe Number
 100:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @retval USBH Status
 101:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
 102:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** USBH_StatusTypeDef USBH_ClosePipe(USBH_HandleTypeDef *phost, uint8_t pipe_num)
 103:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** {
  91              		.loc 1 103 1
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 8
  94              		@ frame_needed = 1, uses_anonymous_args = 0
  95 0000 80B5     		push	{r7, lr}
  96              	.LCFI5:
  97              		.cfi_def_cfa_offset 8
  98              		.cfi_offset 7, -8
  99              		.cfi_offset 14, -4
 100 0002 82B0     		sub	sp, sp, #8
 101              	.LCFI6:
 102              		.cfi_def_cfa_offset 16
 103 0004 00AF     		add	r7, sp, #0
 104              	.LCFI7:
 105              		.cfi_def_cfa_register 7
 106 0006 7860     		str	r0, [r7, #4]
 107 0008 0B46     		mov	r3, r1
 108 000a FB70     		strb	r3, [r7, #3]
 104:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   USBH_LL_ClosePipe(phost, pipe_num);
 109              		.loc 1 104 3
 110 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 111 000e 1946     		mov	r1, r3
 112 0010 7868     		ldr	r0, [r7, #4]
 113 0012 FFF7FEFF 		bl	USBH_LL_ClosePipe
 105:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 106:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   return USBH_OK;
 114              		.loc 1 106 10
 115 0016 0023     		movs	r3, #0
 107:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** }
 116              		.loc 1 107 1
 117 0018 1846     		mov	r0, r3
 118 001a 0837     		adds	r7, r7, #8
 119              	.LCFI8:
 120              		.cfi_def_cfa_offset 8
 121 001c BD46     		mov	sp, r7
 122              	.LCFI9:
 123              		.cfi_def_cfa_register 13
 124              		@ sp needed
ARM GAS  /tmp/cclyki4K.s 			page 5


 125 001e 80BD     		pop	{r7, pc}
 126              		.cfi_endproc
 127              	.LFE339:
 129              		.section	.text.USBH_AllocPipe,"ax",%progbits
 130              		.align	1
 131              		.global	USBH_AllocPipe
 132              		.syntax unified
 133              		.thumb
 134              		.thumb_func
 135              		.fpu fpv5-d16
 137              	USBH_AllocPipe:
 138              	.LFB340:
 108:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 109:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 110:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /**
 111:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @brief  USBH_Alloc_Pipe
 112:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   *         Allocate a new Pipe
 113:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  phost: Host Handle
 114:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  ep_addr: End point for which the Pipe to be allocated
 115:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @retval Pipe number
 116:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
 117:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** uint8_t USBH_AllocPipe(USBH_HandleTypeDef *phost, uint8_t ep_addr)
 118:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** {
 139              		.loc 1 118 1
 140              		.cfi_startproc
 141              		@ args = 0, pretend = 0, frame = 16
 142              		@ frame_needed = 1, uses_anonymous_args = 0
 143 0000 80B5     		push	{r7, lr}
 144              	.LCFI10:
 145              		.cfi_def_cfa_offset 8
 146              		.cfi_offset 7, -8
 147              		.cfi_offset 14, -4
 148 0002 84B0     		sub	sp, sp, #16
 149              	.LCFI11:
 150              		.cfi_def_cfa_offset 24
 151 0004 00AF     		add	r7, sp, #0
 152              	.LCFI12:
 153              		.cfi_def_cfa_register 7
 154 0006 7860     		str	r0, [r7, #4]
 155 0008 0B46     		mov	r3, r1
 156 000a FB70     		strb	r3, [r7, #3]
 119:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   uint16_t pipe;
 120:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 121:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   pipe =  USBH_GetFreePipe(phost);
 157              		.loc 1 121 11
 158 000c 7868     		ldr	r0, [r7, #4]
 159 000e FFF7FEFF 		bl	USBH_GetFreePipe
 160 0012 0346     		mov	r3, r0
 161 0014 FB81     		strh	r3, [r7, #14]	@ movhi
 122:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 123:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   if (pipe != 0xFFFFU)
 162              		.loc 1 123 6
 163 0016 FB89     		ldrh	r3, [r7, #14]
 164 0018 4FF6FF72 		movw	r2, #65535
 165 001c 9342     		cmp	r3, r2
 166 001e 0BD0     		beq	.L6
 124:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   {
ARM GAS  /tmp/cclyki4K.s 			page 6


 125:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****     phost->Pipes[pipe & 0xFU] = 0x8000U | ep_addr;
 167              		.loc 1 125 41
 168 0020 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 169              		.loc 1 125 23
 170 0022 FB89     		ldrh	r3, [r7, #14]
 171 0024 03F00F03 		and	r3, r3, #15
 172              		.loc 1 125 41
 173 0028 42F40042 		orr	r2, r2, #32768
 174              		.loc 1 125 31
 175 002c 7968     		ldr	r1, [r7, #4]
 176 002e 03F59073 		add	r3, r3, #288
 177 0032 9B00     		lsls	r3, r3, #2
 178 0034 0B44     		add	r3, r3, r1
 179 0036 5A60     		str	r2, [r3, #4]
 180              	.L6:
 126:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   }
 127:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 128:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   return (uint8_t)pipe;
 181              		.loc 1 128 10
 182 0038 FB89     		ldrh	r3, [r7, #14]	@ movhi
 183 003a DBB2     		uxtb	r3, r3
 129:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** }
 184              		.loc 1 129 1
 185 003c 1846     		mov	r0, r3
 186 003e 1037     		adds	r7, r7, #16
 187              	.LCFI13:
 188              		.cfi_def_cfa_offset 8
 189 0040 BD46     		mov	sp, r7
 190              	.LCFI14:
 191              		.cfi_def_cfa_register 13
 192              		@ sp needed
 193 0042 80BD     		pop	{r7, pc}
 194              		.cfi_endproc
 195              	.LFE340:
 197              		.section	.text.USBH_FreePipe,"ax",%progbits
 198              		.align	1
 199              		.global	USBH_FreePipe
 200              		.syntax unified
 201              		.thumb
 202              		.thumb_func
 203              		.fpu fpv5-d16
 205              	USBH_FreePipe:
 206              	.LFB341:
 130:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 131:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 132:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /**
 133:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @brief  USBH_Free_Pipe
 134:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   *         Free the USB Pipe
 135:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  phost: Host Handle
 136:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  idx: Pipe number to be freed
 137:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @retval USBH Status
 138:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
 139:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** USBH_StatusTypeDef USBH_FreePipe(USBH_HandleTypeDef *phost, uint8_t idx)
 140:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** {
 207              		.loc 1 140 1
 208              		.cfi_startproc
 209              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/cclyki4K.s 			page 7


 210              		@ frame_needed = 1, uses_anonymous_args = 0
 211              		@ link register save eliminated.
 212 0000 80B4     		push	{r7}
 213              	.LCFI15:
 214              		.cfi_def_cfa_offset 4
 215              		.cfi_offset 7, -4
 216 0002 83B0     		sub	sp, sp, #12
 217              	.LCFI16:
 218              		.cfi_def_cfa_offset 16
 219 0004 00AF     		add	r7, sp, #0
 220              	.LCFI17:
 221              		.cfi_def_cfa_register 7
 222 0006 7860     		str	r0, [r7, #4]
 223 0008 0B46     		mov	r3, r1
 224 000a FB70     		strb	r3, [r7, #3]
 141:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   if (idx < 11U)
 225              		.loc 1 141 6
 226 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 227 000e 0A2B     		cmp	r3, #10
 228 0010 0FD8     		bhi	.L9
 142:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   {
 143:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****     phost->Pipes[idx] &= 0x7FFFU;
 229              		.loc 1 143 23
 230 0012 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 231 0014 7A68     		ldr	r2, [r7, #4]
 232 0016 03F59073 		add	r3, r3, #288
 233 001a 9B00     		lsls	r3, r3, #2
 234 001c 1344     		add	r3, r3, r2
 235 001e 5A68     		ldr	r2, [r3, #4]
 236 0020 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 237 0022 C2F30E02 		ubfx	r2, r2, #0, #15
 238 0026 7968     		ldr	r1, [r7, #4]
 239 0028 03F59073 		add	r3, r3, #288
 240 002c 9B00     		lsls	r3, r3, #2
 241 002e 0B44     		add	r3, r3, r1
 242 0030 5A60     		str	r2, [r3, #4]
 243              	.L9:
 144:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   }
 145:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 146:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   return USBH_OK;
 244              		.loc 1 146 10
 245 0032 0023     		movs	r3, #0
 147:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** }
 246              		.loc 1 147 1
 247 0034 1846     		mov	r0, r3
 248 0036 0C37     		adds	r7, r7, #12
 249              	.LCFI18:
 250              		.cfi_def_cfa_offset 4
 251 0038 BD46     		mov	sp, r7
 252              	.LCFI19:
 253              		.cfi_def_cfa_register 13
 254              		@ sp needed
 255 003a 5DF8047B 		ldr	r7, [sp], #4
 256              	.LCFI20:
 257              		.cfi_restore 7
 258              		.cfi_def_cfa_offset 0
 259 003e 7047     		bx	lr
ARM GAS  /tmp/cclyki4K.s 			page 8


 260              		.cfi_endproc
 261              	.LFE341:
 263              		.section	.text.USBH_GetFreePipe,"ax",%progbits
 264              		.align	1
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 268              		.fpu fpv5-d16
 270              	USBH_GetFreePipe:
 271              	.LFB342:
 148:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 149:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 150:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** /**
 151:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @brief  USBH_GetFreePipe
 152:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @param  phost: Host Handle
 153:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   *         Get a free Pipe number for allocation to a device endpoint
 154:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   * @retval idx: Free Pipe number
 155:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   */
 156:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** static uint16_t USBH_GetFreePipe(USBH_HandleTypeDef *phost)
 157:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** {
 272              		.loc 1 157 1
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 16
 275              		@ frame_needed = 1, uses_anonymous_args = 0
 276              		@ link register save eliminated.
 277 0000 80B4     		push	{r7}
 278              	.LCFI21:
 279              		.cfi_def_cfa_offset 4
 280              		.cfi_offset 7, -4
 281 0002 85B0     		sub	sp, sp, #20
 282              	.LCFI22:
 283              		.cfi_def_cfa_offset 24
 284 0004 00AF     		add	r7, sp, #0
 285              	.LCFI23:
 286              		.cfi_def_cfa_register 7
 287 0006 7860     		str	r0, [r7, #4]
 158:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   uint8_t idx = 0U;
 288              		.loc 1 158 11
 289 0008 0023     		movs	r3, #0
 290 000a FB73     		strb	r3, [r7, #15]
 159:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 160:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   for (idx = 0U ; idx < 11U ; idx++)
 291              		.loc 1 160 12
 292 000c 0023     		movs	r3, #0
 293 000e FB73     		strb	r3, [r7, #15]
 294              		.loc 1 160 3
 295 0010 10E0     		b	.L12
 296              	.L15:
 161:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   {
 162:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****     if ((phost->Pipes[idx] & 0x8000U) == 0U)
 297              		.loc 1 162 22
 298 0012 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 299 0014 7A68     		ldr	r2, [r7, #4]
 300 0016 03F59073 		add	r3, r3, #288
 301 001a 9B00     		lsls	r3, r3, #2
 302 001c 1344     		add	r3, r3, r2
 303 001e 5B68     		ldr	r3, [r3, #4]
ARM GAS  /tmp/cclyki4K.s 			page 9


 304              		.loc 1 162 28
 305 0020 03F40043 		and	r3, r3, #32768
 306              		.loc 1 162 8
 307 0024 002B     		cmp	r3, #0
 308 0026 02D1     		bne	.L13
 163:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****     {
 164:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****       return (uint16_t)idx;
 309              		.loc 1 164 14
 310 0028 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 311 002a 9BB2     		uxth	r3, r3
 312 002c 07E0     		b	.L14
 313              	.L13:
 160:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   {
 314              		.loc 1 160 34 discriminator 2
 315 002e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 316 0030 0133     		adds	r3, r3, #1
 317 0032 FB73     		strb	r3, [r7, #15]
 318              	.L12:
 160:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   {
 319              		.loc 1 160 3 discriminator 1
 320 0034 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 321 0036 0A2B     		cmp	r3, #10
 322 0038 EBD9     		bls	.L15
 165:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****     }
 166:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   }
 167:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** 
 168:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c ****   return 0xFFFFU;
 323              		.loc 1 168 10
 324 003a 4FF6FF73 		movw	r3, #65535
 325              	.L14:
 169:./Libraries/STM32_USB_Host_Library/Core/Src/usbh_pipes.c **** }
 326              		.loc 1 169 1
 327 003e 1846     		mov	r0, r3
 328 0040 1437     		adds	r7, r7, #20
 329              	.LCFI24:
 330              		.cfi_def_cfa_offset 4
 331 0042 BD46     		mov	sp, r7
 332              	.LCFI25:
 333              		.cfi_def_cfa_register 13
 334              		@ sp needed
 335 0044 5DF8047B 		ldr	r7, [sp], #4
 336              	.LCFI26:
 337              		.cfi_restore 7
 338              		.cfi_def_cfa_offset 0
 339 0048 7047     		bx	lr
 340              		.cfi_endproc
 341              	.LFE342:
 343              		.text
 344              	.Letext0:
 345              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 346              		.file 3 "./Libraries/CMSIS/Core/Include/core_cm7.h"
 347              		.file 4 "./Libraries/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 348              		.file 5 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 349              		.file 6 "/usr/include/newlib/sys/_types.h"
 350              		.file 7 "/usr/include/newlib/sys/reent.h"
 351              		.file 8 "/usr/include/newlib/sys/lock.h"
 352              		.file 9 "/usr/include/newlib/math.h"
ARM GAS  /tmp/cclyki4K.s 			page 10


 353              		.file 10 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 354              		.file 11 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 355              		.file 12 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 356              		.file 13 "./Libraries/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 357              		.file 14 "/usr/include/newlib/stdlib.h"
 358              		.file 15 "./Libraries/FreeRTOS/Source/CMSIS_RTOS/cmsis_os2.h"
 359              		.file 16 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 360              		.file 17 "./Libraries/STM32_USB_Host_Library/Core/Inc/usbh_ctlreq.h"
ARM GAS  /tmp/cclyki4K.s 			page 11


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbh_pipes.c
     /tmp/cclyki4K.s:17     .text.USBH_OpenPipe:0000000000000000 $t
     /tmp/cclyki4K.s:25     .text.USBH_OpenPipe:0000000000000000 USBH_OpenPipe
     /tmp/cclyki4K.s:82     .text.USBH_ClosePipe:0000000000000000 $t
     /tmp/cclyki4K.s:89     .text.USBH_ClosePipe:0000000000000000 USBH_ClosePipe
     /tmp/cclyki4K.s:130    .text.USBH_AllocPipe:0000000000000000 $t
     /tmp/cclyki4K.s:137    .text.USBH_AllocPipe:0000000000000000 USBH_AllocPipe
     /tmp/cclyki4K.s:270    .text.USBH_GetFreePipe:0000000000000000 USBH_GetFreePipe
     /tmp/cclyki4K.s:198    .text.USBH_FreePipe:0000000000000000 $t
     /tmp/cclyki4K.s:205    .text.USBH_FreePipe:0000000000000000 USBH_FreePipe
     /tmp/cclyki4K.s:264    .text.USBH_GetFreePipe:0000000000000000 $t

UNDEFINED SYMBOLS
USBH_LL_OpenPipe
USBH_LL_ClosePipe
